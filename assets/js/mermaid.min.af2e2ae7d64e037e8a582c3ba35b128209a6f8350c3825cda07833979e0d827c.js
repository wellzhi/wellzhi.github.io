/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/"use strict";var __esbuild_esm_mermaid=(()=>{var Ure,Ri,a,sp,Us,ble,E6,k$,a6e,_9e,oye,hye,dp,iJe=Object.create,L6=Object.defineProperty,aJe=Object.getOwnPropertyDescriptor,nJe=Object.getOwnPropertyNames,tJe=Object.getPrototypeOf,KZe=Object.prototype.hasOwnProperty,e=(e,t)=>L6(e,"name",{value:t,configurable:!0}),n=(e,t)=>()=>(e&&(t=e(e=0)),t),Ut=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),de=(e,t)=>{for(var n in t)L6(e,n,{get:t[n],enumerable:!0})},V6=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nJe(t))!KZe.call(e,o)&&o!==n&&L6(e,o,{get:()=>t[o],enumerable:!(s=aJe(t,o))||s.enumerable});return e},$6=(e,t,n)=>(V6(e,t,"default"),n&&V6(n,t,"default")),Sn=(e,t,n)=>(n=e!=null?iJe(tJe(e)):{},V6(t||!e||!e.__esModule?L6(n,"default",{value:e,enumerable:!0}):n,e)),WZe=e=>V6(L6({},"__esModule",{value:!0}),e),G$=Ut((t,n)=>{"use strict";(function(e,s){typeof t=="object"&&typeof n<"u"?n.exports=s():typeof define=="function"&&define.amd?define(s):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=s()})(t,function(){"use strict";var u,g,_=1e3,j=6e4,x=36e5,p="millisecond",d="second",l="minute",c="hour",o="day",m="week",s="month",O="quarter",i="year",r="date",w="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:e(function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},"ordinal")},b=e(function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},"m"),C={s:b,z:e(function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+b(s,2,"0")+":"+b(o,2,"0")},"z"),m:e(function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(i,s),a=n-o<0,r=t.clone().add(i+(a?-1:1),s);return+(-(i+(n-o)/(a?o-r:r-o))||0)},"t"),a:e(function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},"a"),p:e(function(e){return{M:s,y:i,w:m,d:o,D:r,h:c,m:l,s:d,ms:p,Q:O}[e]||String(e||"").toLowerCase().replace(/s$/,"")},"p"),u:e(function(e){return e===void 0},"u")},h="en",a={};a[h]=E;var y="$isDayjsObject",v=e(function(e){return e instanceof u||!!e&&!!e[y]},"S"),f=e(function e(t,n,s){if(!t)return h;if(typeof t=="string"){{var o,r,c,i=t.toLowerCase();if(a[i]&&(o=i),n&&(a[i]=n,o=i),r=t.split("-"),!o&&r.length>1)return e(r[0])}}else c=t.name,a[c]=t,o=c;return!s&&o&&(h=o),o||!s&&h},"t"),n=e(function(e,t){if(v(e))return e.clone();var n=typeof t=="object"?t:{};return n.date=e,n.args=arguments,new u(n)},"O"),t=C;return t.l=f,t.i=v,t.w=function(e,t){return n(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},u=function(){function h(e){this.$L=f(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}e(h,"M");var u=h.prototype;return u.parse=function(e){this.$d=function(e){var n,o,i,s=e.date,a=e.utc;return s===null?new Date(NaN):t.u(s)?new Date:s instanceof Date?new Date(s):typeof s=="string"&&!/Z$/i.test(s)&&(n=s.match(A),n)?(o=n[2]-1||0,i=(n[7]||"0").substring(0,3),a?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(s)}(e),this.init()},u.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},u.$utils=function(){return t},u.isValid=function(){return this.$d.toString()!==w},u.isSame=function(e,t){var s=n(e);return this.startOf(t)<=s&&s<=this.endOf(t)},u.isAfter=function(e,t){return n(e)<this.startOf(t)},u.isBefore=function(e,t){return this.endOf(t)<n(e)},u.$g=function(e,n,s){return t.u(e)?this[n]:this.set(s,e)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(n,a){var j,y,u=this,h=!!t.u(a)||a,w=t.p(n),f=e(function(e,n){var s=t.w(u.$u?Date.UTC(u.$y,n,e):new Date(u.$y,n,e),u);return h?s:s.endOf(o)},"l"),p=e(function(e,n){return t.w(u.toDate()[e].apply(u.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(n)),u)},"$"),v=this.$W,b=this.$M,_=this.$D,g="set"+(this.$u?"UTC":"");switch(w){case i:return h?f(1,0):f(31,11);case s:return h?f(1,b):f(0,b+1);case m:return j=this.$locale().weekStart||0,y=(v<j?v+7:v)-j,f(h?_-y:_+(6-y),b);case o:case r:return p(g+"Hours",0);case c:return p(g+"Minutes",1);case l:return p(g+"Seconds",2);case d:return p(g+"Milliseconds",3);default:return this.clone()}},u.endOf=function(e){return this.startOf(e,!1)},u.$set=function(e,n){var a,h,m=t.p(e),u="set"+(this.$u?"UTC":""),f=(a={},a[o]=u+"Date",a[r]=u+"Date",a[s]=u+"Month",a[i]=u+"FullYear",a[c]=u+"Hours",a[l]=u+"Minutes",a[d]=u+"Seconds",a[p]=u+"Milliseconds",a)[m],g=m===o?this.$D+(n-this.$W):n;return m===s||m===i?(h=this.clone().set(r,1),h.$d[f](g),h.init(),this.$d=h.set(r,Math.min(this.$D,h.daysInMonth())).$d):f&&this.$d[f](g),this.init(),this},u.set=function(e,t){return this.clone().$set(e,t)},u.get=function(e){return this[t.p(e)]()},u.add=function(a,r){f=this,a=Number(a);var u,f,g,v,h=t.p(r),p=e(function(e){var s=n(f);return t.w(s.date(s.date()+Math.round(e*a)),f)},"y");return h===s?this.set(s,this.$M+a):h===i?this.set(i,this.$y+a):h===o?p(1):h===m?p(7):(g=(u={},u[l]=j,u[c]=x,u[d]=_,u)[h]||1,v=this.$d.getTime()+a*g,t.w(v,this))},u.subtract=function(e,t){return this.add(-1*e,t)},u.format=function(n){if(s=this,o=this.$locale(),!this.isValid())return o.invalidDate||w;var s,o,h=n||"YYYY-MM-DDTHH:mm:ssZ",d=t.z(this),i=this.$H,r=this.$m,c=this.$M,l=o.weekdays,u=o.months,p=o.meridiem,a=e(function(e,t,n,o){return e&&(e[t]||e(s,h))||n[t].slice(0,o)},"h"),m=e(function(e){return t.s(i%12||12,e,"0")},"d"),f=p||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s};return h.replace(k,function(e,n){return n||function(e){switch(e){case"YY":return String(s.$y).slice(-2);case"YYYY":return t.s(s.$y,4,"0");case"M":return c+1;case"MM":return t.s(c+1,2,"0");case"MMM":return a(o.monthsShort,c,u,3);case"MMMM":return a(u,c);case"D":return s.$D;case"DD":return t.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return a(o.weekdaysMin,s.$W,l,2);case"ddd":return a(o.weekdaysShort,s.$W,l,3);case"dddd":return l[s.$W];case"H":return String(i);case"HH":return t.s(i,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return f(i,r,!0);case"A":return f(i,r,!1);case"m":return String(r);case"mm":return t.s(r,2,"0");case"s":return String(s.$s);case"ss":return t.s(s.$s,2,"0");case"SSS":return t.s(s.$ms,3,"0");case"Z":return d}return null}(e)||d.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(a,r,u){var h,b=this,y=t.p(r),p=n(a),v=(p.utcOffset()-this.utcOffset())*j,f=this-p,g=e(function(){return t.m(b,p)},"D");switch(y){case i:h=g()/12;break;case s:h=g();break;case O:h=g()/3;break;case m:h=(f-v)/6048e5;break;case o:h=(f-v)/864e5;break;case c:h=f/x;break;case l:h=f/j;break;case d:h=f/_;break;default:h=f}return u?h:t.a(h)},u.daysInMonth=function(){return this.endOf(s).$D},u.$locale=function(){return a[this.$L]},u.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=f(e,t,!0);return s&&(n.$L=s),n},u.clone=function(){return t.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},h}(),g=u.prototype,n.prototype=g,[["$ms",p],["$s",d],["$m",l],["$H",c],["$W",o],["$M",s],["$y",i],["$D",r]].forEach(function(e){g[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),n.extend=function(e,t){return e.$i||(e(t,u,n),e.$i=!0),n},n.locale=f,n.isDayjs=v,n.unix=function(e){return n(1e3*e)},n.en=a[h],n.Ls=a,n.p={},n})}),x=n(()=>{"use strict";Ure=Sn(G$(),1),Ri={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},a={trace:e((...e)=>{},"trace"),debug:e((...e)=>{},"debug"),info:e((...e)=>{},"info"),warn:e((...e)=>{},"warn"),error:e((...e)=>{},"error"),fatal:e((...e)=>{},"fatal")},sp=e(function(e="fatal"){let t=Ri.fatal;typeof e=="string"?e.toLowerCase()in Ri&&(t=Ri[e]):typeof e=="number"&&(t=e),a.trace=()=>{},a.debug=()=>{},a.info=()=>{},a.warn=()=>{},a.error=()=>{},a.fatal=()=>{},t<=Ri.fatal&&(a.fatal=console.error?console.error.bind(console,Us("FATAL"),"color: orange"):console.log.bind(console,"[35m",Us("FATAL"))),t<=Ri.error&&(a.error=console.error?console.error.bind(console,Us("ERROR"),"color: orange"):console.log.bind(console,"[31m",Us("ERROR"))),t<=Ri.warn&&(a.warn=console.warn?console.warn.bind(console,Us("WARN"),"color: orange"):console.log.bind(console,"[33m",Us("WARN"))),t<=Ri.info&&(a.info=console.info?console.info.bind(console,Us("INFO"),"color: lightblue"):console.log.bind(console,"[34m",Us("INFO"))),t<=Ri.debug&&(a.debug=console.debug?console.debug.bind(console,Us("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",Us("DEBUG"))),t<=Ri.trace&&(a.trace=console.debug?console.debug.bind(console,Us("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",Us("TRACE")))},"setLogLevel"),Us=e(e=>`%c${(0,Ure.default)().format("ss.SSS")} : ${e} : `,"format")}),_$=n(()=>{"use strict";ble=Object.freeze({left:0,top:0,width:16,height:16}),E6=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),k$=Object.freeze({...ble,...E6}),a6e=Object.freeze({...k$,body:"",hidden:!1})}),nZe=n(()=>{"use strict";_$(),_9e=Object.freeze({width:null,height:null}),oye=Object.freeze({..._9e,...E6})}),JQe=n(()=>{"use strict";hye=e((e,t,n,s="")=>{let o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;s=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){let n=o.pop(),i=o.pop(),e={provider:o.length>0?o[0]:s,prefix:i,name:n};return t&&!dp(e)?null:e}let a=o[0],i=a.split("-");if(i.length>1){let e={provider:s,prefix:i.shift(),name:i.join("-")};return t&&!dp(e)?null:e}if(n&&s===""){let e={provider:s,prefix:"",name:a};return t&&!dp(e,n)?null:e}return null},"stringToIcon"),dp=e((e,t)=>!!e&&!(!(t&&e.prefix===""||e.prefix)||!e.name),"validateIconName")});function fye(e,t){let n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);let s=((e.rotate||0)+(t.rotate||0))%4;return s&&(n.rotate=s),n}_ye=n(()=>{"use strict";e(fye,"mergeIconTransformations")});function d$(e,t){let n=fye(e,t);for(let s in a6e)s in E6?s in e&&!(s in n)&&(n[s]=E6[s]):s in t?n[s]=t[s]:s in e&&(n[s]=e[s]);return n}Mye=n(()=>{"use strict";_$(),_ye(),e(d$,"mergeIconData")});function Uye(t,n){let a=t.icons,o=t.aliases||Object.create(null),s=Object.create(null);function i(e){if(a[e])return s[e]=[];if(!(e in s)){s[e]=null;let t=o[e]&&o[e].parent,n=t&&i(t);n&&(s[e]=[t].concat(n))}return s[e]}return e(i,"resolve"),(n||Object.keys(a).concat(Object.keys(o))).forEach(i),s}Kye=n(()=>{"use strict";e(Uye,"getIconsTree")});function e$(t,n,s){let a=t.icons,r=t.aliases||Object.create(null),o={};function i(e){o=d$(a[e]||r[e],o)}return e(i,"parse"),i(n),s.forEach(i),d$(t,o)}function Yye(e,t){if(e.icons[t])return e$(e,t,[]);let n=Uye(e,[t])[t];return n?e$(e,t,n):null}Xye=n(()=>{"use strict";Mye(),Kye(),e(e$,"internalGetIconData"),e(Yye,"getIconData")});function ZV(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;let o=e.split(Qye);if(o===null||!o.length)return e;let i=[],s=o.shift(),a=n_e.test(s);for(;;){if(a){let e=parseFloat(s);isNaN(e)?i.push(s):i.push(Math.ceil(e*t*n)/n)}else i.push(s);if(s=o.shift(),s===void 0)return i.join("");a=!a}}s_e=n(()=>{"use strict";Qye=/(-?[0-9.]*[0-9]+[0-9.]*)/g,n_e=/^-?[0-9.]*[0-9]+[0-9.]*$/g,e(ZV,"calculateSize")});function i_e(e,t="defs"){let s="",n=e.indexOf("<"+t);for(;n>=0;){let i=e.indexOf(">",n),o=e.indexOf("</"+t);if(i===-1||o===-1)break;let a=e.indexOf(">",o);if(a===-1)break;s+=e.slice(i+1,o).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:s,content:e}}function a_e(e,t){return e?"<defs>"+e+"</defs>"+t:t}function _Oe(e,t,n){let s=i_e(e);return a_e(s.defs,t+s.content+n)}wOe=n(()=>{"use strict";e(i_e,"splitSVGDefs"),e(a_e,"mergeDefsAndContent"),e(_Oe,"wrapSVGContent")});function OOe(t,n){let i={...k$,...t},h={...oye,...n},s={left:i.left,top:i.top,width:i.width,height:i.height},u=i.body;[i,h].forEach(e=>{let n=[],a=e.hFlip,i=e.vFlip,o=e.rotate;a?i?o+=2:(n.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),n.push("scale(-1 1)"),s.top=s.left=0):i&&(n.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),n.push("scale(1 -1)"),s.top=s.left=0);let t;switch(o<0&&(o-=Math.floor(o/4)*4),o=o%4,o){case 1:t=s.height/2+s.top,n.unshift("rotate(90 "+t.toString()+" "+t.toString()+")");break;case 2:n.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:t=s.width/2+s.left,n.unshift("rotate(-90 "+t.toString()+" "+t.toString()+")");break}o%2===1&&(s.left!==s.top&&(t=s.left,s.left=s.top,s.top=t),s.width!==s.height&&(t=s.width,s.width=s.height,s.height=t)),n.length&&(u=_Oe(u,'<g transform="'+n.join(" ")+'">',"</g>"))});let d=h.width,o=h.height,c=s.width,a=s.height,l,r;d===null?(r=o===null?"1em":o==="auto"?a:o,l=ZV(r,c/a)):(l=d==="auto"?c:d,r=o===null?ZV(l,a/c):o==="auto"?a:o);let m={},f=e((e,t)=>{AOe(t)||(m[e]=t.toString())},"setAttr");f("width",l),f("height",r);let p=[s.left,s.top,c,a];return m.viewBox=p.join(" "),{attributes:m,viewBox:p,body:u}}FOe=n(()=>{"use strict";_$(),nZe(),s_e(),wOe(),AOe=e(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword"),e(OOe,"iconToSVG")});function Vke(e,t=uLe){let n=[],s;for(;s=KAe.exec(e);)n.push(s[1]);if(!n.length)return e;let o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(n=>{let s=typeof t=="function"?t(n):t+(hLe++).toString(),i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+s+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}WYe=n(()=>{"use strict";KAe=/\sid="(\S+)"/g,uLe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),hLe=0,e(Vke,"replaceIDs")});function KYe(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let e in t)n+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}HYe=n(()=>{"use strict";e(KYe,"iconToHTML")}),LYe=Ut((t,n)=>{"use strict";var o=1e3,i=o*60,a=i*60,s=a*24,u=s*7,h=s*365.25;n.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return c(e);if(n==="number"&&isFinite(e))return t.long?d(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function c(e){if(e=String(e),!(e.length>100)&&(n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e),n)){var n,t=parseFloat(n[1]),r=(n[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*h;case"weeks":case"week":case"w":return t*u;case"days":case"day":case"d":return t*s;case"hours":case"hour":case"hrs":case"hr":case"h":return t*a;case"minutes":case"minute":case"mins":case"min":case"m":return t*i;case"seconds":case"second":case"secs":case"sec":case"s":return t*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}e(c,"parse");function l(e){var t=Math.abs(e);return t>=s?Math.round(e/s)+"d":t>=a?Math.round(e/a)+"h":t>=i?Math.round(e/i)+"m":t>=o?Math.round(e/o)+"s":e+"ms"}e(l,"fmtShort");function d(e){var t=Math.abs(e);return t>=s?r(e,t,s,"day"):t>=a?r(e,t,a,"hour"):t>=i?r(e,t,i,"minute"):t>=o?r(e,t,o,"second"):e+" ms"}e(d,"fmtLong");function r(e,t,n,s){var o=t>=n*1.5;return Math.round(e/n)+" "+s+(o?"s":"")}e(r,"plural")}),bYe=Ut((t,n)=>{"use strict";function s(t){n.debug=n,n.default=n,n.coerce=l,n.disable=r,n.enable=a,n.enabled=c,n.humanize=LYe(),n.destroy=d,Object.keys(t).forEach(e=>{n[e]=t[e]}),n.names=[],n.skips=[],n.formatters={};function o(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}e(o,"selectColor"),n.selectColor=o;function n(t){let o,a=null,r,c;function s(...e){if(!s.enabled)return;let t=s,i=Number(new Date),r=i-(o||i);t.diff=r,t.prev=o,t.curr=i,o=i,e[0]=n.coerce(e[0]),typeof e[0]!="string"&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,o)=>{if(s==="%%")return"%";a++;let i=n.formatters[o];if(typeof i=="function"){let n=e[a];s=i.call(t,n),e.splice(a,1),a--}return s}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return e(s,"debug"),s.namespace=t,s.useColors=n.useColors(),s.color=n.selectColor(t),s.extend=i,s.destroy=n.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:e(()=>a!==null?a:(r!==n.namespaces&&(r=n.namespaces,c=n.enabled(t)),c),"get"),set:e(e=>{a=e},"set")}),typeof n.init=="function"&&n.init(s),s}e(n,"createDebug");function i(e,t){let s=n(this.namespace+(typeof t>"u"?":":t)+e);return s.log=this.log,s}e(i,"extend");function a(e){n.save(e),n.namespaces=e,n.names=[],n.skips=[];let t=(typeof e=="string"?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(let e of t)e[0]==="-"?n.skips.push(e.slice(1)):n.names.push(e)}e(a,"enable");function s(e,t){let s=0,n=0,o=-1,i=0;for(;s<e.length;)if(n<t.length&&(t[n]===e[s]||t[n]==="*"))t[n]==="*"?(o=n,i=s,n++):(s++,n++);else if(o!==-1)n=o+1,i++,s=i;else return!1;for(;n<t.length&&t[n]==="*";)n++;return n===t.length}e(s,"matchesTemplate");function r(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e}e(r,"disable");function c(e){for(let t of n.skips)if(s(e,t))return!1;for(let t of n.names)if(s(e,t))return!0;return!1}e(c,"enabled");function l(e){return e instanceof Error?e.stack||e.message:e}e(l,"coerce");function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e(d,"destroy"),n.enable(n.load()),n}e(s,"setup"),n.exports=s}),vYe=Ut((t,n)=>{"use strict";t.formatArgs=o,t.save=i,t.load=a,t.useColors=s,t.storage=r(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e(s,"useColors");function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let s=0,o=0;e[0].replace(/%[a-zA-Z%]/g,e=>{e!=="%%"&&(s++,e==="%c"&&(o=s))}),e.splice(o,0,t)}e(o,"formatArgs"),t.log=console.debug||console.log||(()=>{});function i(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}}e(i,"save");function a(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}e(a,"load");function r(){try{return localStorage}catch{}}e(r,"localstorage"),n.exports=bYe()(t);var{formatters:c}=n.exports;c.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),fYe=n(()=>{"use strict";JQe(),Xye(),FOe(),WYe(),HYe(),QQe=Sn(vYe(),1)}),Ma=n(()=>{"use strict";x(),fYe(),jV={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Mp=new Map,mV=new Map,dV=e(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(a.debug("Registering icon pack:",t.name),"loader"in t)mV.set(t.name,t.loader);else if("icons"in t)Mp.set(t.name,t.icons);else throw a.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),mYe=e(async(e,t)=>{let n=hye(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);let s=n.prefix||t;if(!s)throw new Error(`Icon name must contain a prefix: ${e}`);let o=Mp.get(s);if(!o){let e=mV.get(s);if(!e)throw new Error(`Icon set not found: ${n.prefix}`);try{o={...await e(),prefix:s},Mp.set(s,o)}catch(e){throw a.error(e),new Error(`Failed to load icon set: ${n.prefix}`)}}let i=Yye(o,n.name);if(!i)throw new Error(`Icon not found: ${e}`);return i},"getRegisteredIconData"),$c=e(async(e,t)=>{let n;try{n=await mYe(e,t?.fallbackPrefix)}catch(e){a.error(e),n=jV}let s=OOe(n,t);return KYe(Vke(s.body),s.attributes)},"getIconSVG")});function oV(e){for(var t,s,o,a,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return t=Array.from(typeof e=="string"?[e]:e),t[t.length-1]=t[t.length-1].replace(/\r?\n([\t ]*)$/,""),o=t.reduce(function(e,t){var n=t.match(/\n([\t ]+|(?!\s).)/g);return n?e.concat(n.map(function(e){var t,n;return(n=(t=e.match(/[\t ]/g))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0})):e},[]),o.length&&(a=new RegExp(`
[	 ]{`+Math.min.apply(Math,o)+"}","g"),t=t.map(function(e){return e.replace(a,`
`)})),t[0]=t[0].replace(/^\r?\n/,""),s=t[0],i.forEach(function(e,n){var o=s.match(/(?:^|\n)( *)$/),a=o?o[1]:"",i=e;typeof e=="string"&&e.includes(`
`)&&(i=String(e).split(`
`).map(function(e,t){return t===0?e:""+a+e}).join(`
`)),s+=i+t[n+1]}),s}KB=n(()=>{"use strict";e(oV,"dedent")}),Rp=n(()=>{"use strict";UB=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,_1=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,aYe=/\s*%%.*\n/gm}),IB=n(()=>{"use strict";VB=class extends Error{static{e(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}}}),qd=n(()=>{"use strict";x(),Rp(),IB(),Jd={},Hp=e(function(e,t){e=e.replace(UB,"").replace(_1,"").replace(aYe,`
`);for(let[n,{detector:s}]of Object.entries(Jd))if(s(e,t))return n;throw new VB(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),RB=e((...e)=>{for(let{id:t,detector:n,loader:s}of e)DB(t,n,s)},"registerLazyLoadedDiagrams"),DB=e((e,t,n)=>{Jd[e]&&a.warn(`Detector with key ${e} already exists. Overwriting.`),Jd[e]={detector:t,loader:n},a.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),iYe=e(e=>Jd[e].loader,"getDiagramLoader")}),EB=n(()=>{"use strict";Vf=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),Q=[1,24],K=[1,25],X=[1,26],G=[1,27],Y=[1,28],B=[1,63],V=[1,64],$=[1,65],W=[1,66],U=[1,67],M=[1,68],D=[1,69],d=[1,29],u=[1,30],h=[1,31],m=[1,32],f=[1,33],p=[1,34],g=[1,35],v=[1,36],b=[1,37],j=[1,38],y=[1,39],_=[1,40],w=[1,41],O=[1,42],x=[1,43],C=[1,44],E=[1,45],k=[1,46],A=[1,47],l=[1,48],r=[1,50],F=[1,51],T=[1,52],z=[1,53],L=[1,54],N=[1,55],S=[1,56],R=[1,57],P=[1,58],H=[1,59],I=[1,60],Z=[14,42],ne=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],J=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],i=[1,82],o=[1,83],s=[1,84],n=[1,85],a=[12,14,42],ie=[12,14,33,42],ee=[12,14,33,42,76,77,79,80],q=[12,33],se=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],oe={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 3:s.setDirection("TB");break;case 4:s.setDirection("BT");break;case 5:s.setDirection("RL");break;case 6:s.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:s.setC4Type(i[r-3]);break;case 19:s.setTitle(i[r].substring(6)),this.$=i[r].substring(6);break;case 20:s.setAccDescription(i[r].substring(15)),this.$=i[r].substring(15);break;case 21:this.$=i[r].trim(),s.setTitle(this.$);break;case 22:case 23:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 28:i[r].splice(2,0,"ENTERPRISE"),s.addPersonOrSystemBoundary(...i[r]),this.$=i[r];break;case 29:i[r].splice(2,0,"SYSTEM"),s.addPersonOrSystemBoundary(...i[r]),this.$=i[r];break;case 30:s.addPersonOrSystemBoundary(...i[r]),this.$=i[r];break;case 31:i[r].splice(2,0,"CONTAINER"),s.addContainerBoundary(...i[r]),this.$=i[r];break;case 32:s.addDeploymentNode("node",...i[r]),this.$=i[r];break;case 33:s.addDeploymentNode("nodeL",...i[r]),this.$=i[r];break;case 34:s.addDeploymentNode("nodeR",...i[r]),this.$=i[r];break;case 35:s.popBoundaryParseStack();break;case 39:s.addPersonOrSystem("person",...i[r]),this.$=i[r];break;case 40:s.addPersonOrSystem("external_person",...i[r]),this.$=i[r];break;case 41:s.addPersonOrSystem("system",...i[r]),this.$=i[r];break;case 42:s.addPersonOrSystem("system_db",...i[r]),this.$=i[r];break;case 43:s.addPersonOrSystem("system_queue",...i[r]),this.$=i[r];break;case 44:s.addPersonOrSystem("external_system",...i[r]),this.$=i[r];break;case 45:s.addPersonOrSystem("external_system_db",...i[r]),this.$=i[r];break;case 46:s.addPersonOrSystem("external_system_queue",...i[r]),this.$=i[r];break;case 47:s.addContainer("container",...i[r]),this.$=i[r];break;case 48:s.addContainer("container_db",...i[r]),this.$=i[r];break;case 49:s.addContainer("container_queue",...i[r]),this.$=i[r];break;case 50:s.addContainer("external_container",...i[r]),this.$=i[r];break;case 51:s.addContainer("external_container_db",...i[r]),this.$=i[r];break;case 52:s.addContainer("external_container_queue",...i[r]),this.$=i[r];break;case 53:s.addComponent("component",...i[r]),this.$=i[r];break;case 54:s.addComponent("component_db",...i[r]),this.$=i[r];break;case 55:s.addComponent("component_queue",...i[r]),this.$=i[r];break;case 56:s.addComponent("external_component",...i[r]),this.$=i[r];break;case 57:s.addComponent("external_component_db",...i[r]),this.$=i[r];break;case 58:s.addComponent("external_component_queue",...i[r]),this.$=i[r];break;case 60:s.addRel("rel",...i[r]),this.$=i[r];break;case 61:s.addRel("birel",...i[r]),this.$=i[r];break;case 62:s.addRel("rel_u",...i[r]),this.$=i[r];break;case 63:s.addRel("rel_d",...i[r]),this.$=i[r];break;case 64:s.addRel("rel_l",...i[r]),this.$=i[r];break;case 65:s.addRel("rel_r",...i[r]),this.$=i[r];break;case 66:s.addRel("rel_b",...i[r]),this.$=i[r];break;case 67:i[r].splice(0,1),s.addRel("rel",...i[r]),this.$=i[r];break;case 68:s.updateElStyle("update_el_style",...i[r]),this.$=i[r];break;case 69:s.updateRelStyle("update_rel_style",...i[r]),this.$=i[r];break;case 70:s.updateLayoutConfig("update_layout_config",...i[r]),this.$=i[r];break;case 71:this.$=[i[r]];break;case 72:i[r].unshift(i[r-1]),this.$=i[r];break;case 73:case 75:this.$=i[r].trim();break;case 74:let e={};e[i[r-1].trim()]=i[r].trim(),this.$=e;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:Q,23:K,24:X,26:G,28:Y,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{13:70,19:20,20:21,21:22,22:Q,23:K,24:X,26:G,28:Y,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{13:71,19:20,20:21,21:22,22:Q,23:K,24:X,26:G,28:Y,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{13:72,19:20,20:21,21:22,22:Q,23:K,24:X,26:G,28:Y,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{13:73,19:20,20:21,21:22,22:Q,23:K,24:X,26:G,28:Y,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{14:[1,74]},t(Z,[2,13],{43:23,29:49,30:61,32:62,20:75,34:B,36:V,37:$,38:W,39:U,40:M,41:D,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I}),t(Z,[2,14]),t(ne,[2,16],{12:[1,76]}),t(Z,[2,36],{12:[1,77]}),t(J,[2,19]),t(J,[2,20]),{25:[1,78]},{27:[1,79]},t(J,[2,23]),{35:80,75:81,76:i,77:o,79:s,80:n},{35:86,75:81,76:i,77:o,79:s,80:n},{35:87,75:81,76:i,77:o,79:s,80:n},{35:88,75:81,76:i,77:o,79:s,80:n},{35:89,75:81,76:i,77:o,79:s,80:n},{35:90,75:81,76:i,77:o,79:s,80:n},{35:91,75:81,76:i,77:o,79:s,80:n},{35:92,75:81,76:i,77:o,79:s,80:n},{35:93,75:81,76:i,77:o,79:s,80:n},{35:94,75:81,76:i,77:o,79:s,80:n},{35:95,75:81,76:i,77:o,79:s,80:n},{35:96,75:81,76:i,77:o,79:s,80:n},{35:97,75:81,76:i,77:o,79:s,80:n},{35:98,75:81,76:i,77:o,79:s,80:n},{35:99,75:81,76:i,77:o,79:s,80:n},{35:100,75:81,76:i,77:o,79:s,80:n},{35:101,75:81,76:i,77:o,79:s,80:n},{35:102,75:81,76:i,77:o,79:s,80:n},{35:103,75:81,76:i,77:o,79:s,80:n},{35:104,75:81,76:i,77:o,79:s,80:n},t(a,[2,59]),{35:105,75:81,76:i,77:o,79:s,80:n},{35:106,75:81,76:i,77:o,79:s,80:n},{35:107,75:81,76:i,77:o,79:s,80:n},{35:108,75:81,76:i,77:o,79:s,80:n},{35:109,75:81,76:i,77:o,79:s,80:n},{35:110,75:81,76:i,77:o,79:s,80:n},{35:111,75:81,76:i,77:o,79:s,80:n},{35:112,75:81,76:i,77:o,79:s,80:n},{35:113,75:81,76:i,77:o,79:s,80:n},{35:114,75:81,76:i,77:o,79:s,80:n},{35:115,75:81,76:i,77:o,79:s,80:n},{20:116,29:49,30:61,32:62,34:B,36:V,37:$,38:W,39:U,40:M,41:D,43:23,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I},{12:[1,118],33:[1,117]},{35:119,75:81,76:i,77:o,79:s,80:n},{35:120,75:81,76:i,77:o,79:s,80:n},{35:121,75:81,76:i,77:o,79:s,80:n},{35:122,75:81,76:i,77:o,79:s,80:n},{35:123,75:81,76:i,77:o,79:s,80:n},{35:124,75:81,76:i,77:o,79:s,80:n},{35:125,75:81,76:i,77:o,79:s,80:n},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(Z,[2,15]),t(ne,[2,17],{21:22,19:130,22:Q,23:K,24:X,26:G,28:Y}),t(Z,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:Q,23:K,24:X,26:G,28:Y,34:B,36:V,37:$,38:W,39:U,40:M,41:D,44:d,45:u,46:h,47:m,48:f,49:p,50:g,51:v,52:b,53:j,54:y,55:_,56:w,57:O,58:x,59:C,60:E,61:k,62:A,63:l,64:r,65:F,66:T,67:z,68:L,69:N,70:S,71:R,72:P,73:H,74:I}),t(J,[2,21]),t(J,[2,22]),t(a,[2,39]),t(ie,[2,71],{75:81,35:132,76:i,77:o,79:s,80:n}),t(ee,[2,73]),{78:[1,133]},t(ee,[2,75]),t(ee,[2,76]),t(a,[2,40]),t(a,[2,41]),t(a,[2,42]),t(a,[2,43]),t(a,[2,44]),t(a,[2,45]),t(a,[2,46]),t(a,[2,47]),t(a,[2,48]),t(a,[2,49]),t(a,[2,50]),t(a,[2,51]),t(a,[2,52]),t(a,[2,53]),t(a,[2,54]),t(a,[2,55]),t(a,[2,56]),t(a,[2,57]),t(a,[2,58]),t(a,[2,60]),t(a,[2,61]),t(a,[2,62]),t(a,[2,63]),t(a,[2,64]),t(a,[2,65]),t(a,[2,66]),t(a,[2,67]),t(a,[2,68]),t(a,[2,69]),t(a,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(q,[2,28]),t(q,[2,29]),t(q,[2,30]),t(q,[2,31]),t(q,[2,32]),t(q,[2,33]),t(q,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(ne,[2,18]),t(Z,[2,38]),t(ie,[2,72]),t(ee,[2,74]),t(a,[2,24]),t(a,[2,35]),t(se,[2,25]),t(se,[2,26],{12:[1,138]}),t(se,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},ae=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return t}();oe.lexer=ae;function te(){this.yy={}}return e(te,"Parser"),te.prototype=oe,oe.Parser=te,new te}(),Vf.parser=Vf,Qqe=Vf}),S1=n(()=>{"use strict";Jp=e((e,t,{depth:n=2,clobber:s=!1}={})=>{let o={depth:n,clobber:s};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(t=>Jp(e,t,o)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(t=>{e.includes(t)||e.push(t)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=Jp(e[o],t[o],{depth:n-1,clobber:s})):(s||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},"assignWithDepth"),kt=Jp}),$qe=n(()=>{"use strict";Lf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e(e=>e>=255?255:e<0?0:e,"r"),g:e(e=>e>=255?255:e<0?0:e,"g"),b:e(e=>e>=255?255:e<0?0:e,"b"),h:e(e=>e%360,"h"),s:e(e=>e>=100?100:e<0?0:e,"s"),l:e(e=>e>=100?100:e<0?0:e,"l"),a:e(e=>e>=1?1:e<0?0:e,"a")},toLinear:e(e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:e((e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?e+(t-e)*6*n:n<.5?t:n<.6666666666666666?e+(t-e)*(.6666666666666666-n)*6:e),"hue2rgb"),hsl2rgb:e(({h:e,s:t,l:n},s)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;let o=n<.5?n*(1+t):n+t-n*t,i=2*n-o;switch(s){case"r":return Lf.hue2rgb(i,o,e+.3333333333333333)*255;case"g":return Lf.hue2rgb(i,o,e)*255;case"b":return Lf.hue2rgb(i,o,e-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:e(({r:e,g:t,b:n},s)=>{e/=255,t/=255,n/=255;let o=Math.max(e,t,n),i=Math.min(e,t,n),r=(o+i)/2;if(s==="l")return r*100;if(o===i)return 0;let a=o-i,c=r>.5?a/(2-o-i):a/(o+i);if(s==="s")return c*100;switch(o){case e:return((t-n)/a+(t<n?6:0))*60;case t:return((n-e)/a+2)*60;case n:return((e-t)/a+4)*60;default:return-1}},"rgb2hsl")},Wqe=Lf}),Iqe=n(()=>{"use strict";Vqe={clamp:e((e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),"clamp"),round:e(e=>Math.round(e*1e10)/1e10,"round")},Bqe=Vqe}),Mqe=n(()=>{"use strict";Hqe={dec2hex:e(e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")},zqe=Hqe}),sa=n(()=>{"use strict";$qe(),Iqe(),Mqe(),Sqe={channel:Wqe,lang:Bqe,unit:zqe},ae=Sqe}),jf=n(()=>{"use strict";sa(),Ar={};for(let e=0;e<=255;e++)Ar[e]=ae.unit.dec2hex(e);pn={ALL:0,RGB:1,HSL:2}}),Cqe=n(()=>{"use strict";jf(),Aqe=class{static{e(this,"Type")}constructor(){this.type=pn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=pn.ALL}is(e){return this.type===e}},kqe=Aqe}),yqe=n(()=>{"use strict";sa(),Cqe(),jf(),xqe=class{static{e(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new kqe}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=pn.ALL,this}_ensureHSL(){let e=this.data,{h:t,s:n,l:s}=e;t===void 0&&(e.h=ae.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=ae.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=ae.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:n,b:s}=e;t===void 0&&(e.r=ae.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=ae.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=ae.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return!this.type.is(pn.HSL)&&t!==void 0?t:(this._ensureHSL(),ae.channel.hsl2rgb(e,"r"))}get g(){let e=this.data,t=e.g;return!this.type.is(pn.HSL)&&t!==void 0?t:(this._ensureHSL(),ae.channel.hsl2rgb(e,"g"))}get b(){let e=this.data,t=e.b;return!this.type.is(pn.HSL)&&t!==void 0?t:(this._ensureHSL(),ae.channel.hsl2rgb(e,"b"))}get h(){let e=this.data,t=e.h;return!this.type.is(pn.RGB)&&t!==void 0?t:(this._ensureRGB(),ae.channel.rgb2hsl(e,"h"))}get s(){let e=this.data,t=e.s;return!this.type.is(pn.RGB)&&t!==void 0?t:(this._ensureRGB(),ae.channel.rgb2hsl(e,"s"))}get l(){let e=this.data,t=e.l;return!this.type.is(pn.RGB)&&t!==void 0?t:(this._ensureRGB(),ae.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(pn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(pn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(pn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(pn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(pn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(pn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},Oqe=xqe}),lf=n(()=>{"use strict";yqe(),uqe=new Oqe({r:0,g:0,b:0,a:0},"transparent"),df=uqe}),XI=n(()=>{"use strict";lf(),jf(),JI={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e(e=>{if(e.charCodeAt(0)!==35)return;let r=e.match(JI.re);if(!r)return;let c=r[1],t=parseInt(c,16),l=c.length,d=l%4===0,o=l>4,n=o?1:17,i=o?8:4,a=d?0:-1,s=o?255:15;return df.set({r:(t>>i*(a+3)&s)*n,g:(t>>i*(a+2)&s)*n,b:(t>>i*(a+1)&s)*n,a:d?(t&s)*n/255:1},e)},"parse"),stringify:e(e=>{let{r:t,g:n,b:s,a:o}=e;return o<1?`#${Ar[Math.round(t)]}${Ar[Math.round(n)]}${Ar[Math.round(s)]}${Ar[Math.round(o*255)]}`:`#${Ar[Math.round(t)]}${Ar[Math.round(n)]}${Ar[Math.round(s)]}`},"stringify")},K1=JI}),cqe=n(()=>{"use strict";sa(),lf(),rf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e(e=>{let t=e.match(rf.hueRe);if(t){let[,e,n]=t;switch(n){case"grad":return ae.channel.clamp.h(parseFloat(e)*.9);case"rad":return ae.channel.clamp.h(parseFloat(e)*180/Math.PI);case"turn":return ae.channel.clamp.h(parseFloat(e)*360)}}return ae.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:e(e=>{let n=e.charCodeAt(0);if(n!==104&&n!==72)return;let s=e.match(rf.re);if(!s)return;let[,o,i,a,t,r]=s;return df.set({h:rf._hue2deg(o),s:ae.channel.clamp.s(parseFloat(i)),l:ae.channel.clamp.l(parseFloat(a)),a:t?ae.channel.clamp.a(r?parseFloat(t)/100:parseFloat(t)):1},e)},"parse"),stringify:e(e=>{let{h:t,s:n,l:s,a:o}=e;return o<1?`hsla(${ae.lang.round(t)}, ${ae.lang.round(n)}%, ${ae.lang.round(s)}%, ${o})`:`hsl(${ae.lang.round(t)}, ${ae.lang.round(n)}%, ${ae.lang.round(s)}%)`},"stringify")},af=rf}),iqe=n(()=>{"use strict";XI(),sf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e(e=>{e=e.toLowerCase();let t=sf.colors[e];if(t)return K1.parse(t)},"parse"),stringify:e(e=>{let t=K1.stringify(e);for(let e in sf.colors)if(sf.colors[e]===t)return e},"stringify")},YI=sf}),oqe=n(()=>{"use strict";sa(),lf(),kI={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e(e=>{let n=e.charCodeAt(0);if(n!==114&&n!==82)return;let s=e.match(kI.re);if(!s)return;let[,o,r,i,c,a,l,t,d]=s;return df.set({r:ae.channel.clamp.r(r?parseFloat(o)*2.55:parseFloat(o)),g:ae.channel.clamp.g(c?parseFloat(i)*2.55:parseFloat(i)),b:ae.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:t?ae.channel.clamp.a(d?parseFloat(t)/100:parseFloat(t)):1},e)},"parse"),stringify:e(e=>{let{r:t,g:n,b:s,a:o}=e;return o<1?`rgba(${ae.lang.round(t)}, ${ae.lang.round(n)}, ${ae.lang.round(s)}, ${ae.lang.round(o)})`:`rgb(${ae.lang.round(t)}, ${ae.lang.round(n)}, ${ae.lang.round(s)})`},"stringify")},J8=kI}),Qa=n(()=>{"use strict";XI(),cqe(),iqe(),oqe(),jf(),sqe={format:{keyword:YI,hex:K1,rgb:J8,rgba:J8,hsl:af,hsla:af},parse:e(e=>{if(typeof e!="string")return e;let t=K1.parse(e)||J8.parse(e)||af.parse(e)||YI.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:e(e=>!e.changed&&e.color?e.color:e.type.is(pn.HSL)||e.data.r===void 0?af.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?J8.stringify(e):K1.stringify(e),"stringify")},uo=sqe}),mI=n(()=>{"use strict";sa(),Qa(),eqe=e((e,t)=>{let n=uo.parse(e);for(let e in t)n[e]=ae.channel.clamp[e](t[e]);return uo.stringify(n)},"change"),fI=eqe}),IH=n(()=>{"use strict";sa(),lf(),Qa(),mI(),DKe=e((e,t,n=0,s=1)=>{if(typeof e!="number")return fI(e,{a:t});let o=df.set({r:ae.channel.clamp.r(e),g:ae.channel.clamp.g(t),b:ae.channel.clamp.b(n),a:ae.channel.clamp.a(s)});return uo.stringify(o)},"rgba"),Wa=DKe}),TKe=n(()=>{"use strict";sa(),Qa(),zKe=e((e,t)=>ae.lang.round(uo.parse(e)[t]),"channel"),zg=zKe}),EKe=n(()=>{"use strict";sa(),Qa(),FKe=e(e=>{let{r:t,g:n,b:s}=uo.parse(e),o=.2126*ae.channel.toLinear(t)+.7152*ae.channel.toLinear(n)+.0722*ae.channel.toLinear(s);return ae.lang.round(o)},"luminance"),kKe=FKe}),OKe=n(()=>{"use strict";EKe(),CKe=e(e=>kKe(e)>=.5,"isLight"),xKe=CKe}),mKe=n(()=>{"use strict";OKe(),wKe=e(e=>!xKe(e),"isDark"),za=wKe}),_H=n(()=>{"use strict";sa(),Qa(),cKe=e((e,t,n)=>{let s=uo.parse(e),o=s[t],i=ae.channel.clamp[t](o+n);return o!==i&&(s[t]=i),uo.stringify(s)},"adjustChannel"),CH=cKe}),QUe=n(()=>{"use strict";_H(),rKe=e((e,t)=>CH(e,"l",t),"lighten"),z=rKe}),UUe=n(()=>{"use strict";_H(),KUe=e((e,t)=>CH(e,"l",-t),"darken"),V=KUe}),VUe=n(()=>{"use strict";Qa(),mI(),WUe=e((e,t)=>{let s=uo.parse(e),n={};for(let e in t)t[e]&&(n[e]=s[e]+t[e]);return fI(e,n)},"adjust"),p=WUe}),NUe=n(()=>{"use strict";Qa(),IH(),HUe=e((e,t,n=50)=>{let{r:p,g:f,b:d,a:l}=uo.parse(e),{r:m,g:h,b:u,a:c}=uo.parse(t),r=n/100,s=r*2-1,a=l-c,o=((s*a===-1?s:(s+a)/(1+s*a))+1)/2,i=1-o,g=p*o+m*i,v=f*o+h*i,b=d*o+u*i,j=l*r+c*(1-r);return Wa(g,v,b,j)},"mix"),PUe=HUe}),MUe=n(()=>{"use strict";Qa(),NUe(),TUe=e((e,t=100)=>{let n=uo.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,PUe(n,e,t)},"invert"),S=TUe}),SUe=n(()=>{"use strict";IH(),TKe(),mKe(),QUe(),UUe(),VUe(),MUe()}),Js=n(()=>{"use strict";SUe()}),m8=n(()=>{"use strict";p8="#ffffff",f8="#f2f2f2"}),j4=n(()=>{"use strict";Js(),kn=e((e,t)=>t?p(e,{s:-40,l:10}):p(e,{s:-40,l:-10}),"mkBorder")}),XWe=n(()=>{"use strict";Js(),m8(),j4(),AUe=class{static{e(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||p(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||p(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||kn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||kn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||kn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||kn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||S(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||S(this.tertiaryColor),this.lineColor=this.lineColor||S(this.background),this.arrowheadColor=this.arrowheadColor||S(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?V(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||V(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||S(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||z(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||V(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||V(this.mainBkg,10)):(this.rowOdd=this.rowOdd||z(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||z(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||p(this.primaryColor,{h:30}),this.cScale4=this.cScale4||p(this.primaryColor,{h:60}),this.cScale5=this.cScale5||p(this.primaryColor,{h:90}),this.cScale6=this.cScale6||p(this.primaryColor,{h:120}),this.cScale7=this.cScale7||p(this.primaryColor,{h:150}),this.cScale8=this.cScale8||p(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||p(this.primaryColor,{h:270}),this.cScale10=this.cScale10||p(this.primaryColor,{h:300}),this.cScale11=this.cScale11||p(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=V(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=V(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||S(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||z(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||V(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||p(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||p(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||p(this.primaryColor,{h:64}),this.fillType3=this.fillType3||p(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||p(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||p(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||p(this.primaryColor,{h:128}),this.fillType7=this.fillType7||p(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||p(this.primaryColor,{l:-10}),this.pie5=this.pie5||p(this.secondaryColor,{l:-10}),this.pie6=this.pie6||p(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||p(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||p(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||p(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||p(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||p(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||p(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||p(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||p(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||p(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||p(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||p(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||p(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||za(this.quadrant1Fill)?z(this.quadrant1Fill):V(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?V(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||p(this.primaryColor,{h:-30}),this.git4=this.git4||p(this.primaryColor,{h:-60}),this.git5=this.git5||p(this.primaryColor,{h:-90}),this.git6=this.git6||p(this.primaryColor,{h:60}),this.git7=this.git7||p(this.primaryColor,{h:120}),this.darkMode?(this.git0=z(this.git0,25),this.git1=z(this.git1,25),this.git2=z(this.git2,25),this.git3=z(this.git3,25),this.git4=z(this.git4,25),this.git5=z(this.git5,25),this.git6=z(this.git6,25),this.git7=z(this.git7,25)):(this.git0=V(this.git0,25),this.git1=V(this.git1,25),this.git2=V(this.git2,25),this.git3=V(this.git3,25),this.git4=V(this.git4,25),this.git5=V(this.git5,25),this.git6=V(this.git6,25),this.git7=V(this.git7,25)),this.gitInv0=this.gitInv0||S(this.git0),this.gitInv1=this.gitInv1||S(this.git1),this.gitInv2=this.gitInv2||S(this.git2),this.gitInv3=this.gitInv3||S(this.git3),this.gitInv4=this.gitInv4||S(this.git4),this.gitInv5=this.gitInv5||S(this.git5),this.gitInv6=this.gitInv6||S(this.git6),this.gitInv7=this.gitInv7||S(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p8,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||f8}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},dUe=e(e=>{let t=new AUe;return t.calculate(e),t},"getThemeVariables")}),KWe=n(()=>{"use strict";Js(),j4(),YWe=class{static{e(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=z(this.primaryColor,16),this.tertiaryColor=p(this.primaryColor,{h:-160}),this.primaryBorderColor=S(this.background),this.secondaryBorderColor=kn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=kn(this.tertiaryColor,this.darkMode),this.primaryTextColor=S(this.primaryColor),this.secondaryTextColor=S(this.secondaryColor),this.tertiaryTextColor=S(this.tertiaryColor),this.lineColor=S(this.background),this.textColor=S(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=z(S("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Wa(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=V("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=V(this.sectionBkgColor,10),this.taskBorderColor=Wa(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Wa(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||z(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||V(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=z(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=z(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=z(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=p(this.primaryColor,{h:64}),this.fillType3=p(this.secondaryColor,{h:64}),this.fillType4=p(this.primaryColor,{h:-64}),this.fillType5=p(this.secondaryColor,{h:-64}),this.fillType6=p(this.primaryColor,{h:128}),this.fillType7=p(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||p(this.primaryColor,{h:30}),this.cScale4=this.cScale4||p(this.primaryColor,{h:60}),this.cScale5=this.cScale5||p(this.primaryColor,{h:90}),this.cScale6=this.cScale6||p(this.primaryColor,{h:120}),this.cScale7=this.cScale7||p(this.primaryColor,{h:150}),this.cScale8=this.cScale8||p(this.primaryColor,{h:210}),this.cScale9=this.cScale9||p(this.primaryColor,{h:270}),this.cScale10=this.cScale10||p(this.primaryColor,{h:300}),this.cScale11=this.cScale11||p(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||S(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||z(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||p(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||p(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||p(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||p(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||p(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||p(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||p(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||p(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||za(this.quadrant1Fill)?z(this.quadrant1Fill):V(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?V(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=z(this.secondaryColor,20),this.git1=z(this.pie2||this.secondaryColor,20),this.git2=z(this.pie3||this.tertiaryColor,20),this.git3=z(this.pie4||p(this.primaryColor,{h:-30}),20),this.git4=z(this.pie5||p(this.primaryColor,{h:-60}),20),this.git5=z(this.pie6||p(this.primaryColor,{h:-90}),10),this.git6=z(this.pie7||p(this.primaryColor,{h:60}),10),this.git7=z(this.pie8||p(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||S(this.git0),this.gitInv1=this.gitInv1||S(this.git1),this.gitInv2=this.gitInv2||S(this.git2),this.gitInv3=this.gitInv3||S(this.git3),this.gitInv4=this.gitInv4||S(this.git4),this.gitInv5=this.gitInv5||S(this.git5),this.gitInv6=this.gitInv6||S(this.git6),this.gitInv7=this.gitInv7||S(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||z(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||z(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},qWe=e(e=>{let t=new YWe;return t.calculate(e),t},"getThemeVariables")}),Gm=n(()=>{"use strict";Js(),j4(),m8(),BWe=class{static{e(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=p(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=p(this.primaryColor,{h:-160}),this.primaryBorderColor=kn(this.primaryColor,this.darkMode),this.secondaryBorderColor=kn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=kn(this.tertiaryColor,this.darkMode),this.primaryTextColor=S(this.primaryColor),this.secondaryTextColor=S(this.secondaryColor),this.tertiaryTextColor=S(this.tertiaryColor),this.lineColor=S(this.background),this.textColor=S(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Wa(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||p(this.primaryColor,{h:30}),this.cScale4=this.cScale4||p(this.primaryColor,{h:60}),this.cScale5=this.cScale5||p(this.primaryColor,{h:90}),this.cScale6=this.cScale6||p(this.primaryColor,{h:120}),this.cScale7=this.cScale7||p(this.primaryColor,{h:150}),this.cScale8=this.cScale8||p(this.primaryColor,{h:210}),this.cScale9=this.cScale9||p(this.primaryColor,{h:270}),this.cScale10=this.cScale10||p(this.primaryColor,{h:300}),this.cScale11=this.cScale11||p(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||V(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||V(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=V(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||V(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||p(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||p(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||p(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||S(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||S(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=z(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||z(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||z(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=p(this.primaryColor,{h:64}),this.fillType3=p(this.secondaryColor,{h:64}),this.fillType4=p(this.primaryColor,{h:-64}),this.fillType5=p(this.secondaryColor,{h:-64}),this.fillType6=p(this.primaryColor,{h:128}),this.fillType7=p(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||p(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||p(this.primaryColor,{l:-10}),this.pie5=this.pie5||p(this.secondaryColor,{l:-30}),this.pie6=this.pie6||p(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||p(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||p(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||p(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||p(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||p(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||p(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||p(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||p(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||p(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||p(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||p(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||p(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||za(this.quadrant1Fill)?z(this.quadrant1Fill):V(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||p(this.primaryColor,{h:-30}),this.git4=this.git4||p(this.primaryColor,{h:-60}),this.git5=this.git5||p(this.primaryColor,{h:-90}),this.git6=this.git6||p(this.primaryColor,{h:60}),this.git7=this.git7||p(this.primaryColor,{h:120}),this.darkMode?(this.git0=z(this.git0,25),this.git1=z(this.git1,25),this.git2=z(this.git2,25),this.git3=z(this.git3,25),this.git4=z(this.git4,25),this.git5=z(this.git5,25),this.git6=z(this.git6,25),this.git7=z(this.git7,25)):(this.git0=V(this.git0,25),this.git1=V(this.git1,25),this.git2=V(this.git2,25),this.git3=V(this.git3,25),this.git4=V(this.git4,25),this.git5=V(this.git5,25),this.git6=V(this.git6,25),this.git7=V(this.git7,25)),this.gitInv0=this.gitInv0||V(S(this.git0),25),this.gitInv1=this.gitInv1||S(this.git1),this.gitInv2=this.gitInv2||S(this.git2),this.gitInv3=this.gitInv3||S(this.git3),this.gitInv4=this.gitInv4||S(this.git4),this.gitInv5=this.gitInv5||S(this.git5),this.gitInv6=this.gitInv6||S(this.git6),this.gitInv7=this.gitInv7||S(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p8,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||f8}calculate(e){if(Object.keys(this).forEach(e=>{this[e]==="calculated"&&(this[e]=void 0)}),typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},n8=e(e=>{let t=new BWe;return t.calculate(e),t},"getThemeVariables")}),LWe=n(()=>{"use strict";Js(),m8(),j4(),HWe=class{static{e(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=z("#cde498",10),this.primaryBorderColor=kn(this.primaryColor,this.darkMode),this.secondaryBorderColor=kn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=kn(this.tertiaryColor,this.darkMode),this.primaryTextColor=S(this.primaryColor),this.secondaryTextColor=S(this.secondaryColor),this.tertiaryTextColor=S(this.primaryColor),this.lineColor=S(this.background),this.textColor=S(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=V(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||p(this.primaryColor,{h:30}),this.cScale4=this.cScale4||p(this.primaryColor,{h:60}),this.cScale5=this.cScale5||p(this.primaryColor,{h:90}),this.cScale6=this.cScale6||p(this.primaryColor,{h:120}),this.cScale7=this.cScale7||p(this.primaryColor,{h:150}),this.cScale8=this.cScale8||p(this.primaryColor,{h:210}),this.cScale9=this.cScale9||p(this.primaryColor,{h:270}),this.cScale10=this.cScale10||p(this.primaryColor,{h:300}),this.cScale11=this.cScale11||p(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||V(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||V(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=V(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||V(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||p(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||p(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||p(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||z(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||z(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=p(this.primaryColor,{h:64}),this.fillType3=p(this.secondaryColor,{h:64}),this.fillType4=p(this.primaryColor,{h:-64}),this.fillType5=p(this.secondaryColor,{h:-64}),this.fillType6=p(this.primaryColor,{h:128}),this.fillType7=p(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||p(this.primaryColor,{l:-30}),this.pie5=this.pie5||p(this.secondaryColor,{l:-30}),this.pie6=this.pie6||p(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||p(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||p(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||p(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||p(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||p(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||p(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||p(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||p(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||p(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||p(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||p(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||p(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||za(this.quadrant1Fill)?z(this.quadrant1Fill):V(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||p(this.primaryColor,{h:-30}),this.git4=this.git4||p(this.primaryColor,{h:-60}),this.git5=this.git5||p(this.primaryColor,{h:-90}),this.git6=this.git6||p(this.primaryColor,{h:60}),this.git7=this.git7||p(this.primaryColor,{h:120}),this.darkMode?(this.git0=z(this.git0,25),this.git1=z(this.git1,25),this.git2=z(this.git2,25),this.git3=z(this.git3,25),this.git4=z(this.git4,25),this.git5=z(this.git5,25),this.git6=z(this.git6,25),this.git7=z(this.git7,25)):(this.git0=V(this.git0,25),this.git1=V(this.git1,25),this.git2=V(this.git2,25),this.git3=V(this.git3,25),this.git4=V(this.git4,25),this.git5=V(this.git5,25),this.git6=V(this.git6,25),this.git7=V(this.git7,25)),this.gitInv0=this.gitInv0||S(this.git0),this.gitInv1=this.gitInv1||S(this.git1),this.gitInv2=this.gitInv2||S(this.git2),this.gitInv3=this.gitInv3||S(this.git3),this.gitInv4=this.gitInv4||S(this.git4),this.gitInv5=this.gitInv5||S(this.git5),this.gitInv6=this.gitInv6||S(this.git6),this.gitInv7=this.gitInv7||S(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||S(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||S(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p8,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||f8}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},RWe=e(e=>{let t=new HWe;return t.calculate(e),t},"getThemeVariables")}),zWe=n(()=>{"use strict";Js(),j4(),m8(),NWe=class{static{e(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=z(this.contrast,55),this.background="#ffffff",this.tertiaryColor=p(this.primaryColor,{h:-160}),this.primaryBorderColor=kn(this.primaryColor,this.darkMode),this.secondaryBorderColor=kn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=kn(this.tertiaryColor,this.darkMode),this.primaryTextColor=S(this.primaryColor),this.secondaryTextColor=S(this.secondaryColor),this.tertiaryTextColor=S(this.tertiaryColor),this.lineColor=S(this.background),this.textColor=S(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||z(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=z(this.contrast,55),this.border2=this.contrast,this.actorBorder=z(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||S(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||z(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||V(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||p(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||p(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=z(this.contrast,30),this.sectionBkgColor2=z(this.contrast,30),this.taskBorderColor=V(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=z(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=V(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=p(this.primaryColor,{h:64}),this.fillType3=p(this.secondaryColor,{h:64}),this.fillType4=p(this.primaryColor,{h:-64}),this.fillType5=p(this.secondaryColor,{h:-64}),this.fillType6=p(this.primaryColor,{h:128}),this.fillType7=p(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||p(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||p(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||p(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||p(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||p(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||p(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||za(this.quadrant1Fill)?z(this.quadrant1Fill):V(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=V(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||p(this.primaryColor,{h:-30}),this.git4=this.pie5||p(this.primaryColor,{h:-60}),this.git5=this.pie6||p(this.primaryColor,{h:-90}),this.git6=this.pie7||p(this.primaryColor,{h:60}),this.git7=this.pie8||p(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||S(this.git0),this.gitInv1=this.gitInv1||S(this.git1),this.gitInv2=this.gitInv2||S(this.git2),this.gitInv3=this.gitInv3||S(this.git3),this.gitInv4=this.gitInv4||S(this.git4),this.gitInv5=this.gitInv5||S(this.git5),this.gitInv6=this.gitInv6||S(this.git6),this.gitInv7=this.gitInv7||S(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||p8,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||f8}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},DWe=e(e=>{let t=new NWe;return t.calculate(e),t},"getThemeVariables")}),Jg=n(()=>{"use strict";XWe(),KWe(),Gm(),LWe(),zWe(),Ti={base:{getThemeVariables:dUe},dark:{getThemeVariables:qWe},default:{getThemeVariables:n8},forest:{getThemeVariables:RWe},neutral:{getThemeVariables:DWe}}}),kWe=n(()=>{"use strict";Ni={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),bs=n(()=>{"use strict";Jg(),kWe(),kP={...Ni,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Ti.default.getThemeVariables(),sequence:{...Ni.sequence,messageFont:e(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:e(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:e(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Ni.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ni.c4,useWidth:void 0,personFont:e(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:e(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:e(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:e(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:e(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:e(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:e(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:e(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:e(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:e(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:e(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:e(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:e(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:e(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:e(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:e(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:e(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:e(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:e(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:e(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:e(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:e(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Ni.pie,useWidth:984},xyChart:{...Ni.xyChart,useWidth:void 0},requirement:{...Ni.requirement,useWidth:void 0},packet:{...Ni.packet},radar:{...Ni.radar}},EP=e((e,t="")=>Object.keys(e).reduce((n,s)=>Array.isArray(e[s])?n:typeof e[s]=="object"&&e[s]!==null?[...n,t+s,...EP(e[s],"")]:[...n,t+s],[]),"keyify"),xWe=new Set(EP(kP,"")),ye=kP}),wP=n(()=>{"use strict";bs(),x(),$m=e(e=>{if(a.debug("sanitizeDirective called with",e),typeof e=="object"&&e!=null){if(Array.isArray(e)){e.forEach(e=>$m(e));return}for(let t of Object.keys(e)){if(a.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!xWe.has(t)||e[t]==null){a.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){a.debug("sanitizing object",t),$m(e[t]);continue}let n=["themeCSS","fontFamily","altFontFamily"];for(let s of n)t.includes(s)&&(a.debug("sanitizing css option",t),e[t]=aWe(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let n=e.themeVariables[t];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}a.debug("After sanitization",e)}},"sanitizeDirective"),aWe=e(e=>{let t=0,n=0;for(let s of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?t++:s==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")}),sn=n(()=>{"use strict";S1(),x(),Jg(),bs(),wP(),bl=Object.freeze(ye),is=kt({},bl),Al=[],D4=kt({},bl),km=e((e,t)=>{let n=kt({},e),s={};for(let e of t)vP(e),s=kt(s,e);if(n=kt(n,s),s.theme&&s.theme in Ti){let e=kt({},iWe),t=kt(e.themeVariables||{},s.themeVariables);n.theme&&n.theme in Ti&&(n.themeVariables=Ti[n.theme].getThemeVariables(t))}return D4=n,dP(D4),D4},"updateCurrentConfig"),Q$e=e(e=>(is=kt({},bl),is=kt(is,e),e.theme&&Ti[e.theme]&&(is.themeVariables=Ti[e.theme].getThemeVariables(e.themeVariables)),km(is,Al),is),"setSiteConfig"),Y$e=e(e=>{iWe=kt({},e)},"saveConfigFromInitialize"),q$e=e(e=>(is=kt(is,e),km(is,Al),is),"updateSiteConfig"),jP=e(()=>kt({},is),"getSiteConfig"),bP=e(e=>(dP(e),kt(D4,e),De()),"setConfig"),De=e(()=>kt({},D4),"getConfig"),vP=e(e=>{e&&(["secure",...is.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(a.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&vP(e[t])}))},"sanitize"),K$e=e(e=>{$m(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Al.push(e),km(is,Al)},"addDirective"),bm=e((e=is)=>{Al=[],km(e,Al)},"reset"),$$e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},mP={},M$e=e(e=>{mP[e]||(a.warn($$e[e]),mP[e]=!0)},"issueWarning"),dP=e(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&M$e("LAZY_LOAD_DEPRECATED")},"checkConfig")});function Bn(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return f5(e,t,o)}}function S$e(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return j5(e,s)}}function be(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qh;nP&&nP(e,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){let e=s(o);e!==o&&(w$e(t)||(t[n]=e),o=e)}e[o]=!0}return e}function O$e(e){for(let t=0;t<e.length;t++)po(e,t)||(e[t]=null);return e}function dc(e){let t=WR(null);for(let[s,n]of aP(e))po(e,s)&&(Array.isArray(n)?t[s]=O$e(n):n&&typeof n=="object"&&n.constructor===Object?t[s]=dc(n):t[s]=n);return t}function s0(t,n){for(;t!==null;){let e=r$e(t,n);if(e){if(e.get)return Bn(e.get);if(typeof e.value=="function")return Bn(e.value)}t=b$e(t)}function s(){return null}return e(s,"fallbackValue"),s}function rP(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vVe(),t=e(e=>rP(e),"DOMPurify");if(t.version="3.2.4",t.removed=[],!d||!d.document||d.document.nodeType!==C0.document||!d.Element)return t.isSupported=!1,t;let{document:m}=d,R=m,Pe=R.currentScript,{DocumentFragment:ge,HTMLTemplateElement:Me,Node:I,Element:Oe,NodeFilter:w,NamedNodeMap:xe=d.NamedNodeMap||d.MozNamedAttrMap,HTMLFormElement:Ee,DOMParser:De,trustedTypes:F}=d,y=Oe.prototype,Ne=s0(y,"cloneNode"),Ce=s0(y,"remove"),He=s0(y,"nextSibling"),Ve=s0(y,"childNodes"),S=s0(y,"parentNode");if(typeof Me=="function"){let e=m.createElement("template");e.content&&e.content.ownerDocument&&(m=e.content.ownerDocument)}let a,x="",{implementation:U,createNodeIterator:$e,createDocumentFragment:Ue,getElementsByTagName:Ke}=m,{importNode:qe}=R,r=IL();t.isSupported=typeof aP=="function"&&typeof S=="function"&&U&&U.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Q,ERB_EXPR:X,TMPLIT_EXPR:G,DATA_ATTR:Be,ARIA_ATTR:ze,IS_SCRIPT_OR_DATA:Se,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:Ie}=$L,{IS_ALLOWED_URI:re}=$L,o=null,ye=be({},[...gR,...E5,...z5,...D5,...tR]),i=null,_e=be({},[...eR,...L5,...ZL,...Ph]),n=Object.seal(WR(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_=null,W=null,ce=!0,K=!0,ae=!1,J=!0,p=!1,N=!0,h=!1,L=!1,Y=!1,g=!1,k=!1,A=!1,se=!0,oe=!1,We="user-content-",q=!0,C=!1,b={},v=null,de=be({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,he=be({},["audio","video","img","source","image","track"]),$=null,Z=be({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),M="http://www.w3.org/1998/Math/MathML",E="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",f=l,V=!1,B=null,Te=be({},[M,E,l],_5),T=be({},["mi","mo","mn","ms","mtext"]),z=be({},["annotation-xml"]),Re=be({},["title","style","font","a","script"]),O=null,ke=["application/xhtml+xml","text/html"],Ae="text/html",s=null,j=null,Fe=m.createElement("form"),we=e(function(e){return e instanceof RegExp||e instanceof Function},"isRegexOrFunction"),H=e(function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!j||j!==e){if((!e||typeof e!="object")&&(e={}),e=dc(e),O=ke.indexOf(e.PARSER_MEDIA_TYPE)===-1?Ae:e.PARSER_MEDIA_TYPE,s=O==="application/xhtml+xml"?_5:Qh,o=po(e,"ALLOWED_TAGS")?be({},e.ALLOWED_TAGS,s):ye,i=po(e,"ALLOWED_ATTR")?be({},e.ALLOWED_ATTR,s):_e,B=po(e,"ALLOWED_NAMESPACES")?be({},e.ALLOWED_NAMESPACES,_5):Te,$=po(e,"ADD_URI_SAFE_ATTR")?be(dc(Z),e.ADD_URI_SAFE_ATTR,s):Z,ue=po(e,"ADD_DATA_URI_TAGS")?be(dc(he),e.ADD_DATA_URI_TAGS,s):he,v=po(e,"FORBID_CONTENTS")?be({},e.FORBID_CONTENTS,s):de,_=po(e,"FORBID_TAGS")?be({},e.FORBID_TAGS,s):{},W=po(e,"FORBID_ATTR")?be({},e.FORBID_ATTR,s):{},b=!!po(e,"USE_PROFILES")&&e.USE_PROFILES,ce=e.ALLOW_ARIA_ATTR!==!1,K=e.ALLOW_DATA_ATTR!==!1,ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,J=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,p=e.SAFE_FOR_TEMPLATES||!1,N=e.SAFE_FOR_XML!==!1,h=e.WHOLE_DOCUMENT||!1,g=e.RETURN_DOM||!1,k=e.RETURN_DOM_FRAGMENT||!1,A=e.RETURN_TRUSTED_TYPE||!1,Y=e.FORCE_BODY||!1,se=e.SANITIZE_DOM!==!1,oe=e.SANITIZE_NAMED_PROPS||!1,q=e.KEEP_CONTENT!==!1,C=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||qL,f=e.NAMESPACE||l,T=e.MATHML_TEXT_INTEGRATION_POINTS||T,z=e.HTML_INTEGRATION_POINTS||z,n=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(n.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(n.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(n.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),p&&(K=!1),k&&(g=!0),b&&(o=be({},tR),i=[],b.html===!0&&(be(o,gR),be(i,eR)),b.svg===!0&&(be(o,E5),be(i,L5),be(i,Ph)),b.svgFilters===!0&&(be(o,z5),be(i,L5),be(i,Ph)),b.mathMl===!0&&(be(o,D5),be(i,ZL),be(i,Ph))),e.ADD_TAGS&&(o===ye&&(o=dc(o)),be(o,e.ADD_TAGS,s)),e.ADD_ATTR&&(i===_e&&(i=dc(i)),be(i,e.ADD_ATTR,s)),e.ADD_URI_SAFE_ATTR&&be($,e.ADD_URI_SAFE_ATTR,s),e.FORBID_CONTENTS&&(v===de&&(v=dc(v)),be(v,e.FORBID_CONTENTS,s)),q&&(o["#text"]=!0),h&&be(o,["html","head","body"]),o.table&&(be(o,["tbody"]),delete _.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw p0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw p0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');a=e.TRUSTED_TYPES_POLICY,x=a.createHTML("")}else a===void 0&&(a=mVe(F,Pe)),a!==null&&typeof x=="string"&&(x=a.createHTML(""));Ln&&Ln(e),j=e}},"_parseConfig"),je=be({},[...E5,...z5,...DVe]),ve=be({},[...D5,...zVe]),Le=e(function(e){let t=S(e);(!t||!t.tagName)&&(t={namespaceURI:f,tagName:"template"});let n=Qh(e.tagName),s=Qh(t.tagName);return!!B[e.namespaceURI]&&(e.namespaceURI===E?t.namespaceURI===l?n==="svg":t.namespaceURI===M?n==="svg"&&(s==="annotation-xml"||T[s]):!!je[n]:e.namespaceURI===M?t.namespaceURI===l?n==="math":t.namespaceURI===E?n==="math"&&z[s]:!!ve[n]:e.namespaceURI===l?!(t.namespaceURI===E&&!z[s]||t.namespaceURI===M&&!T[s])&&!ve[n]&&(Re[n]||!je[n]):!!(O==="application/xhtml+xml"&&B[e.namespaceURI]))},"_checkValidNamespace"),u=e(function(e){u0(t.removed,{element:e});try{S(e).removeChild(e)}catch{Ce(e)}},"_forceRemove"),D=e(function(e,n){try{u0(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{u0(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is")if(g||k)try{u(n)}catch{}else try{n.setAttribute(e,"")}catch{}},"_removeAttribute"),pe=e(function(e){let t=null,n=null;if(Y)e="<remove></remove>"+e;else{let t=_R(e,/^[\r\n\t ]+/);n=t&&t[0]}O==="application/xhtml+xml"&&f===l&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let o=a?a.createHTML(e):e;if(f===l)try{t=(new De).parseFromString(o,O)}catch{}if(!t||!t.documentElement){t=U.createDocument(f,"template",null);try{t.documentElement.innerHTML=V?x:o}catch{}}let s=t.body||t.documentElement;return e&&n&&s.insertBefore(m.createTextNode(n),s.childNodes[0]||null),f===l?Ke.call(t,h?"html":"body")[0]:h?t.documentElement:s},"_initDocument"),fe=e(function(e){return $e.call(e.ownerDocument||e,e,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT|w.SHOW_PROCESSING_INSTRUCTION|w.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),P=e(function(e){return e instanceof Ee&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof xe)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},"_isClobbered"),le=e(function(e){return typeof I=="function"&&e instanceof I},"_isNode");function c(e,n,s){sm(e,e=>{e.call(t,n,s,j)})}e(c,"_executeHooks");let ie=e(function(e){let a=null;if(c(r.beforeSanitizeElements,e,null),P(e))return u(e),!0;let i=s(e.nodeName);if(c(r.uponSanitizeElement,e,{tagName:i,allowedTags:o}),e.hasChildNodes()&&!le(e.firstElementChild)&&$n(/<[/\w]/g,e.innerHTML)&&$n(/<[/\w]/g,e.textContent)||e.nodeType===C0.progressingInstruction||N&&e.nodeType===C0.comment&&$n(/<[/\w]/g,e.data))return u(e),!0;if(!o[i]||_[i]){if(!_[i]&&te(i)&&(n.tagNameCheck instanceof RegExp&&$n(n.tagNameCheck,i)||n.tagNameCheck instanceof Function&&n.tagNameCheck(i)))return!1;if(q&&!v[i]){let n=S(e)||e.parentNode,t=Ve(e)||e.childNodes;if(t&&n){let s=t.length;for(let o=s-1;o>=0;--o){let i=Ne(t[o],!0);i.__removalCount=(e.__removalCount||0)+1,n.insertBefore(i,He(e))}}}return u(e),!0}return e instanceof Oe&&!Le(e)||(i==="noscript"||i==="noembed"||i==="noframes")&&$n(/<\/no(script|embed|frames)/i,e.innerHTML)?(u(e),!0):(p&&e.nodeType===C0.text&&(a=e.textContent,sm([Q,X,G],e=>{a=m0(a,e," ")}),e.textContent!==a&&(u0(t.removed,{element:e.cloneNode()}),e.textContent=a)),c(r.afterSanitizeElements,e,null),!1)},"_sanitizeElements"),ne=e(function(e,t,s){if(se&&(t==="id"||t==="name")&&(s in m||s in Fe))return!1;if(!(K&&!W[t]&&$n(Be,t))&&!(ce&&$n(ze,t)))if(!i[t]||W[t]){if(!(te(e)&&(n.tagNameCheck instanceof RegExp&&$n(n.tagNameCheck,e)||n.tagNameCheck instanceof Function&&n.tagNameCheck(e))&&(n.attributeNameCheck instanceof RegExp&&$n(n.attributeNameCheck,t)||n.attributeNameCheck instanceof Function&&n.attributeNameCheck(t))||t==="is"&&n.allowCustomizedBuiltInElements&&(n.tagNameCheck instanceof RegExp&&$n(n.tagNameCheck,s)||n.tagNameCheck instanceof Function&&n.tagNameCheck(s))))return!1}else if(!$[t]&&!$n(re,m0(s,me,""))&&!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&LVe(s,"data:")===0&&ue[e])&&!(ae&&!$n(Se,m0(s,me,"")))&&s)return!1;return!0},"_isValidAttribute"),te=e(function(e){return e!=="annotation-xml"&&_R(e,Ie)},"_isBasicCustomElement"),ee=e(function(e){c(r.beforeSanitizeAttributes,e,null);let{attributes:o}=e;if(!o||P(e))return;let n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:i,forceKeepAttr:void 0},l=o.length;for(;l--;){let v=o[l],{name:d,namespaceURI:m,value:f}=v,h=s(d),i=d==="value"?f:NVe(f);if(n.attrName=h,n.attrValue=i,n.keepAttr=!0,n.forceKeepAttr=void 0,c(r.uponSanitizeAttribute,e,n),i=n.attrValue,oe&&(h==="id"||h==="name")&&(D(d,e),i=We+i),N&&$n(/((--!?|])>)|<\/(style|title)/i,i)){D(d,e);continue}if(n.forceKeepAttr||(D(d,e),!n.keepAttr))continue;if(!J&&$n(/\/>/i,i)){D(d,e);continue}p&&sm([Q,X,G],e=>{i=m0(i,e," ")});let g=s(e.nodeName);if(ne(g,h,i)){if(a&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!m)switch(F.getAttributeType(g,h)){case"TrustedHTML":{i=a.createHTML(i);break}case"TrustedScriptURL":{i=a.createScriptURL(i);break}}try{m?e.setAttributeNS(m,d,i):e.setAttribute(d,i),P(e)?u(e):CR(t.removed)}catch{}}}c(r.afterSanitizeAttributes,e,null)},"_sanitizeAttributes"),Ye=e(function e(t){let n=null,s=fe(t);for(c(r.beforeSanitizeShadowDOM,t,null);n=s.nextNode();)c(r.uponSanitizeShadowNode,n,null),ie(n),ee(n),n.content instanceof ge&&e(n.content);c(r.afterSanitizeShadowDOM,t,null)},"_sanitizeShadowDOM");return t.sanitize=function(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=null,r=null,d=null,c=null;if(V=!e,V&&(e="<!-->"),typeof e!="string"&&!le(e))if(typeof e.toString=="function"){if(e=e.toString(),typeof e!="string")throw p0("dirty is not a string, aborting")}else throw p0("toString is not a function");if(!t.isSupported)return e;if(L||H(m),t.removed=[],typeof e=="string"&&(C=!1),C){if(e.nodeName){let t=s(e.nodeName);if(!o[t]||_[t])throw p0("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof I)n=pe("<!---->"),r=n.ownerDocument.importNode(e,!0),r.nodeType===C0.element&&r.nodeName==="BODY"||r.nodeName==="HTML"?n=r:n.appendChild(r);else{if(!g&&!p&&!h&&e.indexOf("<")===-1)return a&&A?a.createHTML(e):e;if(n=pe(e),!n)return g?null:A?x:""}n&&Y&&u(n.firstChild);let f=fe(C?e:n);for(;d=f.nextNode();)ie(d),ee(d),d.content instanceof ge&&Ye(d.content);if(C)return e;if(g){if(k)for(c=Ue.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(i.shadowroot||i.shadowrootmode)&&(c=qe.call(R,c,!0)),c}let l=h?n.outerHTML:n.innerHTML;return h&&o["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&$n(UL,n.ownerDocument.doctype.name)&&(l="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+l),p&&sm([Q,X,G],e=>{l=m0(l,e," ")}),a&&A?a.createHTML(l):l},t.setConfig=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};H(e),L=!0},t.clearConfig=function(){j=null,L=!1},t.isValidAttribute=function(e,t,n){j||H({});let o=s(e),i=s(t);return ne(o,i,n)},t.addHook=function(e,t){typeof t=="function"&&u0(r[e],t)},t.removeHook=function(e,t){if(t!==void 0){let n=VVe(r[e],t);return n===-1?void 0:RVe(r[e],n,1)[0]}return CR(r[e])},t.removeHooks=function(e){r[e]=[]},t.removeAllHooks=function(){r=IL()},t}HL=n(()=>{"use strict";({entries:aP,setPrototypeOf:nP,isFrozen:w$e,getPrototypeOf:b$e,getOwnPropertyDescriptor:r$e}=Object,{freeze:Ln,seal:io,create:WR}=Object,{apply:f5,construct:j5}=typeof Reflect<"u"&&Reflect,Ln||(Ln=e(function(e){return e},"freeze")),io||(io=e(function(e){return e},"seal")),f5||(f5=e(function(e,t,n){return e.apply(t,n)},"apply")),j5||(j5=e(function(e,t){return new e(...t)},"construct")),sm=Bn(Array.prototype.forEach),VVe=Bn(Array.prototype.lastIndexOf),CR=Bn(Array.prototype.pop),u0=Bn(Array.prototype.push),RVe=Bn(Array.prototype.splice),Qh=Bn(String.prototype.toLowerCase),_5=Bn(String.prototype.toString),_R=Bn(String.prototype.match),m0=Bn(String.prototype.replace),LVe=Bn(String.prototype.indexOf),NVe=Bn(String.prototype.trim),po=Bn(Object.prototype.hasOwnProperty),$n=Bn(RegExp.prototype.test),p0=S$e(TypeError),e(Bn,"unapply"),e(S$e,"unconstruct"),e(be,"addToSet"),e(O$e,"cleanArray"),e(dc,"clone"),e(s0,"lookupGetter"),gR=Ln(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E5=Ln(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z5=Ln(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),DVe=Ln(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D5=Ln(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zVe=Ln(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tR=Ln(["#text"]),eR=Ln(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),L5=Ln(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ZL=Ln(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ph=Ln(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MVe=io(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SVe=io(/<%[\w\W]*|[\w\W]*%>/gm),CVe=io(/\$\{[\w\W]*/gm),xVe=io(/^data-[-\w.\u00B7-\uFFFF]+$/),OVe=io(/^aria-[-\w]+$/),qL=io(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),wVe=io(/^(?:\w+script|data):/i),yVe=io(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UL=io(/^html$/i),jVe=io(/^[a-z][.\w]*(-[.\w]+)+$/i),$L=Object.freeze({__proto__:null,ARIA_ATTR:OVe,ATTR_WHITESPACE:yVe,CUSTOM_ELEMENT:jVe,DATA_ATTR:xVe,DOCTYPE_NAME:UL,ERB_EXPR:SVe,IS_ALLOWED_URI:qL,IS_SCRIPT_OR_DATA:wVe,MUSTACHE_EXPR:MVe,TMPLIT_EXPR:CVe}),C0={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vVe=e(function(){return typeof window>"u"?null:window},"getGlobal"),mVe=e(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},"_createTrustedTypesPolicy"),IL=e(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap"),e(rP,"createDOMPurify"),Ud=rP())}),PL={},de(PL,{default:()=>aPe});function uVe(e){return String(e).replace(vBe,e=>bBe[e])}function lVe(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function rVe(e){for(t=0;t<t7.length;t++)for(var t,o,n=t7[t],s=0;s<n.blocks.length;s++)if(o=n.blocks[s],e>=o[0]&&e<=o[1])return n.name;return null}function DL(e){for(var t=0;t<ah.length;t+=2)if(e>=ah[t]&&e<=ah[t+1])return!0;return!1}function XBe(e,t){hi[e]=t}function H5(e,t,n){if(!hi[t])throw new Error("Font metrics not found for font: "+t+".");var o=e.charCodeAt(0),s=hi[t][o];if(!s&&e[0]in VN&&(o=VN[e[0]].charCodeAt(0),s=hi[t][o]),!s&&n==="text"&&DL(o)&&(s=hi[t][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}function GBe(e){if(e>=5?t=0:e>=3?t=1:t=2,!l7[t]){var t,n,s=l7[t]={cssEmPerMu:Q3.quad[t]/18};for(n in Q3)Q3.hasOwnProperty(n)&&(s[n]=Q3[n][t])}return l7[t]}function TL(e){if(e instanceof Ys)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function YBe(e){if(e instanceof X0)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function s(e,t,n,s,o,i){Ye[e][o]={font:t,group:n,replace:s},i&&s&&(Ye[e][s]=Ye[e][o])}function M(e){for(var{type:n,names:o,props:t,handler:r,htmlBuilder:i,mathmlBuilder:a}=e,c={type:n,numArgs:t.numArgs,argTypes:t.argTypes,allowedInArgument:!!t.allowedInArgument,allowedInText:!!t.allowedInText,allowedInMath:t.allowedInMath===void 0||t.allowedInMath,numOptionalArgs:t.numOptionalArgs||0,infix:!!t.infix,primitive:!!t.primitive,handler:r},s=0;s<o.length;++s)aD[o[s]]=c;n&&(i&&(N2[n]=i),a&&(D2[n]=a))}function Hc(e){var{type:t,htmlBuilder:n,mathmlBuilder:s}=e;M({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:s})}function Ch(e,t){var n=ea(["base"],e,t),s=ea(["strut"]);return s.style.height=E(n.height+n.depth),n.depth&&(s.style.verticalAlign=E(-n.depth)),n.children.unshift(s),n}function I5(e,t){c=null,e.length===1&&e[0].type==="tag"&&(c=e[0].tag,e=e[0].body),n=Nt(e,t,"root"),n.length===2&&n[1].hasClass("tag")&&(l=n.pop());for(var n,a,r,c,l,d,u,i=[],o=[],s=0;s<n.length;s++)if(o.push(n[s]),n[s].hasClass("mbin")||n[s].hasClass("mrel")||n[s].hasClass("allowbreak")){for(d=!1;s<n.length-1&&n[s+1].hasClass("mspace")&&!n[s+1].hasClass("newline");)s++,o.push(n[s]),n[s].hasClass("nobreak")&&(d=!0);d||(i.push(Ch(o,t)),o=[])}else n[s].hasClass("newline")&&(o.pop(),o.length>0&&(i.push(Ch(o,t)),o=[]),i.push(n[s]));return o.length>0&&i.push(Ch(o,t)),c?(r=Ch(Nt(c,t,!0)),r.classes=["tag"],i.push(r)):l&&i.push(l),a=ea(["katex-html"],i),(a.setAttribute("aria-hidden","true"),r)&&(u=r.children[0],u.style.height=E(a.height+a.depth),a.depth&&(u.style.verticalAlign=E(-a.depth))),a}function ML(e){return new U0(e)}function SL(e,t,n,s,o){i=rs(e,n),i.length===1&&i[0]instanceof Gs&&X.contains(["mrow","mtable"],i[0].type)?a=i[0]:a=new _.MathNode("mrow",i),r=new _.MathNode("annotation",[new _.TextNode(t)]),r.setAttribute("encoding","application/x-tex");var i,a,r,l,d=new _.MathNode("semantics",[a,r]),c=new _.MathNode("math",[d]);return c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&c.setAttribute("display","block"),l=o?"katex":"katex-mathml",g.makeSpan([l],[c])}function fe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function B5(e){var t=_h(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function _h(e){return e&&(e.type==="atom"||mIe.hasOwnProperty(e.type))?e:null}function kL(e,t){var n=Nt(e.body,t,!0);return ZPe([e.mclass],n,t)}function EL(e,t){var n,s=rs(e.body,t);return e.mclass==="minner"?n=new _.MathNode("mpadded",s):e.mclass==="mord"?e.isCharacterBox?(n=s[0],n.type="mi"):n=new _.MathNode("mi",s):(e.isCharacterBox?(n=s[0],n.type="mo"):n=new _.MathNode("mo",s),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}function KBe(e,t,n){switch(s=QPe[e],s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(s,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var s,o,i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},r=n.callFunction("\\Big",[a],[]),c=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,r,c]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return o={type:"textord",text:"\\Vert",mode:"math"},n.callFunction("\\Big",[o],[]);default:return{type:"textord",text:" ",mode:"math"}}}function UBe(e){a=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;)if(a.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup(),h=e.fetch().text,h==="&"||h==="\\\\")e.consume();else if(h==="\\end"){a[a.length-1].length===0&&a.pop();break}else throw new O("Expected \\\\ or \\cr or \\end",e.nextToken);for(var s,o,a,r,u,h,m,f,p,g,i=[],l=[i],c=0;c<a.length;c++){for(var t=a[c],d=hz(),n=0;n<t.length;n++)if(uz(t[n])){if(i.push(d),n+=1,o=B5(t[n]).text,r=new Array(2),r[0]={type:"ordgroup",mode:"math",body:[]},r[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(o)>-1))if("<>AV".indexOf(o)>-1){for(u=0;u<2;u++){for(m=!0,s=n+1;s<t.length;s++){if(XPe(t[s],o)){m=!1,n=s;break}if(uz(t[s]))throw new O("Missing a "+o+" character to complete a CD arrow.",t[s]);r[u].body.push(t[s])}if(m)throw new O("Missing a "+o+" character to complete a CD arrow.",t[n])}}else throw new O('Expected one of "<>AV=|." after @',t[n]);f=KBe(o,r,e),p={type:"styling",body:[f],mode:"math",style:"display"},i.push(p),d=hz()}else d.body.push(t[n]);c%2===0?i.push(d):i.shift(),i=[],l.push(i)}return e.gullet.endGroup(),e.gullet.endGroup(),g=new Array(l[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),{type:"array",mode:"math",body:l,arraystretch:1,addJot:!0,rowGaps:[null],cols:g,colSeparationType:"CD",hLinesBeforeRow:new Array(l.length+1).fill([])}}function jh(e,t){var n=_h(e);if(n&&X.contains(NPe,n.text))return n;throw n?new O("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new O("Invalid delimiter type '"+e.type+"'",e)}function xL(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function Io(e){for(var{type:t,names:s,props:a,handler:r,htmlBuilder:o,mathmlBuilder:i}=e,c={type:t,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},n=0;n<s.length;++n)iT[s[n]]=c;o&&(N2[t]=o),i&&(D2[t]=i)}function r(e,t){YF[e]=t}function OL(e){var t,n=[];e.consumeSpaces(),t=e.fetch().text;for(t==="\\relax"&&(e.consume(),e.consumeSpaces(),t=e.fetch().text);t==="\\hline"||t==="\\hdashline";)e.consume(),n.push(t==="\\hdashline"),e.consumeSpaces(),t=e.fetch().text;return n}function $5(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Oa(t,n,s){var{hskipBeforeAndAfter:_,addJot:w,cols:x,arraystretch:a,colSeparationType:b,autoTag:p,singleRow:f,emptySingleRow:C,maxNumCols:v,leqno:y}=n,o,d,u,h;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!a)if(u=t.gullet.expandMacroAsText("\\arraystretch"),u==null)a=1;else if(a=parseFloat(u),!a||a<0)throw new O("Invalid \\arraystretch: "+u);t.gullet.beginGroup();var i=[],c=[i],j=[],r=[],l=p!=null?[]:void 0;function m(){p&&t.gullet.macros.set("\\@eqnsw","1",!0)}e(m,"beginRow");function g(){l&&(t.gullet.macros.get("\\df@tag")?(l.push(t.subparse([new Yo("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):l.push(!!p&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(e(g,"endRow"),m(),r.push(OL(t));;)if(o=t.parseExpression(!1,f?"\\end":"\\\\"),t.gullet.endGroup(),t.gullet.beginGroup(),o={type:"ordgroup",mode:t.mode,body:o},s&&(o={type:"styling",mode:t.mode,style:s,body:[o]}),i.push(o),h=t.fetch().text,h==="&"){if(v&&i.length===v){if(f||b)throw new O("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(h==="\\end"){g(),i.length===1&&o.type==="styling"&&o.body[0].body.length===0&&(c.length>1||!C)&&c.pop(),r.length<c.length+1&&r.push([]);break}else if(h==="\\\\")t.consume(),d=void 0,t.gullet.future().text!==" "&&(d=t.parseSizeGroup(!0)),j.push(d?d.value:null),g(),r.push(OL(t)),i=[],c.push(i),m();else throw new O("Expected & or \\\\ or \\cr or \\end",t.nextToken);return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:w,arraystretch:a,body:c,cols:x,rowGaps:j,hskipBeforeAndAfter:_,hLinesBeforeRow:r,colSeparationType:b,tags:l,leqno:y}}function W5(e){return e.slice(0,1)==="d"?"display":"text"}function yL(e,t,n){for(var i,s=Nt(e,t,!1),a=t.sizeMultiplier/n.sizeMultiplier,o=0;o<s.length;o++)i=s[o].classes.indexOf("sizing"),i<0?Array.prototype.push.apply(s[o].classes,t.sizingClasses(n)):s[o].classes[i+1]==="reset-size"+t.size&&(s[o].classes[i+1]="reset-size"+n.size),s[o].height*=a,s[o].depth*=a;return g.makeFragment(s)}iPe=n(()=>{"use strict";zo=class t{static{e(this,"SourceLocation")}constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new t(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}},Yo=class t{static{e(this,"Token")}constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,n){return new t(n,zo.range(this,e))}},O=class t{static{e(this,"ParseError")}constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s,o,i,a,l,d,u,c="KaTeX parse error: "+e,r=n&&n.loc;return r&&r.start<=r.end&&(i=r.lexer.input,s=r.start,o=r.end,s===i.length?c+=" at end of input: ":c+=" at position "+(s+1)+": ",u=i.slice(s,o).replace(/[^]/g,"$&̲"),s>15?l="…"+i.slice(s-15,s):l=i.slice(0,s),o+15<i.length?d=i.slice(o,o+15)+"…":d=i.slice(o),c+=l+u+d),a=new Error(c),a.name="ParseError",a.__proto__=t.prototype,a.position=s,s!=null&&o!=null&&(a.length=o-s),a.rawMessage=e,a}},O.prototype.__proto__=Error.prototype,VBe=e(function(e,t){return e.indexOf(t)!==-1},"contains"),CBe=e(function(e,t){return e===void 0?t:e},"deflt"),wBe=/([A-Z])/g,jBe=e(function(e){return e.replace(wBe,"-$1").toLowerCase()},"hyphenate"),bBe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},vBe=/[&><"']/g,e(uVe,"escape"),fL=e(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),gBe=e(function(e){var t=fL(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},"isCharacterBox"),mBe=e(function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},"assert"),dBe=e(function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},"protocolFromUrl"),X={contains:VBe,deflt:CBe,escape:uVe,hyphenate:jBe,getBaseElem:fL,isCharacterBox:gBe,protocolFromUrl:dBe},vh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:e((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:e(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},e(lVe,"getDefaultValue"),G5=class{static{e(this,"Settings")}constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(t in vh)if(vh.hasOwnProperty(t)){var t,n=vh[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:lVe(n)}}reportNonstrict(e,t,n){var s=this.strict;if(typeof s=="function"&&(s=s(e,t,n)),!!s&&s!=="ignore"){if(s===!0||s==="error")throw new O("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var s=this.strict;if(typeof s=="function")try{s=s(e,t,n)}catch{s="error"}return!!s&&s!=="ignore"&&(s===!0||s==="error"||(s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]")),!1)))}isTrusted(e){if(e.url&&!e.protocol){var n,t=X.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}return n=typeof this.trust=="function"?this.trust(e):this.trust,!!n}},fr=class{static{e(this,"Style")}constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return bi[JIe[this.id]]}sub(){return bi[QIe[this.id]]}fracNum(){return bi[RIe[this.id]]}fracDen(){return bi[LIe[this.id]]}cramp(){return bi[NIe[this.id]]}text(){return bi[DIe[this.id]]}isTight(){return this.size>=2}},X5=0,hh=1,Uu=2,Hi=3,R0=4,Bs=5,Gu=6,Mn=7,bi=[new fr(X5,0,!1),new fr(hh,0,!0),new fr(Uu,1,!1),new fr(Hi,1,!0),new fr(R0,2,!1),new fr(Bs,2,!0),new fr(Gu,3,!1),new fr(Mn,3,!0)],JIe=[R0,Bs,R0,Bs,Gu,Mn,Gu,Mn],QIe=[Bs,Bs,Bs,Bs,Mn,Mn,Mn,Mn],RIe=[Uu,Hi,R0,Bs,Gu,Mn,Gu,Mn],LIe=[Hi,Hi,Bs,Bs,Mn,Mn,Mn,Mn],NIe=[hh,hh,Hi,Hi,Bs,Bs,Mn,Mn],DIe=[X5,hh,Uu,Hi,Uu,Hi,Uu,Hi],Z={DISPLAY:bi[X5],TEXT:bi[Uu],SCRIPT:bi[R0],SCRIPTSCRIPT:bi[Gu]},t7=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],e(rVe,"scriptFromCodepoint"),ah=[],t7.forEach(e=>e.blocks.forEach(e=>ah.push(...e))),e(DL,"supportedCodepoint"),Qu=80,TIe=e(function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtMain"),FIe=e(function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize1"),MIe=e(function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize2"),SIe=e(function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},"sqrtSize3"),AIe=e(function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},"sqrtSize4"),xIe=e(function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},"phasePath"),wIe=e(function(e,t,n){var s=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},"sqrtTall"),_Ie=e(function(e,t,n){t=1e3*t;var s="";switch(e){case"sqrtMain":s=TIe(t,Qu);break;case"sqrtSize1":s=FIe(t,Qu);break;case"sqrtSize2":s=MIe(t,Qu);break;case"sqrtSize3":s=SIe(t,Qu);break;case"sqrtSize4":s=AIe(t,Qu);break;case"sqrtTall":s=wIe(t,Qu,n)}return s},"sqrtPath"),yIe=e(function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},"innerPath"),UN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},jIe=e(function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),U0=class{static{e(this,"DocumentFragment")}constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return X.contains(this.classes,e)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){var t=e(e=>e.toText(),"toText");return this.children.map(t).join("")}},hi={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Q3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},VN={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"},e(XBe,"setFontMetrics"),e(H5,"getCharacterMetrics"),l7={},e(GBe,"getGlobalMetrics"),bIe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],HN=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],RN=e(function(e,t){return t.size<2?e:bIe[e-1][t.size-1]},"sizeAtStyle"),NN=class t{static{e(this,"Options")}constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||t.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=HN[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n,s={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);return new t(s)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:RN(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:HN[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=RN(t.BASESIZE,e);return this.size===n&&this.textSize===t.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==t.BASESIZE?["sizing","reset-size"+this.size,"size"+t.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=GBe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},NN.BASESIZE=6,u7={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},vIe={ex:!0,em:!0,mu:!0},MN=e(function(e){return typeof e!="string"&&(e=e.unit),e in u7||e in vIe||e==="ex"},"validUnit"),nt=e(function(e,t){var n,s;if(e.unit in u7)n=u7[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{if(t.style.isTight()?s=t.havingStyle(t.style.text()):s=t,e.unit==="ex")n=s.fontMetrics().xHeight;else if(e.unit==="em")n=s.fontMetrics().quad;else throw new O("Invalid unit: '"+e.unit+"'");s!==t&&(n*=s.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},"calculateSize"),E=e(function(e){return+e.toFixed(4)+"em"},"makeEm"),Sr=e(function(e){return e.filter(e=>e).join(" ")},"createClass"),SN=e(function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var s=t.getColor();s&&(this.style.color=s)}},"initNode"),kN=e(function(e){var n,s,o,t=document.createElement(e);t.className=Sr(this.classes);for(s in this.style)this.style.hasOwnProperty(s)&&(t.style[s]=this.style[s]);for(o in this.attributes)this.attributes.hasOwnProperty(o)&&t.setAttribute(o,this.attributes[o]);for(n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},"toNode"),EN=e(function(e){var n,s,o,i,t="<"+e;this.classes.length&&(t+=' class="'+X.escape(Sr(this.classes))+'"'),n="";for(o in this.style)this.style.hasOwnProperty(o)&&(n+=X.hyphenate(o)+":"+this.style[o]+";");n&&(t+=' style="'+X.escape(n)+'"');for(i in this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+X.escape(this.attributes[i])+'"');t+=">";for(s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">",t},"toMarkup"),X0=class{static{e(this,"Span")}constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,SN.call(this,e,n,s),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return X.contains(this.classes,e)}toNode(){return kN.call(this,"span")}toMarkup(){return EN.call(this,"span")}},p7=class{static{e(this,"Anchor")}constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,SN.call(this,t,s),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return X.contains(this.classes,e)}toNode(){return kN.call(this,"a")}toMarkup(){return EN.call(this,"a")}},gIe=class{static{e(this,"Img")}constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return X.contains(this.classes,e)}toNode(){var t,e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var n,e='<img src="'+X.escape(this.src)+'"'+(' alt="'+X.escape(this.alt)+'"'),t="";for(n in this.style)this.style.hasOwnProperty(n)&&(t+=X.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+X.escape(t)+'"'),e+="'/>",e}},pIe={\u00EE:"ı̂",\u00EF:"ı̈",\u00ED:"ı́",\u00EC:"ı̀"},Ys=class{static{e(this,"SymbolNode")}constructor(e,t,n,s,o,i,a,r){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=s||0,this.skew=o||0,this.width=i||0,this.classes=a||[],this.style=r||{},this.maxFontSize=0;var c=rVe(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=pIe[this.text])}hasClass(e){return X.contains(this.classes,e)}toNode(){var t,n=document.createTextNode(this.text),e=null;this.italic>0&&(e=document.createElement("span"),e.style.marginRight=E(this.italic)),this.classes.length>0&&(e=e||document.createElement("span"),e.className=Sr(this.classes));for(t in this.style)this.style.hasOwnProperty(t)&&(e=e||document.createElement("span"),e.style[t]=this.style[t]);return e?(e.appendChild(n),e):n}toMarkup(){var t,s,o,n=!1,e="<span";this.classes.length&&(n=!0,e+=' class="',e+=X.escape(Sr(this.classes)),e+='"'),t="",this.italic>0&&(t+="margin-right:"+this.italic+"em;");for(s in this.style)this.style.hasOwnProperty(s)&&(t+=X.hyphenate(s)+":"+this.style[s]+";");return t&&(n=!0,e+=' style="'+X.escape(t)+'"'),o=X.escape(this.text),n?(e+=">",e+=o,e+="</span>",e):o}},la=class{static{e(this,"SvgNode")}constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e,n,s="http://www.w3.org/2000/svg",t=document.createElementNS(s,"svg");for(n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){var t,n,e='<svg xmlns="http://www.w3.org/2000/svg"';for(n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+X.escape(this.attributes[n])+'"');e+=">";for(t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+="</svg>",e}},lr=class{static{e(this,"PathNode")}constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",UN[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+X.escape(this.alternate)+'"/>':'<path d="'+X.escape(UN[this.pathName])+'"/>'}},g7=class{static{e(this,"LineNode")}constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e,n="http://www.w3.org/2000/svg",t=document.createElementNS(n,"line");for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t}toMarkup(){var t,e="<line";for(t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+X.escape(this.attributes[t])+'"');return e+="/>",e}},e(TL,"assertSymbolDomNode"),e(YBe,"assertSpan"),fIe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},mIe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ye={math:{},text:{}},e(s,"defineSymbol"),o="math",j="text",i="main",l="ams",Je="accent-token",F="bin",Un="close",vu="inner",J="mathord",wt="op-token",Ls="open",E3="punct",d="rel",pa="spacing",h="textord",s(o,i,d,"≡","\\equiv",!0),s(o,i,d,"≺","\\prec",!0),s(o,i,d,"≻","\\succ",!0),s(o,i,d,"∼","\\sim",!0),s(o,i,d,"⊥","\\perp"),s(o,i,d,"⪯","\\preceq",!0),s(o,i,d,"⪰","\\succeq",!0),s(o,i,d,"≃","\\simeq",!0),s(o,i,d,"∣","\\mid",!0),s(o,i,d,"≪","\\ll",!0),s(o,i,d,"≫","\\gg",!0),s(o,i,d,"≍","\\asymp",!0),s(o,i,d,"∥","\\parallel"),s(o,i,d,"⋈","\\bowtie",!0),s(o,i,d,"⌣","\\smile",!0),s(o,i,d,"⊑","\\sqsubseteq",!0),s(o,i,d,"⊒","\\sqsupseteq",!0),s(o,i,d,"≐","\\doteq",!0),s(o,i,d,"⌢","\\frown",!0),s(o,i,d,"∋",`\\ni`,!0),s(o,i,d,"∝","\\propto",!0),s(o,i,d,"⊢","\\vdash",!0),s(o,i,d,"⊣","\\dashv",!0),s(o,i,d,"∋","\\owns"),s(o,i,E3,".","\\ldotp"),s(o,i,E3,"⋅","\\cdotp"),s(o,i,h,"#","\\#"),s(j,i,h,"#","\\#"),s(o,i,h,"&","\\&"),s(j,i,h,"&","\\&"),s(o,i,h,"ℵ","\\aleph",!0),s(o,i,h,"∀","\\forall",!0),s(o,i,h,"ℏ","\\hbar",!0),s(o,i,h,"∃","\\exists",!0),s(o,i,h,"∇",`\\nabla`,!0),s(o,i,h,"♭","\\flat",!0),s(o,i,h,"ℓ","\\ell",!0),s(o,i,h,"♮",`\\natural`,!0),s(o,i,h,"♣","\\clubsuit",!0),s(o,i,h,"℘","\\wp",!0),s(o,i,h,"♯","\\sharp",!0),s(o,i,h,"♢","\\diamondsuit",!0),s(o,i,h,"ℜ","\\Re",!0),s(o,i,h,"♡","\\heartsuit",!0),s(o,i,h,"ℑ","\\Im",!0),s(o,i,h,"♠","\\spadesuit",!0),s(o,i,h,"\xA7","\\S",!0),s(j,i,h,"\xA7","\\S"),s(o,i,h,"\xB6","\\P",!0),s(j,i,h,"\xB6","\\P"),s(o,i,h,"†","\\dag"),s(j,i,h,"†","\\dag"),s(j,i,h,"†","\\textdagger"),s(o,i,h,"‡","\\ddag"),s(j,i,h,"‡","\\ddag"),s(j,i,h,"‡","\\textdaggerdbl"),s(o,i,Un,"⎱","\\rmoustache",!0),s(o,i,Ls,"⎰","\\lmoustache",!0),s(o,i,Un,"⟯","\\rgroup",!0),s(o,i,Ls,"⟮","\\lgroup",!0),s(o,i,F,"∓","\\mp",!0),s(o,i,F,"⊖","\\ominus",!0),s(o,i,F,"⊎","\\uplus",!0),s(o,i,F,"⊓","\\sqcap",!0),s(o,i,F,"∗","\\ast"),s(o,i,F,"⊔","\\sqcup",!0),s(o,i,F,"◯","\\bigcirc",!0),s(o,i,F,"∙","\\bullet",!0),s(o,i,F,"‡","\\ddagger"),s(o,i,F,"≀","\\wr",!0),s(o,i,F,"⨿","\\amalg"),s(o,i,F,"&","\\And"),s(o,i,d,"⟵","\\longleftarrow",!0),s(o,i,d,"⇐","\\Leftarrow",!0),s(o,i,d,"⟸","\\Longleftarrow",!0),s(o,i,d,"⟶","\\longrightarrow",!0),s(o,i,d,"⇒","\\Rightarrow",!0),s(o,i,d,"⟹","\\Longrightarrow",!0),s(o,i,d,"↔","\\leftrightarrow",!0),s(o,i,d,"⟷","\\longleftrightarrow",!0),s(o,i,d,"⇔","\\Leftrightarrow",!0),s(o,i,d,"⟺","\\Longleftrightarrow",!0),s(o,i,d,"↦","\\mapsto",!0),s(o,i,d,"⟼","\\longmapsto",!0),s(o,i,d,"↗",`\\nearrow`,!0),s(o,i,d,"↩","\\hookleftarrow",!0),s(o,i,d,"↪","\\hookrightarrow",!0),s(o,i,d,"↘","\\searrow",!0),s(o,i,d,"↼","\\leftharpoonup",!0),s(o,i,d,"⇀","\\rightharpoonup",!0),s(o,i,d,"↙","\\swarrow",!0),s(o,i,d,"↽","\\leftharpoondown",!0),s(o,i,d,"⇁","\\rightharpoondown",!0),s(o,i,d,"↖",`\\nwarrow`,!0),s(o,i,d,"⇌","\\rightleftharpoons",!0),s(o,l,d,"≮",`\\nless`,!0),s(o,l,d,"","\\@nleqslant"),s(o,l,d,"","\\@nleqq"),s(o,l,d,"⪇","\\lneq",!0),s(o,l,d,"≨","\\lneqq",!0),s(o,l,d,"","\\@lvertneqq"),s(o,l,d,"⋦","\\lnsim",!0),s(o,l,d,"⪉","\\lnapprox",!0),s(o,l,d,"⊀",`\\nprec`,!0),s(o,l,d,"⋠",`\\npreceq`,!0),s(o,l,d,"⋨","\\precnsim",!0),s(o,l,d,"⪹","\\precnapprox",!0),s(o,l,d,"≁",`\\nsim`,!0),s(o,l,d,"","\\@nshortmid"),s(o,l,d,"∤",`\\nmid`,!0),s(o,l,d,"⊬",`\\nvdash`,!0),s(o,l,d,"⊭",`\\nvDash`,!0),s(o,l,d,"⋪",`\\ntriangleleft`),s(o,l,d,"⋬",`\\ntrianglelefteq`,!0),s(o,l,d,"⊊","\\subsetneq",!0),s(o,l,d,"","\\@varsubsetneq"),s(o,l,d,"⫋","\\subsetneqq",!0),s(o,l,d,"","\\@varsubsetneqq"),s(o,l,d,"≯",`\\ngtr`,!0),s(o,l,d,"","\\@ngeqslant"),s(o,l,d,"","\\@ngeqq"),s(o,l,d,"⪈","\\gneq",!0),s(o,l,d,"≩","\\gneqq",!0),s(o,l,d,"","\\@gvertneqq"),s(o,l,d,"⋧","\\gnsim",!0),s(o,l,d,"⪊","\\gnapprox",!0),s(o,l,d,"⊁",`\\nsucc`,!0),s(o,l,d,"⋡",`\\nsucceq`,!0),s(o,l,d,"⋩","\\succnsim",!0),s(o,l,d,"⪺","\\succnapprox",!0),s(o,l,d,"≆",`\\ncong`,!0),s(o,l,d,"","\\@nshortparallel"),s(o,l,d,"∦",`\\nparallel`,!0),s(o,l,d,"⊯",`\\nVDash`,!0),s(o,l,d,"⋫",`\\ntriangleright`),s(o,l,d,"⋭",`\\ntrianglerighteq`,!0),s(o,l,d,"","\\@nsupseteqq"),s(o,l,d,"⊋","\\supsetneq",!0),s(o,l,d,"","\\@varsupsetneq"),s(o,l,d,"⫌","\\supsetneqq",!0),s(o,l,d,"","\\@varsupsetneqq"),s(o,l,d,"⊮",`\\nVdash`,!0),s(o,l,d,"⪵","\\precneqq",!0),s(o,l,d,"⪶","\\succneqq",!0),s(o,l,d,"","\\@nsubseteqq"),s(o,l,F,"⊴","\\unlhd"),s(o,l,F,"⊵","\\unrhd"),s(o,l,d,"↚",`\\nleftarrow`,!0),s(o,l,d,"↛",`\\nrightarrow`,!0),s(o,l,d,"⇍",`\\nLeftarrow`,!0),s(o,l,d,"⇏",`\\nRightarrow`,!0),s(o,l,d,"↮",`\\nleftrightarrow`,!0),s(o,l,d,"⇎",`\\nLeftrightarrow`,!0),s(o,l,d,"△","\\vartriangle"),s(o,l,h,"ℏ","\\hslash"),s(o,l,h,"▽","\\triangledown"),s(o,l,h,"◊","\\lozenge"),s(o,l,h,"Ⓢ","\\circledS"),s(o,l,h,"\xAE","\\circledR"),s(j,l,h,"\xAE","\\circledR"),s(o,l,h,"∡","\\measuredangle",!0),s(o,l,h,"∄",`\\nexists`),s(o,l,h,"℧","\\mho"),s(o,l,h,"Ⅎ","\\Finv",!0),s(o,l,h,"⅁","\\Game",!0),s(o,l,h,"‵","\\backprime"),s(o,l,h,"▲","\\blacktriangle"),s(o,l,h,"▼","\\blacktriangledown"),s(o,l,h,"■","\\blacksquare"),s(o,l,h,"⧫","\\blacklozenge"),s(o,l,h,"★","\\bigstar"),s(o,l,h,"∢","\\sphericalangle",!0),s(o,l,h,"∁","\\complement",!0),s(o,l,h,"\xF0","\\eth",!0),s(j,i,h,"\xF0","\xF0"),s(o,l,h,"╱","\\diagup"),s(o,l,h,"╲","\\diagdown"),s(o,l,h,"□","\\square"),s(o,l,h,"□","\\Box"),s(o,l,h,"◊","\\Diamond"),s(o,l,h,"\xA5","\\yen",!0),s(j,l,h,"\xA5","\\yen",!0),s(o,l,h,"✓","\\checkmark",!0),s(j,l,h,"✓","\\checkmark"),s(o,l,h,"ℶ","\\beth",!0),s(o,l,h,"ℸ","\\daleth",!0),s(o,l,h,"ℷ","\\gimel",!0),s(o,l,h,"ϝ","\\digamma",!0),s(o,l,h,"ϰ","\\varkappa"),s(o,l,Ls,"┌","\\@ulcorner",!0),s(o,l,Un,"┐","\\@urcorner",!0),s(o,l,Ls,"└","\\@llcorner",!0),s(o,l,Un,"┘","\\@lrcorner",!0),s(o,l,d,"≦","\\leqq",!0),s(o,l,d,"⩽","\\leqslant",!0),s(o,l,d,"⪕","\\eqslantless",!0),s(o,l,d,"≲","\\lesssim",!0),s(o,l,d,"⪅","\\lessapprox",!0),s(o,l,d,"≊","\\approxeq",!0),s(o,l,F,"⋖","\\lessdot"),s(o,l,d,"⋘","\\lll",!0),s(o,l,d,"≶","\\lessgtr",!0),s(o,l,d,"⋚","\\lesseqgtr",!0),s(o,l,d,"⪋","\\lesseqqgtr",!0),s(o,l,d,"≑","\\doteqdot"),s(o,l,d,"≓","\\risingdotseq",!0),s(o,l,d,"≒","\\fallingdotseq",!0),s(o,l,d,"∽","\\backsim",!0),s(o,l,d,"⋍","\\backsimeq",!0),s(o,l,d,"⫅","\\subseteqq",!0),s(o,l,d,"⋐","\\Subset",!0),s(o,l,d,"⊏","\\sqsubset",!0),s(o,l,d,"≼","\\preccurlyeq",!0),s(o,l,d,"⋞","\\curlyeqprec",!0),s(o,l,d,"≾","\\precsim",!0),s(o,l,d,"⪷","\\precapprox",!0),s(o,l,d,"⊲","\\vartriangleleft"),s(o,l,d,"⊴","\\trianglelefteq"),s(o,l,d,"⊨","\\vDash",!0),s(o,l,d,"⊪","\\Vvdash",!0),s(o,l,d,"⌣","\\smallsmile"),s(o,l,d,"⌢","\\smallfrown"),s(o,l,d,"≏","\\bumpeq",!0),s(o,l,d,"≎","\\Bumpeq",!0),s(o,l,d,"≧","\\geqq",!0),s(o,l,d,"⩾","\\geqslant",!0),s(o,l,d,"⪖","\\eqslantgtr",!0),s(o,l,d,"≳","\\gtrsim",!0),s(o,l,d,"⪆","\\gtrapprox",!0),s(o,l,F,"⋗","\\gtrdot"),s(o,l,d,"⋙","\\ggg",!0),s(o,l,d,"≷","\\gtrless",!0),s(o,l,d,"⋛","\\gtreqless",!0),s(o,l,d,"⪌","\\gtreqqless",!0),s(o,l,d,"≖","\\eqcirc",!0),s(o,l,d,"≗","\\circeq",!0),s(o,l,d,"≜","\\triangleq",!0),s(o,l,d,"∼","\\thicksim"),s(o,l,d,"≈","\\thickapprox"),s(o,l,d,"⫆","\\supseteqq",!0),s(o,l,d,"⋑","\\Supset",!0),s(o,l,d,"⊐","\\sqsupset",!0),s(o,l,d,"≽","\\succcurlyeq",!0),s(o,l,d,"⋟","\\curlyeqsucc",!0),s(o,l,d,"≿","\\succsim",!0),s(o,l,d,"⪸","\\succapprox",!0),s(o,l,d,"⊳","\\vartriangleright"),s(o,l,d,"⊵","\\trianglerighteq"),s(o,l,d,"⊩","\\Vdash",!0),s(o,l,d,"∣","\\shortmid"),s(o,l,d,"∥","\\shortparallel"),s(o,l,d,"≬","\\between",!0),s(o,l,d,"⋔","\\pitchfork",!0),s(o,l,d,"∝","\\varpropto"),s(o,l,d,"◀","\\blacktriangleleft"),s(o,l,d,"∴","\\therefore",!0),s(o,l,d,"∍","\\backepsilon"),s(o,l,d,"▶","\\blacktriangleright"),s(o,l,d,"∵","\\because",!0),s(o,l,d,"⋘","\\llless"),s(o,l,d,"⋙","\\gggtr"),s(o,l,F,"⊲","\\lhd"),s(o,l,F,"⊳","\\rhd"),s(o,l,d,"≂","\\eqsim",!0),s(o,i,d,"⋈","\\Join"),s(o,l,d,"≑","\\Doteq",!0),s(o,l,F,"∔","\\dotplus",!0),s(o,l,F,"∖","\\smallsetminus"),s(o,l,F,"⋒","\\Cap",!0),s(o,l,F,"⋓","\\Cup",!0),s(o,l,F,"⩞","\\doublebarwedge",!0),s(o,l,F,"⊟","\\boxminus",!0),s(o,l,F,"⊞","\\boxplus",!0),s(o,l,F,"⋇","\\divideontimes",!0),s(o,l,F,"⋉","\\ltimes",!0),s(o,l,F,"⋊","\\rtimes",!0),s(o,l,F,"⋋","\\leftthreetimes",!0),s(o,l,F,"⋌","\\rightthreetimes",!0),s(o,l,F,"⋏","\\curlywedge",!0),s(o,l,F,"⋎","\\curlyvee",!0),s(o,l,F,"⊝","\\circleddash",!0),s(o,l,F,"⊛","\\circledast",!0),s(o,l,F,"⋅","\\centerdot"),s(o,l,F,"⊺","\\intercal",!0),s(o,l,F,"⋒","\\doublecap"),s(o,l,F,"⋓","\\doublecup"),s(o,l,F,"⊠","\\boxtimes",!0),s(o,l,d,"⇢","\\dashrightarrow",!0),s(o,l,d,"⇠","\\dashleftarrow",!0),s(o,l,d,"⇇","\\leftleftarrows",!0),s(o,l,d,"⇆","\\leftrightarrows",!0),s(o,l,d,"⇚","\\Lleftarrow",!0),s(o,l,d,"↞","\\twoheadleftarrow",!0),s(o,l,d,"↢","\\leftarrowtail",!0),s(o,l,d,"↫","\\looparrowleft",!0),s(o,l,d,"⇋","\\leftrightharpoons",!0),s(o,l,d,"↶","\\curvearrowleft",!0),s(o,l,d,"↺","\\circlearrowleft",!0),s(o,l,d,"↰","\\Lsh",!0),s(o,l,d,"⇈","\\upuparrows",!0),s(o,l,d,"↿","\\upharpoonleft",!0),s(o,l,d,"⇃","\\downharpoonleft",!0),s(o,i,d,"⊶","\\origof",!0),s(o,i,d,"⊷","\\imageof",!0),s(o,l,d,"⊸","\\multimap",!0),s(o,l,d,"↭","\\leftrightsquigarrow",!0),s(o,l,d,"⇉","\\rightrightarrows",!0),s(o,l,d,"⇄","\\rightleftarrows",!0),s(o,l,d,"↠","\\twoheadrightarrow",!0),s(o,l,d,"↣","\\rightarrowtail",!0),s(o,l,d,"↬","\\looparrowright",!0),s(o,l,d,"↷","\\curvearrowright",!0),s(o,l,d,"↻","\\circlearrowright",!0),s(o,l,d,"↱","\\Rsh",!0),s(o,l,d,"⇊","\\downdownarrows",!0),s(o,l,d,"↾","\\upharpoonright",!0),s(o,l,d,"⇂","\\downharpoonright",!0),s(o,l,d,"⇝","\\rightsquigarrow",!0),s(o,l,d,"⇝","\\leadsto"),s(o,l,d,"⇛","\\Rrightarrow",!0),s(o,l,d,"↾","\\restriction"),s(o,i,h,"‘","`"),s(o,i,h,"$","\\$"),s(j,i,h,"$","\\$"),s(j,i,h,"$","\\textdollar"),s(o,i,h,"%","\\%"),s(j,i,h,"%","\\%"),s(o,i,h,"_","\\_"),s(j,i,h,"_","\\_"),s(j,i,h,"_","\\textunderscore"),s(o,i,h,"∠","\\angle",!0),s(o,i,h,"∞","\\infty",!0),s(o,i,h,"′","\\prime"),s(o,i,h,"△","\\triangle"),s(o,i,h,"Γ","\\Gamma",!0),s(o,i,h,"Δ","\\Delta",!0),s(o,i,h,"Θ","\\Theta",!0),s(o,i,h,"Λ","\\Lambda",!0),s(o,i,h,"Ξ","\\Xi",!0),s(o,i,h,"Π","\\Pi",!0),s(o,i,h,"Σ","\\Sigma",!0),s(o,i,h,"Υ","\\Upsilon",!0),s(o,i,h,"Φ","\\Phi",!0),s(o,i,h,"Ψ","\\Psi",!0),s(o,i,h,"Ω","\\Omega",!0),s(o,i,h,"A","Α"),s(o,i,h,"B","Β"),s(o,i,h,"E","Ε"),s(o,i,h,"Z","Ζ"),s(o,i,h,"H","Η"),s(o,i,h,"I","Ι"),s(o,i,h,"K","Κ"),s(o,i,h,"M","Μ"),s(o,i,h,"N","Ν"),s(o,i,h,"O","Ο"),s(o,i,h,"P","Ρ"),s(o,i,h,"T","Τ"),s(o,i,h,"X","Χ"),s(o,i,h,"\xAC",`\\neg`,!0),s(o,i,h,"\xAC","\\lnot"),s(o,i,h,"⊤","\\top"),s(o,i,h,"⊥","\\bot"),s(o,i,h,"∅","\\emptyset"),s(o,l,h,"∅","\\varnothing"),s(o,i,J,"α","\\alpha",!0),s(o,i,J,"β","\\beta",!0),s(o,i,J,"γ","\\gamma",!0),s(o,i,J,"δ","\\delta",!0),s(o,i,J,"ϵ","\\epsilon",!0),s(o,i,J,"ζ","\\zeta",!0),s(o,i,J,"η","\\eta",!0),s(o,i,J,"θ","\\theta",!0),s(o,i,J,"ι","\\iota",!0),s(o,i,J,"κ","\\kappa",!0),s(o,i,J,"λ","\\lambda",!0),s(o,i,J,"μ","\\mu",!0),s(o,i,J,"ν",`\\nu`,!0),s(o,i,J,"ξ","\\xi",!0),s(o,i,J,"ο","\\omicron",!0),s(o,i,J,"π","\\pi",!0),s(o,i,J,"ρ","\\rho",!0),s(o,i,J,"σ","\\sigma",!0),s(o,i,J,"τ","\\tau",!0),s(o,i,J,"υ","\\upsilon",!0),s(o,i,J,"ϕ","\\phi",!0),s(o,i,J,"χ","\\chi",!0),s(o,i,J,"ψ","\\psi",!0),s(o,i,J,"ω","\\omega",!0),s(o,i,J,"ε","\\varepsilon",!0),s(o,i,J,"ϑ","\\vartheta",!0),s(o,i,J,"ϖ","\\varpi",!0),s(o,i,J,"ϱ","\\varrho",!0),s(o,i,J,"ς","\\varsigma",!0),s(o,i,J,"φ","\\varphi",!0),s(o,i,F,"∗","*",!0),s(o,i,F,"+","+"),s(o,i,F,"−","-",!0),s(o,i,F,"⋅","\\cdot",!0),s(o,i,F,"∘","\\circ",!0),s(o,i,F,"\xF7","\\div",!0),s(o,i,F,"\xB1","\\pm",!0),s(o,i,F,"\xD7","\\times",!0),s(o,i,F,"∩","\\cap",!0),s(o,i,F,"∪","\\cup",!0),s(o,i,F,"∖","\\setminus",!0),s(o,i,F,"∧","\\land"),s(o,i,F,"∨","\\lor"),s(o,i,F,"∧","\\wedge",!0),s(o,i,F,"∨","\\vee",!0),s(o,i,h,"√","\\surd"),s(o,i,Ls,"⟨","\\langle",!0),s(o,i,Ls,"∣","\\lvert"),s(o,i,Ls,"∥","\\lVert"),s(o,i,Un,"?","?"),s(o,i,Un,"!","!"),s(o,i,Un,"⟩","\\rangle",!0),s(o,i,Un,"∣","\\rvert"),s(o,i,Un,"∥","\\rVert"),s(o,i,d,"=","="),s(o,i,d,":",":"),s(o,i,d,"≈","\\approx",!0),s(o,i,d,"≅","\\cong",!0),s(o,i,d,"≥","\\ge"),s(o,i,d,"≥","\\geq",!0),s(o,i,d,"←","\\gets"),s(o,i,d,">","\\gt",!0),s(o,i,d,"∈","\\in",!0),s(o,i,d,"","\\@not"),s(o,i,d,"⊂","\\subset",!0),s(o,i,d,"⊃","\\supset",!0),s(o,i,d,"⊆","\\subseteq",!0),s(o,i,d,"⊇","\\supseteq",!0),s(o,l,d,"⊈",`\\nsubseteq`,!0),s(o,l,d,"⊉",`\\nsupseteq`,!0),s(o,i,d,"⊨","\\models"),s(o,i,d,"←","\\leftarrow",!0),s(o,i,d,"≤","\\le"),s(o,i,d,"≤","\\leq",!0),s(o,i,d,"<","\\lt",!0),s(o,i,d,"→","\\rightarrow",!0),s(o,i,d,"→","\\to"),s(o,l,d,"≱",`\\ngeq`,!0),s(o,l,d,"≰",`\\nleq`,!0),s(o,i,pa,"\xA0","\\ "),s(o,i,pa,"\xA0","\\space"),s(o,i,pa,"\xA0",`\\nobreakspace`),s(j,i,pa,"\xA0","\\ "),s(j,i,pa,"\xA0"," "),s(j,i,pa,"\xA0","\\space"),s(j,i,pa,"\xA0",`\\nobreakspace`),s(o,i,pa,null,`\\nobreak`),s(o,i,pa,null,"\\allowbreak"),s(o,i,E3,",",","),s(o,i,E3,";",";"),s(o,l,F,"⊼","\\barwedge",!0),s(o,l,F,"⊻","\\veebar",!0),s(o,i,F,"⊙","\\odot",!0),s(o,i,F,"⊕","\\oplus",!0),s(o,i,F,"⊗","\\otimes",!0),s(o,i,h,"∂","\\partial",!0),s(o,i,F,"⊘","\\oslash",!0),s(o,l,F,"⊚","\\circledcirc",!0),s(o,l,F,"⊡","\\boxdot",!0),s(o,i,F,"△","\\bigtriangleup"),s(o,i,F,"▽","\\bigtriangledown"),s(o,i,F,"†","\\dagger"),s(o,i,F,"⋄","\\diamond"),s(o,i,F,"⋆","\\star"),s(o,i,F,"◃","\\triangleleft"),s(o,i,F,"▹","\\triangleright"),s(o,i,Ls,"{","\\{"),s(j,i,h,"{","\\{"),s(j,i,h,"{","\\textbraceleft"),s(o,i,Un,"}","\\}"),s(j,i,h,"}","\\}"),s(j,i,h,"}","\\textbraceright"),s(o,i,Ls,"{","\\lbrace"),s(o,i,Un,"}","\\rbrace"),s(o,i,Ls,"[","\\lbrack",!0),s(j,i,h,"[","\\lbrack",!0),s(o,i,Un,"]","\\rbrack",!0),s(j,i,h,"]","\\rbrack",!0),s(o,i,Ls,"(","\\lparen",!0),s(o,i,Un,")","\\rparen",!0),s(j,i,h,"<","\\textless",!0),s(j,i,h,">","\\textgreater",!0),s(o,i,Ls,"⌊","\\lfloor",!0),s(o,i,Un,"⌋","\\rfloor",!0),s(o,i,Ls,"⌈","\\lceil",!0),s(o,i,Un,"⌉","\\rceil",!0),s(o,i,h,"\\","\\backslash"),s(o,i,h,"∣","|"),s(o,i,h,"∣","\\vert"),s(j,i,h,"|","\\textbar",!0),s(o,i,h,"∥","\\|"),s(o,i,h,"∥","\\Vert"),s(j,i,h,"∥","\\textbardbl"),s(j,i,h,"~","\\textasciitilde"),s(j,i,h,"\\","\\textbackslash"),s(j,i,h,"^","\\textasciicircum"),s(o,i,d,"↑","\\uparrow",!0),s(o,i,d,"⇑","\\Uparrow",!0),s(o,i,d,"↓","\\downarrow",!0),s(o,i,d,"⇓","\\Downarrow",!0),s(o,i,d,"↕","\\updownarrow",!0),s(o,i,d,"⇕","\\Updownarrow",!0),s(o,i,wt,"∐","\\coprod"),s(o,i,wt,"⋁","\\bigvee"),s(o,i,wt,"⋀","\\bigwedge"),s(o,i,wt,"⨄","\\biguplus"),s(o,i,wt,"⋂","\\bigcap"),s(o,i,wt,"⋃","\\bigcup"),s(o,i,wt,"∫","\\int"),s(o,i,wt,"∫","\\intop"),s(o,i,wt,"∬","\\iint"),s(o,i,wt,"∭","\\iiint"),s(o,i,wt,"∏","\\prod"),s(o,i,wt,"∑","\\sum"),s(o,i,wt,"⨂","\\bigotimes"),s(o,i,wt,"⨁","\\bigoplus"),s(o,i,wt,"⨀","\\bigodot"),s(o,i,wt,"∮","\\oint"),s(o,i,wt,"∯","\\oiint"),s(o,i,wt,"∰","\\oiiint"),s(o,i,wt,"⨆","\\bigsqcup"),s(o,i,wt,"∫","\\smallint"),s(j,i,vu,"…","\\textellipsis"),s(o,i,vu,"…","\\mathellipsis"),s(j,i,vu,"…","\\ldots",!0),s(o,i,vu,"…","\\ldots",!0),s(o,i,vu,"⋯","\\@cdots",!0),s(o,i,vu,"⋱","\\ddots",!0),s(o,i,h,"⋮","\\varvdots"),s(o,i,Je,"ˊ","\\acute"),s(o,i,Je,"ˋ","\\grave"),s(o,i,Je,"\xA8","\\ddot"),s(o,i,Je,"~","\\tilde"),s(o,i,Je,"ˉ","\\bar"),s(o,i,Je,"˘","\\breve"),s(o,i,Je,"ˇ","\\check"),s(o,i,Je,"^","\\hat"),s(o,i,Je,"⃗","\\vec"),s(o,i,Je,"˙","\\dot"),s(o,i,Je,"˚","\\mathring"),s(o,i,J,"","\\@imath"),s(o,i,J,"","\\@jmath"),s(o,i,h,"ı","ı"),s(o,i,h,"ȷ","ȷ"),s(j,i,h,"ı","\\i",!0),s(j,i,h,"ȷ","\\j",!0),s(j,i,h,"\xDF","\\ss",!0),s(j,i,h,"\xE6","\\ae",!0),s(j,i,h,"œ","\\oe",!0),s(j,i,h,"\xF8","\\o",!0),s(j,i,h,"\xC6","\\AE",!0),s(j,i,h,"Œ","\\OE",!0),s(j,i,h,"\xD8","\\O",!0),s(j,i,Je,"ˊ","\\'"),s(j,i,Je,"ˋ","\\`"),s(j,i,Je,"ˆ","\\^"),s(j,i,Je,"˜","\\~"),s(j,i,Je,"ˉ","\\="),s(j,i,Je,"˘","\\u"),s(j,i,Je,"˙","\\."),s(j,i,Je,"\xB8","\\c"),s(j,i,Je,"˚","\\r"),s(j,i,Je,"ˇ","\\v"),s(j,i,Je,"\xA8",'\\"'),s(j,i,Je,"˝","\\H"),s(j,i,Je,"◯","\\textcircled"),pN={"--":!0,"---":!0,"``":!0,"''":!0},s(j,i,h,"–","--",!0),s(j,i,h,"–","\\textendash"),s(j,i,h,"—","---",!0),s(j,i,h,"—","\\textemdash"),s(j,i,h,"‘","`",!0),s(j,i,h,"‘","\\textquoteleft"),s(j,i,h,"’","'",!0),s(j,i,h,"’","\\textquoteright"),s(j,i,h,"“","``",!0),s(j,i,h,"“","\\textquotedblleft"),s(j,i,h,"”","''",!0),s(j,i,h,"”","\\textquotedblright"),s(o,i,h,"\xB0","\\degree",!0),s(j,i,h,"\xB0","\\degree"),s(j,i,h,"\xB0","\\textdegree",!0),s(o,i,h,"\xA3","\\pounds"),s(o,i,h,"\xA3","\\mathsterling",!0),s(j,i,h,"\xA3","\\pounds"),s(j,i,h,"\xA3","\\textsterling",!0),s(o,l,h,"✠","\\maltese"),s(j,l,h,"✠","\\maltese"),fN='0123456789/@."';for(j7=0;j7<fN.length;j7++)hN=fN.charAt(j7),s(o,i,h,hN,hN);rN='0123456789!@*()-=+";:?/.,';for(x7=0;x7<rN.length;x7++)iN=rN.charAt(x7),s(j,i,h,iN,iN);b3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(A7=0;A7<b3.length;A7++)v3=b3.charAt(A7),s(o,i,J,v3,v3),s(j,i,h,v3,v3);s(o,l,h,"C","ℂ"),s(j,l,h,"C","ℂ"),s(o,l,h,"H","ℍ"),s(j,l,h,"H","ℍ"),s(o,l,h,"N","ℕ"),s(j,l,h,"N","ℕ"),s(o,l,h,"P","ℙ"),s(j,l,h,"P","ℙ"),s(o,l,h,"Q","ℚ"),s(j,l,h,"Q","ℚ"),s(o,l,h,"R","ℝ"),s(j,l,h,"R","ℝ"),s(o,l,h,"Z","ℤ"),s(j,l,h,"Z","ℤ"),s(o,i,J,"h","ℎ"),s(j,i,J,"h","ℎ"),ie="";for(Rn=0;Rn<b3.length;Rn++)ut=b3.charAt(Rn),ie=String.fromCharCode(55349,56320+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56372+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56424+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56580+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56684+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56736+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56788+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56840+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56944+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),Rn<26&&(ie=String.fromCharCode(55349,56632+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie),ie=String.fromCharCode(55349,56476+Rn),s(o,i,J,ut,ie),s(j,i,h,ut,ie));ie="𝕜",s(o,i,J,"k",ie),s(j,i,h,"k",ie);for(Ac=0;Ac<10;Ac++)$a=Ac.toString(),ie=String.fromCharCode(55349,57294+Ac),s(o,i,J,$a,ie),s(j,i,h,$a,ie),ie=String.fromCharCode(55349,57314+Ac),s(o,i,J,$a,ie),s(j,i,h,$a,ie),ie=String.fromCharCode(55349,57324+Ac),s(o,i,J,$a,ie),s(j,i,h,$a,ie),ie=String.fromCharCode(55349,57334+Ac),s(o,i,J,$a,ie),s(j,i,h,$a,ie);S7="\xD0\xDE\xFE";for(F7=0;F7<S7.length;F7++)p3=S7.charAt(F7),s(o,i,J,p3,p3),s(j,i,h,p3,p3);h3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],VD=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],dIe=e(function(e,t){var o,i,a=e.charCodeAt(0),r=e.charCodeAt(1),n=(a-55296)*1024+(r-56320)+65536,s=t==="math"?0:1;if(119808<=n&&n<120484)return o=Math.floor((n-119808)/26),[h3[o][2],h3[o][s]];if(120782<=n&&n<=120831)return i=Math.floor((n-120782)/10),[VD[i][2],VD[i][s]];if(n===120485||n===120486)return[h3[0][2],h3[0][s]];if(120486<n&&n<120782)return["",""];throw new O("Unsupported character: "+e)},"wideCharacterFont"),r3=e(function(e,t,n){return Ye[n][e]&&Ye[n][e].replace&&(e=Ye[n][e].replace),{value:e,metrics:H5(e,t,n)}},"lookupSymbol"),lo=e(function(e,t,n,s,o){var a,r,c,l=r3(e,t,n),i=l.metrics;return e=l.value,i?(r=i.italic,(n==="text"||s&&s.font==="mathit")&&(r=0),a=new Ys(e,i.height,i.depth,r,i.skew,i.width,o)):(typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),a=new Ys(e,0,0,0,0,0,o)),s&&(a.maxFontSize=s.sizeMultiplier,s.style.isTight()&&a.classes.push("mtight"),c=s.getColor(),c&&(a.style.color=c)),a},"makeSymbol"),lIe=e(function(e,t,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&r3(e,"Main-Bold",t).metrics?lo(e,"Main-Bold",t,n,s.concat(["mathbf"])):e==="\\"||Ye[t][e].font==="main"?lo(e,"Main-Regular",t,n,s):lo(e,"AMS-Regular",t,n,s.concat(["amsrm"]))},"mathsym"),cIe=e(function(e,t,n,s,o){return o!=="textord"&&r3(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),rIe=e(function(e,t,n){var a,c,l,d,h,m,f,v,b,o=e.mode,s=e.text,i=["mord"],g=o==="math"||o==="text"&&t.font,r=g?t.font:t.fontFamily,u="",p="";if(s.charCodeAt(0)===55349&&([u,p]=dIe(s,o)),u.length>0)return lo(s,u,o,t,i.concat(p));if(r){if(r==="boldsymbol"?(h=cIe(s,o,t,i,n),a=h.fontName,c=[h.fontClass]):g?(a=mD[r].fontName,c=[r]):(a=L2(r,t.fontWeight,t.fontShape),c=[r,t.fontWeight,t.fontShape]),r3(s,a,o).metrics)return lo(s,a,o,t,i.concat(c));if(pN.hasOwnProperty(s)&&a.slice(0,10)==="Typewriter"){for(m=[],d=0;d<s.length;d++)m.push(lo(s[d],a,o,t,i.concat(c)));return bD(m)}}if(n==="mathord")return lo(s,"Math-Italic",o,t,i.concat(["mathnormal"]));if(n==="textord")return l=Ye[o][s]&&Ye[o][s].font,l==="ams"?(v=L2("amsrm",t.fontWeight,t.fontShape),lo(s,v,o,t,i.concat("amsrm",t.fontWeight,t.fontShape))):l==="main"||!l?(b=L2("textrm",t.fontWeight,t.fontShape),lo(s,b,o,t,i.concat(t.fontWeight,t.fontShape))):(f=L2(l,t.fontWeight,t.fontShape),lo(s,f,o,t,i.concat(f,t.fontWeight,t.fontShape)));else throw new Error("unexpected type: "+n+" in makeOrd")},"makeOrd"),sIe=e((e,t)=>{if(Sr(e.classes)!==Sr(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n,s,o=e.classes[0];if(o==="mbin"||o==="mord")return!1}for(n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(s in t.style)if(t.style.hasOwnProperty(s)&&e.style[s]!==t.style[s])return!1;return!0},"canCombine"),nIe=e(e=>{for(n=0;n<e.length-1;n++){var n,t=e[n],s=e[n+1];t instanceof Ys&&s instanceof Ys&&sIe(t,s)&&(t.text+=s.text,t.height=Math.max(t.height,s.height),t.depth=Math.max(t.depth,s.depth),t.italic=s.italic,e.splice(n+1,1),n--)}return e},"tryCombineChars"),R7=e(function(e){for(var t,n=0,s=0,o=0,i=0;i<e.children.length;i++)t=e.children[i],t.height>n&&(n=t.height),t.depth>s&&(s=t.depth),t.maxFontSize>o&&(o=t.maxFontSize);e.height=n,e.depth=s,e.maxFontSize=o},"sizeElementFromChildren"),js=e(function(e,t,n,s){var o=new X0(e,t,n,s);return R7(o),o},"makeSpan"),ED=e((e,t,n,s)=>new X0(e,t,n,s),"makeSvgSpan"),tIe=e(function(e,t,n){var s=js([e],[],t);return s.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),s.style.borderBottomWidth=E(s.height),s.maxFontSize=1,s},"makeLineSpan"),eIe=e(function(e,t,n,s){var o=new p7(e,t,n,s);return R7(o),o},"makeAnchor"),bD=e(function(e){var t=new U0(e);return R7(t),t},"makeFragment"),ZHe=e(function(e,t){return e instanceof U0?js([],[e],t):e},"wrapFragment"),QHe=e(function(e){if(e.positionType==="individualShift"){for(var s,o,i,a,l,d,h,t=e.children,r=[t[0]],u=-t[0].shift-t[0].elem.depth,c=u,n=1;n<t.length;n++)l=-t[n].shift-c-t[n].elem.depth,h=l-(t[n-1].elem.height+t[n-1].elem.depth),c=c+l,r.push({type:"kern",size:h}),r.push(t[n]);return{children:r,depth:u}}if(e.positionType==="top"){for(d=e.positionData,i=0;i<e.children.length;i++)o=e.children[i],d-=o.type==="kern"?o.size:o.elem.height+o.elem.depth;s=d}else if(e.positionType==="bottom")s=-e.positionData;else{if(a=e.children[0],a.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")s=-a.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")s=-a.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:s}},"getVListChildrenAndDepth"),XHe=e(function(e){for(var{children:l,depth:j}=QHe(e),o=0,v=0;v<l.length;v++)g=l[v],g.type==="elem"&&(m=g.elem,o=Math.max(o,m.maxFontSize,m.height));o+=2,p=js(["pstrut"],[]),p.style.height=E(o);for(var n,s,r,c,m,p,g,b,_,w,y=[],i=j,h=j,a=j,f=0;f<l.length;f++){if(n=l[f],n.type==="kern")a+=n.size;else{var u=n.elem,O=n.wrapperClasses||[],x=n.wrapperStyle||{},d=js(O,[p,u],void 0,x);d.style.top=E(-o-a-u.depth),n.marginLeft&&(d.style.marginLeft=n.marginLeft),n.marginRight&&(d.style.marginRight=n.marginRight),y.push(d),a+=u.height+u.depth}i=Math.min(i,a),h=Math.max(h,a)}return c=js(["vlist"],y),c.style.height=E(h),i<0?(_=js([],[]),b=js(["vlist"],[_]),b.style.height=E(-i),w=js(["vlist-s"],[new Ys("​")]),r=[js(["vlist-r"],[c,w]),js(["vlist-r"],[b])]):r=[js(["vlist-r"],[c])],s=js(["vlist-t"],r),r.length===2&&s.classes.push("vlist-t2"),s.height=h,s.depth=-i,s},"makeVList"),GHe=e((e,t)=>{var n=js(["mspace"],[],t),s=nt(e,t);return n.style.marginRight=E(s),n},"makeGlue"),L2=e(function(e,t,n){var o,s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}return t==="textbf"&&n==="textit"?o="BoldItalic":t==="textbf"?o="Bold":t==="textit"?o="Italic":o="Regular",s+"-"+o},"retrieveTextFontName"),mD={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},hD={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},YHe=e(function(e,t){var[i,n,s]=hD[e],a=new lr(i),r=new la([a],{width:E(n),height:E(s),style:"width:"+E(n),viewBox:"0 0 "+1e3*n+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),o=ED(["overlay"],[r],t);return o.height=s,o.style.height=E(s),o.style.width=E(n),o},"staticSvg"),g={fontMap:mD,makeSymbol:lo,mathsym:lIe,makeSpan:js,makeSvgSpan:ED,makeLineSpan:tIe,makeAnchor:eIe,makeFragment:bD,wrapFragment:ZHe,makeVList:XHe,makeOrd:rIe,makeGlue:GHe,staticSvg:YHe,svgData:hD,tryCombineChars:nIe},at={number:3,unit:"mu"},Kr={number:4,unit:"mu"},aa={number:5,unit:"mu"},qHe={mord:{mop:at,mbin:Kr,mrel:aa,minner:at},mop:{mord:at,mop:at,mrel:aa,minner:at},mbin:{mord:Kr,mop:Kr,mopen:Kr,minner:Kr},mrel:{mord:aa,mop:aa,mopen:aa,minner:aa},mopen:{},mclose:{mop:at,mbin:Kr,mrel:aa,minner:at},mpunct:{mord:at,mop:at,mrel:aa,mopen:at,mclose:at,mpunct:at,minner:at},minner:{mord:at,mop:at,mbin:Kr,mrel:aa,mopen:at,mpunct:at,minner:at}},KHe={mord:{mop:at},mop:{mord:at,mop:at},mbin:{},mrel:{},mopen:{},mclose:{mop:at},mpunct:{},minner:{mop:at}},aD={},N2={},D2={},e(M,"defineFunction"),e(Hc,"defineFunctionBuilders"),z2=e(function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},"normalizeArgument"),pt=e(function(e){return e.type==="ordgroup"?e.body:[e]},"ordargument"),ea=g.makeSpan,UHe=["leftmost","mbin","mopen","mrel","mop","mpunct"],HHe=["rightmost","mrel","mclose","mpunct"],RHe={display:Z.DISPLAY,text:Z.TEXT,script:Z.SCRIPT,scriptscript:Z.SCRIPTSCRIPT},NHe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Nt=e(function(e,t,n,s){s===void 0&&(s=[null,null]);for(o=[],a=0;a<e.length;a++)r=Ce(e[a],t),r instanceof U0?(l=r.children,o.push(...l)):o.push(r);if(g.tryCombineChars(o),!n)return o;c=t,e.length===1&&(i=e[0],i.type==="sizing"?c=t.havingSize(i.size):i.type==="styling"&&(c=t.havingStyle(RHe[i.style])));var o,i,a,r,c,l,d=ea([s[0]||"leftmost"],[],t),u=ea([s[1]||"rightmost"],[],t),h=n==="root";return qz(o,(e,t)=>{var n=t.classes[0],s=e.classes[0];n==="mbin"&&X.contains(HHe,s)?t.classes[0]="mord":s==="mbin"&&X.contains(UHe,n)&&(e.classes[0]="mord")},{node:d},u,h),qz(o,(e,t)=>{var n=tv(t),s=tv(e),o=n&&s?e.hasClass("mtight")?KHe[n][s]:qHe[n][s]:null;if(o)return g.makeGlue(o,c)},{node:d},u,h),o},"buildExpression"),qz=e(function e(t,n,s,o,i){o&&t.push(o);for(a=0;a<t.length;a++){var a,c,l,r=t[a],d=Kz(r);if(d){e(d.children,n,s,null,i);continue}l=!r.hasClass("mspace"),l&&(c=n(r,s.node),c&&(s.insertAfter?s.insertAfter(c):(t.unshift(c),a++))),l?s.node=r:i&&r.hasClass("newline")&&(s.node=ea(["leftmost"])),s.insertAfter=(e=>n=>{t.splice(e+1,0,n),a++})(a)}o&&t.pop()},"traverseNonSpaceNodes"),Kz=e(function(e){return e instanceof U0||e instanceof p7||e instanceof X0&&e.hasClass("enclosing")?e:null},"checkPartialGroup"),DHe=e(function e(t,n){var s,o=Kz(t);if(o&&(s=o.children,s.length)){if(n==="right")return e(s[s.length-1],"right");if(n==="left")return e(s[0],"left")}return t},"getOutermostNode"),tv=e(function(e,t){return e?(t&&(e=DHe(e,t)),NHe[e.classes[0]]||null):null},"getTypeOfDomTree"),y2=e(function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return ea(t.concat(n))},"makeNullDelimiter"),Ce=e(function(e,t,n){if(!e)return ea();if(N2[e.type]){var o,s=N2[e.type](e,t);return n&&t.size!==n.size&&(s=ea(t.sizingClasses(n),[s],t),o=t.sizeMultiplier/n.sizeMultiplier,s.height*=o,s.depth*=o),s}throw new O("Got group of unknown type: '"+e.type+"'")},"buildGroup"),e(Ch,"buildHTMLUnbreakable"),e(I5,"buildHTML"),e(ML,"newDocumentFragment"),Gs=class{static{e(this,"MathNode")}constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var t,n,e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Sr(this.classes));for(t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){var t,n,e="<"+this.type;for(n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=X.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+X.escape(Sr(this.classes))+'"'),e+=">";for(t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},j2=class{static{e(this,"TextNode")}constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return X.escape(this.toText())}toText(){return this.text}},zHe=class{static{e(this,"SpaceNode")}constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",E(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+E(this.width)+'"/>'}toText(){return this.character?this.character:" "}},_={MathNode:Gs,TextNode:j2,SpaceNode:zHe,newDocumentFragment:ML},Ws=e(function(e,t,n){return Ye[t][e]&&Ye[t][e].replace&&e.charCodeAt(0)!==55349&&!(pN.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Ye[t][e].replace),new _.TextNode(e)},"makeText"),nv=e(function(e){return e.length===1?e[0]:new _.MathNode("mrow",e)},"makeRow"),sv=e(function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var s,o,i,n=t.font;return!n||n==="mathnormal"?null:(o=e.mode,n==="mathit"?"italic":n==="boldsymbol"?e.type==="textord"?"bold":"bold-italic":n==="mathbf"?"bold":n==="mathbb"?"double-struck":n==="mathfrak"?"fraktur":n==="mathscr"||n==="mathcal"?"script":n==="mathsf"?"sans-serif":n==="mathtt"?"monospace":(s=e.text,X.contains(["\\imath","\\jmath"],s)?null:(Ye[o][s]&&Ye[o][s].replace&&(s=Ye[o][s].replace),i=g.fontMap[n].fontName,H5(s,i,o)?g.fontMap[n].variant:null)))},"getVariant"),rs=e(function(e,t,n){if(e.length===1)return i=Ve(e[0],t),n&&i instanceof Gs&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i];for(var s,o,i,a,l,d,r=[],c=0;c<e.length;c++){if(s=Ve(e[c],t),s instanceof Gs&&o instanceof Gs){if(s.type==="mtext"&&o.type==="mtext"&&s.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...s.children);continue}if(s.type==="mn"&&o.type==="mn"){o.children.push(...s.children);continue}if(s.type==="mi"&&s.children.length===1&&o.type==="mn"){if(l=s.children[0],l instanceof j2&&l.text==="."){o.children.push(...s.children);continue}}else o.type==="mi"&&o.children.length===1&&(d=o.children[0],d instanceof j2&&d.text==="̸"&&(s.type==="mo"||s.type==="mi"||s.type==="mn")&&(a=s.children[0],a instanceof j2&&a.text.length>0&&(a.text=a.text.slice(0,1)+"̸"+a.text.slice(1),r.pop())))}r.push(s),o=s}return r},"buildExpression"),br=e(function(e,t,n){return nv(rs(e,t,n))},"buildExpressionRow"),Ve=e(function(e,t){if(!e)return new _.MathNode("mrow");if(D2[e.type]){var n=D2[e.type](e,t);return n}throw new O("Got group of unknown type: '"+e.type+"'")},"buildGroup"),e(SL,"buildMathML"),Rz=e(function(e){return new NN({style:e.displayMode?Z.DISPLAY:Z.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},"optionsFromSettings"),Nz=e(function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=g.makeSpan(n,[e])}return e},"displayWrap"),FHe=e(function(e,t,n){if(s=Rz(n),n.output==="mathml")return SL(e,t,s,n.displayMode,!0);if(n.output==="html")i=I5(e,s),o=g.makeSpan(["katex"],[i]);else{var s,o,i,a=SL(e,t,s,n.displayMode,!1),r=I5(e,s);o=g.makeSpan(["katex"],[a,r])}return Nz(o,n)},"buildTree"),SHe=e(function(e,t,n){var s=Rz(n),o=I5(e,s),i=g.makeSpan(["katex"],[o]);return Nz(i,n)},"buildHTMLTree"),yHe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},jHe=e(function(e){var t=new _.MathNode("mo",[new _.TextNode(yHe[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},"mathMLnode"),vHe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gHe=e(function(e){return e.type==="ordgroup"?e.body.length:1},"groupLength"),fHe=e(function(t,n){function o(){if(o=4e5,e=t.label.slice(1),X.contains(["widehat","widecheck","widetilde","utilde"],e))return x=t,m=gHe(x.base),m>5?e==="widehat"||e==="widecheck"?(c=420,o=2364,r=.42,l=e+"4"):(c=312,o=2340,r=.34,l="tilde4"):(s=[1,1,2,2,3,3][m],e==="widehat"||e==="widecheck"?(o=[0,1062,2364,2364,2364][s],c=[0,239,300,360,420][s],r=[0,.24,.3,.3,.36,.42][s],l=e+s):(o=[0,600,1033,2339,2340][s],c=[0,260,286,306,312][s],r=[0,.26,.286,.3,.306,.34][s],l="tilde"+s)),y=new lr(l),w=new la([y],{width:"100%",height:E(r),viewBox:"0 0 "+o+" "+c,preserveAspectRatio:"none"}),{span:g.makeSvgSpan([],[w],n),minWidth:0,height:r};var[p,v,b]=j,e,s,o,a,r,c,l,d,h,m,y,w,O,x,j=vHe[e],_=[],u=b/1e3,i=p.length;if(i===1)O=j[3],h=["hide-tail"],d=[O];else if(i===2)h=["halfarrow-left","halfarrow-right"],d=["xMinYMin","xMaxYMin"];else if(i===3)h=["brace-left","brace-center","brace-right"],d=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+i+" children.");for(a=0;a<i;a++){var C=new lr(p[a]),k=new la([C],{width:"400em",height:E(u),viewBox:"0 0 "+o+" "+b,preserveAspectRatio:d[a]+" slice"}),f=g.makeSvgSpan([h[a]],[k],n);if(i===1)return{span:f,minWidth:v,height:u};f.style.height=E(u),_.push(f)}return{span:g.makeSpan(["stretchy"],_,n),minWidth:v,height:u}}e(o,"buildSvgSpan_");var{span:s,minWidth:i,height:a}=o();return s.height=a,s.style.height=E(a),i>0&&(s.style.minWidth=E(i)),s},"svgSpan"),eHe=e(function(e,t,n,s,o){var i,a,c,l,r=e.height+e.depth+n+s;return/fbox|color|angl/.test(t)?(i=g.makeSpan(["stretchy",t],[],o),t==="fbox")&&(c=o.color&&o.getColor(),c&&(i.style.borderColor=c)):(a=[],/^[bx]cancel$/.test(t)&&a.push(new g7({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&a.push(new g7({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"})),l=new la(a,{width:"100%",height:E(r)}),i=g.makeSvgSpan([],[l],o)),i.height=r,i.style.height=E(r),i},"encloseSpan"),qi={encloseSpan:eHe,mathMLnode:jHe,svgSpan:fHe},e(fe,"assertNodeType"),e(B5,"assertSymbolNodeType"),e(_h,"checkSymbolNodeType"),iv=e((e,t)=>{e&&e.type==="supsub"?(n=fe(e.base,"accent"),r=n.base,e.base=r,i=YBe(Ce(e,t)),e.base=n):(n=fe(e,"accent"),r=n.base);var n,s,o,i,r,l,d,u,h,m,f,p,v,a=Ce(r,t.havingCrampedStyle()),b=n.isShifty&&X.isCharacterBox(r),c=0;return b&&(v=X.getBaseElem(r),p=Ce(v,t.havingCrampedStyle()),c=TL(p).skew),h=n.label==="\\c",l=h?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),n.isStretchy?(s=qi.svgSpan(n,t),s=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:s,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+E(2*c)+")",marginLeft:E(2*c)}:void 0}]},t)):(n.label==="\\vec"?(o=g.staticSvg("vec",t),u=g.svgData.vec[1]):(o=g.makeOrd({mode:n.mode,text:n.label},t,"textord"),o=TL(o),o.italic=0,u=o.width,h&&(l+=o.depth)),s=g.makeSpan(["accent-body"],[o]),m=n.label==="\\textcircled",m&&(s.classes.push("accent-full"),l=a.height),f=c,m||(f-=u/2),s.style.left=E(f),n.label==="\\textcircled"&&(s.style.top=".2em"),s=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-l},{type:"elem",elem:s}]},t)),d=g.makeSpan(["mord","accent"],[s],t),i?(i.children[0]=d,i.height=Math.max(d.height,i.height),i.classes[0]="mord",i):d},"htmlBuilder$a"),Ez=e((e,t)=>{var s=e.isStretchy?qi.mathMLnode(e.label):new _.MathNode("mo",[Ws(e.label,e.mode)]),n=new _.MathNode("mover",[Ve(e.base,t),s]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),JPe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|")),M({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:e((e,t)=>{var s=z2(t[0]),n=!JPe.test(e.funcName),o=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:o,base:s}},"handler"),htmlBuilder:iv,mathmlBuilder:Ez}),M({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:e((e,t)=>{var s=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:s}},"handler"),htmlBuilder:iv,mathmlBuilder:Ez}),M({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:e((e,t)=>{var{parser:n,funcName:s}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:s,base:o}},"handler"),htmlBuilder:e((e,t)=>{var n=Ce(e.base,t),s=qi.svgSpan(e,t),o=e.label==="\\utilde"?.12:0,i=g.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return g.makeSpan(["mord","accentunder"],[i],t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var s=qi.mathMLnode(e.label),n=new _.MathNode("munder",[Ve(e.base,t),s]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")}),Z2=e(e=>{var t=new _.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode"),M({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:s,funcName:o}=e;return{type:"xArrow",mode:s.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var s,i,u,c=t.style,a=t.havingStyle(c.sup()),n=g.wrapFragment(Ce(e.body,a,t),t),l=e.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(l+"-arrow-pad"),e.below&&(a=t.havingStyle(c.sub()),s=g.wrapFragment(Ce(e.below,a,t),t),s.classes.push(l+"-arrow-pad"));var o=qi.svgSpan(e,t),d=-t.fontMetrics().axisHeight+.5*o.height,r=-t.fontMetrics().axisHeight-.5*o.height-.111;return(n.depth>.25||e.label==="\\xleftequilibrium")&&(r-=n.depth),s?(u=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111,i=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:r},{type:"elem",elem:o,shift:d},{type:"elem",elem:s,shift:u}]},t)):i=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:r},{type:"elem",elem:o,shift:d}]},t),i.children[0].children[0].children[1].classes.push("svg-align"),g.makeSpan(["mrel","x-arrow"],[i],t)},mathmlBuilder(e,t){var n,o,i,a,s=qi.mathMLnode(e.label);return s.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em"),e.body?(o=Z2(Ve(e.body,t)),e.below?(i=Z2(Ve(e.below,t)),n=new _.MathNode("munderover",[s,i,o])):n=new _.MathNode("mover",[s,o])):e.below?(a=Z2(Ve(e.below,t)),n=new _.MathNode("munder",[s,a])):(n=Z2(),n=new _.MathNode("mover",[s,n])),n}}),ZPe=g.makeSpan,e(kL,"htmlBuilder$9"),e(EL,"mathmlBuilder$8"),M({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:s,funcName:o}=e,n=t[0];return{type:"mclass",mode:s.mode,mclass:"m"+o.slice(5),body:pt(n),isCharacterBox:X.isCharacterBox(n)}},htmlBuilder:kL,mathmlBuilder:EL}),s3=e(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass"),M({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:s3(t[0]),body:pt(t[1]),isCharacterBox:X.isCharacterBox(t[1])}}}),M({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:c,funcName:n}=e,i,a,r,s=t[1],o=t[0];return n!=="\\stackrel"?i=s3(s):i="mrel",r={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:pt(s)},a={type:"supsub",mode:o.mode,base:r,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null},{type:"mclass",mode:c.mode,mclass:i,body:[a],isCharacterBox:X.isCharacterBox(a)}},htmlBuilder:kL,mathmlBuilder:EL}),M({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:s3(t[0]),body:pt(t[0])}},htmlBuilder(e,t){var s=Nt(e.body,t,!0),n=g.makeSpan([e.mclass],s,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var s=rs(e.body,t),n=new _.MathNode("mstyle",s);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}}),QPe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},hz=e(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),uz=e(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),XPe=e((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd"),e(KBe,"cdArrow"),e(UBe,"parseCD"),M({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:s}=e;return{type:"cdlabel",mode:n.mode,side:s.slice(4),label:t[0]}},htmlBuilder(e,t){var s=t.havingStyle(t.style.sup()),n=g.wrapFragment(Ce(e.label,s,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=E(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var n=new _.MathNode("mrow",[Ve(e.label,t)]);return n=new _.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new _.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),M({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=g.wrapFragment(Ce(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new _.MathNode("mrow",[Ve(e.fragment,t)])}}),M({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:c}=e,n,i,r,l=fe(t[0],"ordgroup"),a=l.body,s="",o=0;o<a.length;o++)r=fe(a[o],"textord"),s+=r.text;if(n=parseInt(s),isNaN(n))throw new O("\\@char has non-numeric argument "+s);if(n<0||n>=1114111)throw new O("\\@char with invalid code point "+s);return n<=65535?i=String.fromCharCode(n):(n-=65536,i=String.fromCharCode((n>>10)+55296,(n&1023)+56320)),{type:"textord",mode:c.mode,text:i}}}),lz=e((e,t)=>{var n=Nt(e.body,t.withColor(e.color),!1);return g.makeFragment(n)},"htmlBuilder$8"),cz=e((e,t)=>{var s=rs(e.body,t.withColor(e.color)),n=new _.MathNode("mstyle",s);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7"),M({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,s=fe(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:s,body:pt(o)}},htmlBuilder:lz,mathmlBuilder:cz}),M({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,o,s=fe(t[0],"color-token").color;return n.gullet.macros.set("\\current@color",s),o=n.parseExpression(!0,i),{type:"color",mode:n.mode,color:s,body:o}},htmlBuilder:lz,mathmlBuilder:cz}),M({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e){var{parser:s}=e,o=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,i=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode",`In LaTeX, \\\\ or \\newline does nothing in display mode`);return{type:"cr",mode:s.mode,newLine:i,size:o&&fe(o,"size").value}},htmlBuilder(e,t){var n=g.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=E(nt(e.size,t)))),n},mathmlBuilder(e,t){var n=new _.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",E(nt(e.size,t)))),n}}),gv={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},az=e(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new O("Expected a control sequence",e);return t},"checkControlSequence"),YPe=e(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),oz=e((e,t,n,s)=>{var o=e.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,s)},"letCommand"),M({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:n,funcName:s}=e,t;if(n.consumeSpaces(),t=n.fetch(),gv[t.text])return(s==="\\global"||s==="\\\\globallong")&&(t.text=gv[t.text]),fe(n.parseFunction(),"internal");throw new O("Invalid token after macro prefix",t)}}),M({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:n,funcName:a}=e,s,o,r,t=n.gullet.popToken(),c=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(c))throw new O("Expected a control sequence",t);for(s=0,o=[[]];n.gullet.future().text!=="{";)if(t=n.gullet.popToken(),t.text==="#"){if(n.gullet.future().text==="{"){r=n.gullet.future(),o[s].push("{");break}if(t=n.gullet.popToken(),!/^[1-9]$/.test(t.text))throw new O('Invalid argument number "'+t.text+'"');if(parseInt(t.text)!==s+1)throw new O('Argument number "'+t.text+'" out of order');s++,o.push([])}else{if(t.text==="EOF")throw new O("Expected a macro definition");o[s].push(t.text)}var{tokens:i}=n.gullet.consumeArg();return r&&i.unshift(r),(a==="\\edef"||a==="\\xdef")&&(i=n.gullet.expandTokens(i),i.reverse()),n.gullet.macros.set(c,{tokens:i,numArgs:s,delimiters:o},a===gv[a]),{type:"internal",mode:n.mode}}}),M({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:s}=e,n,o=az(t.gullet.popToken());return t.gullet.consumeSpaces(),n=YPe(t),oz(t,o,n,s==="\\\\globallet"),{type:"internal",mode:t.mode}}}),M({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:s}=e,o=az(t.gullet.popToken()),i=t.gullet.popToken(),n=t.gullet.popToken();return oz(t,o,n,s==="\\\\globalfuture"),t.gullet.pushToken(n),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}}),o2=e(function(e,t,n){var o=Ye.math[e]&&Ye.math[e].replace,s=H5(o||e,t,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},"getMetrics"),vv=e(function(e,t,n,s){var i=n.havingBaseStyle(t),o=g.makeSpan(s.concat(i.sizingClasses(n)),[e],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},"styleWrap"),nz=e(function(e,t,n){var o=t.havingBaseStyle(n),s=(1-t.sizeMultiplier/o.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=E(s),e.height-=s,e.depth+=s},"centerSpan"),qPe=e(function(e,t,n,s,o,i){var r=g.makeSymbol(e,"Main-Regular",o,s),a=vv(r,t,s,i);return n&&nz(a,s,t),a},"makeSmallDelim"),KPe=e(function(e,t,n,s){return g.makeSymbol(e,"Size"+t+"-Regular",n,s)},"mathrmSize"),ez=e(function(e,t,n,s,o,i){var r=KPe(e,t,o,s),a=vv(g.makeSpan(["delimsizing","size"+t],[r],s),Z.TEXT,s,i);return n&&nz(a,s,Z.TEXT),a},"makeLargeDelim"),wv=e(function(e,t,n){t==="Size1-Regular"?s="delim-size1":s="delim-size4";var s,o=g.makeSpan(["delimsizinginner",s],[g.makeSpan([],[g.makeSymbol(e,t,n)])]);return{type:"elem",elem:o}},"makeGlyphSpan"),Ov=e(function(e,t,n){var s=hi["Size4-Regular"][e.charCodeAt(0)]?hi["Size4-Regular"][e.charCodeAt(0)][4]:hi["Size1-Regular"][e.charCodeAt(0)][4],i=new lr("inner",yIe(e,Math.round(1e3*t))),a=new la([i],{width:E(s),height:E(t),style:"width:"+E(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=g.makeSvgSpan([],[a],n);return o.height=t,o.style.height=E(t),o.style.width=E(s),{type:"elem",elem:o}},"makeInner"),xv=.008,J3={type:"kern",size:-1*xv},UPe=["|","\\lvert","\\rvert","\\vert"],$Pe=["\\|","\\lVert","\\rVert","\\Vert"],KT=e(function(e,t,n,s,o,i){d="",u=0,c=a=l=e,m=null,r="Size1-Regular",e==="\\uparrow"?a=l="⏐":e==="\\Uparrow"?a=l="‖":e==="\\downarrow"?c=a="⏐":e==="\\Downarrow"?c=a="‖":e==="\\updownarrow"?(c="\\uparrow",a="⏐",l="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",a="‖",l="\\Downarrow"):X.contains(UPe,e)?(a="∣",d="vert",u=333):X.contains($Pe,e)?(a="∥",d="doublevert",u=556):e==="["||e==="\\lbrack"?(c="⎡",a="⎢",l="⎣",r="Size4-Regular",d="lbrack",u=667):e==="]"||e==="\\rbrack"?(c="⎤",a="⎥",l="⎦",r="Size4-Regular",d="rbrack",u=667):e==="\\lfloor"||e==="⌊"?(a=c="⎢",l="⎣",r="Size4-Regular",d="lfloor",u=667):e==="\\lceil"||e==="⌈"?(c="⎡",a=l="⎢",r="Size4-Regular",d="lceil",u=667):e==="\\rfloor"||e==="⌋"?(a=c="⎥",l="⎦",r="Size4-Regular",d="rfloor",u=667):e==="\\rceil"||e==="⌉"?(c="⎤",a=l="⎥",r="Size4-Regular",d="rceil",u=667):e==="("||e==="\\lparen"?(c="⎛",a="⎜",l="⎝",r="Size4-Regular",d="lparen",u=875):e===")"||e==="\\rparen"?(c="⎞",a="⎟",l="⎠",r="Size4-Regular",d="rparen",u=875):e==="\\{"||e==="\\lbrace"?(c="⎧",m="⎨",l="⎩",a="⎪",r="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="⎫",m="⎬",l="⎭",a="⎪",r="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(c="⎧",l="⎩",a="⎪",r="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(c="⎫",l="⎭",a="⎪",r="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(c="⎧",l="⎭",a="⎪",r="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(c="⎫",l="⎩",a="⎪",r="Size4-Regular");var a,r,c,l,d,u,h,m,w,O,x,k,A,N,S=o2(c,r,o),p=S.height+S.depth,F=o2(a,r,o),E=F.height+F.depth,M=o2(l,r,o),b=M.height+M.depth,y=0,_=1;m!==null&&(w=o2(m,r,o),y=w.height+w.depth,_=2);var C=p+b+y,I=Math.max(0,Math.ceil((t-C)/(_*E))),f=C+I*_*E,T=s.fontMetrics().axisHeight;if(n&&(T*=s.sizeMultiplier),k=f/2-T,h=[],d.length>0){var H=f-p-b,j=Math.round(f*1e3),P=jIe(d,Math.round(H*1e3)),L=new lr(d,P),z=(u/1e3).toFixed(3)+"em",D=(j/1e3).toFixed(3)+"em",R=new la([L],{width:z,height:D,viewBox:"0 0 "+u+" "+j}),v=g.makeSvgSpan([],[R],s);v.height=j/1e3,v.style.width=z,v.style.height=D,h.push({type:"elem",elem:v})}else h.push(wv(l,r,o)),h.push(J3),m===null?(N=f-p-b+2*xv,h.push(Ov(a,N,s))):(O=(f-p-b-y)/2+2*xv,h.push(Ov(a,O,s)),h.push(J3),h.push(wv(m,r,o)),h.push(J3),h.push(Ov(a,O,s))),h.push(J3),h.push(wv(c,r,o));return x=s.havingBaseStyle(Z.TEXT),A=g.makeVList({positionType:"bottom",positionData:k,children:h},x),vv(g.makeSpan(["delimsizing","mult"],[A],x),Z.TEXT,s,i)},"makeStackedDelim"),Ev=80,Sv=.08,zv=e(function(e,t,n,s,o){var i=_Ie(e,s,n),a=new lr(e,i),r=new la([a],{width:"400em",height:E(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return g.makeSvgSpan(["hide-tail"],[r],o)},"sqrtSvg"),VPe=e(function(e,t){var o,l,d=t.havingBaseSizing(),a=MT("\\surd",e*d.sizeMultiplier,TT,d),s=d.sizeMultiplier,n=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),i=0,c=0,r=0;return a.type==="small"?(r=1e3+1e3*n+Ev,e<1?s=1:e<1.4&&(s=.7),i=(1+n+Sv)/s,c=(1+n)/s,o=zv("sqrtMain",i,r,n,t),o.style.minWidth="0.853em",l=.833/s):a.type==="large"?(r=(1e3+Ev)*D0[a.size],c=(D0[a.size]+n)/s,i=(D0[a.size]+n+Sv)/s,o=zv("sqrtSize"+a.size,i,r,n,t),o.style.minWidth="1.02em",l=1/s):(i=e+n+Sv,c=e+n,r=Math.floor(1e3*e+n)+Ev,o=zv("sqrtTall",i,r,n,t),o.style.minWidth="0.742em",l=1.056),o.height=c,o.style.height=E(i),{span:o,advanceWidth:l,ruleWidth:(t.fontMetrics().sqrtRuleThickness+n)*s}},"makeSqrtImage"),RT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],BPe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Zy=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],D0=[0,1.2,1.8,2.4,3],IPe=e(function(e,t,n,s,o){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),X.contains(RT,e)||X.contains(Zy,e))return ez(e,t,!1,n,s,o);if(X.contains(BPe,e))return KT(e,D0[t],!1,n,s,o);throw new O("Illegal delimiter: '"+e+"'")},"makeSizedDelim"),HPe=[{type:"small",style:Z.SCRIPTSCRIPT},{type:"small",style:Z.SCRIPT},{type:"small",style:Z.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],PPe=[{type:"small",style:Z.SCRIPTSCRIPT},{type:"small",style:Z.SCRIPT},{type:"small",style:Z.TEXT},{type:"stack"}],TT=[{type:"small",style:Z.SCRIPTSCRIPT},{type:"small",style:Z.SCRIPT},{type:"small",style:Z.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],RPe=e(function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},"delimTypeToFont"),MT=e(function(e,t,n,s){for(var i,a,r,c=Math.min(2,3-s.style.size),o=c;o<n.length&&n[o].type!=="stack";o++)if(i=o2(e,RPe(n[o]),"math"),a=i.height+i.depth,n[o].type==="small"&&(r=s.havingBaseStyle(n[o].style),a*=r.sizeMultiplier),a>t)return n[o];return n[n.length-1]},"traverseSequence"),xT=e(function(e,t,n,s,o,i){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),X.contains(Zy,e)?a=HPe:X.contains(RT,e)?a=TT:a=PPe;var a,r=MT(e,t,a,s);return r.type==="small"?qPe(e,r.style,n,s,o,i):r.type==="large"?ez(e,r.size,n,s,o,i):KT(e,t,n,s,o,i)},"makeCustomSizedDelim"),LPe=e(function(e,t,n,s,o,i){var a=s.fontMetrics().axisHeight*s.sizeMultiplier,c=901,l=5/s.fontMetrics().ptPerEm,r=Math.max(t-a,n+a),d=Math.max(r/500*c,2*r-l);return xT(e,d,!0,s,o,i)},"makeLeftRightDelim"),ki={sqrtImage:VPe,sizedDelim:IPe,sizeToMaxHeight:D0,customSizedDelim:xT,leftRightDelim:LPe},OT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},NPe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],e(jh,"checkDelimiter"),M({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:e((e,t)=>{var n=jh(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:OT[e.funcName].size,mclass:OT[e.funcName].mclass,delim:n.text}},"handler"),htmlBuilder:e((e,t)=>e.delim==="."?g.makeSpan([e.mclass]):ki.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:e(e=>{var t,n,s=[];return e.delim!=="."&&s.push(Ws(e.delim,e.mode)),t=new _.MathNode("mo",s),e.mclass==="mopen"||e.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true"),n=E(ki.sizeToMaxHeight[e.size]),t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t},"mathmlBuilder")}),e(xL,"assertParsed"),M({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:e((e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new O("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:jh(t[0],e).text,color:n}},"handler")}),M({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:e((e,t)=>{var s,o,i=jh(t[0],e),n=e.parser;return++n.leftrightDepth,o=n.parseExpression(!1),--n.leftrightDepth,n.expect("\\right",!1),s=fe(n.parseFunction(),"leftright-right"),{type:"leftright",mode:n.mode,body:o,left:i.text,right:s.delim,rightColor:s.color}},"handler"),htmlBuilder:e((e,t)=>{xL(e);for(var a,r,c,l,u,h,n=Nt(e.body,t,!0,["mopen","mclose"]),s=0,o=0,d=!1,i=0;i<n.length;i++)n[i].isMiddle?d=!0:(s=Math.max(n[i].height,s),o=Math.max(n[i].depth,o));if(s*=t.sizeMultiplier,o*=t.sizeMultiplier,e.left==="."?c=y2(t,["mopen"]):c=ki.leftRightDelim(e.left,s,o,t,e.mode,["mopen"]),n.unshift(c),d)for(a=1;a<n.length;a++)u=n[a],r=u.isMiddle,r&&(n[a]=ki.leftRightDelim(r.delim,s,o,r.options,e.mode,[]));return e.right==="."?l=y2(t,["mclose"]):(h=e.rightColor?t.withColor(e.rightColor):t,l=ki.leftRightDelim(e.right,s,o,h,e.mode,["mclose"])),n.push(l),g.makeSpan(["minner"],n,t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{xL(e);var n,o,s=rs(e.body,t);return e.left!=="."&&(o=new _.MathNode("mo",[Ws(e.left,e.mode)]),o.setAttribute("fence","true"),s.unshift(o)),e.right!=="."&&(n=new _.MathNode("mo",[Ws(e.right,e.mode)]),n.setAttribute("fence","true"),e.rightColor&&n.setAttribute("mathcolor",e.rightColor),s.push(n)),nv(s)},"mathmlBuilder")}),M({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:e((e,t)=>{var n=jh(t[0],e);if(!e.parser.leftrightDepth)throw new O("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},"handler"),htmlBuilder:e((e,t)=>{if(e.delim===".")n=y2(t,[]);else{n=ki.sizedDelim(e.delim,1,t,e.mode,[]);var n,s={delim:e.delim,options:t};n.isMiddle=s}return n},"htmlBuilder"),mathmlBuilder:e((e)=>{var s=e.delim==="\\vert"||e.delim==="|"?Ws("|","text"):Ws(e.delim,e.mode),n=new _.MathNode("mo",[s]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")}),Hv=e((e,t)=>{var o,r,d,v,n=g.wrapFragment(Ce(e.body,t),t),s=e.label.slice(1),u=t.sizeMultiplier,l=0,f=X.isCharacterBox(e.body);if(s==="sout")o=g.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/u,l=-.5*t.fontMetrics().xHeight;else if(s==="phase"){var m=nt({number:.6,unit:"pt"},t),p=nt({number:.35,unit:"ex"},t),b=t.havingBaseSizing();u=u/b.sizeMultiplier,d=n.height+n.depth+m+p,n.style.paddingLeft=E(d/2+m);var h=Math.floor(1e3*d*u),y=xIe(h),j=new la([new lr("phase",y)],{width:"400em",height:E(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=g.makeSvgSpan(["hide-tail"],[j],t),o.style.height=E(d),l=n.depth+m+p}else{/cancel/.test(s)?f||n.classes.push("cancel-pad"):s==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var a=0,c=0,i=0;/box/.test(s)?(i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),a=t.fontMetrics().fboxsep+(s==="colorbox"?0:i),c=a):s==="angl"?(i=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),a=4*i,c=Math.max(0,.25-n.depth)):(a=f?.2:0,c=a),o=qi.encloseSpan(n,s,a,c,t),/fbox|boxed|fcolorbox/.test(s)?(o.style.borderStyle="solid",o.style.borderWidth=E(i)):s==="angl"&&i!==.049&&(o.style.borderTopWidth=E(i),o.style.borderRightWidth=E(i)),l=n.depth+c,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}return e.backgroundColor?r=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},t):(v=/cancel|phase/.test(s)?["svg-align"]:[],r=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:v}]},t)),/cancel/.test(s)&&(r.height=n.height,r.depth=n.depth),/cancel/.test(s)&&!f?g.makeSpan(["mord","cancel-lap"],[r],t):g.makeSpan(["mord"],[r],t)},"htmlBuilder$7"),Wv=e((e,t)=>{var o,s=0,n=new _.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ve(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":s=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*s+"pt"),n.setAttribute("height","+"+2*s+"pt"),n.setAttribute("lspace",s+"pt"),n.setAttribute("voffset",s+"pt"),e.label==="\\fcolorbox"&&(o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),n.setAttribute("style","border: "+o+"em solid "+String(e.borderColor)));break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6"),M({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t){var{parser:s,funcName:o}=e,i=fe(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:s.mode,label:o,backgroundColor:i,body:a}},htmlBuilder:Hv,mathmlBuilder:Wv}),M({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t){var{parser:s,funcName:o}=e,i=fe(t[0],"color-token").color,a=fe(t[1],"color-token").color,r=t[2];return{type:"enclose",mode:s.mode,label:o,backgroundColor:a,borderColor:i,body:r}},htmlBuilder:Hv,mathmlBuilder:Wv}),M({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),M({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:s}=e,o=t[0];return{type:"enclose",mode:n.mode,label:s,body:o}},htmlBuilder:Hv,mathmlBuilder:Wv}),M({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}}),iT={},e(Io,"defineEnvironment"),YF={},e(r,"defineMacro"),e(OL,"getHLines"),um=e(e=>{var t=e.parser.settings;if(!t.displayMode)throw new O("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),e($5,"getAutoTag"),e(Oa,"parseArray"),e(W5,"dCellStyle"),ei=e(function(t,n){var s,o,i,l,u,h,m,f,p,_,x,M,F,z,V,$,W,U,K,Q,T=t.body.length,G=t.hLinesBeforeRow,w=0,r=new Array(T),S=[],A=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),N=1/n.fontMetrics().ptPerEm,B=5*N;t.colSeparationType&&t.colSeparationType==="small"&&(K=n.havingStyle(Z.SCRIPT).sizeMultiplier,B=.2778*(K/n.sizeMultiplier));var ne=t.colSeparationType==="CD"?nt({number:3,unit:"ex"},n):12*N,se=3*N,q=t.arraystretch*ne,oe=.7*q,Y=.3*q,c=0;function D(e){for(var t=0;t<e.length;++t)t>0&&(c+=.25),S.push({pos:c,isDashed:e[t]})}for(e(D,"setHLinePos"),D(G[0]),s=0;s<t.body.length;++s){var y=t.body[s],k=oe,d=Y;w<y.length&&(w=y.length),p=new Array(y.length);for(o=0;o<y.length;++o)f=Ce(y[o],n),d<f.depth&&(d=f.depth),k<f.height&&(k=f.height),p[o]=f;z=t.rowGaps[s],l=0,z&&(l=nt(z,n),l>0&&(l+=Y,d<l&&(d=l),l=0)),t.addJot&&(d+=se),p.height=k,p.depth=d,c+=k,p.pos=c,c+=d+l,r[s]=p,D(G[s+1])}var a,j,C=c/2+n.fontMetrics().axisHeight,P=t.cols||[],v=[],L=[];if(t.tags&&t.tags.some(e=>e))for(s=0;s<T;++s){var R=r[s],J=R.pos-C,H=t.tags[s],b=void 0;H===!0?b=g.makeSpan(["eqn-num"],[],n):H===!1?b=g.makeSpan([],[],n):b=g.makeSpan([],Nt(H,n,!0),n),b.depth=R.depth,b.height=R.height,L.push({type:"elem",elem:b,shift:J})}for(o=0,j=0;o<w||j<P.length;++o,++j){for(i=P[j]||{},F=!0;i.type==="separator";){if(F||(a=g.makeSpan(["arraycolsep"],[]),a.style.width=E(n.fontMetrics().doubleRuleSep),v.push(a)),i.separator==="|"||i.separator===":")U=i.separator==="|"?"solid":"dashed",m=g.makeSpan(["vertical-separator"],[],n),m.style.height=E(c),m.style.borderRightWidth=E(A),m.style.borderRightStyle=U,m.style.margin="0 "+E(-A/2),$=c-C,$&&(m.style.verticalAlign=E(-$)),v.push(m);else throw new O("Invalid separator type: "+i.separator);j++,i=P[j]||{},F=!1}if(!(o>=w)){h=void 0,(o>0||t.hskipBeforeAndAfter)&&(h=X.deflt(i.pregap,B),h!==0&&(a=g.makeSpan(["arraycolsep"],[]),a.style.width=E(h),v.push(a))),u=[];for(s=0;s<T;++s)_=r[s],x=_[o],x&&(Q=_.pos-C,x.depth=_.depth,x.height=_.height,u.push({type:"elem",elem:x,shift:Q}));u=g.makeVList({positionType:"individualShift",children:u},n),u=g.makeSpan(["col-align-"+(i.align||"c")],[u]),v.push(u),(o<w-1||t.hskipBeforeAndAfter)&&(h=X.deflt(i.postgap,B),h!==0&&(a=g.makeSpan(["arraycolsep"],[]),a.style.width=E(h),v.push(a)))}}if(r=g.makeSpan(["mtable"],v),S.length>0){for(var te=g.makeLineSpan("hline",n,A),ee=g.makeLineSpan("hdashline",n,A),I=[{type:"elem",elem:r,shift:0}];S.length>0;)W=S.pop(),V=W.pos-C,W.isDashed?I.push({type:"elem",elem:ee,shift:V}):I.push({type:"elem",elem:te,shift:V});r=g.makeVList({positionType:"individualShift",children:I},n)}return L.length===0?g.makeSpan(["mord"],[r],n):(M=g.makeVList({positionType:"individualShift",children:L},n),M=g.makeSpan(["tag"],[M],n),g.makeFragment([r,M]))},"htmlBuilder"),DPe={c:"center ",l:"left ",r:"right "},qo=e(function(e,t){for(var g=[],x=new _.MathNode("mtd",[],["mtr-glue"]),O=new _.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var w=e.body[l],r=[],f=0;f<w.length;f++)r.push(new _.MathNode("mtd",[Ve(w[f],t)]));e.tags&&e.tags[l]&&(r.unshift(x),r.push(x),e.leqno?r.unshift(O):r.push(O)),g.push(new _.MathNode("mtr",r))}if(n=new _.MathNode("mtable",g),v=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0),n.setAttribute("rowspacing",E(v)),a="",m="",e.cols&&e.cols.length>0){var n,o,i,a,c,d,m,v,s=e.cols,h="",u=!1,b=0,j=s.length;s[0].type==="separator"&&(a+="top ",b=1),s[s.length-1].type==="separator"&&(a+="bottom ",j-=1);for(i=b;i<j;i++)s[i].type==="align"?(m+=DPe[s[i].align],u&&(h+="none "),u=!0):s[i].type==="separator"&&u&&(h+=s[i].separator==="|"?"solid ":"dashed ",u=!1);n.setAttribute("columnalign",m.trim()),/[sd]/.test(h)&&n.setAttribute("columnlines",h.trim())}if(e.colSeparationType==="align"){for(var C=e.cols||[],y="",p=1;p<C.length;p++)y+=p%2?"0em ":"1em ";n.setAttribute("columnspacing",y.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?n.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?n.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?n.setAttribute("columnspacing","0.5em"):n.setAttribute("columnspacing","1em");d="",o=e.hLinesBeforeRow,a+=o[0].length>0?"left ":"",a+=o[o.length-1].length>0?"right ":"";for(c=1;c<o.length-1;c++)d+=o[c].length===0?"none ":o[c][0]?"dashed ":"solid ";return/[sd]/.test(d)&&n.setAttribute("rowlines",d.trim()),a!==""&&(n=new _.MathNode("menclose",[n]),n.setAttribute("notation",a.trim())),e.arraystretch&&e.arraystretch<1&&(n=new _.MathNode("mstyle",[n]),n.setAttribute("scriptlevel","1")),n},"mathmlBuilder"),UF=e(function(e,t){e.envName.indexOf("ed")===-1&&um(e);var n,o,i,a,r,c,d,u,h=[],p=e.envName.indexOf("at")>-1?"alignat":"align",m=e.envName==="split",l=Oa(e.parser,{cols:h,addJot:!0,autoTag:m?void 0:$5(e.envName),emptySingleRow:!0,colSeparationType:p,maxNumCols:m?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,f={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(d="",a=0;a<t[0].body.length;a++)u=fe(t[0].body[a],"textord"),d+=u.text;i=Number(d),s=i*2}o=!s,l.body.forEach(function(e){for(t=1;t<e.length;t+=2){var t,n,a=fe(e[t],"styling"),r=fe(a.body[0],"ordgroup");r.body.unshift(f)}if(o)s<e.length&&(s=e.length);else if(n=e.length/2,i<n)throw new O("Too many math in a row: "+("expected "+i+", but got "+n),e[0])});for(n=0;n<s;++n)c="r",r=0,n%2===1?c="l":n>0&&o&&(r=1),h[n]={type:"align",align:c,pregap:r,postgap:0};return l.colSeparationType=o?"align":"alignat",l},"alignedHandler"),Io({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var s=_h(t[0]),o=s?[t[0]]:fe(t[0],"ordgroup").body,n=o.map(function(e){var n=B5(e),t=n.text;if("lcr".indexOf(t)!==-1)return{type:"align",align:t};if(t==="|")return{type:"separator",separator:"|"};if(t===":")return{type:"separator",separator:":"};throw new O("Unknown column alignment: "+t,e)}),i={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Oa(e.parser,i,W5(e.envName))},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t,s,a,o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"&&(t=e.parser,t.consumeSpaces(),t.fetch().text==="[")){if(t.consume(),t.consumeSpaces(),n=t.fetch().text,"lcr".indexOf(n)===-1)throw new O("Expected l or c or r",t.nextToken);t.consume(),t.consumeSpaces(),t.expect("]"),t.consume(),i.cols=[{type:"align",align:n}]}return s=Oa(e.parser,i,W5(e.envName)),a=Math.max(0,...s.body.map(e=>e.length)),s.cols=new Array(a).fill({type:"align",align:n}),o?{type:"leftright",mode:e.mode,body:[s],left:o[0],right:o[1],rightColor:void 0}:s},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var n={arraystretch:.5},t=Oa(e.parser,n,"script");return t.colSeparationType="small",t},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n,o=_h(t[0]),i=o?[t[0]]:fe(t[0],"ordgroup").body,s=i.map(function(e){var n=B5(e),t=n.text;if("lc".indexOf(t)!==-1)return{type:"align",align:t};throw new O("Unknown column alignment: "+t,e)});if(s.length>1)throw new O("{subarray} can contain only one column");if(n={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5},n=Oa(e.parser,n,"script"),n.body.length>0&&n.body[0].length>1)throw new O("{subarray} can contain only one column");return n},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Oa(e.parser,t,W5(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:UF,htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){X.contains(["gather","gather*"],e.envName)&&um(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$5(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Oa(e.parser,t,"display")},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:UF,htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){um(e);var t={autoTag:$5(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Oa(e.parser,t,"display")},htmlBuilder:ei,mathmlBuilder:qo}),Io({type:"array",names:["CD"],props:{numArgs:0},handler(e){return um(e),UBe(e.parser)},htmlBuilder:ei,mathmlBuilder:qo}),r(`\\nonumber`,"\\gdef\\@eqnsw{0}"),r(`\\notag`,`\\nonumber`),M({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e){throw new O(e.funcName+" valid only within array environment")}}),WF=iT,M({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:s,funcName:l}=e,o=t[0];if(o.type!=="ordgroup")throw new O("Invalid environment name",o);for(n="",i=0;i<o.body.length;++i)n+=fe(o.body[i],"textord").text;if(l==="\\begin"){if(!WF.hasOwnProperty(n))throw new O("No such environment: "+n,o);var{args:d,optArgs:u}=s.parseArguments("\\begin{"+n+"}",r),n,i,a,c,r=WF[n],h={mode:s.mode,envName:n,parser:s},m=r.handler(h,d,u);if(s.expect("\\end",!1),c=s.nextToken,a=fe(s.parseFunction(),"environment"),a.name!==n)throw new O("Mismatch: \\begin{"+n+"} matched by \\end{"+a.name+"}",c);return m}return{type:"environment",mode:s.mode,name:n,nameGroup:o}}}),$F=e((e,t)=>{var n=e.font,s=t.withFont(n);return Ce(e.body,s)},"htmlBuilder$5"),VF=e((e,t)=>{var n=e.font,s=t.withFont(n);return Ve(e.body,s)},"mathmlBuilder$4"),BF={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},M({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:e((e,t)=>{var{parser:s,funcName:o}=e,i=z2(t[0]),n=o;return n in BF&&(n=BF[n]),{type:"font",mode:s.mode,font:n.slice(1),body:i}},"handler"),htmlBuilder:$F,mathmlBuilder:VF}),M({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:e((e,t)=>{var{parser:s}=e,n=t[0],o=X.isCharacterBox(n);return{type:"mclass",mode:s.mode,mclass:s3(n),body:[{type:"font",mode:s.mode,font:"boldsymbol",body:n}],isCharacterBox:o}},"handler")}),M({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:e((e)=>{var{parser:n,funcName:s,breakOnTokenText:o}=e,{mode:i}=n,a=n.parseExpression(!0,o),r="math"+s.slice(1);return{type:"font",mode:i,font:r,body:{type:"ordgroup",mode:n.mode,body:a}}},"handler"),htmlBuilder:$F,mathmlBuilder:VF}),IF=e((e,t)=>{var n=t;return e==="display"?n=n.id>=Z.SCRIPT.id?n.text():Z.DISPLAY:e==="text"&&n.size===Z.DISPLAY.size?n=Z.TEXT:e==="script"?n=Z.SCRIPT:e==="scriptscript"&&(n=Z.SCRIPTSCRIPT),n},"adjustStyle"),Jv=e((e,t)=>{var s,o,i,a,c,d,u,h,m,f,p,v,b,j,y,_,r=IF(e.size,t.style),O=r.fracNum(),w=r.fracDen(),l=t.havingStyle(O),n=Ce(e.numer,l,t);return e.continued&&(j=8.5/t.fontMetrics().ptPerEm,b=3.5/t.fontMetrics().ptPerEm,n.height=n.height<j?j:n.height,n.depth=n.depth<b?b:n.depth),l=t.havingStyle(w),u=Ce(e.denom,l,t),e.hasBarLine?(e.barSize?(o=nt(e.barSize,t),c=g.makeLineSpan("frac-line",t,o)):c=g.makeLineSpan("frac-line",t),o=c.height,h=c.height):(c=null,o=0,h=t.fontMetrics().defaultRuleThickness),r.size===Z.DISPLAY.size||e.size==="display"?(i=t.fontMetrics().num1,o>0?s=3*h:s=7*h,a=t.fontMetrics().denom1):(o>0?(i=t.fontMetrics().num2,s=h):(i=t.fontMetrics().num3,s=3*h),a=t.fontMetrics().denom2),c?(d=t.fontMetrics().axisHeight,i-n.depth-(d+.5*o)<s&&(i+=s-(i-n.depth-(d+.5*o))),d-.5*o-(u.height-a)<s&&(a+=s-(d-.5*o-(u.height-a))),_=-(d-.5*o),m=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:a},{type:"elem",elem:c,shift:_},{type:"elem",elem:n,shift:-i}]},t)):(p=i-n.depth-(u.height-a),p<s&&(i+=.5*(s-p),a+=.5*(s-p)),m=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:a},{type:"elem",elem:n,shift:-i}]},t)),l=t.havingStyle(r),m.height*=l.sizeMultiplier/t.sizeMultiplier,m.depth*=l.sizeMultiplier/t.sizeMultiplier,r.size===Z.DISPLAY.size?f=t.fontMetrics().delim1:r.size===Z.SCRIPTSCRIPT.size?f=t.havingStyle(Z.SCRIPT).fontMetrics().delim2:f=t.fontMetrics().delim2,e.leftDelim==null?y=y2(t,["mopen"]):y=ki.customSizedDelim(e.leftDelim,f,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?v=g.makeSpan([]):e.rightDelim==null?v=y2(t,["mclose"]):v=ki.customSizedDelim(e.rightDelim,f,!0,t.havingStyle(r),e.mode,["mclose"]),g.makeSpan(["mord"].concat(l.sizingClasses(t)),[y,g.makeSpan(["mfrac"],[m]),v],t)},"htmlBuilder$4"),e9=e((e,t)=>{var s,o,i,a,r,c,n=new _.MathNode("mfrac",[Ve(e.numer,t),Ve(e.denom,t)]);return e.hasBarLine?e.barSize&&(r=nt(e.barSize,t),n.setAttribute("linethickness",E(r))):n.setAttribute("linethickness","0px"),o=IF(e.size,t.style),o.size!==t.style.size&&(n=new _.MathNode("mstyle",[n]),c=o.size===Z.DISPLAY.size?"true":"false",n.setAttribute("displaystyle",c),n.setAttribute("scriptlevel","0")),e.leftDelim!=null||e.rightDelim!=null?(s=[],e.leftDelim!=null&&(i=new _.MathNode("mo",[new _.TextNode(e.leftDelim.replace("\\",""))]),i.setAttribute("fence","true"),s.push(i)),(s.push(n),e.rightDelim!=null)&&(a=new _.MathNode("mo",[new _.TextNode(e.rightDelim.replace("\\",""))]),a.setAttribute("fence","true"),s.push(a)),nv(s)):n},"mathmlBuilder$3"),M({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:e((e,t)=>{var{parser:r,funcName:a}=e,n,c=t[0],l=t[1],s=null,o=null,i="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",o=")";break;case"\\\\bracefrac":n=!1,s="\\{",o="\\}";break;case"\\\\brackfrac":n=!1,s="[",o="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":i="display";break;case"\\tfrac":case"\\tbinom":i="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:c,denom:l,hasBarLine:n,leftDelim:s,rightDelim:o,size:i,barSize:null}},"handler"),htmlBuilder:Jv,mathmlBuilder:e9}),M({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:e((e,t)=>{var{parser:n,funcName:i}=e,s=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:s,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),M({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:n,funcName:s,token:o}=e,t;switch(s){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:o}}}),DF=["display","text","script","scriptscript"],zF=e(function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t},"delimFromValue"),M({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:h}=e,n,s,r,l,f=t[4],m=t[5],i=z2(t[0]),d=i.type==="atom"&&i.family==="open"?zF(i.text):null,a=z2(t[1]),u=a.type==="atom"&&a.family==="close"?zF(a.text):null,c=fe(t[2],"size"),o=null;return c.isBlank?r=!0:(o=c.value,r=o.number>0),s="auto",n=t[3],n.type==="ordgroup"?n.body.length>0&&(l=fe(n.body[0],"textord"),s=DF[Number(l.text)]):(n=fe(n,"textord"),s=DF[Number(n.text)]),{type:"genfrac",mode:h.mode,numer:f,denom:m,continued:!1,hasBarLine:r,barSize:o,leftDelim:d,rightDelim:u,size:s}},htmlBuilder:Jv,mathmlBuilder:e9}),M({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:o,token:s}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:fe(t[0],"size").value,token:s}}}),M({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:e((e,t)=>{var{parser:s,funcName:r}=e,o=t[0],n=mBe(fe(t[1],"infix").size),i=t[2],a=n.number>0;return{type:"genfrac",mode:s.mode,numer:o,denom:i,continued:!1,hasBarLine:a,barSize:n,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:Jv,mathmlBuilder:e9}),AF=e((e,t)=>{a=t.style,e.type==="supsub"?(o=e.sup?Ce(e.sup,t.havingStyle(a.sup()),t):Ce(e.sub,t.havingStyle(a.sub()),t),n=fe(e.base,"horizBrace")):n=fe(e,"horizBrace");var n,s,o,i,a,r=Ce(n.base,t.havingBaseStyle(Z.DISPLAY)),c=qi.svgSpan(n,t);return(n.isOver?(s=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:.1},{type:"elem",elem:c}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=g.makeVList({positionType:"bottom",positionData:r.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:r}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),o)&&(i=g.makeSpan(["mord",n.isOver?"mover":"munder"],[s],t),n.isOver?s=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:o}]},t):s=g.makeVList({positionType:"bottom",positionData:i.depth+.2+o.height+o.depth,children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:i}]},t)),g.makeSpan(["mord",n.isOver?"mover":"munder"],[s],t)},"htmlBuilder$3"),zPe=e((e,t)=>{var n=qi.mathMLnode(e.label);return new _.MathNode(e.isOver?"mover":"munder",[Ve(e.base,t),n])},"mathmlBuilder$2"),M({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:s,funcName:n}=e;return{type:"horizBrace",mode:s.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:AF,mathmlBuilder:zPe}),M({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e,o=t[1],s=fe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:n.mode,href:s,body:pt(o)}:n.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:e((e,t)=>{var n=Nt(e.body,t,!1);return g.makeAnchor(e.href,[],n,t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var n=br(e.body,t);return n instanceof Gs||(n=new Gs("mrow",[n])),n.setAttribute("href",e.href),n},"mathmlBuilder")}),M({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e,o,i,a,r,s=fe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:s}))return n.formatUnsupportedCmd("\\url");for(a=[],o=0;o<s.length;o++)i=s[o],i==="~"&&(i="\\textasciitilde"),a.push({type:"textord",mode:"text",text:i});return r={type:"text",mode:n.mode,font:"\\texttt",body:a},{type:"href",mode:n.mode,href:s,body:pt(r)}},"handler")}),M({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:pt(t[0])}},htmlBuilder(e,t){var n=Nt(e.body,t,!1);return g.makeFragment(n)},mathmlBuilder(e,t){return new _.MathNode("mrow",rs(e.body,t))}}),M({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:e((e,t)=>{var{parser:o,funcName:l,token:u}=e,s,i,a,r,c,n=fe(t[0],"raw").string,d=t[1];switch(o.settings.strict&&o.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode"),s={},l){case"\\htmlClass":s.class=n,i={command:"\\htmlClass",class:n};break;case"\\htmlId":s.id=n,i={command:"\\htmlId",id:n};break;case"\\htmlStyle":s.style=n,i={command:"\\htmlStyle",style:n};break;case"\\htmlData":{for(c=n.split(","),a=0;a<c.length;a++){if(r=c[a].split("="),r.length!==2)throw new O("Error parsing key-value for \\htmlData");s["data-"+r[0].trim()]=r[1].trim()}i={command:"\\htmlData",attributes:s};break}default:throw new Error("Unrecognized html command")}return o.settings.isTrusted(i)?{type:"html",mode:o.mode,attributes:s,body:pt(d)}:o.formatUnsupportedCmd(l)},"handler"),htmlBuilder:e((e,t)=>{var n,s,i=Nt(e.body,t,!1),o=["enclosing"];e.attributes.class&&o.push(...e.attributes.class.trim().split(/\s+/)),s=g.makeSpan(o,i,t);for(n in e.attributes)n!=="class"&&e.attributes.hasOwnProperty(n)&&s.setAttribute(n,e.attributes[n]);return s},"htmlBuilder"),mathmlBuilder:e((e,t)=>br(e.body,t),"mathmlBuilder")}),M({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:pt(t[0]),mathml:pt(t[1])}},"handler"),htmlBuilder:e((e,t)=>{var n=Nt(e.html,t,!1);return g.makeFragment(n)},"htmlBuilder"),mathmlBuilder:e((e,t)=>br(e.mathml,t),"mathmlBuilder")}),a9=e(function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n,t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new O("Invalid size: '"+e+"' in \\includegraphics");if(n={number:+(t[1]+t[2]),unit:t[3]},!MN(n))throw new O("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n},"sizeData"),M({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:e((e,t,n)=>{var{parser:r}=e,o,i,a,l={number:0,unit:"em"},d={number:.9,unit:"em"},u={number:0,unit:"em"},s="";if(n[0])for(var m=fe(n[0],"raw").string,h=m.split(","),c=0;c<h.length;c++)if(o=h[c].split("="),o.length===2)switch(i=o[1].trim(),o[0].trim()){case"alt":s=i;break;case"width":l=a9(i);break;case"height":d=a9(i);break;case"totalheight":u=a9(i);break;default:throw new O("Invalid key: '"+o[0]+"' in \\includegraphics.")}return a=fe(t[0],"url").url,s===""&&(s=a,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:a})?{type:"includegraphics",mode:r.mode,alt:s,width:l,height:d,totalheight:u,src:a}:r.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:e((e,t)=>{var s,o,i,a=nt(e.height,t),n=0;return e.totalheight.number>0&&(n=nt(e.totalheight,t)-a),s=0,e.width.number>0&&(s=nt(e.width,t)),o={height:E(a+n)},s>0&&(o.width=E(s)),n>0&&(o.verticalAlign=E(-n)),i=new gIe(e.src,e.alt,o),i.height=a,i.depth=n,i},"htmlBuilder"),mathmlBuilder:e((e,t)=>{n=new _.MathNode("mglyph",[]),n.setAttribute("alt",e.alt);var n,i,o=nt(e.height,t),s=0;return(e.totalheight.number>0&&(s=nt(e.totalheight,t)-o,n.setAttribute("valign",E(-s))),n.setAttribute("height",E(o+s)),e.width.number>0)&&(i=nt(e.width,t),n.setAttribute("width",E(i))),n.setAttribute("src",e.src),n},"mathmlBuilder")}),M({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:s}=e,i,a,o=fe(t[0],"size");return n.settings.strict&&(a=s[1]==="m",i=o.value.unit==="mu",a?(i||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):i&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")),{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(e,t){return g.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=nt(e.dimension,t);return new _.SpaceNode(n)}}),M({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:e((e,t)=>{var{parser:n,funcName:s}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:s.slice(5),body:o}},"handler"),htmlBuilder:e((e,t)=>{e.alignment==="clap"?(s=g.makeSpan([],[Ce(e.body,t)]),s=g.makeSpan(["inner"],[s],t)):s=g.makeSpan(["inner"],[Ce(e.body,t)]);var s,i=g.makeSpan(["fix"],[]),n=g.makeSpan([e.alignment],[s,i],t),o=g.makeSpan(["strut"]);return o.style.height=E(n.height+n.depth),n.depth&&(o.style.verticalAlign=E(-n.depth)),n.children.unshift(o),n=g.makeSpan(["thinbox"],[n],t),g.makeSpan(["mord","vbox"],[n],t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var s,n=new _.MathNode("mpadded",[Ve(e.body,t)]);return e.alignment!=="rlap"&&(s=e.alignment==="llap"?"-1":"-0.5",n.setAttribute("lspace",s+"width")),n.setAttribute("width","0px"),n},"mathmlBuilder")}),M({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e){var{funcName:i,parser:n}=e,s,o,a=n.mode;return n.switchMode("math"),s=i==="\\("?"\\)":"$",o=n.parseExpression(!1,s),n.expect(s),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:o}}}),M({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e){throw new O("Mismatched "+e.funcName)}}),wF=e((e,t)=>{switch(t.style.size){case Z.DISPLAY.size:return e.display;case Z.TEXT.size:return e.text;case Z.SCRIPT.size:return e.script;case Z.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle"),M({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:e((e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:pt(t[0]),text:pt(t[1]),script:pt(t[2]),scriptscript:pt(t[3])}},"handler"),htmlBuilder:e((e,t)=>{var n=wF(e,t),s=Nt(n,t,!1);return g.makeFragment(s)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var n=wF(e,t);return br(n,t)},"mathmlBuilder")}),_F=e((e,t,n,s,o,i,a)=>{e=g.makeSpan([],[e]);var r,c,l,d,u,h,m,f,p,v,b=n&&X.isCharacterBox(n);if(t&&(d=Ce(t,s.havingStyle(o.sup()),s),c={elem:d,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-d.depth)}),n&&(u=Ce(n,s.havingStyle(o.sub()),s),r={elem:u,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-u.height)}),c&&r)f=s.fontMetrics().bigOpSpacing5+r.elem.height+r.elem.depth+r.kern+e.depth+a,l=g.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:r.elem,marginLeft:E(-i)},{type:"kern",size:r.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:E(i)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s);else if(r)p=e.height-a,l=g.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:r.elem,marginLeft:E(-i)},{type:"kern",size:r.kern},{type:"elem",elem:e}]},s);else if(c)v=e.depth+a,l=g.makeVList({positionType:"bottom",positionData:v,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:E(i)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s);else return e;return h=[l],r&&i!==0&&!b&&(m=g.makeSpan(["mspace"],[],s),m.style.marginRight=E(i),h.unshift(m)),g.makeSpan(["mop","op-limits"],h,s)},"assembleSupSub"),yF=["\\smallint"],El=e((e,t)=>{d=!1,e.type==="supsub"?(v=e.sup,b=e.sub,n=fe(e.base,"op"),d=!0):n=fe(e,"op");var n,s,o,i,a,c,l,d,u,h,m,f,v,b,p=t.style,r=!1;if(p.size===Z.DISPLAY.size&&n.symbol&&!X.contains(yF,n.name)&&(r=!0),n.symbol)h=r?"Size2-Regular":"Size1-Regular",o="",((n.name==="\\oiint"||n.name==="\\oiiint")&&(o=n.name.slice(1),n.name=o==="oiint"?"\\iint":"\\iiint"),s=g.makeSymbol(n.name,h,"math",t,["mop","op-symbol",r?"large-op":"small-op"]),o.length>0)&&(m=s.italic,f=g.staticSvg(o+"Size"+(r?"2":"1"),t),s=g.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:f,shift:r?.08:0}]},t),n.name="\\"+o,s.classes.unshift("mop"),s.italic=m);else if(n.body)a=Nt(n.body,t,!0),a.length===1&&a[0]instanceof Ys?(s=a[0],s.classes[0]="mop"):s=g.makeSpan(["mop"],a,t);else{for(l=[],c=1;c<n.name.length;c++)l.push(g.mathsym(n.name[c],n.mode,t));s=g.makeSpan(["mop"],l,t)}return i=0,u=0,(s instanceof Ys||n.name==="\\oiint"||n.name==="\\oiiint")&&!n.suppressBaseShift&&(i=(s.height-s.depth)/2-t.fontMetrics().axisHeight,u=s.italic),d?_F(s,v,b,t,p,u,i):(i&&(s.style.position="relative",s.style.top=E(i)),s)},"htmlBuilder$2"),V4=e((e,t)=>{if(e.symbol)n=new Gs("mo",[Ws(e.name,e.mode)]),X.contains(yF,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Gs("mo",rs(e.body,t));else{n=new Gs("mi",[new j2(e.name.slice(1))]);var n,s=new Gs("mo",[Ws("⁡","text")]);e.parentIsSupSub?n=new Gs("mrow",[n,s]):n=ML([n,s])}return n},"mathmlBuilder$1"),FPe={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"},M({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:e((e)=>{var{parser:s,funcName:o}=e,n=o;return n.length===1&&(n=FPe[n]),{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},"handler"),htmlBuilder:El,mathmlBuilder:V4}),M({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:e((e,t)=>{var{parser:n}=e,s=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:pt(s)}},"handler"),htmlBuilder:El,mathmlBuilder:V4}),MPe={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"},M({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:El,mathmlBuilder:V4}),M({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:El,mathmlBuilder:V4}),M({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:n,funcName:s}=e,t=s;return t.length===1&&(t=MPe[t]),{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:t}},htmlBuilder:El,mathmlBuilder:V4}),oF=e((e,t)=>{if(i=!1,e.type==="supsub"?(c=e.sup,l=e.sub,n=fe(e.base,"operatorname"),i=!0):n=fe(e,"operatorname"),n.body.length>0){for(var n,s,o,i,c,l,d=n.body.map(e=>{var t=e.text;return typeof t=="string"?{type:"textord",mode:e.mode,text:t}:e}),a=Nt(d,t.withFont("mathrm"),!0),r=0;r<a.length;r++)o=a[r],o instanceof Ys&&(o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"));s=g.makeSpan(["mop"],a,t)}else s=g.makeSpan(["mop"],[],t);return i?_F(s,c,l,t,t.style,0,0):s},"htmlBuilder$1"),SPe=e((e,t)=>{for(var n,i,a,c,l,s=rs(e.body,t.withFont("mathrm")),o=!0,r=0;r<s.length;r++)if(n=s[r],!(n instanceof _.SpaceNode))if(n instanceof _.MathNode)switch(n.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{i=n.children[0],n.children.length===1&&i instanceof _.TextNode?i.text=i.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):o=!1;break}default:o=!1}else o=!1;return o&&(l=s.map(e=>e.toText()).join(""),s=[new _.TextNode(l)]),a=new _.MathNode("mi",s),a.setAttribute("mathvariant","normal"),c=new _.MathNode("mo",[Ws("⁡","text")]),e.parentIsSupSub?new _.MathNode("mrow",[a,c]):_.newDocumentFragment([a,c])},"mathmlBuilder"),M({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:e((e,t)=>{var{parser:n,funcName:s}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:pt(o),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:oF,mathmlBuilder:SPe}),r("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Hc({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?g.makeFragment(Nt(e.body,t,!1)):g.makeSpan(["mord"],Nt(e.body,t,!0),t)},mathmlBuilder(e,t){return br(e.body,t,!0)}}),M({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,s=t[0];return{type:"overline",mode:n.mode,body:s}},htmlBuilder(e,t){var s=Ce(e.body,t.havingCrampedStyle()),o=g.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,i=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:3*n},{type:"elem",elem:o},{type:"kern",size:n}]},t);return g.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var n,s=new _.MathNode("mo",[new _.TextNode("‾")]);return s.setAttribute("stretchy","true"),n=new _.MathNode("mover",[Ve(e.body,t),s]),n.setAttribute("accent","true"),n}}),M({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e,s=t[0];return{type:"phantom",mode:n.mode,body:pt(s)}},"handler"),htmlBuilder:e((e,t)=>{var n=Nt(e.body,t.withPhantom(),!1);return g.makeFragment(n)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var n=rs(e.body,t);return new _.MathNode("mphantom",n)},"mathmlBuilder")}),M({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e,s=t[0];return{type:"hphantom",mode:n.mode,body:s}},"handler"),htmlBuilder:e((e,t)=>{var s,n=g.makeSpan([],[Ce(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(s=0;s<n.children.length;s++)n.children[s].height=0,n.children[s].depth=0;return n=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),g.makeSpan(["mord"],[n],t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var s=rs(pt(e.body),t),o=new _.MathNode("mphantom",s),n=new _.MathNode("mpadded",[o]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n},"mathmlBuilder")}),M({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:e((e,t)=>{var{parser:n}=e,s=t[0];return{type:"vphantom",mode:n.mode,body:s}},"handler"),htmlBuilder:e((e,t)=>{var n=g.makeSpan(["inner"],[Ce(e.body,t.withPhantom())]),s=g.makeSpan(["fix"],[]);return g.makeSpan(["mord","rlap"],[n,s],t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var s=rs(pt(e.body),t),o=new _.MathNode("mphantom",s),n=new _.MathNode("mpadded",[o]);return n.setAttribute("width","0px"),n},"mathmlBuilder")}),M({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,s=fe(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:s,body:o}},htmlBuilder(e,t){var n=Ce(e.body,t),s=nt(e.dy,t);return g.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new _.MathNode("mpadded",[Ve(e.body,t)]),s=e.dy.number+e.dy.unit;return n.setAttribute("voffset",s),n}}),M({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),M({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:o}=e,s=n[0],i=fe(t[0],"size"),a=fe(t[1],"size");return{type:"rule",mode:o.mode,shift:s&&fe(s,"size").value,width:i.value,height:a.value}},htmlBuilder(e,t){var n=g.makeSpan(["mord","rule"],[],t),i=nt(e.width,t),s=nt(e.height,t),o=e.shift?nt(e.shift,t):0;return n.style.borderRightWidth=E(i),n.style.borderTopWidth=E(s),n.style.bottom=E(o),n.width=i,n.height=s+o,n.depth=-o,n.maxFontSize=s*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n,i=nt(e.width,t),a=nt(e.height,t),s=e.shift?nt(e.shift,t):0,r=t.color&&t.getColor()||"black",o=new _.MathNode("mspace");return o.setAttribute("mathbackground",r),o.setAttribute("width",E(i)),o.setAttribute("height",E(a)),n=new _.MathNode("mpadded",[o]),s>=0?n.setAttribute("height",E(s)):(n.setAttribute("height",E(s)),n.setAttribute("depth",E(-s))),n.setAttribute("voffset",E(s)),n}}),e(yL,"sizingGroup"),tF=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small",`\\normalsize`,"\\large","\\Large","\\LARGE","\\huge","\\Huge"],APe=e((e,t)=>{var n=t.havingSize(e.size);return yL(e.body,n,t)},"htmlBuilder"),M({type:"sizing",names:tF,props:{numArgs:0,allowedInText:!0},handler:e((e)=>{var{breakOnTokenText:s,funcName:o,parser:n}=e,i=n.parseExpression(!1,s);return{type:"sizing",mode:n.mode,size:tF.indexOf(o)+1,body:i}},"handler"),htmlBuilder:APe,mathmlBuilder:e((e,t)=>{var n=t.havingSize(e.size),o=rs(e.body,n),s=new _.MathNode("mstyle",o);return s.setAttribute("mathsize",E(n.sizeMultiplier)),s},"mathmlBuilder")}),M({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:e((e,t,n)=>{var{parser:d}=e,i,a,c,l,s=!1,o=!1,r=n[0]&&fe(n[0],"ordgroup");if(r)for(i="",a=0;a<r.body.length;++a)if(c=r.body[a],i=c.text,i==="t")s=!0;else if(i==="b")o=!0;else{s=!1,o=!1;break}else s=!0,o=!0;return l=t[0],{type:"smash",mode:d.mode,body:l,smashHeight:s,smashDepth:o}},"handler"),htmlBuilder:e((e,t)=>{var s,o,i,n=g.makeSpan([],[Ce(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(s=0;s<n.children.length;s++)n.children[s].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(o=0;o<n.children.length;o++)n.children[o].depth=0;return i=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),g.makeSpan(["mord"],[i],t)},"htmlBuilder"),mathmlBuilder:e((e,t)=>{var n=new _.MathNode("mpadded",[Ve(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n},"mathmlBuilder")}),M({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:s}=e,o=n[0],i=t[0];return{type:"sqrt",mode:s.mode,body:i,index:o}},htmlBuilder(e,t){n=Ce(e.body,t.havingCrampedStyle()),n.height===0&&(n.height=t.fontMetrics().xHeight);var n=g.wrapFragment(n,t),m=t.fontMetrics(),i=m.defaultRuleThickness,l=i;t.style.id<Z.TEXT.id&&(l=t.fontMetrics().xHeight);var{span:a,ruleWidth:r,advanceWidth:u}=ki.sqrtImage(h,t),s,d,h=n.height+n.depth+o+i,o=i+l/4,c=a.height-r;if(c>n.height+n.depth+o&&(o=(o+c-n.height-n.depth)/2),d=a.height-n.height-o-r,n.style.paddingLeft=E(u),s=g.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:a},{type:"kern",size:r}]},t),e.index){var f=t.havingStyle(Z.SCRIPTSCRIPT),p=Ce(e.index,f,t),v=.6*(s.height-s.depth),b=g.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:p}]},t),j=g.makeSpan(["root"],[b]);return g.makeSpan(["mord","sqrt"],[j,s],t)}return g.makeSpan(["mord","sqrt"],[s],t)},mathmlBuilder(e,t){var{body:n,index:s}=e;return s?new _.MathNode("mroot",[Ve(n,t),Ve(s,t)]):new _.MathNode("msqrt",[Ve(n,t)])}}),JM={display:Z.DISPLAY,text:Z.TEXT,script:Z.SCRIPT,scriptscript:Z.SCRIPTSCRIPT},M({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{breakOnTokenText:o,funcName:n,parser:s}=e,i=s.parseExpression(!0,o),a=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:a,body:i}},htmlBuilder(e,t){var n=JM[e.style],s=t.havingStyle(n).withFont("");return yL(e.body,s,t)},mathmlBuilder(e,t){var o=JM[e.style],i=t.havingStyle(o),a=rs(e.body,i),n=new _.MathNode("mstyle",a),r={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=r[e.style];return n.setAttribute("scriptlevel",s[0]),n.setAttribute("displaystyle",s[1]),n}}),kPe=e(function(e,t){var s,o,i,n=e.base;return n?n.type==="op"?(s=n.limits&&(t.style.size===Z.DISPLAY.size||n.alwaysHandleSupSub),s?El:null):n.type==="operatorname"?(o=n.alwaysHandleSupSub&&(t.style.size===Z.DISPLAY.size||n.limits),o?oF:null):n.type==="accent"?X.isCharacterBox(n.base)?iv:null:n.type==="horizBrace"?(i=!e.sub,i===n.isOver?AF:null):null:null},"htmlBuilderDelegate"),Hc({type:"supsub",htmlBuilder(e,t){if(v=kPe(e,t),v)return v(e,t);var{base:p,sup:O,sub:j}=e,i,a,c,l,u,h,m,v,b,y,w,x,C,k,r=Ce(p,t),n=t.fontMetrics(),s=0,o=0,_=p&&X.isCharacterBox(p);O&&(m=t.havingStyle(t.style.sup()),i=Ce(O,m,t),_||(s=r.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)),j&&(l=t.havingStyle(t.style.sub()),a=Ce(j,l,t),_||(o=r.depth+l.fontMetrics().subDrop*l.sizeMultiplier/t.sizeMultiplier)),t.style===Z.DISPLAY?c=n.sup1:t.style.cramped?c=n.sup3:c=n.sup2;var A=t.sizeMultiplier,d=E(.5/n.ptPerEm/A),f=null;if(a&&(y=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint"),(r instanceof Ys||y)&&(f=E(-r.italic))),i&&a)s=Math.max(s,c,i.depth+.25*n.xHeight),o=Math.max(o,n.sub2),w=n.defaultRuleThickness,b=4*w,s-i.depth-(a.height-o)<b&&(o=b-(s-i.depth)+a.height,u=.8*n.xHeight-(s-i.depth),u>0&&(s+=u,o-=u)),x=[{type:"elem",elem:a,shift:o,marginRight:d,marginLeft:f},{type:"elem",elem:i,shift:-s,marginRight:d}],h=g.makeVList({positionType:"individualShift",children:x},t);else if(a)o=Math.max(o,n.sub1,a.height-.8*n.xHeight),C=[{type:"elem",elem:a,marginLeft:f,marginRight:d}],h=g.makeVList({positionType:"shift",positionData:o,children:C},t);else if(i)s=Math.max(s,c,i.depth+.25*n.xHeight),h=g.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:i,marginRight:d}]},t);else throw new Error("supsub must have either sup or sub.");return k=tv(r,"right")||"mord",g.makeSpan([k],[r,g.makeSpan(["msupsub"],[h])],t)},mathmlBuilder(e,t){var n,s,o,i,a,c,l,r=!1;return e.base&&e.base.type==="horizBrace"&&(l=!!e.sup,l===e.base.isOver&&(r=!0,c=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0),a=[Ve(e.base,t)],e.sub&&a.push(Ve(e.sub,t)),e.sup&&a.push(Ve(e.sup,t)),r?o=c?"mover":"munder":e.sub?e.sup?(i=e.base,i&&i.type==="op"&&i.limits&&t.style===Z.DISPLAY||i&&i.type==="operatorname"&&i.alwaysHandleSupSub&&(t.style===Z.DISPLAY||i.limits)?o="munderover":o="msubsup"):(n=e.base,n&&n.type==="op"&&n.limits&&(t.style===Z.DISPLAY||n.alwaysHandleSupSub)||n&&n.type==="operatorname"&&n.alwaysHandleSupSub&&(n.limits||t.style===Z.DISPLAY)?o="munder":o="msub"):(s=e.base,s&&s.type==="op"&&s.limits&&(t.style===Z.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===Z.DISPLAY)?o="mover":o="msup"),new _.MathNode(o,a)}}),Hc({type:"atom",htmlBuilder(e,t){return g.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var s,n=new _.MathNode("mo",[Ws(e.text,e.mode)]);return e.family==="bin"?(s=sv(e,t),s==="bold-italic"&&n.setAttribute("mathvariant",s)):e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false"),n}}),QM={mi:"italic",mn:"normal",mtext:"normal"},Hc({type:"mathord",htmlBuilder(e,t){return g.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new _.MathNode("mi",[Ws(e.text,e.mode,t)]),s=sv(e,t)||"italic";return s!==QM[n.type]&&n.setAttribute("mathvariant",s),n}}),Hc({type:"textord",htmlBuilder(e,t){return g.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n,s=Ws(e.text,e.mode,t),o=sv(e,t)||"normal";return e.mode==="text"?n=new _.MathNode("mtext",[s]):/[0-9]/.test(e.text)?n=new _.MathNode("mn",[s]):e.text==="\\prime"?n=new _.MathNode("mo",[s]):n=new _.MathNode("mi",[s]),o!==QM[n.type]&&n.setAttribute("mathvariant",o),n}}),h9={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f9={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},Hc({type:"spacing",htmlBuilder(e,t){if(f9.hasOwnProperty(e.text)){var n,s=f9[e.text].className||"";return e.mode==="text"?(n=g.makeOrd(e,t,"textord"),n.classes.push(s),n):g.makeSpan(["mspace",s],[g.mathsym(e.text,e.mode,t)],t)}else{if(h9.hasOwnProperty(e.text))return g.makeSpan(["mspace",h9[e.text]],[],t);throw new O('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e){var n;if(f9.hasOwnProperty(e.text))n=new _.MathNode("mtext",[new _.TextNode("\xA0")]);else{if(h9.hasOwnProperty(e.text))return new _.MathNode("mspace");throw new O('Unknown type of space "'+e.text+'"')}return n}}),KM=e(()=>{var e=new _.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad"),Hc({type:"tag",mathmlBuilder(e,t){var n=new _.MathNode("mtable",[new _.MathNode("mtr",[KM(),new _.MathNode("mtd",[br(e.body,t)]),KM(),new _.MathNode("mtd",[br(e.tag,t)])])]);return n.setAttribute("width","100%"),n}}),UM={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},VM={"\\textbf":"textbf","\\textmd":"textmd"},EPe={"\\textit":"textit","\\textup":"textup"},zM=e((e,t)=>{var n=e.font;if(n){{if(UM[n])return t.withTextFontFamily(UM[n]);if(VM[n])return t.withTextFontWeight(VM[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}}else return t;return t.withTextFontShape(EPe[n])},"optionsWithFont"),M({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:s}=e,o=t[0];return{type:"text",mode:n.mode,body:pt(o),font:s}},htmlBuilder(e,t){var n=zM(e,t),s=Nt(e.body,n,!0);return g.makeSpan(["mord","text"],s,n)},mathmlBuilder(e,t){var n=zM(e,t);return br(e.body,n)}}),M({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ce(e.body,t),o=g.makeLineSpan("underline-line",t),s=t.fontMetrics().defaultRuleThickness,i=g.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:s},{type:"elem",elem:o},{type:"kern",size:3*s},{type:"elem",elem:n}]},t);return g.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var n,s=new _.MathNode("mo",[new _.TextNode("‾")]);return s.setAttribute("stretchy","true"),n=new _.MathNode("munder",[Ve(e.body,t),s]),n.setAttribute("accentunder","true"),n}}),M({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ce(e.body,t),s=t.fontMetrics().axisHeight,o=.5*(n.height-s-(n.depth+s));return g.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new _.MathNode("mpadded",[Ve(e.body,t)],["vcenter"])}}),M({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(){throw new O("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n,i=wM(e),a=[],s=t.havingStyle(t.style.text()),o=0;o<i.length;o++)n=i[o],n==="~"&&(n="\\textasciitilde"),a.push(g.makeSymbol(n,"Typewriter-Regular",e.mode,s,["mord","texttt"]));return g.makeSpan(["mord","text"].concat(s.sizingClasses(t)),g.tryCombineChars(a),s)},mathmlBuilder(e){var s=new _.TextNode(wM(e)),n=new _.MathNode("mtext",[s]);return n.setAttribute("mathvariant","monospace"),n}}),wM=e(e=>e.body.replace(/ /g,e.star?"␣":"\xA0"),"makeVerb"),or=aD,jM=`[ \r
	]`,OPe="\\\\[a-zA-Z@]+",_Pe="\\\\[^\uD800-\uDFFF]",yPe="("+OPe+")"+jM+"*",vPe=`\\\\(
|[ \r	]+
?)[ \r	]*`,_9="[̀-ͯ]",gPe=new RegExp(_9+"+$"),pPe="("+jM+"+)|"+(vPe+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(_9+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(_9+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+yPe)+("|"+_Pe+")"),hM=class{static{e(this,"Lexer")}constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(pPe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var n,s,o,t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new Yo("EOF",new zo(this,e,e));if(n=this.tokenRegex.exec(t),n===null||n.index!==e)throw new O("Unexpected character: '"+t[e]+"'",new Yo(t[e],new zo(this,e,e+1)));return s=n[6]||n[3]||(n[2]?"\\ ":" "),this.catcodes[s]===14?(o=t.indexOf(`
`,this.tokenRegex.lastIndex),o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()):new Yo(s,new zo(this,e,this.tokenRegex.lastIndex))}},fPe=class{static{e(this,"Namespace")}constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new O("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e,t=this.undefStack.pop();for(e in t)t.hasOwnProperty(e)&&(t[e]==null?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var s,o=0;o<this.undefStack.length;o++)delete this.undefStack[o][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else s=this.undefStack[this.undefStack.length-1],s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e]);t==null?delete this.current[e]:this.current[e]=t}},mPe=YF,r(`\\noexpand`,function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),r("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),r("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}}),r("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}}),r("\\@ifnextchar",function(e){var n,t=e.consumeArgs(3);return e.consumeSpaces(),n=e.future(),t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),r("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),r("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}),lM={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},r("\\char",function(e){var n,o,t=e.popToken(),s="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")s=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new O("\\char` missing argument");s=t.text.charCodeAt(0)}else n=10;if(n){if(s=lM[t.text],s==null||s>=n)throw new O("Invalid base-"+n+" digit "+t.text);for(;(o=lM[e.future().text])!=null&&o<n;)s*=n,s+=o,e.popToken()}return"\\@char{"+s+"}"}),x9=e((e,t,n)=>{if(s=e.consumeArg().tokens,s.length!==1)throw new O(`\\newcommand's first argument must be a macro name`);var s,i,a,r,o=s[0].text,c=e.isDefined(o);if(c&&!t)throw new O(`\\newcommand{`+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!c&&!n)throw new O("\\renewcommand{"+o+"} when command "+o+` does not yet exist; use \\newcommand`);if(r=0,s=e.consumeArg().tokens,s.length===1&&s[0].text==="["){for(i="",a=e.expandNextToken();a.text!=="]"&&a.text!=="EOF";)i+=a.text,a=e.expandNextToken();if(!i.match(/^\s*[0-9]+\s*$/))throw new O("Invalid number of arguments: "+i);r=parseInt(i),s=e.consumeArg().tokens}return e.macros.set(o,{tokens:s,numArgs:r}),""},"newcommand"),r(`\\newcommand`,e=>x9(e,!1,!0)),r("\\renewcommand",e=>x9(e,!0,!1)),r("\\providecommand",e=>x9(e,!0,!0)),r("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""}),r("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""}),r("\\show",e=>{var n=e.popToken(),t=n.text;return console.log(n,e.macros.get(t),or[t],Ye.math[t],Ye.text[t]),""}),r("\\bgroup","{"),r("\\egroup","}"),r("~",`\\nobreakspace`),r("\\lq","`"),r("\\rq","'"),r("\\aa","\\r a"),r("\\AA","\\r A"),r("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),r("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),r("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),r("ℬ","\\mathscr{B}"),r("ℰ","\\mathscr{E}"),r("ℱ","\\mathscr{F}"),r("ℋ","\\mathscr{H}"),r("ℐ","\\mathscr{I}"),r("ℒ","\\mathscr{L}"),r("ℳ","\\mathscr{M}"),r("ℛ","\\mathscr{R}"),r("ℭ","\\mathfrak{C}"),r("ℌ","\\mathfrak{H}"),r("ℨ","\\mathfrak{Z}"),r("\\Bbbk","\\Bbb{k}"),r("\xB7","\\cdotp"),r("\\llap","\\mathllap{\\textrm{#1}}"),r("\\rlap","\\mathrlap{\\textrm{#1}}"),r("\\clap","\\mathclap{\\textrm{#1}}"),r("\\mathstrut","\\vphantom{(}"),r("\\underbar","\\underline{\\text{#1}}"),r(`\\not`,'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),r(`\\neq`,"\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),r(`\\ne`,`\\neq`),r("≠",`\\neq`),r(`\\notin`,"\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),r("∉",`\\notin`),r("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),r("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),r("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),r("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),r("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),r("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),r("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),r("⟂","\\perp"),r("‼","\\mathclose{!\\mkern-0.8mu!}"),r("∌",`\\notni`),r("⌜","\\ulcorner"),r("⌝","\\urcorner"),r("⌞","\\llcorner"),r("⌟","\\lrcorner"),r("\xA9","\\copyright"),r("\xAE","\\textregistered"),r("️","\\textregistered"),r("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),r("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),r("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),r("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),r("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),r("⋮","\\vdots"),r("\\varGamma","\\mathit{\\Gamma}"),r("\\varDelta","\\mathit{\\Delta}"),r("\\varTheta","\\mathit{\\Theta}"),r("\\varLambda","\\mathit{\\Lambda}"),r("\\varXi","\\mathit{\\Xi}"),r("\\varPi","\\mathit{\\Pi}"),r("\\varSigma","\\mathit{\\Sigma}"),r("\\varUpsilon","\\mathit{\\Upsilon}"),r("\\varPhi","\\mathit{\\Phi}"),r("\\varPsi","\\mathit{\\Psi}"),r("\\varOmega","\\mathit{\\Omega}"),r("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),r("\\colon",`\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax`),r("\\boxed","\\fbox{$\\displaystyle{#1}$}"),r("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),r("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),r("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),XS={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},r("\\dots",function(e){var n="\\dotso",t=e.expandAfterFuture().text;return t in XS?n=XS[t]:(t.slice(0,4)===`\\not`||t in Ye.math&&X.contains(["bin","rel"],Ye.math[t].group))&&(n="\\dotsb"),n}),S9={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},r("\\dotso",function(e){var t=e.future().text;return t in S9?"\\ldots\\,":"\\ldots"}),r("\\dotsc",function(e){var t=e.future().text;return t in S9&&t!==","?"\\ldots\\,":"\\ldots"}),r("\\cdots",function(e){var t=e.future().text;return t in S9?"\\@cdots\\,":"\\@cdots"}),r("\\dotsb","\\cdots"),r("\\dotsm","\\cdots"),r("\\dotsi","\\!\\cdots"),r("\\dotsx","\\ldots\\,"),r("\\DOTSI","\\relax"),r("\\DOTSB","\\relax"),r("\\DOTSX","\\relax"),r("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),r("\\,","\\tmspace+{3mu}{.1667em}"),r("\\thinspace","\\,"),r("\\>","\\mskip{4mu}"),r("\\:","\\tmspace+{4mu}{.2222em}"),r("\\medspace","\\:"),r("\\;","\\tmspace+{5mu}{.2777em}"),r("\\thickspace","\\;"),r("\\!","\\tmspace-{3mu}{.1667em}"),r(`\\negthinspace`,"\\!"),r(`\\negmedspace`,"\\tmspace-{4mu}{.2222em}"),r(`\\negthickspace`,"\\tmspace-{5mu}{.277em}"),r("\\enspace","\\kern.5em "),r("\\enskip","\\hskip.5em\\relax"),r("\\quad","\\hskip1em\\relax"),r("\\qquad","\\hskip2em\\relax"),r("\\tag","\\@ifstar\\tag@literal\\tag@paren"),r("\\tag@paren","\\tag@literal{({#1})}"),r("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new O("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),r("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),r("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),r("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),r("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),r(`\\newline`,"\\\\\\relax"),r("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),KS=E(hi["Main-Regular"][84][1]-.7*hi["Main-Regular"][65][1]),r("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+KS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),r("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+KS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),r("\\hspace","\\@ifstar\\@hspacer\\@hspace"),r("\\@hspace","\\hskip #1\\relax"),r("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),r("\\ordinarycolon",":"),r("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),r("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),r("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),r("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),r("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),r("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),r("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),r("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),r("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),r("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),r("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),r("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),r("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),r("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),r("∷","\\dblcolon"),r("∹","\\eqcolon"),r("≔","\\coloneqq"),r("≕","\\eqqcolon"),r("⩴","\\Coloneqq"),r("\\ratio","\\vcentcolon"),r("\\coloncolon","\\dblcolon"),r("\\colonequals","\\coloneqq"),r("\\coloncolonequals","\\Coloneqq"),r("\\equalscolon","\\eqqcolon"),r("\\equalscoloncolon","\\Eqqcolon"),r("\\colonminus","\\coloneq"),r("\\coloncolonminus","\\Coloneq"),r("\\minuscolon","\\eqcolon"),r("\\minuscoloncolon","\\Eqcolon"),r("\\coloncolonapprox","\\Colonapprox"),r("\\coloncolonsim","\\Colonsim"),r("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),r("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),r("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),r("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),r(`\\notni`,`\\html@mathml{\\not\\ni}{\\mathrel{\\char\`∌}}`),r("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),r("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),r("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),r("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),r("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),r("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),r("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),r("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),r("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),r("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),r(`\\ngeqq`,"\\html@mathml{\\@ngeqq}{≱}"),r(`\\ngeqslant`,"\\html@mathml{\\@ngeqslant}{≱}"),r(`\\nleqq`,"\\html@mathml{\\@nleqq}{≰}"),r(`\\nleqslant`,"\\html@mathml{\\@nleqslant}{≰}"),r(`\\nshortmid`,"\\html@mathml{\\@nshortmid}{∤}"),r(`\\nshortparallel`,"\\html@mathml{\\@nshortparallel}{∦}"),r(`\\nsubseteqq`,"\\html@mathml{\\@nsubseteqq}{⊈}"),r(`\\nsupseteqq`,"\\html@mathml{\\@nsupseteqq}{⊉}"),r("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),r("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),r("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),r("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),r("\\imath","\\html@mathml{\\@imath}{ı}"),r("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),r("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),r("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),r("⟦","\\llbracket"),r("⟧","\\rrbracket"),r("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),r("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),r("⦃","\\lBrace"),r("⦄","\\rBrace"),r("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),r("⦵","\\minuso"),r("\\darr","\\downarrow"),r("\\dArr","\\Downarrow"),r("\\Darr","\\Downarrow"),r("\\lang","\\langle"),r("\\rang","\\rangle"),r("\\uarr","\\uparrow"),r("\\uArr","\\Uparrow"),r("\\Uarr","\\Uparrow"),r("\\N","\\mathbb{N}"),r("\\R","\\mathbb{R}"),r("\\Z","\\mathbb{Z}"),r("\\alef","\\aleph"),r("\\alefsym","\\aleph"),r("\\Alpha","\\mathrm{A}"),r("\\Beta","\\mathrm{B}"),r("\\bull","\\bullet"),r("\\Chi","\\mathrm{X}"),r("\\clubs","\\clubsuit"),r("\\cnums","\\mathbb{C}"),r("\\Complex","\\mathbb{C}"),r("\\Dagger","\\ddagger"),r("\\diamonds","\\diamondsuit"),r("\\empty","\\emptyset"),r("\\Epsilon","\\mathrm{E}"),r("\\Eta","\\mathrm{H}"),r("\\exist","\\exists"),r("\\harr","\\leftrightarrow"),r("\\hArr","\\Leftrightarrow"),r("\\Harr","\\Leftrightarrow"),r("\\hearts","\\heartsuit"),r("\\image","\\Im"),r("\\infin","\\infty"),r("\\Iota","\\mathrm{I}"),r("\\isin","\\in"),r("\\Kappa","\\mathrm{K}"),r("\\larr","\\leftarrow"),r("\\lArr","\\Leftarrow"),r("\\Larr","\\Leftarrow"),r("\\lrarr","\\leftrightarrow"),r("\\lrArr","\\Leftrightarrow"),r("\\Lrarr","\\Leftrightarrow"),r("\\Mu","\\mathrm{M}"),r(`\\natnums`,"\\mathbb{N}"),r("\\Nu","\\mathrm{N}"),r("\\Omicron","\\mathrm{O}"),r("\\plusmn","\\pm"),r("\\rarr","\\rightarrow"),r("\\rArr","\\Rightarrow"),r("\\Rarr","\\Rightarrow"),r("\\real","\\Re"),r("\\reals","\\mathbb{R}"),r("\\Reals","\\mathbb{R}"),r("\\Rho","\\mathrm{P}"),r("\\sdot","\\cdot"),r("\\sect","\\S"),r("\\spades","\\spadesuit"),r("\\sub","\\subset"),r("\\sube","\\subseteq"),r("\\supe","\\supseteq"),r("\\Tau","\\mathrm{T}"),r("\\thetasym","\\vartheta"),r("\\weierp","\\wp"),r("\\Zeta","\\mathrm{Z}"),r("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),r("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),r("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),r("\\bra","\\mathinner{\\langle{#1}|}"),r("\\ket","\\mathinner{|{#1}\\rangle}"),r("\\braket","\\mathinner{\\langle{#1}\\rangle}"),r("\\Bra","\\left\\langle#1\\right|"),r("\\Ket","\\left|#1\\right\\rangle"),WS=e(t=>n=>{var o,i,a,r=n.consumeArg().tokens,c=n.consumeArg().tokens,s=n.consumeArg().tokens,l=n.consumeArg().tokens,d=n.macros.get("|"),u=n.macros.get("\\|");return n.macros.beginGroup(),o=e(e=>n=>{t&&(n.macros.set("|",d),s.length&&n.macros.set("\\|",u));var i,o=e;return!e&&s.length&&(i=n.future(),i.text==="|"&&(n.popToken(),o=!0)),{tokens:o?s:c,numArgs:0}},"midMacro"),n.macros.set("|",o(!1)),s.length&&n.macros.set("\\|",o(!0)),i=n.consumeArg().tokens,a=n.expandTokens([...l,...i,...r]),n.macros.endGroup(),{tokens:a.reverse(),numArgs:0}},"braketHelper"),r("\\bra@ket",WS(!1)),r("\\bra@set",WS(!0)),r("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),r("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),r("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),r("\\angln","{\\angl n}"),r("\\blue","\\textcolor{##6495ed}{#1}"),r("\\orange","\\textcolor{##ffa500}{#1}"),r("\\pink","\\textcolor{##ff00af}{#1}"),r("\\red","\\textcolor{##df0030}{#1}"),r("\\green","\\textcolor{##28ae7b}{#1}"),r("\\gray","\\textcolor{gray}{#1}"),r("\\purple","\\textcolor{##9d38bd}{#1}"),r("\\blueA","\\textcolor{##ccfaff}{#1}"),r("\\blueB","\\textcolor{##80f6ff}{#1}"),r("\\blueC","\\textcolor{##63d9ea}{#1}"),r("\\blueD","\\textcolor{##11accd}{#1}"),r("\\blueE","\\textcolor{##0c7f99}{#1}"),r("\\tealA","\\textcolor{##94fff5}{#1}"),r("\\tealB","\\textcolor{##26edd5}{#1}"),r("\\tealC","\\textcolor{##01d1c1}{#1}"),r("\\tealD","\\textcolor{##01a995}{#1}"),r("\\tealE","\\textcolor{##208170}{#1}"),r("\\greenA","\\textcolor{##b6ffb0}{#1}"),r("\\greenB","\\textcolor{##8af281}{#1}"),r("\\greenC","\\textcolor{##74cf70}{#1}"),r("\\greenD","\\textcolor{##1fab54}{#1}"),r("\\greenE","\\textcolor{##0d923f}{#1}"),r("\\goldA","\\textcolor{##ffd0a9}{#1}"),r("\\goldB","\\textcolor{##ffbb71}{#1}"),r("\\goldC","\\textcolor{##ff9c39}{#1}"),r("\\goldD","\\textcolor{##e07d10}{#1}"),r("\\goldE","\\textcolor{##a75a05}{#1}"),r("\\redA","\\textcolor{##fca9a9}{#1}"),r("\\redB","\\textcolor{##ff8482}{#1}"),r("\\redC","\\textcolor{##f9685d}{#1}"),r("\\redD","\\textcolor{##e84d39}{#1}"),r("\\redE","\\textcolor{##bc2612}{#1}"),r("\\maroonA","\\textcolor{##ffbde0}{#1}"),r("\\maroonB","\\textcolor{##ff92c6}{#1}"),r("\\maroonC","\\textcolor{##ed5fa6}{#1}"),r("\\maroonD","\\textcolor{##ca337c}{#1}"),r("\\maroonE","\\textcolor{##9e034e}{#1}"),r("\\purpleA","\\textcolor{##ddd7ff}{#1}"),r("\\purpleB","\\textcolor{##c6b9fc}{#1}"),r("\\purpleC","\\textcolor{##aa87ff}{#1}"),r("\\purpleD","\\textcolor{##7854ab}{#1}"),r("\\purpleE","\\textcolor{##543b78}{#1}"),r("\\mintA","\\textcolor{##f5f9e8}{#1}"),r("\\mintB","\\textcolor{##edf2df}{#1}"),r("\\mintC","\\textcolor{##e0e5cc}{#1}"),r("\\grayA","\\textcolor{##f6f7f7}{#1}"),r("\\grayB","\\textcolor{##f0f1f2}{#1}"),r("\\grayC","\\textcolor{##e3e5e6}{#1}"),r("\\grayD","\\textcolor{##d6d8da}{#1}"),r("\\grayE","\\textcolor{##babec2}{#1}"),r("\\grayF","\\textcolor{##888d93}{#1}"),r("\\grayG","\\textcolor{##626569}{#1}"),r("\\grayH","\\textcolor{##3b3e40}{#1}"),r("\\grayI","\\textcolor{##21242c}{#1}"),r("\\kaBlue","\\textcolor{##314453}{#1}"),r("\\kaGreen","\\textcolor{##71B307}{#1}"),$S={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},hPe=class{static{e(this,"MacroExpander")}constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new fPe(mPe,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new hM(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:s,end:t}=this.consumeArg(["]"])}else({tokens:s,start:n,end:t}=this.consumeArg());return this.pushToken(new Yo("EOF",t.loc)),this.pushTokens(s),n.range(t,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){t=[],i=e&&e.length>0,i||this.consumeSpaces();var t,n,i,a=this.future(),o=0,s=0;do{if(n=this.popToken(),t.push(n),n.text==="{")++o;else if(n.text==="}"){if(--o,o===-1)throw new O("Extra }",n)}else if(n.text==="EOF")throw new O("Unexpected end of input in a macro argument, expected '"+(e&&i?e[s]:"}")+"'",n);if(e&&i)if((o===0||o===1&&e[s]==="{")&&n.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(o!==0||i)return a.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:a,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new O("The length of delimiters doesn't match the number of args!");for(var n,o,i,a=t[0],s=0;s<a.length;s++)if(o=this.popToken(),a[s]!==o.text)throw new O("Use of the macro doesn't match its definition",o)}for(i=[],n=0;n<e;n++)i.push(this.consumeArg(t&&t[n+1]).tokens);return i}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new O("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t,n,s,r,a=this.popToken(),i=a.text,o=a.noexpand?null:this._getExpansion(i);if(o==null||e&&o.unexpandable){if(e&&o==null&&i[0]==="\\"&&!this.isDefined(i))throw new O("Undefined control sequence: "+i);return this.pushToken(a),!1}if(this.countExpansion(1),t=o.tokens,r=this.consumeArgs(o.numArgs,o.delimiters),o.numArgs){t=t.slice();for(n=t.length-1;n>=0;--n)if(s=t[n],s.text==="#"){if(n===0)throw new O("Incomplete placeholder at end of macro body",s);if(s=t[--n],s.text==="#")t.splice(n+1,1);else if(/^[1-9]$/.test(s.text))t.splice(n,2,...r[+s.text-1]);else throw new O("Not a valid argument number",s)}}return this.pushTokens(t),t.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Yo(e)]):void 0}expandTokens(e){var t,n=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)this.expandOnce(!0)===!1&&(t=this.stack.pop(),t.treatAsRelax&&(t.noexpand=!1,t.treatAsRelax=!1),n.push(t));return this.countExpansion(n.length),n}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(e=>e.text).join("")}_getExpansion(e){if(t=this.macros.get(e),t==null)return t;if(e.length===1&&(o=this.lexer.catcodes[e],o!=null&&o!==13))return;if(n=typeof t=="function"?t(this):t,typeof n=="string"){if(s=0,n.indexOf("#")!==-1)for(r=n.replace(/##/g,"");r.indexOf("#"+(s+1))!==-1;)++s;for(var t,n,s,o,r,l,c=new hM(n,this.settings),i=[],a=c.lex();a.text!=="EOF";)i.push(a),a=c.lex();return i.reverse(),l={tokens:i,numArgs:s},l}return n}isDefined(e){return this.macros.has(e)||or.hasOwnProperty(e)||Ye.math.hasOwnProperty(e)||Ye.text.hasOwnProperty(e)||$S.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:or.hasOwnProperty(e)&&!or[e].primitive}},IS=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,v8=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","\xB9":"1","\xB2":"2","\xB3":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",\u02B0:"h","ⁱ":"i",\u02B2:"j","ᵏ":"k",\u02E1:"l","ᵐ":"m",\u207F:"n","ᵒ":"o","ᵖ":"p",\u02B3:"r",\u02E2:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),N9={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},PS={\u00E1:"á",\u00E0:"à",\u00E4:"ä",\u01DF:"ǟ",\u00E3:"ã",\u0101:"ā",\u0103:"ă",\u1EAF:"ắ",\u1EB1:"ằ",\u1EB5:"ẵ",\u01CE:"ǎ",\u00E2:"â",\u1EA5:"ấ",\u1EA7:"ầ",\u1EAB:"ẫ",\u0227:"ȧ",\u01E1:"ǡ",\u00E5:"å",\u01FB:"ǻ",\u1E03:"ḃ",\u0107:"ć",\u1E09:"ḉ",\u010D:"č",\u0109:"ĉ",\u010B:"ċ",\u00E7:"ç",\u010F:"ď",\u1E0B:"ḋ",\u1E11:"ḑ",\u00E9:"é",\u00E8:"è",\u00EB:"ë",\u1EBD:"ẽ",\u0113:"ē",\u1E17:"ḗ",\u1E15:"ḕ",\u0115:"ĕ",\u1E1D:"ḝ",\u011B:"ě",\u00EA:"ê",\u1EBF:"ế",\u1EC1:"ề",\u1EC5:"ễ",\u0117:"ė",\u0229:"ȩ",\u1E1F:"ḟ",\u01F5:"ǵ",\u1E21:"ḡ",\u011F:"ğ",\u01E7:"ǧ",\u011D:"ĝ",\u0121:"ġ",\u0123:"ģ",\u1E27:"ḧ",\u021F:"ȟ",\u0125:"ĥ",\u1E23:"ḣ",\u1E29:"ḩ",\u00ED:"í",\u00EC:"ì",\u00EF:"ï",\u1E2F:"ḯ",\u0129:"ĩ",\u012B:"ī",\u012D:"ĭ",\u01D0:"ǐ",\u00EE:"î",\u01F0:"ǰ",\u0135:"ĵ",\u1E31:"ḱ",\u01E9:"ǩ",\u0137:"ķ",\u013A:"ĺ",\u013E:"ľ",\u013C:"ļ",\u1E3F:"ḿ",\u1E41:"ṁ",\u0144:"ń",\u01F9:"ǹ",\u00F1:"ñ",\u0148:"ň",\u1E45:"ṅ",\u0146:"ņ",\u00F3:"ó",\u00F2:"ò",\u00F6:"ö",\u022B:"ȫ",\u00F5:"õ",\u1E4D:"ṍ",\u1E4F:"ṏ",\u022D:"ȭ",\u014D:"ō",\u1E53:"ṓ",\u1E51:"ṑ",\u014F:"ŏ",\u01D2:"ǒ",\u00F4:"ô",\u1ED1:"ố",\u1ED3:"ồ",\u1ED7:"ỗ",\u022F:"ȯ",\u0231:"ȱ",\u0151:"ő",\u1E55:"ṕ",\u1E57:"ṗ",\u0155:"ŕ",\u0159:"ř",\u1E59:"ṙ",\u0157:"ŗ",\u015B:"ś",\u1E65:"ṥ",\u0161:"š",\u1E67:"ṧ",\u015D:"ŝ",\u1E61:"ṡ",\u015F:"ş",\u1E97:"ẗ",\u0165:"ť",\u1E6B:"ṫ",\u0163:"ţ",\u00FA:"ú",\u00F9:"ù",\u00FC:"ü",\u01D8:"ǘ",\u01DC:"ǜ",\u01D6:"ǖ",\u01DA:"ǚ",\u0169:"ũ",\u1E79:"ṹ",\u016B:"ū",\u1E7B:"ṻ",\u016D:"ŭ",\u01D4:"ǔ",\u00FB:"û",\u016F:"ů",\u0171:"ű",\u1E7D:"ṽ",\u1E83:"ẃ",\u1E81:"ẁ",\u1E85:"ẅ",\u0175:"ŵ",\u1E87:"ẇ",\u1E98:"ẘ",\u1E8D:"ẍ",\u1E8B:"ẋ",\u00FD:"ý",\u1EF3:"ỳ",\u00FF:"ÿ",\u1EF9:"ỹ",\u0233:"ȳ",\u0177:"ŷ",\u1E8F:"ẏ",\u1E99:"ẙ",\u017A:"ź",\u017E:"ž",\u1E91:"ẑ",\u017C:"ż",\u00C1:"Á",\u00C0:"À",\u00C4:"Ä",\u01DE:"Ǟ",\u00C3:"Ã",\u0100:"Ā",\u0102:"Ă",\u1EAE:"Ắ",\u1EB0:"Ằ",\u1EB4:"Ẵ",\u01CD:"Ǎ",\u00C2:"Â",\u1EA4:"Ấ",\u1EA6:"Ầ",\u1EAA:"Ẫ",\u0226:"Ȧ",\u01E0:"Ǡ",\u00C5:"Å",\u01FA:"Ǻ",\u1E02:"Ḃ",\u0106:"Ć",\u1E08:"Ḉ",\u010C:"Č",\u0108:"Ĉ",\u010A:"Ċ",\u00C7:"Ç",\u010E:"Ď",\u1E0A:"Ḋ",\u1E10:"Ḑ",\u00C9:"É",\u00C8:"È",\u00CB:"Ë",\u1EBC:"Ẽ",\u0112:"Ē",\u1E16:"Ḗ",\u1E14:"Ḕ",\u0114:"Ĕ",\u1E1C:"Ḝ",\u011A:"Ě",\u00CA:"Ê",\u1EBE:"Ế",\u1EC0:"Ề",\u1EC4:"Ễ",\u0116:"Ė",\u0228:"Ȩ",\u1E1E:"Ḟ",\u01F4:"Ǵ",\u1E20:"Ḡ",\u011E:"Ğ",\u01E6:"Ǧ",\u011C:"Ĝ",\u0120:"Ġ",\u0122:"Ģ",\u1E26:"Ḧ",\u021E:"Ȟ",\u0124:"Ĥ",\u1E22:"Ḣ",\u1E28:"Ḩ",\u00CD:"Í",\u00CC:"Ì",\u00CF:"Ï",\u1E2E:"Ḯ",\u0128:"Ĩ",\u012A:"Ī",\u012C:"Ĭ",\u01CF:"Ǐ",\u00CE:"Î",\u0130:"İ",\u0134:"Ĵ",\u1E30:"Ḱ",\u01E8:"Ǩ",\u0136:"Ķ",\u0139:"Ĺ",\u013D:"Ľ",\u013B:"Ļ",\u1E3E:"Ḿ",\u1E40:"Ṁ",\u0143:"Ń",\u01F8:"Ǹ",\u00D1:"Ñ",\u0147:"Ň",\u1E44:"Ṅ",\u0145:"Ņ",\u00D3:"Ó",\u00D2:"Ò",\u00D6:"Ö",\u022A:"Ȫ",\u00D5:"Õ",\u1E4C:"Ṍ",\u1E4E:"Ṏ",\u022C:"Ȭ",\u014C:"Ō",\u1E52:"Ṓ",\u1E50:"Ṑ",\u014E:"Ŏ",\u01D1:"Ǒ",\u00D4:"Ô",\u1ED0:"Ố",\u1ED2:"Ồ",\u1ED6:"Ỗ",\u022E:"Ȯ",\u0230:"Ȱ",\u0150:"Ő",\u1E54:"Ṕ",\u1E56:"Ṗ",\u0154:"Ŕ",\u0158:"Ř",\u1E58:"Ṙ",\u0156:"Ŗ",\u015A:"Ś",\u1E64:"Ṥ",\u0160:"Š",\u1E66:"Ṧ",\u015C:"Ŝ",\u1E60:"Ṡ",\u015E:"Ş",\u0164:"Ť",\u1E6A:"Ṫ",\u0162:"Ţ",\u00DA:"Ú",\u00D9:"Ù",\u00DC:"Ü",\u01D7:"Ǘ",\u01DB:"Ǜ",\u01D5:"Ǖ",\u01D9:"Ǚ",\u0168:"Ũ",\u1E78:"Ṹ",\u016A:"Ū",\u1E7A:"Ṻ",\u016C:"Ŭ",\u01D3:"Ǔ",\u00DB:"Û",\u016E:"Ů",\u0170:"Ű",\u1E7C:"Ṽ",\u1E82:"Ẃ",\u1E80:"Ẁ",\u1E84:"Ẅ",\u0174:"Ŵ",\u1E86:"Ẇ",\u1E8C:"Ẍ",\u1E8A:"Ẋ",\u00DD:"Ý",\u1EF2:"Ỳ",\u0178:"Ÿ",\u1EF8:"Ỹ",\u0232:"Ȳ",\u0176:"Ŷ",\u1E8E:"Ẏ",\u0179:"Ź",\u017D:"Ž",\u1E90:"Ẑ",\u017B:"Ż",\u03AC:"ά",\u1F70:"ὰ",\u1FB1:"ᾱ",\u1FB0:"ᾰ",\u03AD:"έ",\u1F72:"ὲ",\u03AE:"ή",\u1F74:"ὴ",\u03AF:"ί",\u1F76:"ὶ",\u03CA:"ϊ",\u0390:"ΐ",\u1FD2:"ῒ",\u1FD1:"ῑ",\u1FD0:"ῐ",\u03CC:"ό",\u1F78:"ὸ",\u03CD:"ύ",\u1F7A:"ὺ",\u03CB:"ϋ",\u03B0:"ΰ",\u1FE2:"ῢ",\u1FE1:"ῡ",\u1FE0:"ῠ",\u03CE:"ώ",\u1F7C:"ὼ",\u038E:"Ύ",\u1FEA:"Ὺ",\u03AB:"Ϋ",\u1FE9:"Ῡ",\u1FE8:"Ῠ",\u038F:"Ώ",\u1FFA:"Ὼ"},LS=class t{static{e(this,"Parser")}constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new hPe(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new O("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t,n=this.nextToken;return this.consume(),this.gullet.pushToken(new Yo("}")),this.gullet.pushTokens(e),t=this.parseExpression(!1),this.expect("}"),this.nextToken=n,t}parseExpression(e,n){for(var s,o,i=[];;){if(this.mode==="math"&&this.consumeSpaces(),s=this.fetch(),t.endOfExpression.indexOf(s.text)!==-1||n&&s.text===n||e&&or[s.text]&&or[s.text].infix)break;if(o=this.parseAtom(n),o){if(o.type==="internal")continue}else break;i.push(o)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var s,o,i,a,r,c,t=-1,n=0;n<e.length;n++)if(e[n].type==="infix"){if(t!==-1)throw new O("only one infix operator per group",e[n].token);t=n,s=e[n].replaceWith}return t!==-1&&s?(o=e.slice(0,t),i=e.slice(t+1),o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},i.length===1&&i[0].type==="ordgroup"?r=i[0]:r={type:"ordgroup",mode:this.mode,body:i},s==="\\\\abovefrac"?c=this.callFunction(s,[a,e[t],r],[]):c=this.callFunction(s,[a,r],[]),[c]):e}handleSupSubscript(e){var t,n=this.fetch(),s=n.text;if(this.consume(),this.consumeSpaces(),t=this.parseGroup(e),!t)throw new O("Expected group after '"+s+"'",n);return t}formatUnsupportedCmd(e){for(var s,o,n=[],t=0;t<e.length;t++)n.push({type:"textord",mode:"text",text:e[t]});return s={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]},o}parseAtom(e){if(n=this.parseGroup("atom",e),this.mode==="text")return n;for(;;)if(this.consumeSpaces(),t=this.fetch(),t.text==="\\limits"||t.text===`\\nolimits`){if(n&&n.type==="op")d=t.text==="\\limits",n.limits=d,n.alwaysHandleSupSub=!0;else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=t.text==="\\limits");else throw new O("Limit controls must follow a math operator",t);this.consume()}else if(t.text==="^"){if(s)throw new O("Double superscript",t);s=this.handleSupSubscript("superscript")}else if(t.text==="_"){if(o)throw new O("Double subscript",t);o=this.handleSupSubscript("subscript")}else if(t.text==="'"){if(s)throw new O("Double superscript",t);var t,n,s,o,i,a,c,l,d,u={type:"textord",mode:this.mode,text:"\\prime"},r=[u];for(this.consume();this.fetch().text==="'";)r.push(u),this.consume();this.fetch().text==="^"&&r.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:r}}else if(v8[t.text]){c=IS.test(t.text),i=[];for(i.push(new Yo(v8[t.text])),this.consume();;){if(a=this.fetch().text,!v8[a]||IS.test(a)!==c)break;i.unshift(new Yo(v8[a])),this.consume()}l=this.subparse(i),c?o={type:"ordgroup",mode:"math",body:l}:s={type:"ordgroup",mode:"math",body:l}}else break;return s||o?{type:"supsub",mode:this.mode,base:n,sup:s,sub:o}:n}parseFunction(e,t){var s=this.fetch(),n=s.text,o=or[n];if(!o)return null;if(this.consume(),t&&t!=="atom"&&!o.allowedInArgument)throw new O("Got function '"+n+"' with no arguments"+(t?" as "+t:""),s);if(this.mode==="text"&&!o.allowedInText)throw new O("Can't use function '"+n+"' in text mode",s);if(this.mode==="math"&&o.allowedInMath===!1)throw new O("Can't use function '"+n+"' in math mode",s);var{args:i,optArgs:a}=this.parseArguments(n,o);return this.callFunction(n,i,a,s,e)}callFunction(e,t,n,s,o){var a={funcName:e,parser:this,token:s,breakOnTokenText:o},i=or[e];if(i&&i.handler)return i.handler(a,t,n);throw new O("No function handler for "+e)}parseArguments(e,t){if(i=t.numArgs+t.numOptionalArgs,i===0)return{args:[],optArgs:[]};for(var s,o,i,r,c=[],a=[],n=0;n<i;n++)if(s=t.argTypes&&t.argTypes[n],r=n<t.numOptionalArgs,(t.primitive&&s==null||t.type==="sqrt"&&n===1&&a[0]==null)&&(s="primitive"),o=this.parseGroupOfType("argument to '"+e+"'",s,r),r)a.push(o);else if(o!=null)c.push(o);else throw new O("Null argument, please report this as a bug");return{args:c,optArgs:a}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var o,i,s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":return o=this.parseStringGroup("raw",n),o!=null?{type:"raw",mode:"text",string:o.text}:null;case"primitive":{if(n)throw new O("A primitive argument cannot be optional");if(i=this.parseGroup(e),i==null)throw new O("Expected group as "+e,this.fetch());return i}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new O("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var s,o,n=this.gullet.scanArgument(t);if(n==null)return null;for(s="";(o=this.fetch()).text!=="EOF";)s+=o.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(e,t){for(var i,n=this.fetch(),o=n,s="";(i=this.fetch()).text!=="EOF"&&e.test(s+i.text);)o=i,s+=o.text,this.consume();if(s==="")throw new O("Invalid "+t+": '"+n.text+"'",n);return n.range(o,s)}parseColorGroup(e){var t,s,n=this.parseStringGroup("color",e);if(n==null)return null;if(s=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text),!s)throw new O("Invalid color: '"+n.text+"'",n);return t=s[0],/^[0-9a-f]{6}$/i.test(t)&&(t="#"+t),{type:"color-token",mode:this.mode,color:t}}parseSizeGroup(e){var t,n,s,o=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;if(!e&&t.text.length===0&&(t.text="0pt",o=!0),n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text),!n)throw new O("Invalid size: '"+t.text+"'",t);if(s={number:+(n[1]+n[2]),unit:n[3]},!MN(s))throw new O("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:o}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n,t=this.parseStringGroup("url",e);return this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null?null:(n=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),{type:"url",mode:this.mode,url:n})}parseArgumentGroup(e,t){var s,o,i,n=this.gullet.scanArgument(e);return n==null?null:(s=this.mode,t&&this.switchMode(t),this.gullet.beginGroup(),o=this.parseExpression(!1,"EOF"),this.expect("EOF"),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:n.loc,body:o},t&&this.switchMode(s),i)}parseGroup(e,t){var s,i,a,r,o=this.fetch(),n=o.text;if(n==="{"||n==="\\begingroup")this.consume(),i=n==="{"?"}":"\\endgroup",this.gullet.beginGroup(),a=this.parseExpression(!1,i),r=this.fetch(),this.expect(i),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:zo.range(o,r),body:a,semisimple:n==="\\begingroup"||void 0};else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&n[0]==="\\"&&!$S.hasOwnProperty(n)){if(this.settings.throwOnError)throw new O("Undefined control sequence: "+n,o);s=this.formatUnsupportedCmd(n),this.consume()}return s}formLigatures(e){for(var n,o,s=e.length-1,t=0;t<s;++t)o=e[t],n=o.text,n==="-"&&e[t+1].text==="-"&&(t+1<s&&e[t+2].text==="-"?(e.splice(t,3,{type:"textord",mode:"text",loc:zo.range(o,e[t+2]),text:"---"}),s-=2):(e.splice(t,2,{type:"textord",mode:"text",loc:zo.range(o,e[t+1]),text:"--"}),s-=1)),(n==="'"||n==="`")&&e[t+1].text===n&&(e.splice(t,2,{type:"textord",mode:"text",loc:zo.range(o,e[t+1]),text:n+n}),s-=1)}parseSymbol(){var t,s,o,i,a,r,c,l,d,u,h,n=this.fetch(),e=n.text;if(/^\\verb[^a-zA-Z]/.test(e)){if(this.consume(),t=e.slice(5),c=t.charAt(0)==="*",c&&(t=t.slice(1)),t.length<2||t.charAt(0)!==t.slice(-1))throw new O(`\\verb assertion failed --
                    please report what input caused this bug`);return t=t.slice(1,-1),{type:"verb",mode:"text",body:t,star:c}}if(PS.hasOwnProperty(e[0])&&!Ye[this.mode][e[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',n),e=PS[e[0]]+e.slice(1)),s=gPe.exec(e),s&&(e=e.substring(0,s.index),e==="i"?e="ı":e==="j"&&(e="ȷ")),Ye[this.mode][e])this.settings.strict&&this.mode==="math"&&S7.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',n),r=Ye[this.mode][e].group,d=zo.range(n),fIe.hasOwnProperty(r)?(h=r,l={type:"atom",mode:this.mode,family:h,loc:d,text:e}):l={type:r,mode:this.mode,loc:d,text:e},i=l;else if(e.charCodeAt(0)>=128)this.settings.strict&&(DL(e.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',n):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'"'+(" ("+e.charCodeAt(0)+")"),n)),i={type:"textord",mode:"text",loc:zo.range(n),text:e};else return null;if(this.consume(),s)for(a=0;a<s[0].length;a++){if(o=s[0][a],!N9[o])throw new O("Unknown accent ' "+o+"'",n);if(u=N9[o][this.mode]||N9[o].text,!u)throw new O("Accent "+o+" unsupported in "+this.mode+" mode",n);i={type:"accent",mode:this.mode,loc:zo.range(n),label:u,isStretchy:!1,isShifty:!0,base:i}}return i}},LS.endOfExpression=["}","\\endgroup","\\end","\\right","&"],P9=e(function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s,n=new LS(e,t);if(delete n.gullet.macros.current["\\df@tag"],s=n.parse(),delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new O("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new Yo("\\df@tag")])}]}return s},"parseTree"),AS=e(function(e,t,n){t.textContent="";var s=W9(e,n).toNode();t.appendChild(s)},"render"),typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),AS=e(function(){throw new O("KaTeX doesn't work in quirks mode.")},"render")),uPe=e(function(e,t){var n=W9(e,t).toMarkup();return n},"renderToString"),dPe=e(function(e,t){var n=new G5(t);return P9(e,n)},"generateParseTree"),wS=e(function(e,t,n){if(n.throwOnError||!(e instanceof O))throw e;var s=g.makeSpan(["katex-error"],[new Ys(t)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+n.errorColor),s},"renderError"),W9=e(function(e,t){var s,n=new G5(t);try{return s=P9(e,n),FHe(s,e,n)}catch(t){return wS(t,e,n)}},"renderToDomTree"),rPe=e(function(e,t){var s,n=new G5(t);try{return s=P9(e,n),SHe(s,e,n)}catch(t){return wS(t,e,n)}},"renderToHTMLTree"),aPe={version:"0.16.11",render:AS,renderToString:uPe,ParseError:O,SETTINGS_SCHEMA:vh,__parse:dPe,__renderToDomTree:W9,__renderToHTMLTree:rPe,__setFontMetrics:XBe,__defineSymbol:s,__defineFunction:M,__defineMacro:r,__domTree:{Span:X0,Anchor:p7,SymbolNode:Ys,SvgNode:la,PathNode:lr,LineNode:g7}}});function oPe(){let e="data-temp-href-target";Ud.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Ud.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}me=n(()=>{"use strict";HL(),Ed=/<br\s*\/?>/gi,sPe=e(e=>e?PA(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),nPe=(()=>{let e=!1;return()=>{e||(oPe(),e=!0)}})(),e(oPe,"setupDompurifyHooks"),sS=e(e=>(nPe(),Ud.sanitize(e)),"removeScript"),QA=e((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let n=t.securityLevel;n==="antiscript"||n==="strict"?e=sS(e):n!=="loose"&&(e=PA(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=qRe(e))}return e},"sanitizeMore"),Ie=e((e,t)=>e&&(t.dompurifyConfig?e=Ud.sanitize(QA(e,t),t.dompurifyConfig).toString():e=Ud.sanitize(QA(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),tPe=e((e,t)=>typeof e=="string"?Ie(e,t):e.flat().map(e=>Ie(e,t)),"sanitizeTextOrArray"),ePe=e(e=>Ed.test(e),"hasBreaks"),JRe=e(e=>e.split(Ed),"splitBreaks"),qRe=e(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),PA=e(e=>e.replace(Ed,"#br#"),"breakToPlaceholder"),IRe=e(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),Pe=e(e=>e!==!1&&!["false","null","0"].includes(String(e).trim().toLowerCase()),"evaluate"),RRe=e(function(...e){let t=e.filter(e=>!isNaN(e));return Math.max(...t)},"getMax"),zRe=e(function(...e){let t=e.filter(e=>!isNaN(e));return Math.min(...t)},"getMin"),er=e(function(e){let t=e.split(/(,)/),n=[];for(let e=0;e<t.length;e++){let s=t[e];if(s===","&&e>0&&e+1<t.length){let o=t[e-1],i=t[e+1];ERe(o,i)&&(s=o+","+i,e++,n.pop())}n.push(ORe(s))}return n.join("")},"parseGenericTypes"),eb=e((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),ERe=e((e,t)=>{let n=eb(e,"~"),s=eb(t,"~");return n===1&&s===1},"shouldCombineSets"),ORe=e(e=>{let o=eb(e,"~"),i=!1;if(o<=1)return e;o%2!==0&&e.startsWith("~")&&(e=e.substring(1),i=!0);let t=[...e],n=t.indexOf("~"),s=t.lastIndexOf("~");for(;n!==-1&&s!==-1&&n!==s;)t[n]="<",t[s]=">",n=t.indexOf("~"),s=t.lastIndexOf("~");return i&&t.unshift("~"),t.join("")},"processSet"),SA=e(()=>window.MathMLElement!==void 0,"isMathMLSupported"),tb=/\$\$(.*)\$\$/g,_n=e(e=>(e.match(tb)?.length??0)>0,"hasKatex"),D1=e(async(e,t)=>{e=await z1(e,t);let n=document.createElement("div");n.innerHTML=e,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);let s={width:n.clientWidth,height:n.clientHeight};return n.remove(),s},"calculateMathMLDimensions"),z1=e(async(e,t)=>{if(!_n(e))return e;if(!(SA()||t.legacyMathML||t.forceLegacyMathML))return e.replace(tb,"MathML is unsupported in this environment.");let{default:n}=await Promise.resolve().then(()=>(iPe(),PL)),s=t.forceLegacyMathML||!SA()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Ed).map(e=>_n(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`).join("").replace(tb,(e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:s}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),w={getRows:sPe,sanitizeText:Ie,sanitizeTextOrArray:tPe,hasBreaks:ePe,splitBreaks:JRe,lineBreakRegex:Ed,removeScript:sS,getUrl:IRe,evaluate:Pe,getMax:RRe,getMin:zRe}}),Ht=n(()=>{"use strict";x(),wRe=e(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),jRe=e(function(e,t,n){let s=new Map;return n?(s.set("width","100%"),s.set("style",`max-width: ${t}px;`)):(s.set("height",e),s.set("width",t)),s},"calculateSvgSizeAttrs"),ls=e(function(e,t,n,s){let o=jRe(t,n,s);wRe(e,o)},"configureSvgSize"),tu=e(function(e,t,n,s){let o=t.node().getBBox(),c=o.width,l=o.height;a.info(`SVG bounds: ${c}x${l}`,o);let i=0,r=0;a.info(`Graph bounds: ${i}x${r}`,e),i=c+n*2,r=l+n*2,a.info(`Calculated bounds: ${i}x${r}`),ls(t,r,i,s);let d=`${o.x-n} ${o.y-n} ${o.width+2*n} ${o.height+2*n}`;t.attr("viewBox",d)},"setupGraphViewbox")}),EA=n(()=>{"use strict";x(),Pf={},bRe=e((e,t,n)=>{let s="";return e in Pf&&Pf[e]?s=Pf[e](n):a.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${s}

  ${t}
`},"getStyles"),vRe=e((e,t)=>{t!==void 0&&(Pf[e]=t)},"addStylesForDiagram"),gRe=bRe}),sb={},de(sb,{clear:()=>Tt,getAccDescription:()=>Qt,getAccTitle:()=>Yt,getDiagramTitle:()=>Ft,setAccDescription:()=>Gt,setAccTitle:()=>It,setDiagramTitle:()=>nn}),_t=n(()=>{"use strict";me(),sn(),ob="",ib="",ab="",rb=e(e=>Ie(e,De()),"sanitizeText"),Tt=e(()=>{ob="",ab="",ib=""},"clear"),It=e(e=>{ob=rb(e).replace(/^\s+/g,"")},"setAccTitle"),Yt=e(()=>ob,"getAccTitle"),Gt=e(e=>{ab=rb(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Qt=e(()=>ab,"getAccDescription"),nn=e(e=>{ib=rb(e)},"setDiagramTitle"),Ft=e(()=>ib,"getDiagramTitle")}),P=n(()=>{"use strict";qd(),x(),sn(),me(),Ht(),EA(),_t(),bA=a,mRe=sp,u=De,cb=bP,pA=bl,db=e(e=>Ie(e,u()),"sanitizeText"),uA=tu,hRe=e(()=>sb,"getCommonDb"),Qf={},Jf=e((e,t,n)=>{Qf[e]&&bA.warn(`Diagram with id ${e} already registered. Overwriting.`),Qf[e]=t,n&&DB(e,n),vRe(e,t.styles),t.injectUtils?.(bA,mRe,u,db,uA,hRe(),()=>{})},"registerDiagram"),hb=e(e=>{if(e in Qf)return Qf[e];throw new uRe(e)},"getDiagram"),uRe=class extends Error{static{e(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}}),rk=n(()=>{"use strict";P(),me(),_t(),ao=[],Or=[""],Pn="global",Co="",ri=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],g1=[],vb="",yb=!1,l6=4,d6=2,lRe=e(function(){return dRe},"getC4Type"),cRe=e(function(e){dRe=Ie(e,u())},"setC4Type"),rRe=e(function(e,t,n,s,o,i,a,r,c){if(e==null||t===void 0||t===null||n===void 0||n===null||s===void 0||s===null)return;let l={},d=g1.find(e=>e.from===t&&e.to===n);if(d?l=d:g1.push(l),l.type=e,l.from=t,l.to=n,l.label={text:s},o==null)l.techn={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];l[e]={text:t}}else l.techn={text:o};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];l[e]=t}else l.sprite=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];l[e]=t}else l.tags=r;if(typeof c=="object"){let[e,t]=Object.entries(c)[0];l[e]=t}else l.link=c;l.wrap=Mr()},"addRel"),aRe=e(function(e,t,n,s,o,i,a){if(t===null||n===null)return;let r={},c=ao.find(e=>e.alias===t);if(c&&t===c.alias?r=c:(r.alias=t,ao.push(r)),n==null?r.label={text:""}:r.label={text:n},s==null)r.descr={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]={text:t}}else r.descr={text:s};if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.sprite=o;if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=t}else r.tags=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=t}else r.link=a;r.typeC4Shape={text:e},r.parentBoundary=Pn,r.wrap=Mr()},"addPersonOrSystem"),iRe=e(function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={},l=ao.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,ao.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=Mr(),c.typeC4Shape={text:e},c.parentBoundary=Pn},"addContainer"),sRe=e(function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={},l=ao.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,ao.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=Mr(),c.typeC4Shape={text:e},c.parentBoundary=Pn},"addComponent"),nRe=e(function(e,t,n,s,o){if(e===null||t===null)return;let i={},a=ri.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,ri.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"system"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=Pn,i.wrap=Mr(),Co=Pn,Pn=e,Or.push(Co)},"addPersonOrSystemBoundary"),tRe=e(function(e,t,n,s,o){if(e===null||t===null)return;let i={},a=ri.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,ri.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"container"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=Pn,i.wrap=Mr(),Co=Pn,Pn=e,Or.push(Co)},"addContainerBoundary"),eRe=e(function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={},l=ri.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,ri.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.type={text:"node"};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.type={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.nodeType=e,c.parentBoundary=Pn,c.wrap=Mr(),Co=Pn,Pn=t,Or.push(Co)},"addDeploymentNode"),QLe=e(function(){Pn=Co,Or.pop(),Co=Or.pop(),Or.push(Co)},"popBoundaryParseStack"),XLe=e(function(e,t,n,s,o,i,a,r,c,l,d){let u=ao.find(e=>e.alias===t);if(u!==void 0||!(u=ri.find(e=>e.alias===t),u===void 0)){if(n!=null)if(typeof n=="object"){let[e,t]=Object.entries(n)[0];u[e]=t}else u.bgColor=n;if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];u[e]=t}else u.fontColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];u[e]=t}else u.borderColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];u[e]=t}else u.shadowing=i;if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];u[e]=t}else u.shape=a;if(r!=null)if(typeof r=="object"){let[e,t]=Object.entries(r)[0];u[e]=t}else u.sprite=r;if(c!=null)if(typeof c=="object"){let[e,t]=Object.entries(c)[0];u[e]=t}else u.techn=c;if(l!=null)if(typeof l=="object"){let[e,t]=Object.entries(l)[0];u[e]=t}else u.legendText=l;if(d!=null)if(typeof d=="object"){let[e,t]=Object.entries(d)[0];u[e]=t}else u.legendSprite=d}},"updateElStyle"),GLe=e(function(e,t,n,s,o,i,a){let r=g1.find(e=>e.from===t&&e.to===n);if(r!==void 0){if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]=t}else r.textColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.lineColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=parseInt(t)}else r.offsetX=parseInt(i);if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=parseInt(t)}else r.offsetY=parseInt(a)}},"updateRelStyle"),YLe=e(function(e,t,n){let s=l6,o=d6;if(typeof t=="object"){let e=Object.values(t)[0];s=parseInt(e)}else s=parseInt(t);if(typeof n=="object"){let e=Object.values(n)[0];o=parseInt(e)}else o=parseInt(n);s>=1&&(l6=s),o>=1&&(d6=o)},"updateLayoutConfig"),ULe=e(function(){return l6},"getC4ShapeInRow"),WLe=e(function(){return d6},"getC4BoundaryInRow"),BLe=e(function(){return Pn},"getCurrentBoundaryParse"),ILe=e(function(){return Co},"getParentBoundaryParse"),Fk=e(function(e){return e==null?ao:ao.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),HLe=e(function(e){return ao.find(t=>t.alias===e)},"getC4Shape"),PLe=e(function(e){return Object.keys(Fk(e))},"getC4ShapeKeys"),_k=e(function(e){return e==null?ri:ri.filter(t=>t.parentBoundary===e)},"getBoundaries"),RLe=_k,LLe=e(function(){return g1},"getRels"),NLe=e(function(){return vb},"getTitle"),MLe=e(function(e){yb=e},"setWrap"),Mr=e(function(){return yb},"autoWrap"),SLe=e(function(){ao=[],ri=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Co="",Pn="global",Or=[""],g1=[],Or=[""],vb="",yb=!1,l6=4,d6=2},"clear"),ALe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},CLe={FILLED:0,OPEN:1},xLe={LEFTOF:0,RIGHTOF:1,OVER:2},wLe=e(function(e){vb=Ie(e,u())},"setTitle"),Gb={addPersonOrSystem:aRe,addPersonOrSystemBoundary:nRe,addContainer:iRe,addContainerBoundary:tRe,addComponent:sRe,addDeploymentNode:eRe,popBoundaryParseStack:QLe,addRel:rRe,updateElStyle:XLe,updateRelStyle:GLe,updateLayoutConfig:YLe,autoWrap:Mr,setWrap:MLe,getC4ShapeArray:Fk,getC4Shape:HLe,getC4ShapeKeys:PLe,getBoundaries:_k,getBoundarys:RLe,getCurrentBoundaryParse:BLe,getParentBoundaryParse:ILe,getRels:LLe,getTitle:NLe,getC4Type:lRe,getC4ShapeInRow:ULe,getC4BoundaryInRow:WLe,setAccTitle:It,getAccTitle:Yt,getAccDescription:Qt,setAccDescription:Gt,getConfig:e(()=>u().c4,"getConfig"),clear:SLe,LINETYPE:ALe,ARROWTYPE:CLe,PLACEMENT:xLe,setTitle:wLe,setC4Type:cRe}});function Xf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}ok=n(()=>{"use strict";e(Xf,"ascending")});function _Le(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}yLe=n(()=>{"use strict";e(_Le,"descending")});function Jb(t){let n,s,o;t.length!==2?(n=Xf,s=e((e,n)=>Xf(t(e),n),"compare2"),o=e((e,n)=>t(e)-n,"delta")):(n=t===Xf||t===_Le?t:jLe,s=t,o=t);function i(e,t,o=0,i=e.length){if(o<i){if(n(t,t)!==0)return i;do{let n=o+i>>>1;s(e[n],t)<0?o=n+1:i=n}while(o<i)}return o}e(i,"left");function a(e,t,o=0,i=e.length){if(o<i){if(n(t,t)!==0)return i;do{let n=o+i>>>1;s(e[n],t)<=0?o=n+1:i=n}while(o<i)}return o}e(a,"right");function r(e,t,n=0,s=e.length){let a=i(e,t,n,s-1);return a>n&&o(e[a-1],t)>-o(e[a],t)?a-1:a}return e(r,"center"),{left:i,center:r,right:a}}function jLe(){return 0}JE=n(()=>{"use strict";ok(),yLe(),e(Jb,"bisector"),e(jLe,"zero")});function gLe(e){return e===null?NaN:+e}pLe=n(()=>{"use strict";e(gLe,"number")}),cLe=n(()=>{"use strict";ok(),JE(),pLe(),GE=Jb(Xf),fLe=GE.right,yQe=GE.left,_Qe=Jb(gLe).center,lLe=fLe});function xE({_intern:e,_key:t},n){let s=t(n);return e.has(s)?e.get(s):n}function oLe({_intern:e,_key:t},n){let s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function YNe({_intern:e,_key:t},n){let s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function qNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}KNe=n(()=>{"use strict";gE=class extends Map{static{e(this,"InternMap")}constructor(e,t=qNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[t,n]of e)this.set(t,n)}get(e){return super.get(xE(this,e))}has(e){return super.has(xE(this,e))}set(e,t){return super.set(oLe(this,e),t)}delete(e){return super.delete(YNe(this,e))}},e(xE,"intern_get"),e(oLe,"intern_set"),e(YNe,"intern_delete"),e(qNe,"keyof")});function pf(e,t,n){let c=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(c)),r=c/Math.pow(10,a),l=r>=$Ne?10:r>=VNe?5:r>=BNe?2:1,o,i,s;return a<0?(s=Math.pow(10,-a)/l,o=Math.round(e*s),i=Math.round(t*s),o/s<e&&++o,i/s>t&&--i,s=-s):(s=Math.pow(10,a)*l,o=Math.round(e/s),i=Math.round(t/s),o*s<e&&++o,i*s>t&&--i),i<o&&.5<=n&&n<2?pf(e,t,n*2):[o,i,s]}function WNe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let c=t<e,[a,r,s]=c?pf(t,e,n):pf(e,t,n);if(!(r>=a))return[];let o=r-a+1,i=new Array(o);if(c)if(s<0)for(let e=0;e<o;++e)i[e]=(r-e)/-s;else for(let e=0;e<o;++e)i[e]=(r-e)*s;else if(s<0)for(let e=0;e<o;++e)i[e]=(a+e)/-s;else for(let e=0;e<o;++e)i[e]=(a+e)*s;return i}function uj(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function P6(e,t,n){t=+t,e=+e,n=+n;let o=t<e,s=o?uj(t,e,n):uj(e,t,n);return(o?-1:1)*(s<0?1/-s:s)}INe=n(()=>{"use strict";$Ne=Math.sqrt(50),VNe=Math.sqrt(10),BNe=Math.sqrt(2),e(pf,"tickSpec"),e(WNe,"ticks"),e(uj,"tickIncrement"),e(P6,"tickStep")});function HNe(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n<t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}LNe=n(()=>{"use strict";e(HNe,"max")});function NNe(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}DNe=n(()=>{"use strict";e(NNe,"min")});function zNe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var o=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++o<s;)i[o]=e+o*n;return i}TNe=n(()=>{"use strict";e(zNe,"range")}),cc=n(()=>{"use strict";cLe(),JE(),LNe(),DNe(),TNe(),INe(),KNe()});function FNe(e){return e}MNe=n(()=>{"use strict";e(FNe,"default")});function SNe(e){return"translate("+e+",0)"}function kNe(e){return"translate(0,"+e+")"}function ENe(e){return t=>+e(t)}function xNe(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ONe(){return!this.__axis}function FC(t,n){var c=[],l=null,u=null,r=6,i=6,h=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=t===_8||t===h8?-1:1,d=t===h8||t===bj?"x":"y",m=t===_8||t===jj?SNe:kNe;function s(e){var C=l??(n.ticks?n.ticks.apply(n,c):n.domain()),E=u??(n.tickFormat?n.tickFormat.apply(n,c):FNe),x=Math.max(r,0)+h,w=n.range(),y=+w[0]+o,j=+w[w.length-1]+o,b=(n.bandwidth?xNe:ENe)(n.copy(),o),p=e.selection?e.selection():e,f=p.selectAll(".domain").data([null]),s=p.selectAll(".tick").data(C,n).order(),O=s.exit(),_=s.enter().append("g").attr("class","tick"),v=s.select("line"),g=s.select("text"),f=f.merge(f.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s=s.merge(_),v=v.merge(_.append("line").attr("stroke","currentColor").attr(d+"2",a*r)),g=g.merge(_.append("text").attr("fill","currentColor").attr(d,a*x).attr("dy",t===_8?"0em":t===jj?"0.71em":"0.32em"));e!==p&&(f=f.transition(e),s=s.transition(e),v=v.transition(e),g=g.transition(e),O=O.transition(e).attr("opacity",xC).attr("transform",function(e){return isFinite(e=b(e))?m(e+o):this.getAttribute("transform")}),_.attr("opacity",xC).attr("transform",function(e){var t=this.parentNode.__axis;return m((t&&isFinite(t=t(e))?t:b(e))+o)})),O.remove(),f.attr("d",t===h8||t===bj?i?"M"+a*i+","+y+"H"+o+"V"+j+"H"+a*i:"M"+o+","+y+"V"+j:i?"M"+y+","+a*i+"V"+o+"H"+j+"V"+a*i:"M"+y+","+o+"H"+j),s.attr("opacity",1).attr("transform",function(e){return m(b(e)+o)}),v.attr(d+"2",a*r),g.attr(d,a*x).text(E),p.filter(ONe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===bj?"start":t===h8?"end":"middle"),p.each(function(){this.__axis=b})}return e(s,"axis"),s.scale=function(e){return arguments.length?(n=e,s):n},s.ticks=function(){return c=Array.from(arguments),s},s.tickArguments=function(e){return arguments.length?(c=e==null?[]:Array.from(e),s):c.slice()},s.tickValues=function(e){return arguments.length?(l=e==null?null:Array.from(e),s):l&&l.slice()},s.tickFormat=function(e){return arguments.length?(u=e,s):u},s.tickSize=function(e){return arguments.length?(r=i=+e,s):r},s.tickSizeInner=function(e){return arguments.length?(r=+e,s):r},s.tickSizeOuter=function(e){return arguments.length?(i=+e,s):i},s.tickPadding=function(e){return arguments.length?(h=+e,s):h},s.offset=function(e){return arguments.length?(o=+e,s):o},s}function yNe(e){return FC(_8,e)}function jNe(e){return FC(jj,e)}bNe=n(()=>{"use strict";MNe(),_8=1,bj=2,jj=3,h8=4,xC=1e-6,e(SNe,"translateX"),e(kNe,"translateY"),e(ENe,"number"),e(xNe,"center"),e(ONe,"entering"),e(FC,"axis"),e(yNe,"axisTop"),e(jNe,"axisBottom")}),vNe=n(()=>{"use strict";bNe()});function yC(){for(var e,t=0,s=arguments.length,n={};t<s;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new Xm(n)}function Xm(e){this._=e}function gNe(e,t){return e.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");if(n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:s}})}function pNe(e,t){for(var s,n=0,o=e.length;n<o;++n)if((s=e[n]).name===t)return s.value}function jC(e,t,n){for(var s=0,o=e.length;s<o;++s)if(e[s].name===t){e[s]=uNe,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}cNe=n(()=>{"use strict";uNe={value:e(()=>{},"value")},e(yC,"dispatch"),e(Xm,"Dispatch"),e(gNe,"parseTypenames"),Xm.prototype=yC.prototype={constructor:Xm,on:e(function(e,t){var n,s=this._,i=gNe(e+"",s),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=pNe(s[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)s[n]=jC(s[n],e.name,t);else if(t==null)for(n in s)s[n]=jC(s[n],e.name,null);return this},"on"),copy:e(function(){var n,e={},t=this._;for(n in t)e[n]=t[n].slice();return new Xm(e)},"copy"),call:e(function(e,t){if((s=arguments.length-2)>0)for(var s,o,i=new Array(s),n=0;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,s=o.length;n<s;++n)o[n].value.apply(t,i)},"call"),apply:e(function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(t,n)},"apply")},e(pNe,"get"),e(jC,"set"),dNe=yC}),vC=n(()=>{"use strict";cNe()}),uC=n(()=>{"use strict";Cj="http://www.w3.org/1999/xhtml",hC={svg:"http://www.w3.org/2000/svg",xhtml:Cj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Tm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hC.hasOwnProperty(t)?{space:hC[t],local:e}:e}Ej=n(()=>{"use strict";uC(),e(Tm,"default")});function iNe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cj&&t.documentElement.namespaceURI===Cj?t.createElement(e):t.createElementNS(n,e)}}function JDe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sC(e){var t=Tm(e);return(t.local?JDe:iNe)(t)}nC=n(()=>{"use strict";Ej(),uC(),e(iNe,"creatorInherit"),e(JDe,"creatorFixed"),e(sC,"default")});function ZDe(){}function Rj(e){return e==null?ZDe:function(){return this.querySelector(e)}}Bj=n(()=>{"use strict";e(ZDe,"none"),e(Rj,"default")});function QDe(e){typeof e!="function"&&(e=Rj(e));for(var a=this._groups,r=a.length,c=new Array(r),s=0;s<r;++s)for(var t,i,o=a[s],l=o.length,d=c[s]=new Array(l),n=0;n<l;++n)(t=o[n])&&(i=e.call(t,t.__data__,n,o))&&("__data__"in t&&(i.__data__=t.__data__),d[n]=i);return new ws(c,this._parents)}qDe=n(()=>{"use strict";li(),Bj(),e(QDe,"default")});function KDe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}UDe=n(()=>{"use strict";e(KDe,"array")});function WDe(){return[]}function qx(e){return e==null?WDe:function(){return this.querySelectorAll(e)}}Kx=n(()=>{"use strict";e(WDe,"empty"),e(qx,"default")});function $De(e){return function(){return KDe(e.apply(this,arguments))}}function BDe(e){typeof e=="function"?e=$De(e):e=qx(e);for(var i=this._groups,c=i.length,a=[],r=[],s=0;s<c;++s)for(var t,o=i[s],l=o.length,n=0;n<l;++n)(t=o[n])&&(a.push(e.call(t,t.__data__,n,o)),r.push(t));return new ws(a,r)}kDe=n(()=>{"use strict";li(),UDe(),Kx(),e($De,"arrayAll"),e(BDe,"default")});function $x(e){return function(){return this.matches(e)}}function Vx(e){return function(t){return t.matches(e)}}hm=n(()=>{"use strict";e($x,"default"),e(Vx,"childMatcher")});function ODe(e){return function(){return bDe.call(this.children,e)}}function _De(){return this.firstElementChild}function yDe(e){return this.select(e==null?_De:ODe(typeof e=="function"?e:Vx(e)))}vDe=n(()=>{"use strict";hm(),bDe=Array.prototype.find,e(ODe,"childFind"),e(_De,"childFirst"),e(yDe,"default")});function pDe(){return Array.from(this.children)}function fDe(e){return function(){return tDe.call(this.children,e)}}function aDe(e){return this.selectAll(e==null?pDe:fDe(typeof e=="function"?e:Vx(e)))}$ze=n(()=>{"use strict";hm(),tDe=Array.prototype.filter,e(pDe,"children"),e(fDe,"childrenFilter"),e(aDe,"default")});function Vze(e){typeof e!="function"&&(e=$x(e));for(var i=this._groups,a=i.length,r=new Array(a),t=0;t<a;++t)for(var n,o=i[t],c=o.length,l=r[t]=[],s=0;s<c;++s)(n=o[s])&&e.call(n,n.__data__,s,o)&&l.push(n);return new ws(r,this._parents)}Ize=n(()=>{"use strict";li(),hm(),e(Vze,"default")});function gx(e){return new Array(e.length)}px=n(()=>{"use strict";e(gx,"default")});function Aze(){return new ws(this._enter||this._groups.map(gx),this._parents)}function Vh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}fx=n(()=>{"use strict";px(),li(),e(Aze,"default"),e(Vh,"EnterNode"),Vh.prototype={constructor:Vh,appendChild:e(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:e(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:e(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:e(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")}});function Eze(e){return function(){return e}}hze=n(()=>{"use strict";e(Eze,"default")});function uze(e,t,n,s,o,i){for(var r,a=0,c=t.length,l=i.length;a<l;++a)(r=t[a])?(r.__data__=i[a],s[a]=r):n[a]=new Vh(e,i[a]);for(;a<c;++a)(r=t[a])&&(o[a]=r)}function tze(e,t,n,s,o,i,a){var r,c,l,d=new Map,u=t.length,m=i.length,h=new Array(u);for(r=0;r<u;++r)(c=t[r])&&(h[r]=l=a.call(c,c.__data__,r,t)+"",d.has(l)?o[r]=c:d.set(l,c));for(r=0;r<m;++r)l=a.call(e,i[r],r,i)+"",(c=d.get(l))?(s[r]=c,c.__data__=i[r],d.delete(l)):n[r]=new Vh(e,i[r]);for(r=0;r<u;++r)(c=t[r])&&d.get(h[r])===c&&(o[r]=c)}function ZTe(e){return e.__data__}function QTe(e,t){if(!arguments.length)return Array.from(this,ZTe);var _=t?tze:uze,l=this._parents,h=this._groups;typeof e!="function"&&(e=Eze(e));for(var r=h.length,s=new Array(r),d=new Array(r),u=new Array(r),n=0;n<r;++n){var o,i,f,b,a=l[n],m=h[n],j=m.length,p=XTe(e.call(a,a&&a.__data__,n,l)),c=p.length,g=d[n]=new Array(c),v=s[n]=new Array(c),y=u[n]=new Array(j);_(a,m,g,v,y,p,t);for(o=0,i=0;o<c;++o)if(b=g[o]){for(o>=i&&(i=o+1);!(f=v[i])&&++i<c;);b._next=f||null}}return s=new ws(s,l),s._enter=d,s._exit=u,s}function XTe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}YTe=n(()=>{"use strict";li(),fx(),hze(),e(uze,"bindIndex"),e(tze,"bindKey"),e(ZTe,"datum"),e(QTe,"default"),e(XTe,"arraylike")});function qTe(){return new ws(this._exit||this._groups.map(gx),this._parents)}KTe=n(()=>{"use strict";px(),li(),e(qTe,"default")});function UTe(e,t,n){var s=this.enter(),o=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),s&&o?s.merge(o).order():o}WTe=n(()=>{"use strict";e(UTe,"default")});function $Te(e){for(var h=e.selection?e.selection():e,i=this._groups,a=h._groups,o=i.length,d=a.length,u=Math.min(o,d),s=new Array(o),t=0;t<u;++t)for(var l,r=i[t],m=a[t],c=r.length,f=s[t]=new Array(c),n=0;n<c;++n)(l=r[n]||m[n])&&(f[n]=l);for(;t<o;++t)s[t]=i[t];return new ws(s,this._parents)}VTe=n(()=>{"use strict";li(),e($Te,"default")});function BTe(){for(var o=this._groups,i=-1,a=o.length;++i<a;)for(var t,n=o[i],s=n.length-1,e=n[s];--s>=0;)(t=n[s])&&(e&&t.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(t,e),e=t);return this}ITe=n(()=>{"use strict";e(BTe,"default")});function PTe(t){t||(t=LTe);function o(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}e(o,"compareNode");for(var i=this._groups,a=i.length,r=new Array(a),n=0;n<a;++n){for(var u,c=i[n],l=c.length,d=r[n]=new Array(l),s=0;s<l;++s)(u=c[s])&&(d[s]=u);d.sort(o)}return new ws(r,this._parents).order()}function LTe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}TTe=n(()=>{"use strict";li(),e(PTe,"default"),e(LTe,"ascending")});function MTe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}OTe=n(()=>{"use strict";e(MTe,"default")});function yTe(){return Array.from(this)}jTe=n(()=>{"use strict";e(yTe,"default")});function fTe(){for(var n,s=this._groups,e=0,i=s.length;e<i;++e)for(var o=s[e],t=0,a=o.length;t<a;++t)if(n=o[t],n)return n;return null}cTe=n(()=>{"use strict";e(fTe,"default")});function rTe(){let e=0;for(let t of this)++e;return e}sTe=n(()=>{"use strict";e(rTe,"default")});function nTe(){return!this.node()}tTe=n(()=>{"use strict";e(nTe,"default")});function eTe(e){for(var i=this._groups,n=0,a=i.length;n<a;++n)for(var o,s=i[n],t=0,r=s.length;t<r;++t)(o=s[t])&&e.call(o,o.__data__,t,s);return this}JFe=n(()=>{"use strict";e(eTe,"default")});function QFe(e){return function(){this.removeAttribute(e)}}function XFe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qFe(e,t){return function(){this.setAttribute(e,t)}}function KFe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UFe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function VFe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function DFe(e,t){var s,n=Tm(e);return arguments.length<2?(s=this.node(),n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)):this.each((t==null?n.local?XFe:QFe:typeof t=="function"?n.local?VFe:UFe:n.local?KFe:qFe)(n,t))}SFe=n(()=>{"use strict";Ej(),e(QFe,"attrRemove"),e(XFe,"attrRemoveNS"),e(qFe,"attrConstant"),e(KFe,"attrConstantNS"),e(UFe,"attrFunction"),e(VFe,"attrFunctionNS"),e(DFe,"default")});function V_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}I_=n(()=>{"use strict";e(V_,"default")});function kFe(e){return function(){this.style.removeProperty(e)}}function EFe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CFe(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function xFe(e,t,n){return arguments.length>1?this.each((t==null?kFe:typeof t=="function"?CFe:EFe)(e,t,n??"")):ql(this.node(),e)}function ql(e,t){return e.style.getPropertyValue(t)||V_(e).getComputedStyle(e,null).getPropertyValue(t)}N_=n(()=>{"use strict";I_(),e(kFe,"styleRemove"),e(EFe,"styleConstant"),e(CFe,"styleFunction"),e(xFe,"default"),e(ql,"styleValue")});function _Fe(e){return function(){delete this[e]}}function jFe(e,t){return function(){this[e]=t}}function bFe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function vFe(e,t){return arguments.length>1?this.each((t==null?_Fe:typeof t=="function"?bFe:jFe)(e,t)):this.node()[e]}gFe=n(()=>{"use strict";e(_Fe,"propertyRemove"),e(jFe,"propertyConstant"),e(bFe,"propertyFunction"),e(vFe,"default")});function __(e){return e.trim().split(/^|\s+/)}function Py(e){return e.classList||new g_(e)}function g_(e){this._node=e,this._names=__(e.getAttribute("class")||"")}function h_(e,t){for(var s=Py(e),n=-1,o=t.length;++n<o;)s.add(t[n])}function u_(e,t){for(var s=Py(e),n=-1,o=t.length;++n<o;)s.remove(t[n])}function pFe(e){return function(){h_(this,e)}}function fFe(e){return function(){u_(this,e)}}function mFe(e,t){return function(){(t.apply(this,arguments)?h_:u_)(this,e)}}function uFe(e,t){if(n=__(e+""),arguments.length<2){for(var n,o=Py(this.node()),s=-1,i=n.length;++s<i;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?mFe:t?pFe:fFe)(n,t))}dFe=n(()=>{"use strict";e(__,"classArray"),e(Py,"classList"),e(g_,"ClassList"),g_.prototype={add:e(function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:e(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:e(function(e){return this._names.indexOf(e)>=0},"contains")},e(h_,"classedAdd"),e(u_,"classedRemove"),e(pFe,"classedTrue"),e(fFe,"classedFalse"),e(mFe,"classedFunction"),e(uFe,"default")});function lFe(){this.textContent=""}function cFe(e){return function(){this.textContent=e}}function rFe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function iFe(e){return arguments.length?this.each(e==null?lFe:(typeof e=="function"?rFe:cFe)(e)):this.node().textContent}oFe=n(()=>{"use strict";e(lFe,"textRemove"),e(cFe,"textConstant"),e(rFe,"textFunction"),e(iFe,"default")});function nFe(){this.innerHTML=""}function tFe(e){return function(){this.innerHTML=e}}function YMe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function qMe(e){return arguments.length?this.each(e==null?nFe:(typeof e=="function"?YMe:tFe)(e)):this.node().innerHTML}UMe=n(()=>{"use strict";e(nFe,"htmlRemove"),e(tFe,"htmlConstant"),e(YMe,"htmlFunction"),e(qMe,"default")});function WMe(){this.nextSibling&&this.parentNode.appendChild(this)}function $Me(){return this.each(WMe)}VMe=n(()=>{"use strict";e(WMe,"raise"),e($Me,"default")});function BMe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HMe(){return this.each(BMe)}NMe=n(()=>{"use strict";e(BMe,"lower"),e(HMe,"default")});function DMe(e){var t=typeof e=="function"?e:sC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}TMe=n(()=>{"use strict";nC(),e(DMe,"default")});function FMe(){return null}function SMe(e,t){var n=typeof e=="function"?e:sC(e),s=t==null?FMe:typeof t=="function"?t:Rj(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}AMe=n(()=>{"use strict";nC(),Bj(),e(FMe,"constantNull"),e(SMe,"default")});function kMe(){var e=this.parentNode;e&&e.removeChild(this)}function EMe(){return this.each(kMe)}CMe=n(()=>{"use strict";e(kMe,"remove"),e(EMe,"default")});function jMe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bMe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vMe(e){return this.select(e?bMe:jMe)}fMe=n(()=>{"use strict";e(jMe,"selection_cloneShallow"),e(bMe,"selection_cloneDeep"),e(vMe,"default")});function nMe(e){return arguments.length?this.property("__data__",e):this.node().__data__}eMe=n(()=>{"use strict";e(nMe,"default")});function JSe(e){return function(t){e.call(this,t,this.__data__)}}function ZSe(e){return e.trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");return t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),{type:e,name:n}})}function QSe(e){return function(){if(n=this.__on,n){for(var t,n,s=0,o=-1,i=n.length;s<i;++s)t=n[s],(!e.type||t.type===e.type)&&t.name===e.name?this.removeEventListener(t.type,t.listener,t.options):n[++o]=t;++o?n.length=o:delete this.__on}}}function YSe(e,t,n){return function(){var s,i,r,o=this.__on,a=JSe(t);if(o)for(i=0,r=o.length;i<r;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function KSe(e,t,n){var s,o,i,a,l,d,r=ZSe(e+""),c=r.length;if(arguments.length<2){if(o=this.node().__on,o)for(i=0,d=o.length;i<d;++i)for(s=0,a=o[i];s<c;++s)if((l=r[s]).type===a.type&&l.name===a.name)return a.value;return}for(o=t?YSe:QSe,s=0;s<c;++s)this.each(o(r[s],t,n));return this}USe=n(()=>{"use strict";e(JSe,"contextListener"),e(ZSe,"parseTypenames"),e(QSe,"onRemove"),e(YSe,"onAdd"),e(KSe,"default")});function Jy(e,t,n){var o=V_(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function $Se(e,t){return function(){return Jy(this,e,t)}}function VSe(e,t){return function(){return Jy(this,e,t.apply(this,arguments))}}function BSe(e,t){return this.each((typeof t=="function"?VSe:$Se)(e,t))}ISe=n(()=>{"use strict";I_(),e(Jy,"dispatchEvent"),e($Se,"dispatchConstant"),e(VSe,"dispatchFunction"),e(BSe,"default")});function*PSe(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,s=n[e],t=0,a=s.length;t<a;++t)(o=s[t])&&(yield o)}LSe=n(()=>{"use strict";e(PSe,"default")});function ws(e,t){this._groups=e,this._parents=t}function l_(){return new ws([[document.documentElement]],m_)}function DSe(){return this}li=n(()=>{"use strict";qDe(),kDe(),vDe(),$ze(),Ize(),YTe(),fx(),KTe(),WTe(),VTe(),ITe(),TTe(),OTe(),jTe(),cTe(),sTe(),tTe(),JFe(),SFe(),N_(),gFe(),dFe(),oFe(),UMe(),VMe(),NMe(),TMe(),AMe(),CMe(),fMe(),eMe(),USe(),ISe(),LSe(),m_=[null],e(ws,"Selection"),e(l_,"selection"),e(DSe,"selection_selection"),ws.prototype=l_.prototype={constructor:ws,select:QDe,selectAll:BDe,selectChild:yDe,selectChildren:aDe,filter:Vze,data:QTe,enter:Aze,exit:qTe,join:UTe,merge:$Te,selection:DSe,order:BTe,sort:PTe,call:MTe,nodes:yTe,node:fTe,size:rTe,empty:nTe,each:eTe,attr:DFe,style:xFe,property:vFe,classed:uFe,text:iFe,html:qMe,raise:$Me,lower:HMe,append:DMe,insert:SMe,remove:EMe,clone:vMe,datum:nMe,on:KSe,dispatch:BSe,[Symbol.iterator]:PSe},s2=l_});function y(e){return typeof e=="string"?new ws([[document.querySelector(e)]],[document.documentElement]):new ws([[e]],m_)}zSe=n(()=>{"use strict";li(),e(y,"default")}),Qo=n(()=>{"use strict";hm(),Ej(),zSe(),li(),Bj(),Kx(),N_()}),TSe=n(()=>{"use strict"});function t2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A3(e,t){var s,n=Object.create(e.prototype);for(s in t)n[s]=t[s];return n}b_=n(()=>{"use strict";e(t2,"default"),e(A3,"extend")});function Fc(){}function x_(){return this.rgb().formatHex()}function FSe(){return this.rgb().formatHex8()}function MSe(){return Hw(this).formatHsl()}function z_(){return this.rgb().formatRgb()}function Wr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kSe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?P_(t):n===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?R3(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?R3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xSe.exec(e))?new wn(t[1],t[2],t[3],1):(t=wSe.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Se.exec(e))?R3(t[1],t[2],t[3],t[4]):(t=jSe.exec(e))?R3(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bSe.exec(e))?mw(t[1],t[2]/100,t[3]/100,1):(t=gSe.exec(e))?mw(t[1],t[2]/100,t[3]/100,t[4]):Fx.hasOwnProperty(e)?P_(Fx[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function P_(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function R3(e,t,n,s){return s<=0&&(e=t=n=NaN),new wn(e,t,n,s)}function tw(e){return e instanceof Fc||(e=Wr(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function H3(e,t,n,s){return arguments.length===1?tw(e):new wn(e,t,n,s??1)}function wn(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}function nw(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}`}function SSe(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}${ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function ow(){let e=C2(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function C2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ac(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function mw(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bo(e,t,n,s)}function Hw(e){if(e instanceof bo)return new bo(e.h,e.s,e.l,e.opacity);if(e instanceof Fc||(e=Wr(e)),!e)return new bo;if(e instanceof bo)return e;e=e.rgb();var i=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(i,n,a),s=Math.max(i,n,a),o=NaN,t=s-r,c=(s+r)/2;return t?(i===s?o=(n-a)/t+(n<a)*6:n===s?o=(a-i)/t+2:o=(i-n)/t+4,t/=c<.5?s+r:2-s-r,o*=60):t=c>0&&c<1?0:o,new bo(o,t,c,e.opacity)}function ASe(e,t,n,s){return arguments.length===1?Hw(e):new bo(e,t,n,s??1)}function bo(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}function Kw(e){return e=(e||0)%360,e<0?e+360:e}function Z3(e){return Math.max(0,Math.min(1,e||0))}function dy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}Hx=n(()=>{"use strict";b_(),e(Fc,"Color"),$0=.7,th=1/$0,qu="\\s*([+-]?\\d+)\\s*",H0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kSe=/^#([0-9a-f]{3,8})$/,xSe=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),wSe=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),_Se=new RegExp(`^rgba\\(${qu},${qu},${qu},${H0}\\)$`),jSe=new RegExp(`^rgba\\(${_i},${_i},${_i},${H0}\\)$`),bSe=new RegExp(`^hsl\\(${H0},${_i},${_i}\\)$`),gSe=new RegExp(`^hsla\\(${H0},${_i},${_i},${H0}\\)$`),Fx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},t2(Fc,Wr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x_,formatHex:x_,formatHex8:FSe,formatHsl:MSe,formatRgb:z_,toString:z_}),e(x_,"color_formatHex"),e(FSe,"color_formatHex8"),e(MSe,"color_formatHsl"),e(z_,"color_formatRgb"),e(Wr,"color"),e(P_,"rgbn"),e(R3,"rgba"),e(tw,"rgbConvert"),e(H3,"rgb"),e(wn,"Rgb"),t2(wn,H3,A3(Fc,{brighter(e){return e=e==null?th:Math.pow(th,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$0:Math.pow($0,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(sc(this.r),sc(this.g),sc(this.b),C2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nw,formatHex:nw,formatHex8:SSe,formatRgb:ow,toString:ow})),e(nw,"rgb_formatHex"),e(SSe,"rgb_formatHex8"),e(ow,"rgb_formatRgb"),e(C2,"clampa"),e(sc,"clampi"),e(ac,"hex"),e(mw,"hsla"),e(Hw,"hslConvert"),e(ASe,"hsl"),e(bo,"Hsl"),t2(bo,ASe,A3(Fc,{brighter(e){return e=e==null?th:Math.pow(th,e),new bo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$0:Math.pow($0,e),new bo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,o=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*o,s=2*t-n;return new wn(dy(e>=240?e-240:e+120,s,n),dy(e,s,n),dy(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new bo(Kw(this.h),Z3(this.s),Z3(this.l),C2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=C2(this.opacity);return`${e===1?"hsl(":"hsla("}${Kw(this.h)}, ${Z3(this.s)*100}%, ${Z3(this.l)*100}%${e===1?")":`, ${e})`}`}})),e(Kw,"clamph"),e(Z3,"clampt"),e(dy,"hsl2rgb")}),mSe=n(()=>{"use strict";pSe=Math.PI/180,fSe=180/Math.PI});function Gx(e){if(e instanceof si)return new si(e.l,e.a,e.b,e.opacity);if(e instanceof fa)return iC(e);e instanceof wn||(e=tw(e));var i,a,n=Sj(e.r),t=Sj(e.g),s=Sj(e.b),o=Lj((.2225045*n+.7168786*t+.0606169*s)/kC);return n===t&&t===s?i=a=o:(i=Lj((.4360747*n+.3850649*t+.1430804*s)/lC),a=Lj((.0139322*n+.0971045*t+.7141733*s)/AC)),new si(116*o-16,500*(i-o),200*(o-a),e.opacity)}function hSe(e,t,n,s){return arguments.length===1?Gx(e):new si(e,t,n,s??1)}function si(e,t,n,s){this.l=+e,this.a=+t,this.b=+n,this.opacity=+s}function Lj(e){return e>dSe?Math.pow(e,1/3):e/HC+MC}function Fj(e){return e>xd?e*e*e:HC*(e-MC)}function Mj(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Sj(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function uSe(e){if(e instanceof fa)return new fa(e.h,e.c,e.l,e.opacity);if(e instanceof si||(e=Gx(e)),e.a===0&&e.b===0)return new fa(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fSe;return new fa(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Aj(e,t,n,s){return arguments.length===1?uSe(e):new fa(e,t,n,s??1)}function fa(e,t,n,s){this.h=+e,this.c=+t,this.l=+n,this.opacity=+s}function iC(e){if(isNaN(e.h))return new si(e.l,0,0,e.opacity);var t=e.h*pSe;return new si(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}lSe=n(()=>{"use strict";b_(),Hx(),mSe(),Ah=18,lC=.96422,kC=1,AC=.82521,MC=4/29,xd=6/29,HC=3*xd*xd,dSe=xd*xd*xd,e(Gx,"labConvert"),e(hSe,"lab"),e(si,"Lab"),t2(si,hSe,A3(Fc,{brighter(e){return new si(this.l+Ah*(e??1),this.a,this.b,this.opacity)},darker(e){return new si(this.l-Ah*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=lC*Fj(t),e=kC*Fj(e),n=AC*Fj(n),new wn(Mj(3.1338561*t-1.6168667*e-.4906146*n),Mj(-.9787684*t+1.9161415*e+.033454*n),Mj(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),e(Lj,"xyz2lab"),e(Fj,"lab2xyz"),e(Mj,"lrgb2rgb"),e(Sj,"rgb2lrgb"),e(uSe,"hclConvert"),e(Aj,"hcl"),e(fa,"Hcl"),e(iC,"hcl2lab"),t2(fa,Aj,A3(Fc,{brighter(e){return new fa(this.h,this.c,this.l+Ah*(e??1),this.opacity)},darker(e){return new fa(this.h,this.c,this.l-Ah*(e??1),this.opacity)},rgb(){return iC(this).rgb()}}))}),w0=n(()=>{"use strict";Hx(),lSe()});function VC(e,t,n,s,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*s+a*o)/6}function rSe(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[s],i=e[s+1],a=s>0?e[s-1]:2*o-i,r=s<t-1?e[s+2]:2*i-o;return VC((n-s/t)*t,a,o,i,r)}}GC=n(()=>{"use strict";e(VC,"basis"),e(rSe,"default")});function aSe(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),o=e[(s+t-1)%t],i=e[s%t],a=e[(s+1)%t],r=e[(s+2)%t];return VC((n-s/t)*t,o,i,a,r)}}iSe=n(()=>{"use strict";GC(),e(aSe,"default")}),eE=n(()=>{"use strict";$h=e(e=>()=>e,"default")});function lE(e,t){return function(n){return e+n*t}}function tSe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function XAe(e,t){var n=t-e;return n?lE(e,n>180||n<-180?n-360*Math.round(n/360):n):$h(isNaN(e)?t:e)}function GAe(e){return(e=+e)==1?ed:function(t,n){return n-t?tSe(t,n,e):$h(isNaN(t)?n:t)}}function ed(e,t){var n=t-e;return n?lE(e,n):$h(isNaN(e)?t:e)}yE=n(()=>{"use strict";eE(),e(lE,"linear"),e(tSe,"exponential"),e(XAe,"hue"),e(GAe,"gamma"),e(ed,"nogamma")});function CE(e){return function(t){var n,s,o=t.length,i=new Array(o),a=new Array(o),r=new Array(o);for(s=0;s<o;++s)n=H3(t[s]),i[s]=n.r||0,a[s]=n.g||0,r[s]=n.b||0;return i=e(i),a=e(a),r=e(r),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=r(e),n+""}}}BE=n(()=>{"use strict";w0(),GC(),iSe(),yE(),Zh=e(function t(n){var s=GAe(n);function o(e,t){var n=s((e=H3(e)).r,(t=H3(t)).r),o=s(e.g,t.g),i=s(e.b,t.b),a=ed(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return e(o,"rgb"),o.gamma=t,o},"rgbGamma")(1),e(CE,"rgbSpline"),wQe=CE(rSe),OQe=CE(aSe)});function PAe(e,t){t||(t=[]);var n,o=e?Math.min(t.length,e.length):0,s=t.slice();return function(i){for(n=0;n<o;++n)s[n]=e[n]*(1-i)+t[n]*i;return s}}function NAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}DAe=n(()=>{"use strict";e(PAe,"default"),e(NAe,"isNumberArray")});function AAe(e,t){var n,s=t?t.length:0,o=e?Math.min(s,e.length):0,a=new Array(o),i=new Array(s);for(n=0;n<o;++n)a[n]=Tb(e[n],t[n]);for(;n<s;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=a[n](e);return i}}EAe=n(()=>{"use strict";Ab(),e(AAe,"genericArray")});function _Ae(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}yAe=n(()=>{"use strict";e(_Ae,"default")});function jo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}dm=n(()=>{"use strict";e(jo,"default")});function jAe(e,t){var n,s={},o={};(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=Tb(e[n],t[n]):o[n]=t[n];return function(e){for(n in s)o[n]=s[n](e);return o}}bAe=n(()=>{"use strict";Ab(),e(jAe,"default")});function gAe(e){return function(){return e}}function uAe(e){return function(t){return e(t)+""}}function Rk(e,t){var o,i,c,a=Lb.lastIndex=Nb.lastIndex=0,s=-1,n=[],r=[];for(e=e+"",t=t+"";(c=Lb.exec(e))&&(i=Nb.exec(t));)(o=i.index)>a&&(o=t.slice(a,o),n[s]?n[s]+=o:n[++s]=o),(c=c[0])===(i=i[0])?n[s]?n[s]+=i:n[++s]=i:(n[++s]=null,r.push({i:s,x:jo(c,i)})),a=Nb.lastIndex;return a<t.length&&(o=t.slice(a),n[s]?n[s]+=o:n[++s]=o),n.length<2?r[0]?uAe(r[0].x):gAe(t):(t=r.length,function(e){for(var o,s=0;s<t;++s)n[(o=r[s]).i]=o.x(e);return n.join("")})}qk=n(()=>{"use strict";dm(),Lb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nb=new RegExp(Lb.source,"g"),e(gAe,"zero"),e(uAe,"one"),e(Rk,"default")});function Tb(e,t){var s,n=typeof t;return t==null||n==="boolean"?$h(t):(n==="number"?jo:n==="string"?(s=Wr(t))?(t=s,Zh):Rk:t instanceof Wr?Zh:t instanceof Date?_Ae:NAe(t)?PAe:Array.isArray(t)?AAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jAe:jo)(e,t)}Ab=n(()=>{"use strict";w0(),BE(),EAe(),yAe(),dm(),bAe(),qk(),eE(),DAe(),e(Tb,"default")});function lAe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}nAe=n(()=>{"use strict";e(lAe,"default")});function eA(e,t,n,s,o,i){var a,r,c;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*s)&&(n-=e*a,s-=t*a),(c=Math.sqrt(n*n+s*s))&&(n/=c,s/=c,a/=c),e*s<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*tA,skewX:Math.atan(a)*tA,scaleX:r,scaleY:c}}tAe=n(()=>{"use strict";tA=180/Math.PI,Ob={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},e(eA,"default")});function eAe(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ob:eA(t.a,t.b,t.c,t.d,t.e,t.f)}function Jke(e){return e==null?Ob:(fb||(fb=document.createElementNS("http://www.w3.org/2000/svg","g")),fb.setAttribute("transform",e),(e=fb.transform.baseVal.consolidate())?(e=e.matrix,eA(e.a,e.b,e.c,e.d,e.e,e.f)):Ob)}Zke=n(()=>{"use strict";tAe(),e(eAe,"parseCss"),e(Jke,"parseSvg")});function RA(t,n,s,o){function i(e){return e.length?e.pop()+" ":""}e(i,"pop");function a(e,t,o,i,a,r){if(e!==o||t!==i){var c=a.push("translate(",null,n,null,s);r.push({i:c-4,x:jo(e,o)},{i:c-2,x:jo(t,i)})}else(o||i)&&a.push("translate("+o+n+i+s)}e(a,"translate");function r(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(i(n)+"rotate(",null,o)-2,x:jo(e,t)})):t&&n.push(i(n)+"rotate("+t+o)}e(r,"rotate");function c(e,t,n,s){e!==t?s.push({i:n.push(i(n)+"skewX(",null,o)-2,x:jo(e,t)}):t&&n.push(i(n)+"skewX("+t+o)}e(c,"skewX");function l(e,t,n,s,o,a){if(e!==n||t!==s){var r=o.push(i(o)+"scale(",null,",",null,")");a.push({i:r-4,x:jo(e,n)},{i:r-2,x:jo(t,s)})}else(n!==1||s!==1)&&o.push(i(o)+"scale("+n+","+s+")")}return e(l,"scale"),function(e,n){var s=[],o=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,s,o),r(e.rotate,n.rotate,s,o),c(e.skewX,n.skewX,s,o),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,s,o),e=n=null,function(e){for(var n,t=-1,i=o.length;++t<i;)s[(n=o[t]).i]=n.x(e);return s.join("")}}}Wke=n(()=>{"use strict";dm(),Zke(),e(RA,"interpolateTransform"),Qke=RA(eAe,"px, ","px)","deg)"),Kke=RA(Jke,", ",")",")")});function CS(e){return function(t,n){var s=e((t=Aj(t)).h,(n=Aj(n)).h),o=ed(t.c,n.c),i=ed(t.l,n.l),a=ed(t.opacity,n.opacity);return function(e){return t.h=s(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}Bke=n(()=>{"use strict";w0(),yE(),e(CS,"hcl"),$ke=CS(XAe),xQe=CS(ed)}),A4=n(()=>{"use strict";Ab(),dm(),nAe(),qk(),Wke(),BE(),Bke()});function E9(){return Yc||(XM(Ike),Yc=w4.now()+s8)}function Ike(){Yc=0}function Vm(){this._call=this._time=this._next=null}function sM(e,t,n){var s=new Vm;return s.restart(e,t,n),s}function Hke(){E9(),++ml;for(var t,e=m9;e;)(t=Yc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ml}function qM(){Yc=(t8=w4.now())+s8,ml=x4=0;try{Hke()}finally{ml=0,Nke(),Yc=0}}function Rke(){var e=w4.now(),t=e-t8;t>GM&&(s8-=t,t8=e)}function Nke(){for(var t,n,e=m9,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:m9=n);e8=t,p9(s)}function p9(e){if(!ml){x4&&(x4=clearTimeout(x4));var t=e-Yc;t>24?(e<1/0&&(x4=setTimeout(qM,e-w4.now()-s8)),O4&&(O4=clearInterval(O4))):(O4||(t8=w4.now(),O4=setInterval(Rke,GM)),ml=1,XM(qM))}}eF=n(()=>{"use strict";ml=0,x4=0,O4=0,GM=1e3,t8=0,Yc=0,s8=0,w4=typeof performance=="object"&&performance.now?performance:Date,XM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},e(E9,"now"),e(Ike,"clearNow"),e(Vm,"Timer"),Vm.prototype=sM.prototype={constructor:Vm,restart:e(function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?E9():+n)+(t==null?0:+t),!this._next&&e8!==this&&(e8?e8._next=this:m9=this,e8=this),this._call=e,this._time=n,p9()},"restart"),stop:e(function(){this._call&&(this._call=null,this._time=1/0,p9())},"stop")},e(sM,"timer"),e(Hke,"timerFlush"),e(qM,"wake"),e(Rke,"poke"),e(Nke,"nap"),e(p9,"sleep")});function CF(e,t,n){var s=new Vm;return t=t==null?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,n),s}Dke=n(()=>{"use strict";eF(),e(CF,"default")}),n9=n(()=>{"use strict";eF(),Dke()});function d8(e,t,n,s,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};zke(e,n,{name:t,index:s,group:o,on:Tke,tween:Fke,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:PF})}function t9(e,t){var n=ro(e,t);if(n.state>PF)throw new Error("too late; already scheduled");return n}function Wo(e,t){var n=ro(e,t);if(n.state>y8)throw new Error("too late; already running");return n}function ro(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zke(t,n,s){var i,o=t.__transition;o[n]=s,s.timer=sM(l,0,s.time);function l(e){s.state=XF,s.timer.restart(a,s.delay,s.time),s.delay<=e&&a(e-s.delay)}e(l,"schedule");function a(e){var l,d,u,h;if(s.state!==XF)return r();for(d in o)if(l=o[d],l.name===s.name){if(l.state===y8)return CF(a);l.state===hT?(l.state=O8,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete o[d]):+d<n&&(l.state=O8,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete o[d])}if(CF(function(){s.state===y8&&(s.state=hT,s.timer.restart(c,s.delay,s.time),c(e))}),s.state=Yv,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Yv){for(s.state=y8,i=new Array(h=s.tween.length),d=0,u=-1;d<h;++d)(l=s.tween[d].value.call(t,t.__data__,s.index,s.group))&&(i[++u]=l);i.length=u+1}}e(a,"start");function c(e){for(var o=e<s.duration?s.ease.call(null,e/s.duration):(s.timer.restart(r),s.state=Bv,1),n=-1,a=i.length;++n<a;)i[n].call(t,o);s.state===Bv&&(s.on.call("end",t,t.__data__,s.index,s.group),r())}e(c,"tick");function r(){s.state=O8,s.timer.stop(),delete o[n];for(var e in o)return;delete t.__transition}e(r,"stop")}zs=n(()=>{"use strict";vC(),n9(),Tke=dNe("start","end","cancel","interrupt"),Fke=[],PF=0,XF=1,Yv=2,y8=3,hT=4,Bv=5,O8=6,e(d8,"default"),e(t9,"init"),e(Wo,"set"),e(ro,"get"),e(zke,"create")});function Ake(e,t){var n,o,i,s=e.__transition,a=!0;if(s){t=t==null?null:t+"";for(o in s){if((n=s[o]).name!==t){a=!1;continue}i=n.state>Yv&&n.state<Bv,n.state=O8,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[o]}a&&delete e.__transition}}Eke=n(()=>{"use strict";zs(),e(Ake,"default")});function Cke(e){return this.each(function(){Ake(this,e)})}wke=n(()=>{"use strict";Eke(),e(Cke,"default")});function _ke(e,t){var n,s;return function(){var o,r,i=Wo(this,e),a=i.tween;if(a!==s){n=s=a;for(o=0,r=n.length;o<r;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function yke(e,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){if(a=Wo(this,e),r=a.tween,r!==o){s=(o=r).slice();for(var a,r,c={name:t,value:n},i=0,l=s.length;i<l;++i)if(s[i].name===t){s[i]=c;break}i===l&&s.push(c)}a.tween=s}}function jke(e,t){if(n=this._id,e+="",arguments.length<2){for(var n,i,o=ro(this.node(),n).tween,s=0,a=o.length;s<a;++s)if((i=o[s]).name===e)return i.value;return null}return this.each((t==null?_ke:yke)(n,e,t))}function kv(e,t,n){var s=e._id;return e.each(function(){var e=Wo(this,s);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return ro(e,s).value[t]}}z8=n(()=>{"use strict";zs(),e(_ke,"tweenRemove"),e(yke,"tweenFunction"),e(jke,"default"),e(kv,"tweenValue")});function UT(e,t){var n;return(typeof t=="number"?jo:t instanceof Wr?Zh:(n=Wr(t))?(t=n,Zh):Rk)(e,t)}XT=n(()=>{"use strict";w0(),A4(),e(UT,"default")});function bke(e){return function(){this.removeAttribute(e)}}function gke(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dke(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===s?o:o=t(s=a,n)}}function oke(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===s?o:o=t(s=a,n)}}function tke(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function eke(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function JEe(e,t){var n=Tm(e),s=n==="transform"?Kke:UT;return this.attrTween(e,typeof t=="function"?(n.local?eke:tke)(n,s,kv(this,"attr."+e,t)):t==null?(n.local?gke:bke)(n):(n.local?oke:dke)(n,s,t))}QEe=n(()=>{"use strict";A4(),Qo(),z8(),XT(),e(bke,"attrRemove"),e(gke,"attrRemoveNS"),e(dke,"attrConstant"),e(oke,"attrConstantNS"),e(tke,"attrFunction"),e(eke,"attrFunctionNS"),e(JEe,"default")});function XEe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function YEe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function UEe(t,n){var o,i;function s(){var e=n.apply(this,arguments);return e!==i&&(o=(i=e)&&YEe(t,e)),o}return e(s,"tween"),s._value=n,s}function WEe(t,n){var o,i;function s(){var e=n.apply(this,arguments);return e!==i&&(o=(i=e)&&XEe(t,e)),o}return e(s,"tween"),s._value=n,s}function BEe(e,t){var s,n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return s=Tm(e),this.tween(n,(s.local?UEe:WEe)(s,t))}IEe=n(()=>{"use strict";Qo(),e(XEe,"attrInterpolate"),e(YEe,"attrInterpolateNS"),e(UEe,"attrTweenNS"),e(WEe,"attrTween"),e(BEe,"default")});function HEe(e,t){return function(){t9(this,e).delay=+t.apply(this,arguments)}}function PEe(e,t){return t=+t,function(){t9(this,e).delay=t}}function NEe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?HEe:PEe)(t,e)):ro(this.node(),t).delay}DEe=n(()=>{"use strict";zs(),e(HEe,"delayFunction"),e(PEe,"delayConstant"),e(NEe,"default")});function FEe(e,t){return function(){Wo(this,e).duration=+t.apply(this,arguments)}}function kEe(e,t){return t=+t,function(){Wo(this,e).duration=t}}function EEe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FEe:kEe)(t,e)):ro(this.node(),t).duration}CEe=n(()=>{"use strict";zs(),e(FEe,"durationFunction"),e(kEe,"durationConstant"),e(EEe,"default")});function xEe(e,t){if(typeof t!="function")throw new Error;return function(){Wo(this,e).ease=t}}function OEe(e){var t=this._id;return arguments.length?this.each(xEe(t,e)):ro(this.node(),t).ease}wEe=n(()=>{"use strict";zs(),e(xEe,"easeConstant"),e(OEe,"default")});function _Ee(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Wo(this,e).ease=n}}function yEe(e){if(typeof e!="function")throw new Error;return this.each(_Ee(this._id,e))}jEe=n(()=>{"use strict";zs(),e(_Ee,"easeVarying"),e(yEe,"default")});function bEe(e){typeof e!="function"&&(e=$x(e));for(var i=this._groups,a=i.length,r=new Array(a),t=0;t<a;++t)for(var n,o=i[t],c=o.length,l=r[t]=[],s=0;s<c;++s)(n=o[s])&&e.call(n,n.__data__,s,o)&&l.push(n);return new ha(r,this._parents,this._name,this._id)}vEe=n(()=>{"use strict";Qo(),gu(),e(bEe,"default")});function gEe(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,l=e._groups,o=i.length,h=l.length,d=Math.min(o,h),s=new Array(o),t=0;t<d;++t)for(var c,r=i[t],u=l[t],a=r.length,m=s[t]=new Array(a),n=0;n<a;++n)(c=r[n]||u[n])&&(m[n]=c);for(;t<o;++t)s[t]=i[t];return new ha(s,this._parents,this._name,this._id)}pEe=n(()=>{"use strict";gu(),e(gEe,"default")});function mEe(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function uEe(e,t,n){var s,o,i=mEe(t)?t9:Wo;return function(){var a=i(this,e),r=a.on;r!==s&&(o=(s=r).copy()).on(t,n),a.on=o}}function dEe(e,t){var n=this._id;return arguments.length<2?ro(this.node(),n).on.on(e):this.each(uEe(n,e,t))}lEe=n(()=>{"use strict";zs(),e(mEe,"start"),e(uEe,"onFunction"),e(dEe,"default")});function rEe(e){return function(){var n,t=this.parentNode;for(n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function aEe(){return this.on("end.remove",rEe(this._id))}iEe=n(()=>{"use strict";e(rEe,"removeFunction"),e(aEe,"default")});function oEe(e){i=this._name,s=this._id,typeof e!="function"&&(e=Rj(e));for(var s,i,l=this._groups,d=l.length,u=new Array(d),o=0;o<d;++o)for(var n,c,a=l[o],h=a.length,r=u[o]=new Array(h),t=0;t<h;++t)(n=a[t])&&(c=e.call(n,n.__data__,t,a))&&("__data__"in n&&(c.__data__=n.__data__),r[t]=c,d8(r[t],i,s,t,r,ro(n,s)));return new ha(u,this._parents,i,s)}sEe=n(()=>{"use strict";Qo(),gu(),zs(),e(oEe,"default")});function nEe(e){a=this._name,n=this._id,typeof e!="function"&&(e=qx(e));for(var n,a,h=this._groups,f=h.length,u=[],d=[],r=0;r<f;++r)for(var t,c=h[r],m=c.length,i=0;i<m;++i)if(t=c[i]){for(var l,o=e.call(t,t.__data__,i,c),p=ro(t,n),s=0,g=o.length;s<g;++s)(l=o[s])&&d8(l,a,n,s,o,p);u.push(o),d.push(t)}return new ha(u,d,a,n)}tEe=n(()=>{"use strict";Qo(),gu(),zs(),e(nEe,"default")});function eEe(){return new JCe(this._groups,this._parents)}ZCe=n(()=>{"use strict";Qo(),JCe=s2.prototype.constructor,e(eEe,"default")});function QCe(e,t){var n,s,o;return function(){var i=ql(this,e),a=(this.style.removeProperty(e),ql(this,e));return i===a?null:i===n&&a===s?o:o=t(n=i,s=a)}}function zP(e){return function(){this.style.removeProperty(e)}}function XCe(e,t,n){var s,o,i=n+"";return function(){var a=ql(this,e);return a===i?null:a===s?o:o=t(s=a,n)}}function GCe(e,t,n){var s,o,i;return function(){var c=ql(this,e),a=n(this),r=a+"";return a==null&&(r=a=(this.style.removeProperty(e),ql(this,e))),c===r?null:c===s&&r===o?i:(o=r,i=t(s=c,a))}}function YCe(e,t){var n,s,o,a,i="style."+t,r="end."+i;return function(){var c=Wo(this,e),l=c.on,d=c.value[i]==null?a||(a=zP(t)):void 0;(l!==n||o!==d)&&(s=(n=l).copy()).on(r,o=d),c.on=s}}function qCe(e,t,n){var s=(e+="")=="transform"?Qke:UT;return t==null?this.styleTween(e,QCe(e,s)).on("end.style."+e,zP(e)):typeof t=="function"?this.styleTween(e,GCe(e,s,kv(this,"style."+e,t))).each(YCe(this._id,e)):this.styleTween(e,XCe(e,s,t),n).on("end.style."+e,null)}UCe=n(()=>{"use strict";A4(),Qo(),zs(),z8(),XT(),e(QCe,"styleNull"),e(zP,"styleRemove"),e(XCe,"styleConstant"),e(GCe,"styleFunction"),e(YCe,"styleMaybeRemove"),e(qCe,"default")});function WCe(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function $Ce(t,n,s){var i,a;function o(){var e=n.apply(this,arguments);return e!==a&&(i=(a=e)&&WCe(t,e,s)),i}return e(o,"tween"),o._value=n,o}function MCe(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,$Ce(e,t,n??""))}kCe=n(()=>{"use strict";e(WCe,"styleInterpolate"),e($Ce,"styleTween"),e(MCe,"default")});function ECe(e){return function(){this.textContent=e}}function bCe(e){return function(){var t=e(this);this.textContent=t??""}}function dCe(e){return this.tween("text",typeof e=="function"?bCe(kv(this,"text",e)):ECe(e==null?"":e+""))}Qxe=n(()=>{"use strict";z8(),e(ECe,"textConstant"),e(bCe,"textFunction"),e(dCe,"default")});function Hxe(e){return function(t){this.textContent=e.call(this,t)}}function Lxe(t){var s,o;function n(){var e=t.apply(this,arguments);return e!==o&&(s=(o=e)&&Hxe(e)),s}return e(n,"tween"),n._value=t,n}function Nxe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lxe(e))}Mxe=n(()=>{"use strict";e(Hxe,"textInterpolate"),e(Lxe,"textTween"),e(Nxe,"default")});function Sxe(){for(var e,a=this._name,c=this._id,r=HI(),n=this._groups,l=n.length,s=0;s<l;++s)for(var i,o=n[s],d=o.length,t=0;t<d;++t)(i=o[t])&&(e=ro(i,c),d8(i,a,r,t,o,{time:e.time+e.delay+e.duration,delay:0,duration:e.duration,ease:e.ease}));return new ha(n,this._parents,a,r)}Axe=n(()=>{"use strict";gu(),zs(),e(Sxe,"default")});function kxe(){var t,s,n=this,i=n._id,o=n.size();return new Promise(function(a,r){var c={value:r},l={value:e(function(){--o===0&&a()},"value")};n.each(function(){var e=Wo(this,i),n=e.on;n!==s&&(t=(s=n).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(l)),e.on=t}),o===0&&a()})}Exe=n(()=>{"use strict";zs(),e(kxe,"default")});function ha(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function Cxe(e){return s2().transition(e)}function HI(){return++xxe}gu=n(()=>{"use strict";Qo(),QEe(),IEe(),DEe(),CEe(),wEe(),jEe(),vEe(),pEe(),lEe(),iEe(),sEe(),tEe(),ZCe(),UCe(),kCe(),Qxe(),Mxe(),Axe(),z8(),Exe(),xxe=0,e(ha,"Transition"),e(Cxe,"transition"),e(HI,"newId"),Ci=s2.prototype,ha.prototype=Cxe.prototype={constructor:ha,select:oEe,selectAll:nEe,selectChild:Ci.selectChild,selectChildren:Ci.selectChildren,filter:bEe,merge:gEe,selection:eEe,transition:Sxe,call:Ci.call,nodes:Ci.nodes,node:Ci.node,size:Ci.size,empty:Ci.empty,each:Ci.each,on:dEe,attr:JEe,attrTween:BEe,style:qCe,styleTween:MCe,text:dCe,textTween:Nxe,remove:aEe,tween:jke,delay:NEe,duration:EEe,ease:OEe,easeVarying:yEe,end:kxe,[Symbol.iterator]:Ci[Symbol.iterator]}});function fxe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}lxe=n(()=>{"use strict";e(fxe,"cubicInOut")}),VI=n(()=>{"use strict";lxe()});function cxe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function rxe(e){e instanceof ha?(t=e._id,e=e._name):(t=HI(),(r=oxe).time=E9(),e=e==null?null:e+"");for(var t,r,s=this._groups,c=s.length,o=0;o<c;++o)for(var a,i=s[o],l=i.length,n=0;n<l;++n)(a=i[n])&&d8(a,e,t,n,i,r||cxe(a,t));return new ha(s,this._parents,e,t)}txe=n(()=>{"use strict";gu(),zs(),VI(),n9(),oxe={time:null,delay:0,duration:250,ease:fxe},e(cxe,"inherit"),e(rxe,"default")}),qOe=n(()=>{"use strict";Qo(),wke(),txe(),s2.prototype.interrupt=Cke,s2.prototype.transition=rxe}),Yp=n(()=>{"use strict";qOe()}),WOe=n(()=>{"use strict"}),HOe=n(()=>{"use strict"}),POe=n(()=>{"use strict"});function WB(e){return[+e[0],+e[1]]}function DOe(e){return[WB(e[0]),WB(e[1])]}function Np(e){return{type:e}}yOe=n(()=>{"use strict";Yp(),WOe(),HOe(),POe(),{abs:CQe,max:EQe,min:kQe}=Math,e(WB,"number1"),e(DOe,"number2"),AQe={name:"x",handles:["w","e"].map(Np),input:e(function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},"input"),output:e(function(e){return e&&[e[0][0],e[1][0]]},"output")},SQe={name:"y",handles:["n","s"].map(Np),input:e(function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},"input"),output:e(function(e){return e&&[e[0][1],e[1][1]]},"output")},MQe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Np),input:e(function(e){return e==null?null:DOe(e)},"input"),output:e(function(e){return e},"output")},e(Np,"type")}),jOe=n(()=>{"use strict";yOe()});function Z$(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bOe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Z$;let n=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}function vOe(){return new K6}pOe=n(()=>{"use strict";G6=Math.PI,Y6=2*G6,Vc=1e-6,gOe=Y6-Vc,e(Z$,"append"),e(bOe,"appendRound"),K6=class{static{e(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Z$:bOe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,s){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,t,n,s,o,i){this._append`C${+e},${+t},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,s,o){if(e=+e,t=+t,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let d=this._x1,u=this._y1,r=n-e,c=s-t,i=d-e,a=u-t,l=i*i+a*a;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(l>Vc)if(!(Math.abs(a*r-c*i)>Vc)||!o)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-d,m=s-u,p=r*r+c*c,y=h*h+m*m,g=Math.sqrt(p),v=Math.sqrt(l),b=o*Math.tan((G6-Math.acos((p+l-y)/(2*g*v)))/2),f=b/v,j=b/g;Math.abs(f-1)>Vc&&this._append`L${e+f*i},${t+f*a}`,this._append`A${o},${o},0,0,${+(a*h>i*m)},${this._x1=e+j*r},${this._y1=t+j*c}`}}arc(e,t,n,s,o,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),r=e+d,c=t+u,l=1^i,a=i?s-o:o-s;this._x1===null?this._append`M${r},${c}`:(Math.abs(this._x1-r)>Vc||Math.abs(this._y1-c)>Vc)&&this._append`L${r},${c}`,n&&(a<0&&(a=a%Y6+Y6),a>gOe?this._append`A${n},${n},0,1,${l},${e-d},${t-u}A${n},${n},0,1,${l},${this._x1=r},${this._y1=c}`:a>Vc&&this._append`A${n},${n},0,${+(a>=G6)},${l},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}},e(vOe,"path"),vOe.prototype=K6.prototype}),ux=n(()=>{"use strict";pOe()}),fOe=n(()=>{"use strict"}),mOe=n(()=>{"use strict"}),hOe=n(()=>{"use strict"}),uOe=n(()=>{"use strict"}),dOe=n(()=>{"use strict"}),lOe=n(()=>{"use strict"}),aOe=n(()=>{"use strict"});function sOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function N6(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}D6=n(()=>{"use strict";e(sOe,"default"),e(N6,"formatDecimalParts")});function Yu(e){return e=N6(Math.abs(e)),e?e[1]:NaN}F6=n(()=>{"use strict";D6(),e(Yu,"default")});function tOe(e,t){return function(n,s){for(var i=n.length,r=[],c=0,o=e[0],a=0;i>0&&o>0&&(a+o+1>s&&(o=Math.max(1,s-a)),r.push(n.substring(i-=o,i+o)),!((a+=o+1)>s));)o=e[c=(c+1)%e.length];return r.reverse().join(t)}}Jwe=n(()=>{"use strict";e(tOe,"default")});function Zwe(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}Qwe=n(()=>{"use strict";e(Zwe,"default")});function S6(e){if(!(t=Gwe.exec(e)))throw new Error("invalid format: "+e);var t;return new tp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z$=n(()=>{"use strict";Gwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,e(S6,"formatSpecifier"),S6.prototype=tp.prototype,e(tp,"FormatSpecifier"),tp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function Ywe(e){e:for(var s,o=e.length,t=1,n=-1;t<o;++t)switch(e[t]){case".":n=s=t;break;case"0":n===0&&(n=t),s=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}qwe=n(()=>{"use strict";e(Ywe,"default")});function $we(e,t){if(o=N6(e,t),!o)return e+"";var o,s=o[0],a=o[1],n=a-(Bwe=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=s.length;return n===i?s:n>i?s+new Array(n-i+1).join("0"):n>0?s.slice(0,n)+"."+s.slice(n):"0."+new Array(1-n).join("0")+N6(e,Math.max(0,t+n-1))[0]}v$=n(()=>{"use strict";D6(),e($we,"default")});function g$(e,t){if(o=N6(e,t),!o)return e+"";var o,n=o[0],s=o[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}Pwe=n(()=>{"use strict";D6(),e(g$,"default")}),Nwe=n(()=>{"use strict";D6(),v$(),Pwe(),h$={"%":e((e,t)=>(e*100).toFixed(t),"%"),b:e(e=>Math.round(e).toString(2),"b"),c:e(e=>e+"","c"),d:sOe,e:e((e,t)=>e.toExponential(t),"e"),f:e((e,t)=>e.toFixed(t),"f"),g:e((e,t)=>e.toPrecision(t),"g"),o:e(e=>Math.round(e).toString(8),"o"),p:e((e,t)=>g$(e*100,t),"p"),r:g$,s:$we,X:e(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:e(e=>Math.round(e).toString(16),"x")}});function s$(e){return e}Dwe=n(()=>{"use strict";e(s$,"default")});function Twe(t){var s=t.grouping===void 0||t.thousands===void 0?s$:tOe(XV.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?s$:Zwe(XV.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function n(t){t=S6(t);var v=t.fill,b=t.align,o=t.sign,f=t.symbol,m=t.zero,p=t.width,g=t.comma,h=t.precision,y=t.trim,n=t.type;n==="n"?(g=!0,n="g"):h$[n]||(h===void 0&&(h=12),y=!0,n="g"),(m||v==="0"&&b==="=")&&(m=!0,v="0",b="=");var w=f==="$"?i:f==="#"&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",O=f==="$"?a:/[%p]/.test(n)?l:"",_=h$[n],x=/[defgprs%]/.test(n),h=h===void 0?6:/[gprs]/.test(n)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h));function j(e){var i,l,f,j,C,E,a=w,t=O;if(n==="c")t=_(e)+t,e="";else if(e=+e,f=e<0||1/e<0,e=isNaN(e)?u:_(Math.abs(e),h),y&&(e=Ywe(e)),f&&+e==0&&o!=="+"&&(f=!1),a=(f?o==="("?o:d:o==="-"||o==="("?"":o)+a,t=(n==="s"?YV[8+Bwe/3]:"")+t+(f&&o==="("?")":""),x)for(l=-1,E=e.length;++l<E;)if(C=e.charCodeAt(l),48>C||C>57){t=(C===46?r+e.slice(l+1):e.slice(l))+t,e=e.slice(0,l);break}switch(g&&!m&&(e=s(e,1/0)),j=a.length+e.length+t.length,i=j<p?new Array(p-j+1).join(v):"",g&&m&&(e=s(i+e,i.length?p-t.length:1/0),i=""),b){case"<":e=a+e+t+i;break;case"=":e=a+i+e+t;break;case"^":e=i.slice(0,j=i.length>>1)+a+e+t+i.slice(j);break;default:e=i+a+e+t;break}return c(e)}return e(j,"format"),j.toString=function(){return t+""},j}e(n,"newFormat");function o(e,t){var o=n((e=S6(e),e.type="f",e)),s=Math.max(-8,Math.min(8,Math.floor(Yu(t)/3)))*3,i=Math.pow(10,-s),a=YV[8+s/3];return function(e){return o(i*e)+a}}return e(o,"formatPrefix"),{format:n,formatPrefix:o}}kwe=n(()=>{"use strict";F6(),Jwe(),Qwe(),z$(),qwe(),Nwe(),v$(),Dwe(),XV=Array.prototype.map,YV=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],e(Twe,"default")});function Cwe(e){return yp=Twe(e),vwe=yp.format,gwe=yp.formatPrefix,yp}pwe=n(()=>{"use strict";kwe(),Cwe({thousands:",",grouping:[3],currency:["$",""]}),e(Cwe,"defaultLocale")});function fwe(e){return Math.max(0,-Yu(Math.abs(e)))}uwe=n(()=>{"use strict";F6(),e(fwe,"default")});function cwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yu(t)/3)))*3-Yu(Math.abs(e)))}iwe=n(()=>{"use strict";F6(),e(cwe,"default")});function nwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yu(t)-Yu(e))+1}Q_e=n(()=>{"use strict";F6(),e(nwe,"default")}),gV=n(()=>{"use strict";pwe(),z$(),uwe(),iwe(),Q_e()}),X_e=n(()=>{"use strict"}),q_e=n(()=>{"use strict"}),K_e=n(()=>{"use strict"}),z_e=n(()=>{"use strict"});function j6(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}b6=n(()=>{"use strict";e(j6,"initRange")});function v6(){var n=new gE,s=[],o=[],i=$B;function t(e){let t=n.get(e);if(t===void 0){if(i!==$B)return i;n.set(e,t=s.push(e)-1)}return o[t%o.length]}return e(t,"scale"),t.domain=function(e){if(!arguments.length)return s.slice();s=[],n=new gE;for(let t of e)n.has(t)||n.set(t,s.push(t)-1);return t},t.range=function(e){return arguments.length?(o=Array.from(e),t):o.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return v6(s,o).unknown(i)},j6.apply(t,arguments),t}HB=n(()=>{"use strict";cc(),b6(),$B=Symbol("implicit"),e(v6,"ordinal")});function Ip(){var a,d,t=v6().unknown(void 0),l=t.domain,h=t.range,n=0,s=1,r=!1,i=0,c=0,u=.5;delete t.unknown;function o(){var m,t=l().length,o=s<n,e=o?s:n,f=o?n:s;return a=(f-e)/Math.max(1,t-i+c*2),r&&(a=Math.floor(a)),e+=(f-e-a*(t-i))*u,d=a*(1-i),r&&(e=Math.round(e),d=Math.round(d)),m=zNe(t).map(function(t){return e+a*t}),h(o?m.reverse():m)}return e(o,"rescale"),t.domain=function(e){return arguments.length?(l(e),o()):l()},t.range=function(e){return arguments.length?([n,s]=e,n=+n,s=+s,o()):[n,s]},t.rangeRound=function(e){return[n,s]=e,n=+n,s=+s,r=!0,o()},t.bandwidth=function(){return d},t.step=function(){return a},t.round=function(e){return arguments.length?(r=!!e,o()):r},t.padding=function(e){return arguments.length?(i=Math.min(1,c=+e),o()):i},t.paddingInner=function(e){return arguments.length?(i=Math.min(1,e),o()):i},t.paddingOuter=function(e){return arguments.length?(c=+e,o()):c},t.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),o()):u},t.copy=function(){return Ip(l(),[n,s]).round(r).paddingInner(i).paddingOuter(c).align(u)},j6.apply(o(),arguments)}M_e=n(()=>{"use strict";cc(),b6(),HB(),e(Ip,"band")});function S_e(e){return function(){return e}}A_e=n(()=>{"use strict";e(S_e,"constants")});function E_e(e){return+e}C_e=n(()=>{"use strict";e(E_e,"number")});function Tu(e){return e}function qp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:S_e(isNaN(t)?NaN:.5)}function x_e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function O_e(e,t,n){var s=e[0],i=e[1],o=t[0],a=t[1];return i<s?(s=qp(i,s),o=n(a,o)):(s=qp(s,i),o=n(o,a)),function(e){return o(s(e))}}function y_e(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=qp(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=lLe(e,t,1,o)-1;return a[n](i[n](t))}}function AB(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j_e(){var r,c,l,d,u,h,n=OB,o=OB,a=Tb,i=Tu;function s(){var e=Math.min(n.length,o.length);return i!==Tu&&(i=x_e(n[0],n[e-1])),l=e>2?y_e:O_e,d=u=null,t}e(s,"rescale");function t(e){return e==null||isNaN(e=+e)?c:(d||(d=l(n.map(r),o,a)))(r(i(e)))}return e(t,"scale"),t.invert=function(e){return i(h((u||(u=l(o,n.map(r),jo)))(e)))},t.domain=function(e){return arguments.length?(n=Array.from(e,E_e),s()):n.slice()},t.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},t.rangeRound=function(e){return o=Array.from(e),a=lAe,s()},t.clamp=function(e){return arguments.length?(i=!!e||Tu,s()):i!==Tu},t.interpolate=function(e){return arguments.length?(a=e,s()):a},t.unknown=function(e){return arguments.length?(c=e,t):c},function(e,t){return r=e,h=t,s()}}function CB(){return j_e()(Tu,Tu)}jB=n(()=>{"use strict";cc(),A4(),A_e(),C_e(),OB=[0,1],e(Tu,"identity"),e(qp,"normalize"),e(x_e,"clamper"),e(O_e,"bimap"),e(y_e,"polymap"),e(AB,"copy"),e(j_e,"transformer"),e(CB,"continuous")});function b_e(e,t,n,s){var o,a,i=P6(e,t,n);switch(s=S6(s??",f"),s.type){case"s":return a=Math.max(Math.abs(e),Math.abs(t)),s.precision==null&&!isNaN(o=cwe(i,a))&&(s.precision=o),gwe(s,a);case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=nwe(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=fwe(i))&&(s.precision=o-(s.type==="%")*2);break}}return vwe(s)}v_e=n(()=>{"use strict";cc(),gV(),e(b_e,"tickFormat")});function g_e(e){var t=e.domain;return e.ticks=function(e){var n=t();return WNe(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var s=t();return b_e(s[0],s[s.length-1],e??10,n)},e.nice=function(n){n==null&&(n=10);var s,l,a=t(),r=0,c=a.length-1,o=a[r],i=a[c],d=10;for(i<o&&(s=o,o=i,i=s,s=r,r=c,c=s);d-- >0;){if(s=uj(o,i,n),s===l)return a[r]=o,a[c]=i,t(a);if(s>0)o=Math.floor(o/s)*s,i=Math.ceil(i/s)*s;else if(s<0)o=Math.ceil(o*s)/s,i=Math.floor(i*s)/s;else break;l=s}return e},e}function Mu(){var e=CB();return e.copy=function(){return AB(e,Mu())},j6.apply(e,arguments),g_e(e)}p_e=n(()=>{"use strict";cc(),jB(),b6(),v_e(),e(g_e,"linearish"),e(Mu,"linear")});function f_e(e,t){e=e.slice();var a,n=0,s=e.length-1,o=e[n],i=e[s];return i<o&&(a=n,n=s,s=a,a=o,o=i,i=a),e[n]=t.floor(o),e[s]=t.ceil(i),e}m_e=n(()=>{"use strict";e(f_e,"nice")});function Et(t,n,s,o){function i(e){return t(e=arguments.length===0?new Date:new Date(+e)),e}return e(i,"interval"),i.floor=e=>(t(e=new Date(+e)),e),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=e=>{let t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,t)=>(n(e=new Date(+e),t==null?1:Math.floor(t)),e),i.range=(e,s,o)=>{let a=[];if(e=i.ceil(e),o=o==null?1:Math.floor(o),!(e<s)||!(o>0))return a;let r;do a.push(r=new Date(+e)),n(e,o),t(e);while(r<e&&e<s)return a},i.filter=e=>Et(n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},(t,s)=>{if(t>=t)if(s<0)for(;++s<=0;)for(;n(t,-1),!e(t););else for(;--s>=0;)for(;n(t,1),!e(t););}),s&&(i.count=(e,n)=>(dg.setTime(+e),ug.setTime(+n),t(dg),t(ug),Math.floor(s(dg,ug))),i.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?i.filter(o?t=>o(t)%e===0:t=>i.count(0,t)%e===0):i)),i}ja=n(()=>{"use strict";dg=new Date,ug=new Date,e(Et,"timeInterval")}),UI=n(()=>{"use strict";ja(),yu=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),yu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yu),FQe=yu.range}),BI=n(()=>{"use strict";ja(),wa=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),TQe=wa.range}),gI=n(()=>{"use strict";ja(),y1=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),zQe=y1.range,DI=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),DQe=DI.range}),WH=n(()=>{"use strict";ja(),x1=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),NQe=x1.range,UH=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),LQe=UH.range}),SH=n(()=>{"use strict";ja(),xc=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),RQe=xc.range,Fg=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),PQe=Fg.range,PH=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),HQe=PH.range});function Oc(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}function vc(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/6048e5)}eP=n(()=>{"use strict";ja(),e(Oc,"timeWeekday"),F1=Oc(0),T1=Oc(1),hH=Oc(2),dH=Oc(3),Lr=Oc(4),nH=Oc(5),JP=Oc(6),IQe=F1.range,BQe=T1.range,VQe=hH.range,$Qe=dH.range,WQe=Lr.range,UQe=nH.range,KQe=JP.range,e(vc,"utcWeekday"),Zg=vc(0),Ff=vc(1),Eye=vc(2),Cye=vc(3),Ld=vc(4),xye=vc(5),Oye=vc(6),qQe=Zg.range,YQe=Ff.range,GQe=Eye.range,XQe=Cye.range,hQe=Ld.range,ZQe=xye.range,eZe=Oye.range}),DR=n(()=>{"use strict";ja(),I1=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),tZe=I1.range,VR=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),sZe=VR.range}),wR=n(()=>{"use strict";ja(),ca=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),oZe=ca.range,pr=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),pr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),iZe=pr.range});function jR(t,n,s,o,i,a){let r=[[wa,1,1e3],[wa,5,5*1e3],[wa,15,15*1e3],[wa,30,30*1e3],[a,1,6e4],[a,5,5*6e4],[a,15,15*6e4],[a,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[o,1,864e5],[o,2,2*864e5],[s,1,6048e5],[n,1,2592e6],[n,3,3*2592e6],[t,1,31536e6]];function l(e,t,n){let s=t<e;s&&([e,t]=[t,e]);let o=n&&typeof n.range=="function"?n:c(e,t,n),i=o?o.range(e,+t+1):[];return s?i.reverse():i}e(l,"ticks");function c(e,n,s){let i=Math.abs(n-e)/s,o=Jb(([,,e])=>e).right(r,i);if(o===r.length)return t.every(P6(e/31536e6,n/31536e6,s));if(o===0)return yu.every(Math.max(P6(e,n,s),1));let[a,c]=r[i/r[o-1][2]<r[o][2]/i?o-1:o];return a.every(c)}return e(c,"tickInterval"),[l,c]}Jje=n(()=>{"use strict";cc(),UI(),BI(),gI(),WH(),SH(),eP(),DR(),wR(),e(jR,"ticker"),[aZe,rZe]=jR(pr,VR,Zg,PH,UH,DI),[tye,eye]=jR(ca,I1,F1,xc,x1,y1)}),S5=n(()=>{"use strict";UI(),BI(),gI(),WH(),SH(),eP(),DR(),wR(),Jje()});function M5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function F5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function V1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Gje(t){var u=t.dateTime,f=t.date,m=t.time,a=t.periods,d=t.days,r=t.shortDays,c=t.months,l=t.shortMonths,N=$1(a),L=U1(a),P=$1(d),H=U1(d),B=$1(r),V=U1(r),R=$1(c),U=U1(c),W=$1(l),$=U1(l),o={a:D,A:p,b:C,B:g,c:null,d:QN,e:QN,f:fje,g:Rbe,G:zbe,H:bje,I:vje,j:gje,L:WN,m:mje,M:lje,p:x,q:O,Q:pD,s:fD,S:aje,u:oje,U:nje,V:Ybe,w:Ibe,W:Hbe,x:null,X:null,y:Pbe,Y:Lbe,Z:Tbe,"%":jD},s={a:w,A:_,b:y,B:j,c:null,d:JD,e:JD,f:kbe,g:V9e,G:H9e,H:Mbe,I:Sbe,j:Abe,L:XD,m:gbe,M:mbe,p:b,q:v,Q:pD,s:fD,S:dbe,u:nbe,U:J9e,V:K9e,w:U9e,W:W9e,x:null,X:null,y:$9e,Y:B9e,Z:z9e,"%":jD},I={a:k,A,b:S,B:M,c:F,d:mL,e:mL,f:xje,g:_L,G:wL,H:dL,I:dL,j:Rje,L:Cje,m:Pje,M:Lje,p:E,q:Hje,Q:wje,s:_je,S:zje,u:Uje,U:Wje,V:$je,w:Kje,W:Vje,x:T,X:z,y:_L,Y:wL,Z:Ije,"%":Oje};o.x=n(f,o),o.X=n(m,o),o.c=n(u,o),s.x=n(f,s),s.X=n(m,s),s.c=n(u,s);function n(e,t){return function(n){var o,r,c,i=[],s=-1,a=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)e.charCodeAt(s)===37&&(i.push(e.slice(a,s)),(r=uD[o=e.charAt(++s)])!=null?o=e.charAt(++s):r=o==="e"?" ":"0",(c=t[o])&&(o=c(n,r)),i.push(o),a=s+1);return i.push(e.slice(a,s)),i.join("")}}e(n,"newFormat");function h(e,t){return function(n){var o,a,s=V1(1900,void 0,1),r=i(s,e,n+="",0);if(r!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(s.s*1e3+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+s.p*12),s.m===void 0&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(o=F5(V1(s.y,0,1)),a=o.getUTCDay(),o=a>4||a===0?Ff.ceil(o):Ff(o),o=Fg.offset(o,(s.V-1)*7),s.y=o.getUTCFullYear(),s.m=o.getUTCMonth(),s.d=o.getUTCDate()+(s.w+6)%7):(o=M5(V1(s.y,0,1)),a=o.getDay(),o=a>4||a===0?T1.ceil(o):T1(o),o=xc.offset(o,(s.V-1)*7),s.y=o.getFullYear(),s.m=o.getMonth(),s.d=o.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?F5(V1(s.y,0,1)).getUTCDay():M5(V1(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+s.W*7-(a+5)%7:s.w+s.U*7-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,F5(s)):M5(s)}}e(h,"newParse");function i(e,t,n,s){for(var o,a,i=0,r=t.length,c=n.length;i<r;){if(s>=c)return-1;if(o=t.charCodeAt(i++),o===37){if(o=t.charAt(i++),a=I[o in uD?t.charAt(i++):o],!a||(s=a(e,n,s))<0)return-1}else if(o!=n.charCodeAt(s++))return-1}return s}e(i,"parseSpecifier");function E(e,t,n){var s=N.exec(t.slice(n));return s?(e.p=L.get(s[0].toLowerCase()),n+s[0].length):-1}e(E,"parsePeriod");function k(e,t,n){var s=B.exec(t.slice(n));return s?(e.w=V.get(s[0].toLowerCase()),n+s[0].length):-1}e(k,"parseShortWeekday");function A(e,t,n){var s=P.exec(t.slice(n));return s?(e.w=H.get(s[0].toLowerCase()),n+s[0].length):-1}e(A,"parseWeekday");function S(e,t,n){var s=W.exec(t.slice(n));return s?(e.m=$.get(s[0].toLowerCase()),n+s[0].length):-1}e(S,"parseShortMonth");function M(e,t,n){var s=R.exec(t.slice(n));return s?(e.m=U.get(s[0].toLowerCase()),n+s[0].length):-1}e(M,"parseMonth");function F(e,t,n){return i(e,u,t,n)}e(F,"parseLocaleDateTime");function T(e,t,n){return i(e,f,t,n)}e(T,"parseLocaleDate");function z(e,t,n){return i(e,m,t,n)}e(z,"parseLocaleTime");function D(e){return r[e.getDay()]}e(D,"formatShortWeekday");function p(e){return d[e.getDay()]}e(p,"formatWeekday");function C(e){return l[e.getMonth()]}e(C,"formatShortMonth");function g(e){return c[e.getMonth()]}e(g,"formatMonth");function x(e){return a[+(e.getHours()>=12)]}e(x,"formatPeriod");function O(e){return 1+~~(e.getMonth()/3)}e(O,"formatQuarter");function w(e){return r[e.getUTCDay()]}e(w,"formatUTCShortWeekday");function _(e){return d[e.getUTCDay()]}e(_,"formatUTCWeekday");function y(e){return l[e.getUTCMonth()]}e(y,"formatUTCShortMonth");function j(e){return c[e.getUTCMonth()]}e(j,"formatUTCMonth");function b(e){return a[+(e.getUTCHours()>=12)]}e(b,"formatUTCPeriod");function v(e){return 1+~~(e.getUTCMonth()/3)}return e(v,"formatUTCQuarter"),{format:e(function(e){var t=n(e+="",o);return t.toString=function(){return e},t},"format"),parse:e(function(e){var t=h(e+="",!1);return t.toString=function(){return e},t},"parse"),utcFormat:e(function(e){var t=n(e+="",s);return t.toString=function(){return e},t},"utcFormat"),utcParse:e(function(e){var t=h(e+="",!0);return t.toString=function(){return e},t},"utcParse")}}function ke(e,t,n){var o=e<0?"-":"",s=(o?-e:e)+"",i=s.length;return o+(i<n?new Array(n-i+1).join(t)+s:s)}function Yje(e){return e.replace(k9e,"\\$&")}function $1(e){return new RegExp("^(?:"+e.map(Yje).join("|")+")","i")}function U1(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Kje(e,t,n){var s=en.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Uje(e,t,n){var s=en.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Wje(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function $je(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Vje(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function wL(e,t,n){var s=en.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function _L(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Ije(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Hje(e,t,n){var s=en.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function Pje(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function mL(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Rje(e,t,n){var s=en.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function dL(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Lje(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function zje(e,t,n){var s=en.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Cje(e,t,n){var s=en.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function xje(e,t,n){var s=en.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Oje(e,t,n){var s=T9e.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function wje(e,t,n){var s=en.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function _je(e,t,n){var s=en.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function QN(e,t){return ke(e.getDate(),t,2)}function bje(e,t){return ke(e.getHours(),t,2)}function vje(e,t){return ke(e.getHours()%12||12,t,2)}function gje(e,t){return ke(1+xc.count(ca(e),e),t,3)}function WN(e,t){return ke(e.getMilliseconds(),t,3)}function fje(e,t){return WN(e,t)+"000"}function mje(e,t){return ke(e.getMonth()+1,t,2)}function lje(e,t){return ke(e.getMinutes(),t,2)}function aje(e,t){return ke(e.getSeconds(),t,2)}function oje(e){var t=e.getDay();return t===0?7:t}function nje(e,t){return ke(F1.count(ca(e)-1,e),t,2)}function xN(e){var t=e.getDay();return t>=4||t===0?Lr(e):Lr.ceil(e)}function Ybe(e,t){return e=xN(e),ke(Lr.count(ca(e),e)+(ca(e).getDay()===4),t,2)}function Ibe(e){return e.getDay()}function Hbe(e,t){return ke(T1.count(ca(e)-1,e),t,2)}function Pbe(e,t){return ke(e.getFullYear()%100,t,2)}function Rbe(e,t){return e=xN(e),ke(e.getFullYear()%100,t,2)}function Lbe(e,t){return ke(e.getFullYear()%1e4,t,4)}function zbe(e,t){var n=e.getDay();return e=n>=4||n===0?Lr(e):Lr.ceil(e),ke(e.getFullYear()%1e4,t,4)}function Tbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function JD(e,t){return ke(e.getUTCDate(),t,2)}function Mbe(e,t){return ke(e.getUTCHours(),t,2)}function Sbe(e,t){return ke(e.getUTCHours()%12||12,t,2)}function Abe(e,t){return ke(1+Fg.count(pr(e),e),t,3)}function XD(e,t){return ke(e.getUTCMilliseconds(),t,3)}function kbe(e,t){return XD(e,t)+"000"}function gbe(e,t){return ke(e.getUTCMonth()+1,t,2)}function mbe(e,t){return ke(e.getUTCMinutes(),t,2)}function dbe(e,t){return ke(e.getUTCSeconds(),t,2)}function nbe(e){var t=e.getUTCDay();return t===0?7:t}function J9e(e,t){return ke(Zg.count(pr(e)-1,e),t,2)}function RD(e){var t=e.getUTCDay();return t>=4||t===0?Ld(e):Ld.ceil(e)}function K9e(e,t){return e=RD(e),ke(Ld.count(pr(e),e)+(pr(e).getUTCDay()===4),t,2)}function U9e(e){return e.getUTCDay()}function W9e(e,t){return ke(Ff.count(pr(e)-1,e),t,2)}function $9e(e,t){return ke(e.getUTCFullYear()%100,t,2)}function V9e(e,t){return e=RD(e),ke(e.getUTCFullYear()%100,t,2)}function B9e(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function H9e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ld(e):Ld.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function z9e(){return"+0000"}function jD(){return"%"}function pD(e){return+e}function fD(e){return Math.floor(+e/1e3)}O9e=n(()=>{"use strict";S5(),e(M5,"localDate"),e(F5,"utcDate"),e(V1,"newDate"),e(Gje,"formatLocale"),uD={"-":"",_:" ",0:"0"},en=/^\s*\d+/,T9e=/^%/,k9e=/[\\^$*+?|[\]().{}]/g,e(ke,"pad"),e(Yje,"requote"),e($1,"formatRe"),e(U1,"formatLookup"),e(Kje,"parseWeekdayNumberSunday"),e(Uje,"parseWeekdayNumberMonday"),e(Wje,"parseWeekNumberSunday"),e($je,"parseWeekNumberISO"),e(Vje,"parseWeekNumberMonday"),e(wL,"parseFullYear"),e(_L,"parseYear"),e(Ije,"parseZone"),e(Hje,"parseQuarter"),e(Pje,"parseMonthNumber"),e(mL,"parseDayOfMonth"),e(Rje,"parseDayOfYear"),e(dL,"parseHour24"),e(Lje,"parseMinutes"),e(zje,"parseSeconds"),e(Cje,"parseMilliseconds"),e(xje,"parseMicroseconds"),e(Oje,"parseLiteralPercent"),e(wje,"parseUnixTimestamp"),e(_je,"parseUnixTimestampSeconds"),e(QN,"formatDayOfMonth"),e(bje,"formatHour24"),e(vje,"formatHour12"),e(gje,"formatDayOfYear"),e(WN,"formatMilliseconds"),e(fje,"formatMicroseconds"),e(mje,"formatMonthNumber"),e(lje,"formatMinutes"),e(aje,"formatSeconds"),e(oje,"formatWeekdayNumberMonday"),e(nje,"formatWeekNumberSunday"),e(xN,"dISO"),e(Ybe,"formatWeekNumberISO"),e(Ibe,"formatWeekdayNumberSunday"),e(Hbe,"formatWeekNumberMonday"),e(Pbe,"formatYear"),e(Rbe,"formatYearISO"),e(Lbe,"formatFullYear"),e(zbe,"formatFullYearISO"),e(Tbe,"formatZone"),e(JD,"formatUTCDayOfMonth"),e(Mbe,"formatUTCHour24"),e(Sbe,"formatUTCHour12"),e(Abe,"formatUTCDayOfYear"),e(XD,"formatUTCMilliseconds"),e(kbe,"formatUTCMicroseconds"),e(gbe,"formatUTCMonthNumber"),e(mbe,"formatUTCMinutes"),e(dbe,"formatUTCSeconds"),e(nbe,"formatUTCWeekdayNumberMonday"),e(J9e,"formatUTCWeekNumberSunday"),e(RD,"UTCdISO"),e(K9e,"formatUTCWeekNumberISO"),e(U9e,"formatUTCWeekdayNumberSunday"),e(W9e,"formatUTCWeekNumberMonday"),e($9e,"formatUTCYear"),e(V9e,"formatUTCYearISO"),e(B9e,"formatUTCFullYear"),e(H9e,"formatUTCFullYearISO"),e(z9e,"formatUTCZone"),e(jD,"formatLiteralPercent"),e(pD,"formatUnixTimestamp"),e(fD,"formatUnixTimestampSeconds")});function w9e(e){return i4=Gje(e),ev=i4.format,cZe=i4.parse,lZe=i4.utcFormat,dZe=i4.utcParse,i4}Jve=n(()=>{"use strict";O9e(),w9e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),e(w9e,"defaultLocale")}),Mz=n(()=>{"use strict";Jve()});function Zve(e){return new Date(e)}function Qve(e){return e instanceof Date?+e:+new Date(+e)}function Cz(t,n,s,o,i,a,r,c,l,d){var u=CB(),f=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),v=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),y=d("%b %d"),_=d("%B"),w=d("%Y");function m(e){return(l(e)<e?p:c(e)<e?g:r(e)<e?v:a(e)<e?b:o(e)<e?i(e)<e?j:y:s(e)<e?_:w)(e)}return e(m,"tickFormat"),u.invert=function(e){return new Date(f(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Qve)):h().map(Zve)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],e??10)},u.tickFormat=function(e,t){return t==null?m:d(t)},u.nice=function(e){var t=h();return(!e||typeof e.range!="function")&&(e=n(t[0],t[t.length-1],e??10)),e?h(f_e(t,e)):u},u.copy=function(){return AB(u,Cz(t,n,s,o,i,a,r,c,l,d))},u}function Xve(){return j6.apply(Cz(tye,eye,ca,I1,F1,xc,x1,y1,wa,ev).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Gve=n(()=>{"use strict";S5(),Mz(),jB(),b6(),m_e(),e(Zve,"date"),e(Qve,"number"),e(Cz,"calendar"),e(Xve,"time")}),Yve=n(()=>{"use strict";M_e(),p_e(),HB(),Gve()});function qve(e){for(var n=e.length/6|0,s=new Array(n),t=0;t<n;)s[t]="#"+e.slice(t*6,++t*6);return s}Kve=n(()=>{"use strict";e(qve,"default")}),Ive=n(()=>{"use strict";Kve(),$ve=qve("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),zve=n(()=>{"use strict";Ive()});function mt(t){return e(function(){return t},"constant")}bv=n(()=>{"use strict";e(mt,"default")});function Eve(e){return e>1?0:e<-1?m4:Math.acos(e)}function tz(e){return e>=1?S8:e<=-1?-S8:Math.asin(e)}Tv=n(()=>{"use strict";JT=Math.abs,gn=Math.atan2,Ic=Math.cos,vve=Math.max,Cv=Math.min,pi=Math.sin,fl=Math.sqrt,On=1e-12,m4=Math.PI,S8=m4/2,A8=2*m4,e(Eve,"acos"),e(tz,"asin")});function PT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new K6(t)}FT=n(()=>{"use strict";ux(),e(PT,"withPath")});function pve(e){return e.innerRadius}function hve(e){return e.outerRadius}function lve(e){return e.startAngle}function ave(e){return e.endAngle}function sve(e){return e&&e.padAngle}function K7e(e,t,n,s,o,i,a,r){var l=n-e,d=s-t,u=a-o,h=r-i,c=h*l-u*d;if(!(c*c<On))return c=(u*(t-i)-h*(e-o))/c,[e+c*l,t+c*d]}function w8(e,t,n,s,o,i,a){var b=e-n,w=t-s,x=(a?i:-i)/fl(b*b+w*w),_=x*w,y=-x*b,j=e+_,p=t+y,g=n+_,v=s+y,C=(j+g)/2,O=(p+v)/2,c=g-j,r=v-p,d=c*c+r*r,f=o-i,l=j*v-g*p,h=(r<0?-1:1)*fl(vve(0,f*f*d-l*l)),m=(l*r-c*h)/d,u=(-l*c-r*h)/d,E=(l*r+c*h)/d,k=(-l*c+r*h)/d,A=m-C,S=u-O,M=E-C,F=k-O;return A*A+S*S>M*M+F*F&&(m=E,u=k),{cx:m,cy:u,x01:-_,y01:-y,x11:m*(o/f-1),y11:u*(o/f-1)}}function ll(){var s=pve,o=hve,c=mt(0),i=null,a=lve,r=ave,l=sve,t=null,d=PT(n);function n(){var z,W,u=+s.apply(this,arguments),h=+o.apply(this,arguments),f=a.apply(this,arguments)-S8,p=r.apply(this,arguments)-S8,A=JT(p-f),m=p>f;if(t||(t=z=d()),h<u&&(W=h,h=u,u=W),!(h>On))t.moveTo(0,0);else if(A>A8-On)t.moveTo(h*Ic(f),h*pi(f)),t.arc(0,0,h,f,p,!m),u>On&&(t.moveTo(u*Ic(p),u*pi(p)),t.arc(0,0,u,p,f,m));else{var e,n,C,E,k=f,w=p,x=f,O=p,N=A,L=A,$=l.apply(this,arguments)/2,R=$>On&&(i?+i.apply(this,arguments):fl(u*u+h*h)),j=Cv(JT(h-u)/2,+c.apply(this,arguments)),b=j,v=j;R>On&&(C=tz(R/u*pi($)),E=tz(R/h*pi($)),(N-=C*2)>On?(C*=m?1:-1,x+=C,O-=C):(N=0,x=O=(f+p)/2),(L-=E*2)>On?(E*=m?1:-1,k+=E,w-=E):(L=0,k=w=(f+p)/2));var _=h*Ic(k),y=h*pi(k),T=u*Ic(O),F=u*pi(O);if(j>On){var g,M=h*Ic(w),S=h*pi(w),P=u*Ic(x),H=u*pi(x);if(A<m4)if(g=K7e(_,y,P,H,M,S,T,F)){var B=_-g[0],V=y-g[1],D=M-g[0],I=S-g[1],U=1/pi(Eve((B*D+V*I)/(fl(B*B+V*V)*fl(D*D+I*I)))/2),K=fl(g[0]*g[0]+g[1]*g[1]);b=Cv(j,(u-K)/(U-1)),v=Cv(j,(h-K)/(U+1))}else b=v=0}L>On?v>On?(e=w8(P,H,_,y,h,v,m),n=w8(M,S,T,F,h,v,m),t.moveTo(e.cx+e.x01,e.cy+e.y01),v<j?t.arc(e.cx,e.cy,v,gn(e.y01,e.x01),gn(n.y01,n.x01),!m):(t.arc(e.cx,e.cy,v,gn(e.y01,e.x01),gn(e.y11,e.x11),!m),t.arc(0,0,h,gn(e.cy+e.y11,e.cx+e.x11),gn(n.cy+n.y11,n.cx+n.x11),!m),t.arc(n.cx,n.cy,v,gn(n.y11,n.x11),gn(n.y01,n.x01),!m))):(t.moveTo(_,y),t.arc(0,0,h,k,w,!m)):t.moveTo(_,y),!(u>On)||!(N>On)?t.lineTo(T,F):b>On?(e=w8(T,F,M,S,u,-b,m),n=w8(_,y,P,H,u,-b,m),t.lineTo(e.cx+e.x01,e.cy+e.y01),b<j?t.arc(e.cx,e.cy,b,gn(e.y01,e.x01),gn(n.y01,n.x01),!m):(t.arc(e.cx,e.cy,b,gn(e.y01,e.x01),gn(e.y11,e.x11),!m),t.arc(0,0,u,gn(e.cy+e.y11,e.cx+e.x11),gn(n.cy+n.y11,n.cx+n.x11),m),t.arc(n.cx,n.cy,b,gn(n.y11,n.x11),gn(n.y01,n.x01),!m))):t.arc(0,0,u,O,x,m)}if(t.closePath(),z)return t=null,z+""||null}return e(n,"arc"),n.centroid=function(){var e=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-m4/2;return[Ic(t)*e,pi(t)*e]},n.innerRadius=function(e){return arguments.length?(s=typeof e=="function"?e:mt(+e),n):s},n.outerRadius=function(e){return arguments.length?(o=typeof e=="function"?e:mt(+e),n):o},n.cornerRadius=function(e){return arguments.length?(c=typeof e=="function"?e:mt(+e),n):c},n.padRadius=function(e){return arguments.length?(i=e==null?null:typeof e=="function"?e:mt(+e),n):i},n.startAngle=function(e){return arguments.length?(a=typeof e=="function"?e:mt(+e),n):a},n.endAngle=function(e){return arguments.length?(r=typeof e=="function"?e:mt(+e),n):r},n.padAngle=function(e){return arguments.length?(l=typeof e=="function"?e:mt(+e),n):l},n.context=function(e){return arguments.length?(t=e??null,n):t},n}U7e=n(()=>{"use strict";bv(),Tv(),FT(),e(pve,"arcInnerRadius"),e(hve,"arcOuterRadius"),e(lve,"arcStartAngle"),e(ave,"arcEndAngle"),e(sve,"arcPadAngle"),e(K7e,"intersect"),e(w8,"cornerTangents"),e(ll,"default")});function rT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}aT=n(()=>{"use strict";uZe=Array.prototype.slice,e(rT,"default")});function nT(e){this._context=e}function j8(e){return new nT(e)}eT=n(()=>{"use strict";e(nT,"Linear"),nT.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._point=0},"lineStart"),lineEnd:e(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}},"point")},e(j8,"default")});function L7e(e){return e[0]}function N7e(e){return e[1]}D7e=n(()=>{"use strict";e(L7e,"x"),e(N7e,"y")});function v4(t,n){var r=mt(!0),i=null,a=j8,o=null,c=PT(s);t=typeof t=="function"?t:t===void 0?L7e:mt(t),n=typeof n=="function"?n:n===void 0?N7e:mt(n);function s(e){var s,d,u,h=(e=rT(e)).length,l=!1;for(i==null&&(o=a(u=c())),s=0;s<=h;++s)!(s<h&&r(d=e[s],s,e))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,s,e),+n(d,s,e));if(u)return o=null,u+""||null}return e(s,"line"),s.x=function(e){return arguments.length?(t=typeof e=="function"?e:mt(+e),s):t},s.y=function(e){return arguments.length?(n=typeof e=="function"?e:mt(+e),s):n},s.defined=function(e){return arguments.length?(r=typeof e=="function"?e:mt(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,i!=null&&(o=a(i)),s):a},s.context=function(e){return arguments.length?(e==null?i=o=null:o=a(i=e),s):i},s}F7e=n(()=>{"use strict";aT(),bv(),eT(),FT(),D7e(),e(v4,"default")});function k7e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}E7e=n(()=>{"use strict";e(k7e,"default")});function _7e(e){return e}y7e=n(()=>{"use strict";e(_7e,"default")});function p7e(){var o=_7e,n=k7e,s=null,i=mt(0),a=mt(A8),r=mt(0);function t(e){var t,l,h,f,j,c=(e=rT(e)).length,g=0,m=new Array(c),d=new Array(c),u=+i.apply(this,arguments),p=Math.min(A8,Math.max(-A8,a.apply(this,arguments)-u)),v=Math.min(Math.abs(p)/c,r.apply(this,arguments)),b=v*(p<0?-1:1);for(t=0;t<c;++t)(l=d[m[t]=t]=+o(e[t],t,e))>0&&(g+=l);for(n!=null?m.sort(function(e,t){return n(d[e],d[t])}):s!=null&&m.sort(function(t,n){return s(e[t],e[n])}),t=0,j=g?(p-c*b)/g:0;t<c;++t,u=f)h=m[t],l=d[h],f=u+(l>0?l*j:0)+b,d[h]={data:e[h],index:t,value:l,startAngle:u,endAngle:f,padAngle:v};return d}return e(t,"pie"),t.value=function(e){return arguments.length?(o=typeof e=="function"?e:mt(+e),t):o},t.sortValues=function(e){return arguments.length?(n=e,s=null,t):n},t.sort=function(e){return arguments.length?(s=e,n=null,t):s},t.startAngle=function(e){return arguments.length?(i=typeof e=="function"?e:mt(+e),t):i},t.endAngle=function(e){return arguments.length?(a=typeof e=="function"?e:mt(+e),t):a},t.padAngle=function(e){return arguments.length?(r=typeof e=="function"?e:mt(+e),t):r},t}c7e=n(()=>{"use strict";aT(),bv(),E7e(),y7e(),Tv(),e(p7e,"default")});function xF(e){return new vF(e,!0)}function OF(e){return new vF(e,!1)}a7e=n(()=>{"use strict";vF=class{static{e(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}},e(xF,"bumpX"),e(OF,"bumpY")});function xa(){}i8=n(()=>{"use strict";e(xa,"default")});function Jm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Zm(e){this._context=e}function pl(e){return new Zm(e)}Um=n(()=>{"use strict";e(Jm,"point"),e(Zm,"Basis"),Zm.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 3:Jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},e(pl,"default")});function IM(e){this._context=e}function o7e(e){return new IM(e)}J5e=n(()=>{"use strict";i8(),Um(),e(IM,"BasisClosed"),IM.prototype={areaStart:xa,areaEnd:xa,lineStart:e(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},e(o7e,"default")});function fM(e){this._context=e}function Q5e(e){return new fM(e)}G5e=n(()=>{"use strict";Um(),e(fM,"BasisOpen"),fM.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:e(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},e(Q5e,"default")});function cM(e,t){this._basis=new Zm(e),this._beta=t}U5e=n(()=>{"use strict";Um(),e(cM,"Bundle"),cM.prototype={lineStart:e(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:e(function(){var t=this._x,s=this._y,e=t.length-1;if(e>0)for(var o,i=t[0],a=s[0],r=t[e]-i,c=s[e]-a,n=-1;++n<=e;)o=n/e,this._basis.point(this._beta*t[n]+(1-this._beta)*(i+o*r),this._beta*s[n]+(1-this._beta)*(a+o*c));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:e(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},q5e=e(function t(n){function s(e){return n===1?new Zm(e):new cM(e,n)}return e(s,"bundle"),s.beta=function(e){return t(+e)},s},"custom")(.85)});function Im(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function k9(e,t){this._context=e,this._k=(1-t)/6}Rm=n(()=>{"use strict";e(Im,"point"),e(k9,"Cardinal"),k9.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Im(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Im(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},ZS=e(function t(n){function s(e){return new k9(e,n)}return e(s,"cardinal"),s.tension=function(e){return t(+e)},s},"custom")(0)});function M9(e,t){this._context=e,this._k=(1-t)/6}YS=n(()=>{"use strict";i8(),Rm(),e(M9,"CardinalClosed"),M9.prototype={areaStart:xa,areaEnd:xa,lineStart:e(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Im(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},W5e=e(function t(n){function s(e){return new M9(e,n)}return e(s,"cardinal"),s.tension=function(e){return t(+e)},s},"custom")(0)});function z9(e,t){this._context=e,this._k=(1-t)/6}HS=n(()=>{"use strict";Rm(),e(z9,"CardinalOpen"),z9.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:e(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Im(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},$5e=e(function t(n){function s(e){return new z9(e,n)}return e(s,"cardinal"),s.tension=function(e){return t(+e)},s},"custom")(0)});function L9(e,t,n){var r,c,l,d,s=e._x1,o=e._y1,i=e._x2,a=e._y2;e._l01_a>On&&(r=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a),s=(s*r-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,o=(o*r-e._y0*e._l12_2a+e._y2*e._l01_2a)/c),e._l23_a>On&&(l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a),i=(i*l+e._x1*e._l23_2a-t*e._l12_2a)/d,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/d),e._context.bezierCurveTo(s,o,i,a,e._x2,e._y2)}function RS(e,t){this._context=e,this._alpha=t}H9=n(()=>{"use strict";Tv(),Rm(),e(L9,"point"),e(RS,"CatmullRom"),RS.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:L9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},NS=e(function t(n){function s(e){return n?new RS(e,n):new k9(e,0)}return e(s,"catmullRom"),s.alpha=function(e){return t(+e)},s},"custom")(.5)});function TS(e,t){this._context=e,this._alpha=t}H5e=n(()=>{"use strict";YS(),i8(),H9(),e(TS,"CatmullRomClosed"),TS.prototype={areaStart:xa,areaEnd:xa,lineStart:e(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:e(function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:L9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},V5e=e(function t(n){function s(e){return n?new TS(e,n):new M9(e,0)}return e(s,"catmullRom"),s.alpha=function(e){return t(+e)},s},"custom")(.5)});function yS(e,t){this._context=e,this._alpha=t}R5e=n(()=>{"use strict";HS(),H9(),e(yS,"CatmullRomOpen"),yS.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:e(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:L9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},P5e=e(function t(n){function s(e){return n?new yS(e,n):new z9(e,0)}return e(s,"catmullRom"),s.alpha=function(e){return t(+e)},s},"custom")(.5)});function hS(e){this._context=e}function L5e(e){return new hS(e)}N5e=n(()=>{"use strict";i8(),e(hS,"LinearClosed"),hS.prototype={areaStart:xa,areaEnd:xa,lineStart:e(function(){this._point=0},"lineStart"),lineEnd:e(function(){this._point&&this._context.closePath()},"lineEnd"),point:e(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},e(L5e,"default")});function aS(e){return e<0?-1:1}function XA(e,t,n){var s=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(s||o<0&&-0),a=(n-e._y1)/(o||s<0&&-0),r=(i*o+a*s)/(s+o);return(aS(i)+aS(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(r))||0}function IA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Z9(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function Fm(e){this._context=e}function zA(e){this._context=new kA(e)}function kA(e){this._context=e}function CA(e){return new Fm(e)}function xA(e){return new zA(e)}z5e=n(()=>{"use strict";e(aS,"sign"),e(XA,"slope3"),e(IA,"slope2"),e(Z9,"point"),e(Fm,"MonotoneX"),Fm.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:e(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z9(this,this._t0,IA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:e(function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z9(this,IA(this,n=XA(this,e,t)),n);break;default:Z9(this,this._t0,n=XA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}},"point")},e(zA,"MonotoneY"),(zA.prototype=Object.create(Fm.prototype)).point=function(e,t){Fm.prototype.point.call(this,t,e)},e(kA,"ReflectContext"),kA.prototype={moveTo:e(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:e(function(){this._context.closePath()},"closePath"),lineTo:e(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:e(function(e,t,n,s,o,i){this._context.bezierCurveTo(t,e,s,n,i,o)},"bezierCurveTo")},e(CA,"monotoneX"),e(xA,"monotoneY")});function wA(e){this._context=e}function _A(e){var t,a,n=e.length-1,s=new Array(n),o=new Array(n),i=new Array(n);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/o[t-1],o[t]-=a,i[t]-=a*i[t-1];for(s[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function jA(e){return new wA(e)}S5e=n(()=>{"use strict";e(wA,"Natural"),wA.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:e(function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var i=_A(e),a=_A(t),n=0,o=1;o<s;++n,++o)this._context.bezierCurveTo(i[0][n],a[0][n],i[1][n],a[1][n],e[o],t[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:e(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},e(_A,"controlPoints"),e(jA,"default")});function E2(e,t){this._context=e,this._t=t}function hA(e){return new E2(e,.5)}function dA(e){return new E2(e,0)}function lA(e){return new E2(e,1)}i5e=n(()=>{"use strict";e(E2,"Step"),E2.prototype={areaStart:e(function(){this._line=0},"areaStart"),areaEnd:e(function(){this._line=NaN},"areaEnd"),lineStart:e(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:e(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:e(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t},"point")},e(hA,"default"),e(dA,"stepBefore"),e(lA,"stepAfter")}),o5e=n(()=>{"use strict";U7e(),F7e(),c7e(),J5e(),G5e(),Um(),a7e(),U5e(),YS(),HS(),Rm(),H5e(),R5e(),H9(),N5e(),eT(),z5e(),S5e(),i5e()}),s5e=n(()=>{"use strict"}),n5e=n(()=>{"use strict"});function Dl(e,t,n){this.k=e,this.x=t,this.y=n}function t5e(e){for(;!e.__zoom;)if(!(e=e.parentNode))return e5e;return e.__zoom}aA=n(()=>{"use strict";e(Dl,"Transform"),Dl.prototype={constructor:Dl,scale:e(function(e){return e===1?this:new Dl(this.k*e,this.x,this.y)},"scale"),translate:e(function(e,t){return e===0&t===0?this:new Dl(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:e(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:e(function(e){return e*this.k+this.x},"applyX"),applyY:e(function(e){return e*this.k+this.y},"applyY"),invert:e(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:e(function(e){return(e-this.x)/this.k},"invertX"),invertY:e(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:e(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:e(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:e(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},e5e=new Dl(1,0,0),t5e.prototype=Dl.prototype,e(t5e,"transform")}),Jge=n(()=>{"use strict"}),Zge=n(()=>{"use strict";Yp(),s5e(),n5e(),aA(),Jge()}),Qge=n(()=>{"use strict";Zge(),aA()}),he=n(()=>{"use strict";cc(),vNe(),jOe(),fOe(),w0(),mOe(),hOe(),vC(),TSe(),uOe(),VI(),dOe(),aOe(),gV(),X_e(),q_e(),A4(),ux(),K_e(),lOe(),z_e(),Yve(),zve(),Qo(),o5e(),S5(),Mz(),n9(),Yp(),Qge()}),Xge=Ut(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}),W4=Ut(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=void 0;var n=Xge();function o(e){return n.relativeFirstCharacters.indexOf(e[0])>-1}e(o,"isRelativeUrlWithoutProtocol");function i(e){var t=e.replace(n.ctrlCharactersRegex,"");return t.replace(n.htmlEntitiesRegex,function(e,t){return String.fromCharCode(t)})}e(i,"decodeHtmlCharacters");function a(e){return URL.canParse(e)}e(a,"isValidUrl");function s(e){try{return decodeURIComponent(e)}catch{return e}}e(s,"decodeURI");function r(e){if(!e)return n.BLANK_URL;t=s(e.trim());do t=i(t).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim(),t=s(t),u=t.match(n.ctrlCharactersRegex)||t.match(n.htmlEntitiesRegex)||t.match(n.htmlCtrlEntityRegex)||t.match(n.whitespaceEscapeCharsRegex);while(u&&u.length>0)if(r=t,!r)return n.BLANK_URL;if(o(r))return r;var t,r,c,l,d,u,h=r.trimStart(),m=h.match(n.urlSchemeRegex);return m?(c=m[0].toLowerCase().trim(),n.invalidProtocolRegex.test(c)?n.BLANK_URL:(d=h.replace(/\\/g,"/"),c==="mailto:"||c.includes("://")?d:c==="http:"||c==="https:"?a(d)?(l=new URL(d),l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()):n.BLANK_URL:d)):r}e(r,"sanitizeUrl"),t.sanitizeUrl=r}),vm=n(()=>{"use strict";Xk=Sn(W4(),1),me(),ym=e((e,t)=>{let n=e.append("rect");if(n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),t.name&&n.attr("name",t.name),t.rx&&n.attr("rx",t.rx),t.ry&&n.attr("ry",t.ry),t.attrs!==void 0)for(let e in t.attrs)n.attr(e,t.attrs[e]);return t.class&&n.attr("class",t.class),n},"drawRect"),Gk=e((e,t)=>{let n={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};ym(e,n).lower()},"drawBackgroundRect"),Gge=e((e,t)=>{let o=t.text.replace(Ed," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);let s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.text(o),n},"drawText"),Yge=e((e,t,n,s)=>{let o=e.append("image");o.attr("x",t),o.attr("y",n);let i=(0,Xk.sanitizeUrl)(s);o.attr("xlink:href",i)},"drawImage"),qge=e((e,t,n,s)=>{let o=e.append("use");o.attr("x",t),o.attr("y",n);let i=(0,Xk.sanitizeUrl)(s);o.attr("xlink:href",`#${i}`)},"drawEmbeddedImage"),yc=e(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),Db=e(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),Jpe=n(()=>{"use strict";me(),vm(),Kge=Sn(W4(),1),Rb=e(function(e,t){return ym(e,t)},"drawRect"),$k=e(function(e,t,n,s,o,i){let a=e.append("image");a.attr("width",t),a.attr("height",n),a.attr("x",s),a.attr("y",o);let r=i.startsWith("data:image/png;base64")?i:(0,Kge.sanitizeUrl)(i);a.attr("xlink:href",r)},"drawImage"),Uge=e((e,t,n)=>{let s=e.append("g"),o=0;for(let e of t){let r=e.textColor?e.textColor:"#444444",c=e.lineColor?e.lineColor:"#444444",l=e.offsetX?parseInt(e.offsetX):0,d=e.offsetY?parseInt(e.offsetY):0,i="";if(o===0){let t=s.append("line");t.attr("x1",e.startPoint.x),t.attr("y1",e.startPoint.y),t.attr("x2",e.endPoint.x),t.attr("y2",e.endPoint.y),t.attr("stroke-width","1"),t.attr("stroke",c),t.style("fill","none"),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)"),o=-1}else{let t=s.append("path");t.attr("fill","none").attr("stroke-width","1").attr("stroke",c).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",e.startPoint.x).replaceAll("starty",e.startPoint.y).replaceAll("controlx",e.startPoint.x+(e.endPoint.x-e.startPoint.x)/2-(e.endPoint.x-e.startPoint.x)/4).replaceAll("controly",e.startPoint.y+(e.endPoint.y-e.startPoint.y)/2).replaceAll("stopx",e.endPoint.x).replaceAll("stopy",e.endPoint.y)),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)")}let a=n.messageFont();Ki(n)(e.label.text,s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+d,e.label.width,e.label.height,{fill:r},a),e.techn&&e.techn.text!==""&&(a=n.messageFont(),Ki(n)("["+e.techn.text+"]",s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+n.messageFontSize+5+d,Math.max(e.label.width,e.techn.width),e.techn.height,{fill:r,"font-style":"italic"},a))}},"drawRels"),Wge=e(function(e,t,n){let o=e.append("g"),r=t.bgColor?t.bgColor:"none",c=t.borderColor?t.borderColor:"#444444",i=t.fontColor?t.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(a={"stroke-width":1});let l={x:t.x,y:t.y,fill:r,stroke:c,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:a};Rb(o,l);let s=n.boundaryFont();s.fontWeight="bold",s.fontSize=s.fontSize+2,s.fontColor=i,Ki(n)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},s),t.type&&t.type.text!==""&&(s=n.boundaryFont(),s.fontColor=i,Ki(n)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},s)),t.descr&&t.descr.text!==""&&(s=n.boundaryFont(),s.fontSize=s.fontSize-2,s.fontColor=i,Ki(n)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},s))},"drawBoundary"),$ge=e(function(e,t,n){let c=t.bgColor?t.bgColor:n[t.typeC4Shape.text+"_bg_color"],r=t.borderColor?t.borderColor:n[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let s=e.append("g");s.attr("class","person-man");let i=yc();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":i.x=t.x,i.y=t.y,i.fill=c,i.width=t.width,i.height=t.height,i.stroke=r,i.rx=2.5,i.ry=2.5,i.attrs={"stroke-width":.5},Rb(s,i);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let d=ege(n,t.typeC4Shape.text);switch(s.append("text").attr("fill",a).attr("font-family",d.fontFamily).attr("font-size",d.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":$k(s,48,48,t.x+t.width/2-24,t.y+t.image.Y,l);break}let o=n[t.typeC4Shape.text+"Font"]();return o.fontWeight="bold",o.fontSize=o.fontSize+2,o.fontColor=a,Ki(n)(t.label.text,s,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},o),o=n[t.typeC4Shape.text+"Font"](),o.fontColor=a,t.techn&&t.techn?.text!==""?Ki(n)(t.techn.text,s,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},o):t.type&&t.type.text!==""&&Ki(n)(t.type.text,s,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},o),t.descr&&t.descr.text!==""&&(o=n.personFont(),o.fontColor=a,Ki(n)(t.descr.text,s,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},o)),t.height},"drawC4Shape"),Vge=e(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Bge=e(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Rge=e(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Nge=e(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Sge=e(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Ege=e(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),pge=e(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),mge=e(function(e){let t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),ege=e((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),Ki=function(){function s(e,n,s,o,i,a,r){let c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(e);t(c,r)}e(s,"byText");function n(e,n,s,o,i,a,r,c){let{fontSize:l,fontFamily:u,fontWeight:h}=c,d=e.split(w.lineBreakRegex);for(let e=0;e<d.length;e++){let c=e*l-l*(d.length-1)/2,a=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",l).style("font-weight",h).style("font-family",u);a.append("tspan").attr("dy",c).text(d[e]).attr("alignment-baseline","mathematical"),t(a,r)}}e(n,"byTspan");function o(e,s,o,i,a,r,c,l){let d=s.append("switch"),u=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),n(e,d,o,i,a,r,c,l),t(u,c)}e(o,"byFo");function t(e,t){for(let n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return e(t,"_setTextAttrs"),function(e){return e.textPlacement==="fo"?o:e.textPlacement==="old"?s:n}}(),ui={drawRect:Rb,drawBoundary:Wge,drawC4Shape:$ge,drawRels:Uge,drawImage:$k,insertArrowHead:Nge,insertArrowEnd:Sge,insertArrowFilledHead:Ege,insertDynamicNumber:pge,insertArrowCrossHead:mge,insertDatabaseIcon:Vge,insertComputerIcon:Bge,insertClockIcon:Rge}}),$E=n(()=>{"use strict";Qpe=typeof global=="object"&&global&&global.Object===Object&&global,WE=Qpe}),Eo=n(()=>{"use strict";$E(),Xpe=typeof self=="object"&&self&&self.Object===Object&&self,Gpe=WE||Xpe||Function("return this")(),Ro=Gpe}),ad=n(()=>{"use strict";Eo(),Ype=Ro.Symbol,Vs=Ype});function qpe(e){var t,n,s=Kpe.call(e,y0),o=e[y0];try{e[y0]=void 0,t=!0}catch{}return n=Upe.call(e),t&&(s?e[y0]=o:delete e[y0]),n}$pe=n(()=>{"use strict";ad(),iE=Object.prototype,Kpe=iE.hasOwnProperty,Upe=iE.toString,y0=Vs?Vs.toStringTag:void 0,e(qpe,"getRawTag"),Wpe=qpe});function Vpe(e){return Ipe.call(e)}Ape=n(()=>{"use strict";Bpe=Object.prototype,Ipe=Bpe.toString,e(Vpe,"objectToString"),Hpe=Vpe});function kpe(e){return e==null?e===void 0?vpe:Ope:mC&&mC in Object(e)?Wpe(e):Hpe(e)}Na=n(()=>{"use strict";ad(),$pe(),Ape(),Ope="[object Null]",vpe="[object Undefined]",mC=Vs?Vs.toStringTag:void 0,e(kpe,"baseGetTag"),ma=kpe});function lpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}eo=n(()=>{"use strict";e(lpe,"isObject"),Yn=lpe});function cpe(e){if(!Yn(e))return!1;var t=ma(e);return t==ipe||t==spe||t==ape||t==npe}bh=n(()=>{"use strict";Na(),eo(),ape="[object AsyncFunction]",ipe="[object Function]",spe="[object GeneratorFunction]",npe="[object Proxy]",e(cpe,"isFunction"),Zs=cpe}),epe=n(()=>{"use strict";Eo(),tpe=Ro["__core-js_shared__"],Hj=tpe});function J6e(e){return!!Yx&&Yx in e}Q6e=n(()=>{"use strict";epe(),Yx=function(){var e=/[^.]+$/.exec(Hj&&Hj.keys&&Hj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),e(J6e,"isMasked"),Z6e=J6e});function X6e(e){if(e!=null){try{return K6e.call(e)}catch{}try{return e+""}catch{}}return""}cx=n(()=>{"use strict";q6e=Function.prototype,K6e=q6e.toString,e(X6e,"toSource"),Kc=X6e});function W6e(e){if(!Yn(e)||Z6e(e))return!1;var t=Zs(e)?T6e:I6e;return t.test(Kc(e))}S6e=n(()=>{"use strict";bh(),Q6e(),eo(),cx(),V6e=/[\\^$.*+?()[\]{}|]/g,I6e=/^\[object .+?Constructor\]$/,P6e=Function.prototype,L6e=Object.prototype,D6e=P6e.toString,z6e=L6e.hasOwnProperty,T6e=RegExp("^"+D6e.call(z6e).replace(V6e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),e(W6e,"baseIsNative"),M6e=W6e});function A6e(e,t){return e?.[t]}x6e=n(()=>{"use strict";e(A6e,"getValue"),C6e=A6e});function O6e(e,t){var n=C6e(e,t);return M6e(n)?n:void 0}bc=n(()=>{"use strict";S6e(),x6e(),e(O6e,"getNative"),Sc=O6e}),Y3=n(()=>{"use strict";bc(),y6e=Sc(Object,"create"),G0=y6e});function j6e(){this.__data__=G0?G0(null):{},this.size=0}g6e=n(()=>{"use strict";Y3(),e(j6e,"hashClear"),b6e=j6e});function p6e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}h6e=n(()=>{"use strict";e(p6e,"hashDelete"),f6e=p6e});function u6e(e){var n,t=this.__data__;return G0?(n=t[e],n===d6e?void 0:n):r6e.call(t,e)?t[e]:void 0}o6e=n(()=>{"use strict";Y3(),d6e="__lodash_hash_undefined__",c6e=Object.prototype,r6e=c6e.hasOwnProperty,e(u6e,"hashGet"),i6e=u6e});function s6e(e){var t=this.__data__;return G0?t[e]!==void 0:kfe.call(t,e)}Cfe=n(()=>{"use strict";Y3(),Kfe=Object.prototype,kfe=Kfe.hasOwnProperty,e(s6e,"hashHas"),Efe=s6e});function xfe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G0&&t===void 0?Ofe:t,this}_fe=n(()=>{"use strict";Y3(),Ofe="__lodash_hash_undefined__",e(xfe,"hashSet"),wfe=xfe});function Du(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}yfe=n(()=>{"use strict";g6e(),h6e(),o6e(),Cfe(),_fe(),e(Du,"Hash"),Du.prototype.clear=b6e,Du.prototype.delete=f6e,Du.prototype.get=i6e,Du.prototype.has=Efe,Du.prototype.set=wfe,w_=Du});function jfe(){this.__data__=[],this.size=0}vfe=n(()=>{"use strict";e(jfe,"listCacheClear"),bfe=jfe});function gfe(e,t){return e===t||e!==e&&t!==t}Gd=n(()=>{"use strict";e(gfe,"eq"),iu=gfe});function pfe(e,t){for(var n=e.length;n--;)if(iu(e[n][0],t))return n;return-1}d3=n(()=>{"use strict";Gd(),e(pfe,"assocIndexOf"),u3=pfe});function ffe(e){var s,t=this.__data__,n=u3(t,e);return!(n<0)&&(s=t.length-1,n==s?t.pop():hfe.call(t,n,1),--this.size,!0)}dfe=n(()=>{"use strict";d3(),mfe=Array.prototype,hfe=mfe.splice,e(ffe,"listCacheDelete"),ufe=ffe});function lfe(e){var t=this.__data__,n=u3(t,e);return n<0?void 0:t[n][1]}rfe=n(()=>{"use strict";d3(),e(lfe,"listCacheGet"),cfe=lfe});function afe(e){return u3(this.__data__,e)>-1}ofe=n(()=>{"use strict";d3(),e(afe,"listCacheHas"),ife=afe});function sfe(e,t){var n=this.__data__,s=u3(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}tfe=n(()=>{"use strict";d3(),e(sfe,"listCacheSet"),nfe=sfe});function pd(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}S2=n(()=>{"use strict";vfe(),dfe(),rfe(),ofe(),tfe(),e(pd,"ListCache"),pd.prototype.clear=bfe,pd.prototype.delete=ufe,pd.prototype.get=cfe,pd.prototype.has=ife,pd.prototype.set=nfe,A2=pd}),By=n(()=>{"use strict";bc(),Eo(),V8e=Sc(Ro,"Map"),_2=V8e});function B8e(){this.size=0,this.__data__={hash:new w_,map:new(_2||A2),string:new w_}}z8e=n(()=>{"use strict";yfe(),S2(),By(),e(B8e,"mapCacheClear"),R8e=B8e});function F8e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}S8e=n(()=>{"use strict";e(F8e,"isKeyable"),M8e=F8e});function w8e(e,t){var n=e.__data__;return M8e(t)?n[typeof t=="string"?"string":"hash"]:n.map}W2=n(()=>{"use strict";S8e(),e(w8e,"getMapData"),V2=w8e});function _8e(e){var t=V2(this,e).delete(e);return this.size-=t?1:0,t}p8e=n(()=>{"use strict";W2(),e(_8e,"mapCacheDelete"),y8e=_8e});function f8e(e){return V2(this,e).get(e)}h8e=n(()=>{"use strict";W2(),e(f8e,"mapCacheGet"),m8e=f8e});function u8e(e){return V2(this,e).has(e)}l8e=n(()=>{"use strict";W2(),e(u8e,"mapCacheHas"),d8e=u8e});function c8e(e,t){var n=V2(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}a8e=n(()=>{"use strict";W2(),e(c8e,"mapCacheSet"),r8e=c8e});function Yl(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}My=n(()=>{"use strict";z8e(),p8e(),h8e(),l8e(),a8e(),e(Yl,"MapCache"),Yl.prototype.clear=R8e,Yl.prototype.delete=y8e,Yl.prototype.get=m8e,Yl.prototype.has=d8e,Yl.prototype.set=r8e,n3=Yl});function Sy(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(i8e);var s=e(function(){var a,o=arguments,i=n?n.apply(this,o):o[0],e=s.cache;return e.has(i)?e.get(i):(a=t.apply(this,o),s.cache=e.set(i,a)||e,a)},"memoized");return s.cache=new(Sy.Cache||n3),s}B_=n(()=>{"use strict";My(),i8e="Expected a function",e(Sy,"memoize"),Sy.Cache=n3,m3=Sy});function o8e(){this.__data__=new A2,this.size=0}n8e=n(()=>{"use strict";S2(),e(o8e,"stackClear"),s8e=o8e});function t8e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}Jme=n(()=>{"use strict";e(t8e,"stackDelete"),e8e=t8e});function Xme(e){return this.__data__.get(e)}Yme=n(()=>{"use strict";e(Xme,"stackGet"),Gme=Xme});function qme(e){return this.__data__.has(e)}Ume=n(()=>{"use strict";e(qme,"stackHas"),Kme=qme});function Wme(e,t){var s,n=this.__data__;if(n instanceof A2){if(s=n.__data__,!_2||s.length<$me-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new n3(s)}return n.set(e,t),this.size=n.size,this}Bme=n(()=>{"use strict";S2(),By(),My(),$me=200,e(Wme,"stackSet"),Vme=Wme});function Nl(e){var t=this.__data__=new A2(e);this.size=t.size}w3=n(()=>{"use strict";S2(),n8e(),Jme(),Yme(),Ume(),Bme(),e(Nl,"Stack"),Nl.prototype.clear=s8e,Nl.prototype.delete=e8e,Nl.prototype.get=Gme,Nl.prototype.has=Kme,Nl.prototype.set=Vme,zl=Nl}),lw=n(()=>{"use strict";bc(),Rme=function(){try{var e=Sc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),k3=Rme});function Lme(e,t,n){t=="__proto__"&&k3?k3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J0=n(()=>{"use strict";lw(),e(Lme,"baseAssignValue"),e2=Lme});function zme(e,t,n){(n!==void 0&&!iu(e[t],n)||n===void 0&&!(t in e))&&e2(e,t,n)}pw=n(()=>{"use strict";J0(),Gd(),e(zme,"assignMergeValue"),Oy=zme});function Tme(e){return function(t,n,s){for(var o,c=-1,i=Object(t),a=s(t),r=a.length;r--;)if(o=a[e?r:++c],n(i[o],o,i)===!1)break;return t}}Mme=n(()=>{"use strict";e(Tme,"createBaseFor"),Fme=Tme}),yy=n(()=>{"use strict";Mme(),Ame=Fme(),_y=Ame});function Ome(e,t){if(t)return e.slice();var n=e.length,s=kw?kw(n):new e.constructor(n);return e.copy(s),s}Sw=n(()=>{"use strict";Eo(),Ow=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xw=Ow&&typeof module=="object"&&module&&!module.nodeType&&module,yme=xw&&xw.exports===Ow,Ew=yme?Ro.Buffer:void 0,kw=Ew?Ew.allocUnsafe:void 0,e(Ome,"cloneBuffer"),Aw=Ome}),Tw=n(()=>{"use strict";Eo(),jme=Ro.Uint8Array,L3=jme});function bme(e){var t=new e.constructor(e.byteLength);return new L3(t).set(new L3(e)),t}gy=n(()=>{"use strict";Tw(),e(bme,"cloneArrayBuffer"),vy=bme});function vme(e,t){var n=t?vy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}Pw=n(()=>{"use strict";gy(),e(vme,"cloneTypedArray"),Rw=vme});function gme(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}Bw=n(()=>{"use strict";e(gme,"copyArray"),Iw=gme}),mme=n(()=>{"use strict";eo(),Vw=Object.create,pme=function(){function t(){}return e(t,"object"),function(e){if(!Yn(e))return{};if(Vw)return Vw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),fme=pme});function hme(e,t){return function(n){return e(t(n))}}Yw=n(()=>{"use strict";e(hme,"overArg"),qw=hme}),ry=n(()=>{"use strict";Yw(),ume=qw(Object.getPrototypeOf,Object),cy=ume});function dme(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lme;return e===n}q0=n(()=>{"use strict";lme=Object.prototype,e(dme,"isPrototype"),Y0=dme});function cme(e){return typeof e.constructor=="function"&&!Y0(e)?fme(cy(e)):{}}oO=n(()=>{"use strict";mme(),ry(),q0(),e(cme,"initCloneObject"),sO=cme});function rme(e){return e!=null&&typeof e=="object"}No=n(()=>{"use strict";e(rme,"isObjectLike"),Xs=rme});function ame(e){return Xs(e)&&ma(e)==ime}ome=n(()=>{"use strict";Na(),No(),ime="[object Arguments]",e(ame,"baseIsArguments"),dO=ame}),V0=n(()=>{"use strict";ome(),No(),hO=Object.prototype,sme=hO.hasOwnProperty,nme=hO.propertyIsEnumerable,tme=dO(function(){return arguments}())?dO:function(e){return Xs(e)&&sme.call(e,"callee")&&!nme.call(e,"callee")},jl=tme}),ot=n(()=>{"use strict";eme=Array.isArray,ve=eme});function Jhe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zhe}sy=n(()=>{"use strict";Zhe=9007199254740991,e(Jhe,"isLength"),oy=Jhe});function Qhe(e){return e!=null&&oy(e.length)&&!Zs(e)}co=n(()=>{"use strict";bh(),sy(),e(Qhe,"isArrayLike"),mo=Qhe});function Xhe(e){return Xs(e)&&mo(e)}ny=n(()=>{"use strict";co(),No(),e(Xhe,"isArrayLikeObject"),fh=Xhe});function Ghe(){return!1}qhe=n(()=>{"use strict";e(Ghe,"stubFalse"),Yhe=Ghe}),S0=n(()=>{"use strict";Eo(),qhe(),DO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NO=DO&&typeof module=="object"&&module&&!module.nodeType&&module,Khe=NO&&NO.exports===DO,RO=Khe?Ro.Buffer:void 0,Uhe=RO?RO.isBuffer:void 0,Whe=Uhe||Yhe,hl=Whe});function $he(e){if(!Xs(e)||ma(e)!=Vhe)return!1;var t,n=cy(e);return n===null||(t=Hhe.call(n,"constructor")&&n.constructor,typeof t=="function"&&t instanceof t&&KO.call(t)==Phe)}Lhe=n(()=>{"use strict";Na(),ry(),No(),Vhe="[object Object]",Bhe=Function.prototype,Ihe=Object.prototype,KO=Bhe.toString,Hhe=Ihe.hasOwnProperty,Phe=KO.call(Object),e($he,"isPlainObject"),Rhe=$he});function Nhe(e){return Xs(e)&&oy(e.length)&&!!Ge[ma(e)]}che=n(()=>{"use strict";Na(),sy(),No(),Dhe="[object Arguments]",zhe="[object Array]",The="[object Boolean]",Fhe="[object Date]",Mhe="[object Error]",She="[object Function]",Ahe="[object Map]",khe="[object Number]",Ehe="[object Object]",Che="[object RegExp]",xhe="[object Set]",Ohe="[object String]",_he="[object WeakMap]",yhe="[object ArrayBuffer]",jhe="[object DataView]",bhe="[object Float32Array]",vhe="[object Float64Array]",ghe="[object Int8Array]",phe="[object Int16Array]",fhe="[object Int32Array]",mhe="[object Uint8Array]",hhe="[object Uint8ClampedArray]",uhe="[object Uint16Array]",dhe="[object Uint32Array]",Ge={},Ge[bhe]=Ge[vhe]=Ge[ghe]=Ge[phe]=Ge[fhe]=Ge[mhe]=Ge[hhe]=Ge[uhe]=Ge[dhe]=!0,Ge[Dhe]=Ge[zhe]=Ge[yhe]=Ge[The]=Ge[jhe]=Ge[Fhe]=Ge[Mhe]=Ge[She]=Ge[Ahe]=Ge[khe]=Ge[Ehe]=Ge[Che]=Ge[xhe]=Ge[Ohe]=Ge[_he]=!1,e(Nhe,"baseIsTypedArray"),lhe=Nhe});function rhe(e){return function(t){return e(t)}}il=n(()=>{"use strict";e(rhe,"baseUnary"),al=rhe}),im=n(()=>{"use strict";$E(),Ax=typeof exports=="object"&&exports&&!exports.nodeType&&exports,l0=Ax&&typeof module=="object"&&module&&!module.nodeType&&module,ahe=l0&&l0.exports===Ax,Uj=ahe&&WE.process,ihe=function(){try{var e=l0&&l0.require&&l0.require("util").types;return e||Uj&&Uj.binding&&Uj.binding("util")}catch{}}(),nr=ihe}),lm=n(()=>{"use strict";che(),il(),im(),Nx=nr&&nr.isTypedArray,ohe=Nx?al(Nx):lhe,rm=ohe});function she(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}Bx=n(()=>{"use strict";e(she,"safeGet"),$j=she});function nhe(e,t,n){var s=e[t];(!ehe.call(e,t)||!iu(s,n)||n===void 0&&!(t in e))&&e2(e,t,n)}X4=n(()=>{"use strict";J0(),Gd(),the=Object.prototype,ehe=the.hasOwnProperty,e(nhe,"assignValue"),J4=nhe});function J3e(e,t,n,s){a=!n,n||(n={});for(var o,i,a,r=-1,c=t.length;++r<c;)o=t[r],i=s?s(n[o],e[o],o,n,e):void 0,i===void 0&&(i=e[o]),a?e2(n,o,i):J4(n,o,i);return n}xl=n(()=>{"use strict";X4(),J0(),e(J3e,"copyObject"),wl=J3e});function Z3e(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}Y3e=n(()=>{"use strict";e(Z3e,"baseTimes"),G3e=Z3e});function K3e(e,t){var n=typeof e;return t=t??U3e,!!t&&(n=="number"||n!="symbol"&&W3e.test(e))&&e>-1&&e%1==0&&e<t}Cm=n(()=>{"use strict";U3e=9007199254740991,W3e=/^(?:0|[1-9]\d*)$/,e(K3e,"isIndex"),xm=K3e});function $3e(e,t){var n,s=ve(e),o=!s&&jl(e),i=!s&&!o&&hl(e),r=!s&&!o&&!i&&rm(e),c=s||o||i||r,a=c?G3e(e.length,String):[],l=a.length;for(n in e)(t||B3e.call(e,n))&&!(c&&(n=="length"||i&&(n=="offset"||n=="parent")||r&&(n=="buffer"||n=="byteLength"||n=="byteOffset")||xm(n,l)))&&a.push(n);return a}cC=n(()=>{"use strict";Y3e(),V0(),ot(),S0(),Cm(),lm(),V3e=Object.prototype,B3e=V3e.hasOwnProperty,e($3e,"arrayLikeKeys"),rC=$3e});function I3e(e){var n,t=[];if(e!=null)for(n in Object(e))t.push(n);return t}P3e=n(()=>{"use strict";e(I3e,"nativeKeysIn"),H3e=I3e});function R3e(e){if(!Yn(e))return H3e(e);var t,s=Y0(e),n=[];for(t in e)t=="constructor"&&(s||!N3e.call(e,t))||n.push(t);return n}z3e=n(()=>{"use strict";eo(),q0(),P3e(),L3e=Object.prototype,N3e=L3e.hasOwnProperty,e(R3e,"baseKeysIn"),D3e=R3e});function T3e(e){return mo(e)?rC(e,!0):D3e(e)}nc=n(()=>{"use strict";cC(),z3e(),co(),e(T3e,"keysIn"),Rr=T3e});function F3e(e){return wl(e,Rr(e))}k3e=n(()=>{"use strict";xl(),nc(),e(F3e,"toPlainObject"),S3e=F3e});function E3e(e,t,n,s,o,i,a){var c,d,l=$j(e,n),r=$j(t,n),m=a.get(r);if(m){Oy(e,n,m);return}if(c=i?i(l,r,n+"",e,t,a):void 0,d=c===void 0,d){var u=ve(r),h=!u&&hl(r),f=!u&&!h&&rm(r);c=r,u||h||f?ve(l)?c=l:fh(l)?c=Iw(l):h?(d=!1,c=Aw(r,!0)):f?(d=!1,c=Rw(r,!0)):c=[]:Rhe(r)||jl(r)?(c=l,jl(l)?c=S3e(l):(!Yn(l)||Zs(l))&&(c=sO(r))):d=!1}d&&(a.set(r,c),o(c,r,s,i,a),a.delete(r)),Oy(e,n,c)}x3e=n(()=>{"use strict";pw(),Sw(),Pw(),Bw(),oO(),V0(),ot(),ny(),S0(),bh(),eo(),Lhe(),lm(),Bx(),k3e(),e(E3e,"baseMergeDeep"),C3e=E3e});function EC(e,t,n,s,o){e!==t&&_y(t,function(i,a){if(o||(o=new zl),Yn(i))C3e(e,t,a,n,EC,s,o);else{var r=s?s($j(e,a),i,a+"",e,t,o):void 0;r===void 0&&(r=i),Oy(e,a,r)}},Rr)}w3e=n(()=>{"use strict";w3(),pw(),yy(),x3e(),eo(),nc(),Bx(),e(EC,"baseMerge"),O3e=EC});function _3e(e){return e}Cr=n(()=>{"use strict";e(_3e,"identity"),Ji=_3e});function y3e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}b3e=n(()=>{"use strict";e(y3e,"apply"),j3e=y3e});function v3e(e,t,n){return t=LC(t===void 0?e.length-1:t,0),function(){for(var o,i=arguments,s=-1,a=LC(i.length-t,0),r=Array(a);++s<a;)r[s]=i[t+s];for(s=-1,o=Array(t+1);++s<t;)o[s]=i[s];return o[t]=n(r),j3e(e,this,o)}}PC=n(()=>{"use strict";b3e(),LC=Math.max,e(v3e,"overRest"),RC=v3e});function g3e(e){return function(){return e}}BC=n(()=>{"use strict";e(g3e,"constant"),jr=g3e}),h3e=n(()=>{"use strict";BC(),lw(),Cr(),p3e=k3?function(e,t){return k3(e,"toString",{configurable:!0,enumerable:!1,value:jr(t),writable:!0})}:Ji,m3e=p3e});function d3e(e){var t=0,n=0;return function(){var s=t3e(),o=i3e-(s-n);if(n=s,o>0){if(++t>=l3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Z2e=n(()=>{"use strict";l3e=800,i3e=16,t3e=Date.now,e(d3e,"shortOut"),J2e=d3e}),JC=n(()=>{"use strict";h3e(),Z2e(),G2e=J2e(m3e),ZC=G2e});function Y2e(e,t){return ZC(RC(e,t,Ji),e+"")}G1=n(()=>{"use strict";Cr(),PC(),JC(),e(Y2e,"baseRest"),Q1=Y2e});function q2e(e,t,n){if(!Yn(n))return!1;var s=typeof t;return!!(s=="number"?mo(n)&&xm(t,n.length):s=="string"&&t in n)&&iu(n[t],e)}Nd=n(()=>{"use strict";Gd(),co(),Cm(),eo(),e(q2e,"isIterateeCall"),pc=q2e});function K2e(e){return Q1(function(t,n){var a,i=-1,s=n.length,o=s>1?n[s-1]:void 0,r=s>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):void 0,r&&pc(n[0],n[1],r)&&(o=s<3?void 0:o,s=1),t=Object(t);++i<s;)a=n[i],a&&e(t,a,i,o);return t})}cE=n(()=>{"use strict";G1(),Nd(),e(K2e,"createAssigner"),rE=K2e}),uE=n(()=>{"use strict";w3e(),cE(),U2e=rE(function(e,t,n){O3e(e,t,n)}),cf=U2e});function hE(e,t){if(!e)return t;let n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return R2e[n]??t}function W2e(e,t){let n=e.trim();if(n)return t.securityLevel!=="loose"?(0,H2e.sanitizeUrl)(n):n}function fE(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $2e(e){let t,n=0;e.forEach(e=>{n+=fE(e,t),t=e});let s=n/2;return oj(e,s)}function V2e(e){return e.length===1?e[0]:$2e(e)}function B2e(e,t,n){let s=structuredClone(n);a.info("our points",s),t!=="start_left"&&t!=="start_right"&&s.reverse();let l=25+e,o=oj(s,l),r=10+e*.5,c=Math.atan2(s[0].y-o.y,s[0].x-o.x),i={x:0,y:0};return t==="start_left"?(i.x=Math.sin(c+Math.PI)*r+(s[0].x+o.x)/2,i.y=-Math.cos(c+Math.PI)*r+(s[0].y+o.y)/2):t==="end_right"?(i.x=Math.sin(c-Math.PI)*r+(s[0].x+o.x)/2-5,i.y=-Math.cos(c-Math.PI)*r+(s[0].y+o.y)/2-5):t==="end_left"?(i.x=Math.sin(c)*r+(s[0].x+o.x)/2-5,i.y=-Math.cos(c)*r+(s[0].y+o.y)/2-5):(i.x=Math.sin(c)*r+(s[0].x+o.x)/2,i.y=-Math.cos(c)*r+(s[0].y+o.y)/2),i}function bE(e){let t="",n="";for(let s of e)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?n=n+s+";":t=t+s+";");return{style:t,labelStyle:n}}function I2e(e){let t="",n="0123456789abcdef",s=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*s));return t}function rj(e,t){return tj(e,t).height}function vs(e,t){return tj(e,t).width}function wE(e){return"str"in e}function yo(e,t){return cf({},e,t)}function hs(e){return e??null}se=n(()=>{"use strict";H2e=Sn(W4(),1),he(),me(),wP(),x(),qd(),S1(),B_(),uE(),Rp(),EE="​",R2e={curveBasis:pl,curveBasisClosed:o7e,curveBasisOpen:Q5e,curveBumpX:xF,curveBumpY:OF,curveBundle:q5e,curveCardinalClosed:W5e,curveCardinalOpen:$5e,curveCardinal:ZS,curveCatmullRomClosed:V5e,curveCatmullRomOpen:P5e,curveCatmullRom:NS,curveLinear:j8,curveLinearClosed:L5e,curveMonotoneX:CA,curveMonotoneY:xA,curveNatural:jA,curveStep:hA,curveStepAfter:lA,curveStepBefore:dA},L2e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,N2e=e(function(e,t){let s=ME(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(s)){let e=s.map(e=>e.args);$m(e),n=kt(n,[...e])}else n=s.args;if(!n)return;let o=Hp(e,t),i="config";return n[i]!==void 0&&(o==="flowchart-v2"&&(o="flowchart"),n[o]=n[i],delete n[i]),n},"detectInit"),ME=e(function(e,t=null){try{let o=new RegExp(`[%]{2}(?![{]${L2e.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(o,"").replace(/'/gm,'"'),a.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,s=[];for(;(n=_1.exec(e))!==null;)if(n.index===_1.lastIndex&&_1.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){let e=n[1]?n[1]:n[2],t=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;s.push({type:e,args:t})}return s.length===0?{type:e,args:null}:s.length===1?s[0]:s}catch(n){return a.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),D2e=e(function(e){return e.replace(_1,"")},"removeDirectives"),z2e=e(function(e,t){for(let[n,s]of t.entries())if(s.match(e))return n;return-1},"isSubstringInArray"),e(hE,"interpolateToCurve"),e(W2e,"formatUrl"),T2e=e((e,...t)=>{let s=e.split("."),o=s.length-1,i=s[o],n=window;for(let t=0;t<o;t++)if(n=n[s[t]],!n){a.error(`Function name: ${e} not found in window`);return}n[i](...t)},"runFunc"),e(fE,"distance"),e($2e,"traverseEdge"),e(V2e,"calcLabelPosition"),DE=e((e,t=2)=>{let n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),oj=e((e,t)=>{let n,s=t;for(let t of e){if(n){let e=fE(t,n);if(e===0)return n;if(e<s)s-=e;else{let o=s/e;if(o<=0)return n;if(o>=1)return{x:t.x,y:t.y};if(o>0&&o<1)return{x:DE((1-o)*n.x+o*t.x,5),y:DE((1-o)*n.y+o*t.y,5)}}}n=t}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),_2e=e((e,t,n)=>{a.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());let s=oj(t,25),i=e?10:5,r=Math.atan2(t[0].y-s.y,t[0].x-s.x),o={x:0,y:0};return o.x=Math.sin(r)*i+(t[0].x+s.x)/2,o.y=-Math.cos(r)*i+(t[0].y+s.y)/2,o},"calcCardinalityPosition"),e(B2e,"calcTerminalLabelPosition"),e(bE,"getStylesFromArray"),RE=0,PE=e(()=>(RE++,"id-"+Math.random().toString(36).substr(2,12)+"-"+RE),"generateId"),e(I2e,"makeRandomHex"),HE=e(e=>I2e(e.length),"random"),y2e=e(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),a2e=e(function(e,t){let o=t.text.replace(w.lineBreakRegex," "),[,i]=Ka(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);let s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(o),n},"drawSimpleText"),VE=m3((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),w.lineBreakRegex.test(e)))return e;let i=e.split(" ").filter(Boolean),o=[],s="";return i.forEach((e,a)=>{let r=vs(`${e} `,n),c=vs(s,n);if(r>t){let{hyphenatedStrings:i,remainingWord:a}=Y0e(e,t,"-",n);o.push(s,...i),s=a}else c+r>=t?(o.push(s),s=e):s=[s,e].filter(Boolean).join(" ");a+1===i.length&&o.push(s)}),o.filter(e=>e!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Y0e=m3((e,t,n="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);let i=[...e],a=[],o="";return i.forEach((e,r)=>{let c=`${o}${e}`;if(vs(c,s)>=t){let e=r+1,t=i.length===e,s=`${c}${n}`;a.push(t?c:s),o=""}else o=c}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",s)=>`${e}${t}${n}${s.fontSize}${s.fontWeight}${s.fontFamily}`),e(rj,"calculateTextHeight"),e(vs,"calculateTextWidth"),tj=m3((e,t)=>{let{fontSize:i=12,fontFamily:a="Arial",fontWeight:r=400}=t;if(!e)return{width:0,height:0};let[,c]=Ka(i),l=["sans-serif",a],d=e.split(w.lineBreakRegex),n=[],s=y("body");if(!s.remove)return{width:0,height:0,lineHeight:0};let o=s.append("svg");for(let s of l){let t=0,e={width:0,height:0,lineHeight:0};for(let l of d){let i=y2e();i.text=l||EE;let a=a2e(o,i).style("font-size",c).style("font-weight",r).style("font-family",s),n=(a._groups||a)[0][0].getBBox();if(n.width===0&&n.height===0)throw new Error("svg element not in render tree");e.width=Math.round(Math.max(e.width,n.width)),t=Math.round(n.height),e.height+=t,e.lineHeight=Math.round(Math.max(e.lineHeight,t))}n.push(e)}o.remove();let u=isNaN(n[1].height)||isNaN(n[1].width)||isNaN(n[1].lineHeight)||n[0].height>n[1].height&&n[0].width>n[1].width&&n[0].lineHeight>n[1].lineHeight?0:1;return n[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),H0e=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{e(this,"InitIDGenerator")}},P0e=e(function(e){return ej=ej||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ej.innerHTML=e,unescape(ej.textContent)},"entityDecode"),e(wE,"isDetailedError"),L0e=e((e,t,n,s)=>{if(!s)return;let o=e.node()?.getBBox();o&&e.append("text").text(s).attr("text-anchor","middle").attr("x",o.x+o.width/2).attr("y",-n).attr("class",t)},"insertTitle"),Ka=e(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize"),e(yo,"cleanAndMerge"),le={assignWithDepth:kt,wrapLabel:VE,calculateTextHeight:rj,calculateTextWidth:vs,calculateTextDimensions:tj,cleanAndMerge:yo,detectInit:N2e,detectDirective:ME,isSubstringInArray:z2e,interpolateToCurve:hE,calcLabelPosition:V2e,calcCardinalityPosition:_2e,calcTerminalLabelPosition:B2e,formatUrl:W2e,getStylesFromArray:bE,generateId:PE,random:HE,runFunc:T2e,entityDecode:P0e,insertTitle:L0e,parseFontSize:Ka,InitIDGenerator:H0e},z0e=e(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/#\w+;/g,function(e){let t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?"ﬂ\xB0\xB0"+t+"\xB6\xDF":"ﬂ\xB0"+t+"\xB6\xDF"}),t},"encodeEntities"),Zo=e(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),M1=e((e,t,{counter:n=0,prefix:s,suffix:o},i)=>i||`${s?`${s}_`:""}${e}_${t}_${n}${o?`_${o}`:""}`,"getEdgeId"),e(hs,"handleUndefinedAttr")});function Fo(e,t,n,s,o){if(!t[e].width)if(n)t[e].text=VE(t[e].text,o,s),t[e].textLines=t[e].text.split(w.lineBreakRegex).length,t[e].width=o,t[e].height=rj(t[e].text,s);else{let n=t[e].text.split(w.lineBreakRegex);t[e].textLines=n.length;let o=0;t[e].height=0,t[e].width=0;for(let i of n)t[e].width=Math.max(vs(i,s),t[e].width),o=rj(i,s),t[e].height=t[e].height+o}}function nk(e,t,n,s,o){let i=new ck(o);i.data.widthLimit=n.data.widthLimit/Math.min(Qb,s.length);for(let[d,a]of s.entries()){let r=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=r,r=a.image.Y+a.image.height);let l=a.wrap&&I.wrap,c=t6(I);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",Fo("label",a,l,c,i.data.widthLimit),a.label.Y=r+8,r=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let e=t6(I);Fo("type",a,l,e,i.data.widthLimit),a.type.Y=r+5,r=a.type.Y+a.type.height}if(a.descr&&a.descr.text!==""){let e=t6(I);e.fontSize=e.fontSize-2,Fo("descr",a,l,e,i.data.widthLimit),a.descr.Y=r+20,r=a.descr.Y+a.descr.height}if(d==0||d%Qb===0){let e=n.data.startx+I.diagramMarginX,t=n.data.stopy+I.diagramMarginY+r;i.setData(e,e,t,t)}else{let e=i.data.stopx!==i.data.startx?i.data.stopx+I.diagramMarginX:i.data.startx,t=i.data.starty;i.setData(e,e,t,t)}i.name=a.alias;let m=o.db.getC4ShapeArray(a.alias),u=o.db.getC4ShapeKeys(a.alias);u.length>0&&fk(i,e,m,u),t=a.alias;let h=o.db.getBoundarys(t);h.length>0&&nk(e,t,i,h,o),a.alias!=="global"&&mk(e,a,i),n.data.stopy=Math.max(i.data.stopy+I.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(i.data.stopx+I.c4ShapeMargin,n.data.stopx),Uf=Math.max(Uf,n.data.stopx),Gf=Math.max(Gf,n.data.stopy)}}k0e=n(()=>{"use strict";he(),Jpe(),x(),EB(),me(),rk(),P(),S1(),se(),Ht(),Uf=0,Gf=0,ik=4,Qb=2,Vf.yy=Gb,I={},ck=class{static{e(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Xb(e.db.getConfig())}setData(e,t,n,s){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=s}updateVal(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,s=t+e.width,n=this.nextData.starty+e.margin*2,o=n+e.height;(t>=this.data.widthLimit||s>=this.data.widthLimit||this.nextData.cnt>ik)&&(t=this.nextData.startx+e.margin+I.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=s=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",s,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",s,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Xb(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},Xb=e(function(e){kt(I,e),e.fontFamily&&(I.personFontFamily=I.systemFontFamily=I.messageFontFamily=e.fontFamily),e.fontSize&&(I.personFontSize=I.systemFontSize=I.messageFontSize=e.fontSize),e.fontWeight&&(I.personFontWeight=I.systemFontWeight=I.messageFontWeight=e.fontWeight)},"setConf"),w1=e((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),t6=e(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),T0e=e(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),e(Fo,"calcC4ShapeTextWH"),mk=e(function(e,t,n){t.x=n.data.startx,t.y=n.data.starty,t.width=n.data.stopx-n.data.startx,t.height=n.data.stopy-n.data.starty,t.label.y=I.c4ShapeMargin-35;let o=t.wrap&&I.wrap,s=t6(I);s.fontSize=s.fontSize+2,s.fontWeight="bold";let i=vs(t.label.text,s);Fo("label",t,o,s,i),ui.drawBoundary(e,t,I)},"drawBoundary"),fk=e(function(e,t,n,s){let o=0;for(let h of s){o=0;let i=n[h],a=w1(I,i.typeC4Shape.text);switch(a.fontSize=a.fontSize-2,i.typeC4Shape.width=vs("\xAB"+i.typeC4Shape.text+"\xBB",a),i.typeC4Shape.height=a.fontSize+2,i.typeC4Shape.Y=I.c4ShapePadding,o=i.typeC4Shape.Y+i.typeC4Shape.height-4,i.image={width:0,height:0,Y:0},i.typeC4Shape.text){case"person":case"external_person":i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height;break}i.sprite&&(i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height);let r=i.wrap&&I.wrap,c=I.width-I.c4ShapePadding*2,l=w1(I,i.typeC4Shape.text);if(l.fontSize=l.fontSize+2,l.fontWeight="bold",Fo("label",i,r,l,c),i.label.Y=o+8,o=i.label.Y+i.label.height,i.type&&i.type.text!==""){i.type.text="["+i.type.text+"]";let e=w1(I,i.typeC4Shape.text);Fo("type",i,r,e,c),i.type.Y=o+5,o=i.type.Y+i.type.height}else if(i.techn&&i.techn.text!==""){i.techn.text="["+i.techn.text+"]";let e=w1(I,i.techn.text);Fo("techn",i,r,e,c),i.techn.Y=o+5,o=i.techn.Y+i.techn.height}let u=o,d=i.label.width;if(i.descr&&i.descr.text!==""){let e=w1(I,i.typeC4Shape.text);Fo("descr",i,r,e,c),i.descr.Y=o+20,o=i.descr.Y+i.descr.height,d=Math.max(i.label.width,i.descr.width),u=o-i.descr.textLines*5}d=d+I.c4ShapePadding,i.width=Math.max(i.width||I.width,d,I.width),i.height=Math.max(i.height||I.height,u,I.height),i.margin=i.margin||I.c4ShapeMargin,e.insert(i),ui.drawC4Shape(t,i,I)}e.bumpLastMargin(I.c4ShapeMargin)},"drawC4ShapeArray"),$s=class{static{e(this,"Point")}constructor(e,t){this.x=e,this.y=t}},gk=e(function(e,t){let n=e.x,s=e.y,i=t.x,a=t.y,c=n+e.width/2,l=s+e.height/2,d=Math.abs(n-i),u=Math.abs(s-a),r=u/d,h=e.height/e.width,o=null;return s==a&&n<i?o=new $s(n+e.width,l):s==a&&n>i?o=new $s(n,l):n==i&&s<a?o=new $s(c,s+e.height):n==i&&s>a&&(o=new $s(c,s)),n>i&&s<a?h>=r?o=new $s(n,l+r*e.width/2):o=new $s(c-d/u*e.height/2,s+e.height):n<i&&s<a?h>=r?o=new $s(n+e.width,l+r*e.width/2):o=new $s(c+d/u*e.height/2,s+e.height):n<i&&s>a?h>=r?o=new $s(n+e.width,l-r*e.width/2):o=new $s(c+e.height/2*d/u,s):n>i&&s>a&&(h>=r?o=new $s(n,l-e.width/2*r):o=new $s(c-e.height/2*d/u,s)),o},"getIntersectPoint"),F0e=e(function(e,t){let n={x:0,y:0};n.x=t.x+t.width/2,n.y=t.y+t.height/2;let s=gk(e,n);n.x=e.x+e.width/2,n.y=e.y+e.height/2;let o=gk(t,n);return{startPoint:s,endPoint:o}},"getIntersectPoints"),M0e=e(function(e,t,n,s){let o=0;for(let e of t){o=o+1;let r=e.wrap&&I.wrap,i=T0e(I);s.db.getC4Type()==="C4Dynamic"&&(e.label.text=o+": "+e.label.text);let a=vs(e.label.text,i);Fo("label",e,r,i,a),e.techn&&e.techn.text!==""&&(a=vs(e.techn.text,i),Fo("techn",e,r,i,a)),e.descr&&e.descr.text!==""&&(a=vs(e.descr.text,i),Fo("descr",e,r,i,a));let l=n(e.from),d=n(e.to),c=F0e(l,d);e.startPoint=c.startPoint,e.endPoint=c.endPoint}ui.drawRels(e,t,I)},"drawRels"),e(nk,"drawInsideBoundary"),S0e=e(function(e,t,n,s){I=u().c4;let c=u().securityLevel,d;c==="sandbox"&&(d=y("#i"+t));let g=y(c==="sandbox"?d.nodes()[0].contentDocument.body:"body"),h=s.db;s.db.setWrap(I.wrap),ik=h.getC4ShapeInRow(),Qb=h.getC4BoundaryInRow(),a.debug(`C:${JSON.stringify(I,null,2)}`);let o=c==="sandbox"?g.select(`[id="${t}"]`):y(`[id="${t}"]`);ui.insertComputerIcon(o),ui.insertDatabaseIcon(o),ui.insertClockIcon(o);let r=new ck(s);r.setData(I.diagramMarginX,I.diagramMarginX,I.diagramMarginY,I.diagramMarginY),r.data.widthLimit=screen.availWidth,Uf=I.diagramMarginX,Gf=I.diagramMarginY;let l=s.db.getTitle(),v=s.db.getBoundarys("");nk(o,"",r,v,s),ui.insertArrowHead(o),ui.insertArrowEnd(o),ui.insertArrowCrossHead(o),ui.insertArrowFilledHead(o),M0e(o,s.db.getRels(),s.db.getC4Shape,s),r.data.stopx=Uf,r.data.stopy=Gf;let i=r.data,m=i.stopy-i.starty+2*I.diagramMarginY,f=i.stopx-i.startx+2*I.diagramMarginX;l&&o.append("text").text(l).attr("x",(i.stopx-i.startx)/2-4*I.diagramMarginX).attr("y",i.starty+I.diagramMarginY),ls(o,m,f,I.useMaxWidth);let p=l?60:0;o.attr("viewBox",i.startx-I.diagramMarginX+" -"+(I.diagramMarginY+p)+" "+f+" "+(m+p)),a.debug("models:",i)},"draw"),yk={drawPersonOrSystemArray:fk,drawBoundary:mk,setConf:Xb,draw:S0e}}),x0e=n(()=>{"use strict";E0e=e(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),C0e=E0e}),Ck={},de(Ck,{diagram:()=>O0e}),j0e=n(()=>{"use strict";EB(),rk(),k0e(),x0e(),O0e={parser:Qqe,db:Gb,renderer:yk,styles:C0e,init:e(({c4:e,wrap:t})=>{yk.setConf(e),Gb.setWrap(t)},"init")}});function Ak(e){return typeof e>"u"||e===null}function f0e(e){return typeof e=="object"&&e!==null}function h0e(e){return Array.isArray(e)?e:Ak(e)?[]:[e]}function u0e(e,t){var n,s,o,i;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)s=o[n],e[s]=t[s];return e}function d0e(e,t){var n,s="";for(n=0;n<t;n+=1)s+=e;return s}function l0e(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function Dk(e,t){var n="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),s+" "+n):s}function t1(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Dk(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}function $b(e,t,n,s,o){var i="",r="",a=Math.floor(o/2)-1;return s-t>a&&(i=" ... ",t=s-a+i.length),n-s>a&&(r=" ...",n=s+a-r.length),{str:i+e.slice(t,n).replace(/\t/g,"→")+r,pos:s-t+i.length}}function Vb(e,t){return Ct.repeat(" ",t-e.length)+e}function r0e(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var c,u=/\r?\n|\r|\0/g,o=[0],a=[],n=-1;c=u.exec(e.buffer);)a.push(c.index),o.push(c.index+c[0].length),e.position<=c.index&&n<0&&(n=o.length-2);n<0&&(n=o.length-1);var s,i,r="",l=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+l+3);for(s=1;s<=t.linesBefore&&!(n-s<0);s++)i=$b(e.buffer,o[n-s],a[n-s],e.position-(o[n]-o[n-s]),d),r=Ct.repeat(" ",t.indent)+Vb((e.line-s+1).toString(),l)+" | "+i.str+`
`+r;for(i=$b(e.buffer,o[n],a[n],e.position,d),r+=Ct.repeat(" ",t.indent)+Vb((e.line+1).toString(),l)+" | "+i.str+`
`,r+=Ct.repeat("-",t.indent+l+3+i.pos)+`^
`,s=1;s<=t.linesAfter&&!(n+s>=a.length);s++)i=$b(e.buffer,o[n+s],a[n+s],e.position-(o[n]-o[n+s]),d),r+=Ct.repeat(" ",t.indent)+Vb((e.line+s+1).toString(),l)+" | "+i.str+`
`;return r.replace(/\n$/,"")}function n0e(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function t0e(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(Ude.indexOf(t)===-1)throw new us('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=n0e(t.styleAliases||null),Ide.indexOf(this.kind)===-1)throw new us('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function Bk(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,s){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=s)}),n[t]=e}),n}function q4e(){var n,s,t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function o(e){e.multi?(t.multi[e.kind].push(e),t.multi.fallback.push(e)):t[e.kind][e.tag]=t.fallback[e.tag]=e}for(e(o,"collectType"),n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return t}function Pb(e){return this.extend(e)}function U4e(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function W4e(){return null}function $4e(e){return e===null}function T4e(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function M4e(e){return e==="true"||e==="True"||e==="TRUE"}function k4e(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function E4e(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function C4e(e){return 48<=e&&e<=55}function O4e(e){return 48<=e&&e<=57}function w4e(e){if(e===null)return!1;var t,o=e.length,n=0,s=!1;if(!o)return!1;if(t=e[n],(t==="-"||t==="+")&&(t=e[++n]),t==="0"){if(n+1===o)return!0;if(t=e[++n],t==="b"){for(n++;n<o;n++)if(t=e[n],t!=="_"){if(t!=="0"&&t!=="1")return!1;s=!0}return s&&t!=="_"}if(t==="x"){for(n++;n<o;n++)if(t=e[n],t!=="_"){if(!E4e(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}if(t==="o"){for(n++;n<o;n++)if(t=e[n],t!=="_"){if(!C4e(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}}if(t==="_")return!1;for(;n<o;n++)if(t=e[n],t!=="_"){if(!O4e(e.charCodeAt(n)))return!1;s=!0}return!!s&&t!=="_"}function _4e(e){var n,t=e,s=1;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(s=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return s*parseInt(t.slice(2),2);if(t[1]==="x")return s*parseInt(t.slice(2),16);if(t[1]==="o")return s*parseInt(t.slice(2),8)}return s*parseInt(t,10)}function y4e(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ct.isNegativeZero(e)}function j4e(e){return!(e===null||!Ade.test(e)||e[e.length-1]==="_")}function f4e(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}function m4e(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ct.isNegativeZero(e))return"-0.0";return n=e.toString(10),Ode.test(n)?n.replace("e",".e"):n}function h4e(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ct.isNegativeZero(e))}function d4e(e){return e!==null&&(oM.exec(e)!==null||iM.exec(e)!==null)}function c4e(e){var t,o,i,a,r,c,l,d,u,h,n=0,s=null;if(t=oM.exec(e),t===null&&(t=iM.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],a=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,a,r));if(c=+t[4],l=+t[5],d=+t[6],t[7]){for(n=t[7].slice(0,3);n.length<3;)n+="0";n=+n}return t[9]&&(u=+t[10],h=+(t[11]||0),s=(u*60+h)*6e4,t[9]==="-"&&(s=-s)),o=new Date(Date.UTC(i,a,r,c,l,d,n)),s&&o.setTime(o.getTime()-s),o}function r4e(e){return e.toISOString()}function a4e(e){return e==="<<"||e===null}function s4e(e){if(e===null)return!1;var t,n,s=0,o=e.length,i=O9;for(t=0;t<o;t++)if(n=i.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;s+=6}return s%8===0}function e4e(e){var s,o,i=e.replace(/[\r\n=]/g,""),a=i.length,r=O9,t=0,n=[];for(s=0;s<a;s++)s%4===0&&s&&(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)),t=t<<6|r.indexOf(i.charAt(s));return o=a%4*6,o===0?(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)):o===18?(n.push(t>>10&255),n.push(t>>2&255)):o===12&&n.push(t>>4&255),new Uint8Array(n)}function J1e(e){var o,i,t="",s=0,a=e.length,n=O9;for(o=0;o<a;o++)o%3===0&&o&&(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]),s=(s<<8)+e[o];return i=a%3,i===0?(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]):i===2?(t+=n[s>>10&63],t+=n[s>>4&63],t+=n[s<<2&63],t+=n[64]):i===1&&(t+=n[s>>2&63],t+=n[s<<4&63],t+=n[64],t+=n[64]),t}function Q1e(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function X1e(e){if(e===null)return!0;var t,n,s,o,a,i=[],r=e;for(t=0,a=r.length;t<a;t+=1){if(n=r[t],o=!1,ude.call(n)!=="[object Object]")return!1;for(s in n)if(hde.call(n,s))if(o)return!1;else o=!0;if(!o)return!1;if(i.indexOf(s)===-1)i.push(s);else return!1}return!0}function G1e(e){return e!==null?e:[]}function V1e(e){if(e===null)return!0;var t,n,s,i,a,o=e;for(a=new Array(o.length),t=0,i=o.length;t<i;t+=1){if(n=o[t],ade.call(n)!=="[object Object]"||(s=Object.keys(n),s.length!==1))return!1;a[t]=[s[0],n[s[0]]]}return!0}function H1e(e){if(e===null)return[];var t,n,s,o,a,i=e;for(o=new Array(i.length),t=0,a=i.length;t<a;t+=1)n=i[t],s=Object.keys(n),o[t]=[s[0],n[s[0]]];return o}function P1e(e){if(e===null)return!0;var t,n=e;for(t in n)if(sde.call(n,t)&&n[t]!==null)return!1;return!0}function z1e(e){return e!==null?e:{}}function yA(e){return Object.prototype.toString.call(e)}function Vo(e){return e===10||e===13}function el(e){return e===9||e===32}function Qn(e){return e===9||e===32||e===10||e===13}function cu(e){return e===44||e===91||e===93||e===123||e===125}function F1e(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function M1e(e){return e===120?2:e===117?4:e===85?8:0}function S1e(e){return 48<=e&&e<=57?e-48:-1}function AA(e){return e===48?"\0":e===97?"":e===98?"":e===116||e===9?"	":e===110?`
`:e===118?"":e===102?"":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?" ":e===80?" ":""}function A1e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function k1e(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||vM,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function FA(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Yde(n),new us(t,n)}function G(e,t){throw FA(e,t)}function xf(e,t){e.onWarning&&e.onWarning.call(null,FA(e,t))}function tr(e,t,n,s){var o,i,a,r;if(t<n){if(o=e.input.slice(t,n),s)for(i=0,r=o.length;i<r;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||G(e,"expected valid JSON character");else ede.test(o)&&G(e,"the stream contains non-printable characters");e.result+=o}}function NA(e,t,n,s){var o,i,a,r;for(Ct.isObject(n)||G(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),i=0,r=a.length;i<r;i+=1)o=a[i],cr.call(t,o)||(t[o]=n[o],s[o]=!0)}function Hd(e,t,n,s,o,i,a,r,c){var l,d;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),l=0,d=o.length;l<d;l+=1)Array.isArray(o[l])&&G(e,"nested arrays are not supported inside keys"),typeof o=="object"&&yA(o[l])==="[object Object]"&&(o[l]="[object Object]");if(typeof o=="object"&&yA(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,d=i.length;l<d;l+=1)NA(e,t,i[l],n);else NA(e,t,i,n);else!e.json&&!cr.call(n,o)&&cr.call(t,o)&&(e.line=a||e.line,e.lineStart=r||e.lineStart,e.position=c||e.position,G(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function J9(e){var t=e.input.charCodeAt(e.position);t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):G(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function xt(e,t,n){for(var o=0,s=e.input.charCodeAt(e.position);s!==0;){for(;el(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0)if(Vo(s))for(J9(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return n!==-1&&o!==0&&e.lineIndent<n&&xf(e,"deficient indentation"),o}function nf(e){var t,n=e.position;return t=e.input.charCodeAt(n),!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||Qn(t)))}function Q9(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ct.repeat(`
`,t-1))}function E1e(e,t,n){var s,o,i,a,r,c,l,d,u,h=e.kind,m=e.result;if(s=e.input.charCodeAt(e.position),Qn(s)||cu(s)||s===35||s===38||s===42||s===33||s===124||s===62||s===39||s===34||s===37||s===64||s===96||(s===63||s===45)&&(o=e.input.charCodeAt(e.position+1),Qn(o)||n&&cu(o)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,r=!1;s!==0;){if(s===58){if(o=e.input.charCodeAt(e.position+1),Qn(o)||n&&cu(o))break}else if(s===35){if(l=e.input.charCodeAt(e.position-1),Qn(l))break}else{if(e.position===e.lineStart&&nf(e)||n&&cu(s))break;if(Vo(s))if(c=e.line,d=e.lineStart,u=e.lineIndent,xt(e,!1,-1),e.lineIndent>=t){r=!0,s=e.input.charCodeAt(e.position);continue}else{e.position=i,e.line=c,e.lineStart=d,e.lineIndent=u;break}}r&&(tr(e,a,i,!1),Q9(e,e.line-c),a=i=e.position,r=!1),el(s)||(i=e.position+1),s=e.input.charCodeAt(++e.position)}return tr(e,a,i,!1),!!e.result||(e.kind=h,e.result=m,!1)}function b1e(e,t){var n,s,o;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,s=o=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(tr(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)s=e.position,e.position++,o=e.position;else return!0;else Vo(n)?(tr(e,s,o,!0),Q9(e,xt(e,!1,t)),s=o=e.position):e.position===e.lineStart&&nf(e)?G(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);G(e,"unexpected end of the stream within a single quoted scalar")}function v1e(e,t){var n,s,o,i,a,r;if(n=e.input.charCodeAt(e.position),n!==34)return!1;for(e.kind="scalar",e.result="",e.position++,s=o=e.position;(n=e.input.charCodeAt(e.position))!==0;){if(n===34)return tr(e,s,e.position,!0),e.position++,!0;if(n===92){if(tr(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),Vo(n))xt(e,!1,t);else if(n<256&&FM[n])e.result+=TM[n],e.position++;else if((a=M1e(n))>0){for(r=a,i=0;r>0;r--)n=e.input.charCodeAt(++e.position),(a=F1e(n))>=0?i=(i<<4)+a:G(e,"expected hexadecimal character");e.result+=A1e(i),e.position++}else G(e,"unknown escape sequence");s=o=e.position}else Vo(n)?(tr(e,s,o,!0),Q9(e,xt(e,!1,t)),s=o=e.position):e.position===e.lineStart&&nf(e)?G(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}G(e,"unexpected end of the stream within a double quoted scalar")}function g1e(e,t){var n,s,o,i,a,r,c,l,d,u,h,m,g,f=!0,b=e.tag,v=e.anchor,p=Object.create(null);if(n=e.input.charCodeAt(e.position),n===91)h=93,l=!1,s=[];else if(n===123)h=125,l=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(++e.position);n!==0;){if(xt(e,!0,t),n=e.input.charCodeAt(e.position),n===h)return e.position++,e.tag=b,e.anchor=v,e.kind=l?"mapping":"sequence",e.result=s,!0;f?n===44&&G(e,"expected the node content, but found ','"):G(e,"missed comma between flow collection entries"),r=o=a=null,i=m=!1,n===63&&(g=e.input.charCodeAt(e.position+1),Qn(g)&&(i=m=!0,e.position++,xt(e,!0,t))),c=e.line,u=e.lineStart,d=e.position,Md(e,t,Hm,!1,!0),r=e.tag,o=e.result,xt(e,!0,t),n=e.input.charCodeAt(e.position),(m||e.line===c)&&n===58&&(i=!0,n=e.input.charCodeAt(++e.position),xt(e,!0,t),Md(e,t,Hm,!1,!0),a=e.result),l?Hd(e,s,p,r,o,a,c,u,d):i?s.push(Hd(e,null,p,r,o,a,c,u,d)):s.push(o),xt(e,!0,t),n=e.input.charCodeAt(e.position),n===44?(f=!0,n=e.input.charCodeAt(++e.position)):f=!1}G(e,"unexpected end of the stream within a flow collection")}function p1e(e,t){var n,c,d,u,r=j9,o=!1,i=!1,a=t,s=0,l=!1;if(n=e.input.charCodeAt(e.position),n===124)c=!1;else if(n===62)c=!0;else return!1;for(e.kind="scalar",e.result="";n!==0;)if(n=e.input.charCodeAt(++e.position),n===43||n===45)j9===r?r=n===43?CM:tde:G(e,"repeat of a chomping mode identifier");else if((d=S1e(n))>=0)d===0?G(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):i?G(e,"repeat of an indentation width identifier"):(a=t+d-1,i=!0);else break;if(el(n)){do n=e.input.charCodeAt(++e.position);while(el(n))if(n===35)do n=e.input.charCodeAt(++e.position);while(!Vo(n)&&n!==0)}for(;n!==0;){for(J9(e),e.lineIndent=0,n=e.input.charCodeAt(e.position);(!i||e.lineIndent<a)&&n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);if(!i&&e.lineIndent>a&&(a=e.lineIndent),Vo(n)){s++;continue}if(e.lineIndent<a){r===CM?e.result+=Ct.repeat(`
`,o?1+s:s):r===j9&&o&&(e.result+=`
`);break}for(c?el(n)?(l=!0,e.result+=Ct.repeat(`
`,o?1+s:s)):l?(l=!1,e.result+=Ct.repeat(`
`,s+1)):s===0?o&&(e.result+=" "):e.result+=Ct.repeat(`
`,s):e.result+=Ct.repeat(`
`,o?1+s:s),o=!0,i=!0,s=0,u=e.position;!Vo(n)&&n!==0;)n=e.input.charCodeAt(++e.position);tr(e,u,e.position,!1)}return!0}function KA(e,t){var n,o,i,r=e.tag,c=e.anchor,s=[],a=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);n!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,G(e,"tab characters must not be used in indentation")),n===45&&!(i=e.input.charCodeAt(e.position+1),!Qn(i)));){if(a=!0,e.position++,xt(e,!0,-1)&&e.lineIndent<=t){s.push(null),n=e.input.charCodeAt(e.position);continue}if(o=e.line,Md(e,t,_M,!1,!0),s.push(e.result),xt(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===o||e.lineIndent>t)&&n!==0)G(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return!!a&&(e.tag=r,e.anchor=c,e.kind="sequence",e.result=s,!0)}function f1e(e,t,n){var s,c,l,d,f,p,b,g=e.tag,v=e.anchor,r={},m=Object.create(null),a=null,i=null,h=null,o=!1,u=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),s=e.input.charCodeAt(e.position);s!==0;){if(!o&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,G(e,"tab characters must not be used in indentation")),b=e.input.charCodeAt(e.position+1),f=e.line,(s===63||s===58)&&Qn(b))s===63?(o&&(Hd(e,r,m,a,i,null,d,l,c),a=i=h=null),u=!0,o=!0,p=!0):o?(o=!1,p=!0):G(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=b;else{if(d=e.line,l=e.lineStart,c=e.position,!Md(e,n,yM,!1,!0))break;if(e.line===f){for(s=e.input.charCodeAt(e.position);el(s);)s=e.input.charCodeAt(++e.position);if(s===58)s=e.input.charCodeAt(++e.position),Qn(s)||G(e,"a whitespace character is expected after the key-value separator within a block mapping"),o&&(Hd(e,r,m,a,i,null,d,l,c),a=i=h=null),u=!0,o=!1,p=!1,a=e.tag,i=e.result;else if(u)G(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=g,e.anchor=v,!0}else if(u)G(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=g,e.anchor=v,!0}if((e.line===f||e.lineIndent>t)&&(o&&(d=e.line,l=e.lineStart,c=e.position),Md(e,t,Pm,!0,p)&&(o?i=e.result:h=e.result),o||(Hd(e,r,m,a,i,h,d,l,c),a=i=h=null),xt(e,!0,-1),s=e.input.charCodeAt(e.position)),(e.line===f||e.lineIndent>t)&&s!==0)G(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return o&&Hd(e,r,m,a,i,null,d,l,c),u&&(e.tag=g,e.anchor=v,e.kind="mapping",e.result=r),u}function m1e(e){var t,n,s,o,i=!1,a=!1;if(t=e.input.charCodeAt(e.position),t!==33)return!1;if(e.tag!==null&&G(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(i=!0,t=e.input.charCodeAt(++e.position)):t===33?(a=!0,s="!!",t=e.input.charCodeAt(++e.position)):s="!",o=e.position,i){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62)e.position<e.length?(n=e.input.slice(o,e.position),t=e.input.charCodeAt(++e.position)):G(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!Qn(t);)t===33&&(a?G(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(o-1,e.position+1),SM.test(s)||G(e,"named tag handle cannot contain such characters"),a=!0,o=e.position+1)),t=e.input.charCodeAt(++e.position);n=e.input.slice(o,e.position),Zle.test(n)&&G(e,"tag suffix cannot contain flow indicator characters")}n&&!MM.test(n)&&G(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{G(e,"tag name is malformed: "+n)}return i?e.tag=n:cr.call(e.tagMap,s)?e.tag=e.tagMap[s]+n:s==="!"?e.tag="!"+n:s==="!!"?e.tag="tag:yaml.org,2002:"+n:G(e,'undeclared tag handle "'+s+'"'),!0}function h1e(e){var t,n;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&G(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!Qn(t)&&!cu(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&G(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function d1e(e){var t,n,s;if(t=e.input.charCodeAt(e.position),t!==42)return!1;for(t=e.input.charCodeAt(++e.position),s=e.position;t!==0&&!Qn(t)&&!cu(t);)t=e.input.charCodeAt(++e.position);return e.position===s&&G(e,"name of an alias node must contain at least one character"),n=e.input.slice(s,e.position),cr.call(e.anchorMap,n)||G(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],xt(e,!0,-1),!0}function Md(e,t,n,s,o){var i,r,c,l,u,h,m,p,g,a=1,f=!1,d=!1;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,p=g=l=Pm===n||_M===n,s&&xt(e,!0,-1)&&(f=!0,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)),a===1)for(;m1e(e)||h1e(e);)xt(e,!0,-1)?(f=!0,l=p,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)):l=!1;if(l&&(l=f||o),(a===1||Pm===n)&&(Hm===n||yM===n?c=t:c=t+1,m=e.position-e.lineStart,a===1?l&&(KA(e,m)||f1e(e,m,c))||g1e(e,c)?d=!0:(g&&p1e(e,c)||b1e(e,c)||v1e(e,c)?d=!0:d1e(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&G(e,"alias node should not have any properties")):E1e(e,c,Hm===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(d=l&&KA(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&G(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),r=0,h=e.implicitTypes.length;r<h;r+=1)if(i=e.implicitTypes[r],i.resolve(e.result)){e.result=i.construct(e.result),e.tag=i.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(cr.call(e.typeMap[e.kind||"fallback"],e.tag))i=e.typeMap[e.kind||"fallback"][e.tag];else for(i=null,u=e.typeMap.multi[e.kind||"fallback"],r=0,h=u.length;r<h;r+=1)if(e.tag.slice(0,u[r].tag.length)===u[r].tag){i=u[r];break}i||G(e,"unknown tag !<"+e.tag+">"),e.result!==null&&i.kind!==e.kind&&G(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+i.kind+'", not "'+e.kind+'"'),i.resolve(e.result,e.tag)?(e.result=i.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):G(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Xue(e){var t,n,s,o,a=e.position,i=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0&&(xt(e,!0,-1),t=e.input.charCodeAt(e.position),!(e.lineIndent>0||t!==37));){for(i=!0,t=e.input.charCodeAt(++e.position),s=e.position;t!==0&&!Qn(t);)t=e.input.charCodeAt(++e.position);for(n=e.input.slice(s,e.position),o=[],n.length<1&&G(e,"directive name must not be less than one character in length");t!==0;){for(;el(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!Vo(t))break}if(Vo(t))break;for(s=e.position;t!==0&&!Qn(t);)t=e.input.charCodeAt(++e.position);o.push(e.input.slice(s,e.position))}t!==0&&J9(e),cr.call(DM,n)?DM[n](e,n,o):xf(e,'unknown document directive "'+n+'"')}if(xt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,xt(e,!0,-1)):i&&G(e,"directives end mark is expected"),Md(e,e.lineIndent-1,Pm,!1,!0),xt(e,!0,-1),e.checkLineBreaks&&Jle.test(e.input.slice(a,e.position))&&xf(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&nf(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,xt(e,!0,-1));return}if(e.position<e.length-1)G(e,"end of the stream or a document separator is expected");else return}function JA(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new k1e(e,t),s=e.indexOf("\0");for(s!==-1&&(n.position=s,G(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Xue(n);return n.documents}function Vue(e,t,n){if(t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null),s=JA(e,n),typeof t!="function")return s;for(var s,o=0,i=s.length;o<i;o+=1)t(s[o])}function Pue(e,t){var n=JA(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new us("expected a single document in the stream, but found more")}}function Rue(e,t){var n,s,o,i,a,r,c;if(t===null)return{};for(a={},r=Object.keys(t),o=0,c=r.length;o<c;o+=1)n=r[o],s=String(t[n]),n.slice(0,2)==="!!"&&(n="tag:yaml.org,2002:"+n.slice(2)),i=e.compiledTypeMap.fallback[n],i&&HM.call(i.styleAliases,s)&&(s=i.styleAliases[s]),a[n]=s;return a}function Nue(e){var t,n,s;if(s=e.toString(16).toUpperCase(),e<=255)t="x",n=2;else if(e<=65535)t="u",n=4;else if(e<=4294967295)t="U",n=8;else throw new us("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Ct.repeat("0",n-s.length)+s}function Fue(e){this.schema=e.schema||vM,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ct.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Rue(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?B4:Ele,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function iS(e,t){for(var s,r=Ct.repeat(" ",t),n=0,o=-1,i="",a=e.length;n<a;)o=e.indexOf(`
`,n),o===-1?(s=e.slice(n),n=a):(s=e.slice(n,o+1),n=o+1),s.length&&s!==`
`&&(i+=r),i+=s;return i}function G9(e,t){return`
`+Ct.repeat(" ",e.indent*t)}function Mue(e,t){var n,s,o;for(n=0,s=e.implicitTypes.length;n<s;n+=1)if(o=e.implicitTypes[n],o.resolve(t))return!0;return!1}function B8(e){return e===Kle||e===Gle}function a4(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==v9||65536<=e&&e<=1114111}function dS(e){return a4(e)&&e!==v9&&e!==Yle&&e!==M4}function uS(e,t,n){var s=dS(e),o=s&&!B8(e);return(n?s:s&&e!==ZM&&e!==iF&&e!==aF&&e!==cF&&e!==dF)&&e!==g9&&!(t===Em&&!o)||dS(t)&&!B8(t)&&e===g9||t===Em&&o}function Sue(e){return a4(e)&&e!==v9&&!B8(e)&&e!==Ple&&e!==Nle&&e!==Em&&e!==ZM&&e!==iF&&e!==aF&&e!==cF&&e!==dF&&e!==g9&&e!==Ble&&e!==Hle&&e!==Ule&&e!==Tle&&e!==Rle&&e!==Lle&&e!==Ile&&e!==$le&&e!==Vle&&e!==Dle&&e!==zle}function Aue(e){return!B8(e)&&e!==Em}function r4(e,t){var s,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function pS(e){var t=/^\n* /;return t.test(e)}function kue(e,t,n,s,o,i,a,r){var c,l=0,m=null,f=!1,d=!1,p=s!==-1,u=-1,h=Sue(r4(e,0))&&Aue(r4(e,e.length-1));if(t||a)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=r4(e,c),!a4(l))return Cl;h=h&&uS(l,m,r),m=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=r4(e,c),l===M4)f=!0,p&&(d=d||c-u-1>s&&e[u+1]!==" ",u=c);else if(!a4(l))return Cl;h=h&&uS(l,m,r),m=l}d=d||p&&c-u-1>s&&e[u+1]!==" "}return!f&&!d?h&&!a&&!o(e)?gF:i===B4?Cl:l9:n>9&&pS(e)?Cl:a?i===B4?Cl:l9:d?jF:bF}function xue(t,n,s,o,i){t.dump=function(){if(n.length===0)return t.quotingType===B4?'""':"''";if(!t.noCompatMode&&(Ale.indexOf(n)!==-1||kle.test(n)))return t.quotingType===B4?'"'+n+'"':"'"+n+"'";var a=t.indent*Math.max(1,s),r=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),l=o||t.flowLevel>-1&&s>=t.flowLevel;function c(e){return Mue(t,e)}switch(e(c,"testAmbiguity"),kue(n,l,t.indent,r,c,t.quotingType,t.forceQuotes&&!o,i)){case gF:return n;case l9:return"'"+n.replace(/'/g,"''")+"'";case bF:return"|"+bS(n,t.indent)+jS(iS(n,a));case jF:return">"+bS(n,t.indent)+jS(iS(Oue(n,r),a));case Cl:return'"'+_ue(n)+'"';default:throw new us("impossible error: invalid scalar style")}}()}function bS(e,t){var s=pS(e)?String(t):"",n=e[e.length-1]===`
`,o=n&&(e[e.length-2]===`
`||e===`
`),i=o?"+":n?"":"-";return s+i+`
`}function jS(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Oue(e,t){for(var n,s,o,c,i=/(\n+)([^\n]*)/g,a=function(){var n=e.indexOf(`
`);return n=n!==-1?n:e.length,i.lastIndex=n,_S(e.slice(0,n),t)}(),r=e[0]===`
`||e[0]===" ";o=i.exec(e);)c=o[1],n=o[2],s=n[0]===" ",a+=c+(!r&&!s&&n!==""?`
`:"")+_S(n,t),r=s;return a}function _S(e,t){if(e===""||e[0]===" ")return e;for(var a,r,c=/ [^ ]/g,n=0,s=0,i=0,o="";r=c.exec(e);)i=r.index,i-n>t&&(a=s>n?s:i,o+=`
`+e.slice(n,a),n=a+1),s=i;return o+=`
`,e.length-n>t&&s>n?o+=e.slice(n,s)+`
`+e.slice(s+1):o+=e.slice(n),o.slice(1)}function _ue(e){for(var o,s="",t=0,n=0;n<e.length;t>=65536?n+=2:n++)t=r4(e,n),o=Cn[t],!o&&a4(t)?(s+=e[n],t>=65536&&(s+=e[n+1])):s+=o||Nue(t);return s}function vue(e,t,n){var s,o,a,i="",r=e.tag;for(s=0,a=n.length;s<a;s+=1)o=n[s],e.replacer&&(o=e.replacer.call(n,String(s),o)),(ia(e,t,o,!1,!1)||typeof o>"u"&&ia(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function xS(e,t,n,s){var i,a,r,o="",c=e.tag;for(i=0,r=n.length;i<r;i+=1)a=n[i],e.replacer&&(a=e.replacer.call(n,String(i),a)),(ia(e,t+1,a,!0,!0,!1,!0)||typeof a>"u"&&ia(e,t+1,null,!0,!0,!1,!0))&&((!s||o!=="")&&(o+=G9(e,t)),e.dump&&M4===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=c,e.dump=o||"[]"}function gue(e,t,n){var s,o,i,a,l,r="",d=e.tag,c=Object.keys(n);for(o=0,l=c.length;o<l;o+=1)s="",r!==""&&(s+=", "),e.condenseFlow&&(s+='"'),i=c[o],a=n[i],e.replacer&&(a=e.replacer.call(n,i,a)),ia(e,t,i,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ia(e,t,a,!1,!1)&&(s+=e.dump,r+=s));e.tag=d,e.dump="{"+r+"}"}function pue(e,t,n,s){var o,a,r,c,l,u,d="",h=e.tag,i=Object.keys(n);if(e.sortKeys===!0)i.sort();else if(typeof e.sortKeys=="function")i.sort(e.sortKeys);else if(e.sortKeys)throw new us("sortKeys must be a boolean or a function");for(a=0,u=i.length;a<u;a+=1)o="",(!s||d!=="")&&(o+=G9(e,t)),r=i[a],c=n[r],e.replacer&&(c=e.replacer.call(n,r,c)),ia(e,t+1,r,!0,!0,!0)&&(l=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,l&&(e.dump&&M4===e.dump.charCodeAt(0)?o+="?":o+="? "),o+=e.dump,l&&(o+=G9(e,t)),ia(e,t+1,c,!0,l)&&(e.dump&&M4===e.dump.charCodeAt(0)?o+=":":o+=": ",o+=e.dump,d+=o));e.tag=h,e.dump=d||"{}"}function kS(e,t,n){var s,o,i,a,r,c;for(r=n?e.explicitTypes:e.implicitTypes,i=0,c=r.length;i<c;i+=1)if(s=r[i],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(o=e.styleMap[s.tag]||s.defaultStyle,PM.call(s.represent)==="[object Function]")a=s.represent(t,o);else if(HM.call(s.represent,o))a=s.represent[o](t,o);else throw new us("!<"+s.tag+'> tag resolver accepts not "'+o+'" style');e.dump=a}return!0}return!1}function ia(e,t,n,s,o,i,a){e.tag=null,e.dump=n,kS(e,n,!1)||kS(e,n,!0);var r,c,l,u,d=PM.call(e.dump),h=s;if(s&&(s=e.flowLevel<0||e.flowLevel>t),u=d==="[object Object]"||d==="[object Array]",u&&(r=e.duplicates.indexOf(n),l=r!==-1),(e.tag!==null&&e.tag!=="?"||l||e.indent!==2&&t>0)&&(o=!1),l&&e.usedDuplicates[r])e.dump="*ref_"+r;else{if(u&&l&&!e.usedDuplicates[r]&&(e.usedDuplicates[r]=!0),d==="[object Object]")s&&Object.keys(e.dump).length!==0?(pue(e,t,e.dump,o),l&&(e.dump="&ref_"+r+e.dump)):(gue(e,t,e.dump),l&&(e.dump="&ref_"+r+" "+e.dump));else if(d==="[object Array]")s&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?xS(e,t-1,e.dump,o):xS(e,t,e.dump,o),l&&(e.dump="&ref_"+r+e.dump)):(vue(e,t,e.dump),l&&(e.dump="&ref_"+r+" "+e.dump));else if(d==="[object String]")e.tag!=="?"&&xue(e,e.dump,t,i,h);else{if(d==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new us("unacceptable kind of an object to dump "+d)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function fue(e,t){var n,o,i=[],s=[];for(B9(e,i,s),n=0,o=s.length;n<o;n+=1)t.duplicates.push(i[s[n]]);t.usedDuplicates=new Array(o)}function B9(e,t,n){var s,o,i;if(e!==null&&typeof e=="object")if(s=t.indexOf(e),s!==-1)n.indexOf(s)===-1&&n.push(s);else if(t.push(e),Array.isArray(e))for(s=0,o=e.length;s<o;s+=1)B9(e[s],t,n);else for(i=Object.keys(e),s=0,o=i.length;s<o;s+=1)B9(e[i[s]],t,n)}function mue(e,t){t=t||{};var s,n=new Fue(t);return n.noRefs||fue(e,n),s=e,n.replacer&&(s=n.replacer.call({"":s},"",s)),ia(n,0,s,!0,!0)?n.dump+`
`:""}function I9(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}i9=n(()=>{"use strict";e(Ak,"isNothing"),e(f0e,"isObject"),e(h0e,"toArray"),e(u0e,"extend"),e(d0e,"repeat"),e(l0e,"isNegativeZero"),hue=Ak,uue=f0e,due=h0e,aue=d0e,oue=l0e,Gde=u0e,Ct={isNothing:hue,isObject:uue,toArray:due,repeat:aue,isNegativeZero:oue,extend:Gde},e(Dk,"formatError"),e(t1,"YAMLException$1"),t1.prototype=Object.create(Error.prototype),t1.prototype.constructor=t1,t1.prototype.toString=e(function(e){return this.name+": "+Dk(this,e)},"toString"),us=t1,e($b,"getLine"),e(Vb,"padStart"),e(r0e,"makeSnippet"),Yde=r0e,Ude=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ide=["scalar","sequence","mapping"],e(n0e,"compileStyleAliases"),e(t0e,"Type$1"),fn=t0e,e(Bk,"compileList"),e(q4e,"compileMap"),e(Pb,"Schema$1"),Pb.prototype.extend=e(function(e){var t,s=[],n=[];if(e instanceof fn)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(s=s.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new us("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");return s.forEach(function(e){if(!(e instanceof fn))throw new us("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&e.loadKind!=="scalar")throw new us("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new us("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof fn))throw new us("Specified list of YAML types (or a single Type object) contains a non-Type object.")}),t=Object.create(Pb.prototype),t.implicit=(this.implicit||[]).concat(s),t.explicit=(this.explicit||[]).concat(n),t.compiledImplicit=Bk(t,"implicit"),t.compiledExplicit=Bk(t,"explicit"),t.compiledTypeMap=q4e(t.compiledImplicit,t.compiledExplicit),t},"extend"),Hde=Pb,Rde=new fn("tag:yaml.org,2002:str",{kind:"scalar",construct:e(function(e){return e!==null?e:""},"construct")}),Lde=new fn("tag:yaml.org,2002:seq",{kind:"sequence",construct:e(function(e){return e!==null?e:[]},"construct")}),Dde=new fn("tag:yaml.org,2002:map",{kind:"mapping",construct:e(function(e){return e!==null?e:{}},"construct")}),zde=new Hde({explicit:[Rde,Lde,Dde]}),e(U4e,"resolveYamlNull"),e(W4e,"constructYamlNull"),e($4e,"isNull"),Tde=new fn("tag:yaml.org,2002:null",{kind:"scalar",resolve:U4e,construct:W4e,predicate:$4e,represent:{canonical:e(function(){return"~"},"canonical"),lowercase:e(function(){return"null"},"lowercase"),uppercase:e(function(){return"NULL"},"uppercase"),camelcase:e(function(){return"Null"},"camelcase"),empty:e(function(){return""},"empty")},defaultStyle:"lowercase"}),e(T4e,"resolveYamlBoolean"),e(M4e,"constructYamlBoolean"),e(k4e,"isBoolean"),Fde=new fn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:T4e,construct:M4e,predicate:k4e,represent:{lowercase:e(function(e){return e?"true":"false"},"lowercase"),uppercase:e(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:e(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),e(E4e,"isHexCode"),e(C4e,"isOctCode"),e(O4e,"isDecCode"),e(w4e,"resolveYamlInteger"),e(_4e,"constructYamlInteger"),e(y4e,"isInteger"),Sde=new fn("tag:yaml.org,2002:int",{kind:"scalar",resolve:w4e,construct:_4e,predicate:y4e,represent:{binary:e(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:e(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:e(function(e){return e.toString(10)},"decimal"),hexadecimal:e(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ade=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),e(j4e,"resolveYamlFloat"),e(f4e,"constructYamlFloat"),Ode=/^[-+]?[0-9]+e/,e(m4e,"representYamlFloat"),e(h4e,"isFloat"),wde=new fn("tag:yaml.org,2002:float",{kind:"scalar",resolve:j4e,construct:f4e,predicate:h4e,represent:m4e,defaultStyle:"lowercase"}),nM=zde.extend({implicit:[Tde,Fde,Sde,wde]}),_de=nM,oM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),iM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),e(d4e,"resolveYamlTimestamp"),e(c4e,"constructYamlTimestamp"),e(r4e,"representYamlTimestamp"),yde=new fn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d4e,construct:c4e,instanceOf:Date,represent:r4e}),e(a4e,"resolveYamlMerge"),bde=new fn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:a4e}),O9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,e(s4e,"resolveYamlBinary"),e(e4e,"constructYamlBinary"),e(J1e,"representYamlBinary"),e(Q1e,"isBinary"),gde=new fn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:s4e,construct:e4e,predicate:Q1e,represent:J1e}),hde=Object.prototype.hasOwnProperty,ude=Object.prototype.toString,e(X1e,"resolveYamlOmap"),e(G1e,"constructYamlOmap"),rde=new fn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:X1e,construct:G1e}),ade=Object.prototype.toString,e(V1e,"resolveYamlPairs"),e(H1e,"constructYamlPairs"),ode=new fn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:V1e,construct:H1e}),sde=Object.prototype.hasOwnProperty,e(P1e,"resolveYamlSet"),e(z1e,"constructYamlSet"),nde=new fn("tag:yaml.org,2002:set",{kind:"mapping",resolve:P1e,construct:z1e}),vM=_de.extend({implicit:[yde,bde],explicit:[gde,rde,ode,nde]}),cr=Object.prototype.hasOwnProperty,Hm=1,yM=2,_M=3,Pm=4,j9=1,tde=2,CM=3,ede=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Jle=/[\x85\u2028\u2029]/,Zle=/[,[\]{}]/,SM=/^(?:!|!!|![a-z-]+!)$/i,MM=/^(?:!|[^,[\]{}])(?:%[0-9a-f]{2}|[0-9a-z-#;/?:@&=+$,_.!~*'()[\]])*$/i,e(yA,"_class"),e(Vo,"is_EOL"),e(el,"is_WHITE_SPACE"),e(Qn,"is_WS_OR_EOL"),e(cu,"is_FLOW_INDICATOR"),e(F1e,"fromHexCode"),e(M1e,"escapedHexLen"),e(S1e,"fromDecimalCode"),e(AA,"simpleEscapeSequence"),e(A1e,"charFromCodepoint"),FM=new Array(256),TM=new Array(256);for($l=0;$l<256;$l++)FM[$l]=AA($l)?1:0,TM[$l]=AA($l);e(k1e,"State$1"),e(FA,"generateError"),e(G,"throwError"),e(xf,"throwWarning"),DM={YAML:e(function(e,t,n){var s,o,i;e.version!==null&&G(e,"duplication of %YAML directive"),n.length!==1&&G(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),s===null&&G(e,"ill-formed argument of the YAML directive"),i=parseInt(s[1],10),o=parseInt(s[2],10),i!==1&&G(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&xf(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:e(function(e,t,n){var s,o;n.length!==2&&G(e,"TAG directive accepts exactly two arguments"),o=n[0],s=n[1],SM.test(o)||G(e,"ill-formed tag handle (first argument) of the TAG directive"),cr.call(e.tagMap,o)&&G(e,'there is a previously declared suffix for "'+o+'" tag handle'),MM.test(s)||G(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{G(e,"tag prefix is malformed: "+s)}e.tagMap[o]=s},"handleTagDirective")},e(tr,"captureSegment"),e(NA,"mergeMappings"),e(Hd,"storeMappingPair"),e(J9,"readLineBreak"),e(xt,"skipSeparationSpace"),e(nf,"testDocumentSeparator"),e(Q9,"writeFoldedLines"),e(E1e,"readPlainScalar"),e(b1e,"readSingleQuotedScalar"),e(v1e,"readDoubleQuotedScalar"),e(g1e,"readFlowCollection"),e(p1e,"readBlockScalar"),e(KA,"readBlockSequence"),e(f1e,"readBlockMapping"),e(m1e,"readTagProperty"),e(h1e,"readAnchorProperty"),e(d1e,"readAlias"),e(Md,"composeNode"),e(Xue,"readDocument"),e(JA,"loadDocuments"),e(Vue,"loadAll$1"),e(Pue,"load$1"),Qle=Vue,Xle=Pue,RM={loadAll:Qle,load:Xle},PM=Object.prototype.toString,HM=Object.prototype.hasOwnProperty,v9=65279,Gle=9,M4=10,Yle=13,Kle=32,Ule=33,$le=34,g9=35,Vle=37,Ble=38,Ile=39,Hle=42,ZM=44,Ple=45,Em=58,Rle=61,Lle=62,Nle=63,Dle=64,iF=91,aF=93,zle=96,cF=123,Tle=124,dF=125,Cn={},Cn[0]="\\0",Cn[7]="\\a",Cn[8]="\\b",Cn[9]="\\t",Cn[10]=`\\n`,Cn[11]="\\v",Cn[12]="\\f",Cn[13]="\\r",Cn[27]="\\e",Cn[34]='\\"',Cn[92]="\\\\",Cn[133]="\\N",Cn[160]="\\_",Cn[8232]="\\L",Cn[8233]="\\P",Ale=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],kle=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,e(Rue,"compileStyleMap"),e(Nue,"encodeHex"),Ele=1,B4=2,e(Fue,"State"),e(iS,"indentString"),e(G9,"generateNextLine"),e(Mue,"testImplicitResolving"),e(B8,"isWhitespace"),e(a4,"isPrintable"),e(dS,"isNsCharOrWhitespace"),e(uS,"isPlainSafe"),e(Sue,"isPlainSafeFirst"),e(Aue,"isPlainSafeLast"),e(r4,"codePointAt"),e(pS,"needIndentIndicator"),gF=1,l9=2,bF=3,jF=4,Cl=5,e(kue,"chooseScalarStyle"),e(xue,"writeScalar"),e(bS,"blockHeader"),e(jS,"dropEndingNewline"),e(Oue,"foldString"),e(_S,"foldLine"),e(_ue,"escapeString"),e(vue,"writeFlowSequence"),e(xS,"writeBlockSequence"),e(gue,"writeFlowMapping"),e(pue,"writeBlockMapping"),e(kS,"detectType"),e(ia,"writeNode"),e(fue,"getDuplicateReferences"),e(B9,"inspectNode"),e(mue,"dump$1"),_le=mue,yle={dump:_le},e(I9,"renamed"),c9=nM,r9=RM.load,gZe=RM.loadAll,TZe=yle.dump,zZe=I9("safeLoad","load"),DZe=I9("safeLoadAll","loadAll"),HZe=I9("safeDump","dump")});function s9(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function TF(e){qc=e}function Se(t,n=""){let s=typeof t=="string"?t:t.source,o={replace:e((e,t)=>{let n=typeof t=="string"?t:t.source;return n=n.replace(In.caret,"$1"),s=s.replace(e,n),o},"replace"),getRegex:e(()=>new RegExp(s,n),"getRegex")};return o}function vi(e,t){if(t){if(In.escapeTest.test(e))return e.replace(In.escapeReplace,GT)}else if(In.escapeTestNoEncode.test(e))return e.replace(In.escapeReplaceNoEncode,GT);return e}function NF(e){try{e=encodeURI(e).replace(In.percentDecode,"%")}catch{return null}return e}function LF(e,t){let o=e.replace(In.findPipe,(e,t,n)=>{let s=!1,o=t;for(;--o>=0&&n[o]==="\\";)s=!s;return s?"|":" |"}),n=o.split(In.splitPipe),s=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(In.slashPipe,"|");return n}function Y4(e,t){let s=e.length;if(s===0)return"";let o=0;for(;o<s&&e.charAt(s-o-1)===t;)o++;return e.slice(0,s-o)}function ule(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let s=0;s<e.length;s++)if(e[s]==="\\")s++;else if(e[s]===t[0])n++;else if(e[s]===t[1]&&(n--,n<0))return s;return-1}function HF(e,t,n,s,o){let a=t.href,r=t.title||null,i=e[1].replace(o.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){s.state.inLink=!0;let e={type:"link",raw:n,href:a,title:r,text:i,tokens:s.inlineTokens(i)};return s.state.inLink=!1,e}return{type:"image",raw:n,href:a,title:r,text:i}}function dle(e,t,n){let s=e.match(n.other.indentCodeCompensation);if(s===null)return t;let o=s[1];return t.split(`
`).map(e=>{let t=e.match(n.other.beginningSpace);if(t===null)return e;let[s]=t;return s.length>=o.length?e.slice(o.length):e}).join(`
`)}function Fe(e,t){return Cc.parse(e,t)}Pre=n(()=>{"use strict";e(s9,"_getDefaults"),qc=s9(),e(TF,"changeDefaults"),t0={exec:e(()=>null,"exec")},e(Se,"edit"),In={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e(e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:e(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:e(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:e(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:e(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),"headingBeginRegex"),htmlBeginRegex:e(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},lle=/^(?:[ \t]*(?:\n|$))+/,rle=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ale=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,r0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ile=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Xv=/(?:[*+-]|\d{1,9}[.)])/,QF=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ZF=Se(QF).replace(/bull/g,Xv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sle=Se(QF).replace(/bull/g,Xv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[:\- ]*\n/).getRegex(),Gv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,tle=/^[^\n]+/,qv=/(?!\s*\])(?:\\.|[^[\]\\])+/,Qce=Se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Xce=Se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Xv).getRegex(),nm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Tce=Se(`^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))`,"i").replace("comment",Kv).replace("tag",nm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cT=Se(Gv).replace("hr",r0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences",` {0,3}(?:\`{3,}(?=[^\`\\n]*\\n)|~{3,})[^\\n]*\\n`).replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",`</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)`).replace("tag",nm).getRegex(),Fce=Se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cT).getRegex(),$v={blockquote:Fce,code:rle,def:Qce,fences:ale,heading:ile,hr:r0,html:Tce,lheading:ZF,list:Xce,newline:lle,paragraph:cT,table:t0,text:tle},uT=Se(`^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)`).replace("hr",r0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code",`(?: {4}| {0,3}	)[^\\n]`).replace("fences",` {0,3}(?:\`{3,}(?=[^\`\\n]*\\n)|~{3,})[^\\n]*\\n`).replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",`</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)`).replace("tag",nm).getRegex(),Mce={...$v,lheading:sle,table:uT,paragraph:Se(Gv).replace("hr",r0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",uT).replace("blockquote"," {0,3}>").replace("fences",` {0,3}(?:\`{3,}(?=[^\`\\n]*\\n)|~{3,})[^\\n]*\\n`).replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",`</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)`).replace("tag",nm).getRegex()},Sce={...$v,html:Se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Kv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:t0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(Gv).replace("hr",r0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ZF).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ace=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ece=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,gT=/^( {2,}|\\)\n(?!\s*$)/,Cce=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<![`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Kh=/[\p{P}\p{S}]/u,Lv=/[\s\p{P}\p{S}]/u,yT=/[^\s\p{P}\p{S}]/u,Oce=Se(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Lv).getRegex(),wT=/(?!~)[\p{P}\p{S}]/u,_ce=/(?!~)[\s\p{P}\p{S}]/u,jce=/(?:[^\s\p{P}\p{S}]|~)/u,fce=/\[[^[\]]*?\]\((?:\\.|[^\\()]|\((?:\\.|[^\\()])*\))*\)|`[^`]*?`|<[^<>]*?>/g,ET=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mce=Se(ET,"u").replace(/punct/g,Kh).getRegex(),hce=Se(ET,"u").replace(/punct/g,wT).getRegex(),ST="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cce=Se(ST,"gu").replace(/notPunctSpace/g,yT).replace(/punctSpace/g,Lv).replace(/punct/g,Kh).getRegex(),rce=Se(ST,"gu").replace(/notPunctSpace/g,jce).replace(/punctSpace/g,_ce).replace(/punct/g,wT).getRegex(),ace=Se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,yT).replace(/punctSpace/g,Lv).replace(/punct/g,Kh).getRegex(),ice=Se(/\\(punct)/,"gu").replace(/punct/g,Kh).getRegex(),oce=Se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nce=Se(Kv).replace("(?:-->|$)","-->").getRegex(),ece=Se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nce).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sh=/(?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?/,Qre=Se(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",sh).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),HT=Se(/^!?\[(label)\]\[(ref)\]/).replace("label",sh).replace("ref",qv).getRegex(),IT=Se(/^!?\[(ref)\](?:\[\])?/).replace("ref",qv).getRegex(),Xre=Se("reflink|nolink(?!\\()","g").replace("reflink",HT).replace("nolink",IT).getRegex(),Mv={_backpedal:t0,anyPunctuation:ice,autolink:oce,blockSkip:fce,br:gT,code:Ece,del:t0,emStrongLDelim:mce,emStrongRDelimAst:cce,emStrongRDelimUnd:ace,escape:Ace,link:Qre,nolink:IT,punctuation:Oce,reflink:HT,reflinkSearch:Xre,tag:ece,text:Cce,url:t0},Gre={...Mv,link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",sh).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sh).getRegex()},Av={...Mv,emStrongRDelimAst:rce,emStrongLDelim:hce,url:Se(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@)|[\s\S]*?(?:(?=[\\<![`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+/=?_`{|}~-](?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@)))/},Yre={...Av,br:Se(gT).replace("{2,}","*").getRegex(),text:Se(Av.text).replace("\\b_",`\\b_| {2,}\\n`).replace(/\{2,\}/g,"*").getRegex()},eh={normal:$v,gfm:Mce,pedantic:Sce},W0={normal:Mv,gfm:Av,breaks:Yre,pedantic:Gre},qre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GT=e(e=>qre[e],"getEscapeReplacement"),e(vi,"escape"),e(NF,"cleanUrl"),e(LF,"splitCells"),e(Y4,"rtrim"),e(ule,"findClosingBracket"),e(HF,"outputLink"),e(dle,"indentCodeCompensation"),X3=class{static{e(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||qc}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Y4(e,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=dle(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=Y4(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Y4(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=Y4(t[0],`
`).split(`
`),n="",s="",o=[];for(;e.length>0;){let l=!1,a=[],t;for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))a.push(e[t]),l=!0;else if(l)break;else a.push(e[t]);e=e.slice(t);let r=a.join(`
`),c=r.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${r}`:r,s=s?`${s}
${c}`:c;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,o,!0),this.lexer.state.top=d,e.length===0)break;let i=o.at(-1);if(i?.type==="code")break;if(i?.type==="blockquote"){let t=i,r=t.raw+`
`+e.join(`
`),a=this.blockquote(r);o[o.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,s=s.substring(0,s.length-t.text.length)+a.text;break}if(i?.type==="list"){let a=i,r=a.raw+`
`+e.join(`
`),t=this.list(r);o[o.length-1]=t,n=n.substring(0,n.length-i.raw.length)+t.raw,s=s.substring(0,s.length-a.raw.length)+t.raw,e=r.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim(),i=s.length>1,n={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");let r=this.rules.other.listItemRegex(s),a=!1;for(;e;){let h=!1,l="",i="";if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let c=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),s=e.split(`
`,1)[0],d=!c.trim(),o=0;if(this.options.pedantic?(o=2,i=c.trimStart()):d?o=t[1].length+1:(o=t[2].search(this.rules.other.nonSpaceChar),o=o>4?1:o,i=c.slice(o),o+=t[1].length),d&&this.rules.other.blankLine.test(s)&&(l+=s+`
`,e=e.substring(s.length+1),h=!0),!h){let r=this.rules.other.nextBulletRegex(o),t=this.rules.other.hrRegex(o),n=this.rules.other.fencesBeginRegex(o),a=this.rules.other.headingBeginRegex(o),u=this.rules.other.htmlBeginRegex(o);for(;e;){let m=e.split(`
`,1)[0],h;if(s=m,this.options.pedantic?(s=s.replace(this.rules.other.listReplaceNesting,"  "),h=s):h=s.replace(this.rules.other.tabCharGlobal,"    "),n.test(s)||a.test(s)||u.test(s)||r.test(s)||t.test(s))break;if(h.search(this.rules.other.nonSpaceChar)>=o||!s.trim())i+=`
`+h.slice(o);else{if(d||c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||n.test(c)||a.test(c)||t.test(c))break;i+=`
`+s}!d&&!s.trim()&&(d=!0),l+=m+`
`,e=e.substring(m.length+1),c=h.slice(o)}}n.loose||(a?n.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(a=!0));let u=null,m;this.options.gfm&&(u=this.rules.other.listIsTask.exec(i),u&&(m=u[0]!=="[ ] ",i=i.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:l,task:!!u,checked:m,loose:!1,text:i,tokens:[]}),n.raw+=l}let o=n.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let e=0;e<n.items.length;e++)if(this.lexer.state.top=!1,n.items[e].tokens=this.lexer.blockTokens(n.items[e].text,[]),!n.loose){let t=n.items[e].tokens.filter(e=>e.type==="space"),s=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));n.loose=s}if(n.loose)for(let e=0;e<n.items.length;e++)n.items[e].loose=!0;return n}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let s=LF(n[1]),o=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],t={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===o.length){for(let e of o)this.rules.other.tableAlignRight.test(e)?t.align.push("right"):this.rules.other.tableAlignCenter.test(e)?t.align.push("center"):this.rules.other.tableAlignLeft.test(e)?t.align.push("left"):t.align.push(null);for(let e=0;e<s.length;e++)t.header.push({text:s[e],tokens:this.lexer.inline(s[e]),header:!0,align:t.align[e]});for(let e of i)t.rows.push(LF(e,t.header.length).map((e,n)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:t.align[n]})));return t}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){{if(!this.rules.other.endAngleBracket.test(n))return;let e=Y4(n.slice(0,-1),"\\");if((n.length-e.length)%2===0)return}}else{let e=ule(t[2],"()");if(e>-1){let n=(t[0].indexOf("!")===0?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let e=t[2],s="";if(this.options.pedantic){let t=this.rules.other.pedanticHrefTitle.exec(e);t&&(e=t[1],s=t[3])}else s=t[3]?t[3].slice(1,-1):"";return e=e.trim(),this.rules.other.startAngleBracket.test(e)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?e=e.slice(1):e=e.slice(1,-1)),HF(t,{href:e&&e.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),e=t[s.toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return HF(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let o=[...s[0]].length-1,a,n,i=o,r=0,c=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);(s=c.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(n=[...a].length,s[3]||s[4]){i+=n;continue}if((s[5]||s[6])&&o%3&&!((o+n)%3)){r+=n;continue}if(i-=n,i>0)continue;n=Math.min(n,n+i+r);let u=[...s[0]][0].length,l=e.slice(0,o+s.index+u+n);if(Math.min(o,n)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let d=l.slice(2,-2);return{type:"strong",raw:l,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),s=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&s&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return t[2]==="@"?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if(t[2]==="@")e=t[0],n="mailto:"+e;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0])e=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},Pi=class t{static{e(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qc,this.options.tokenizer=this.options.tokenizer||new X3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:In,block:eh.normal,inline:W0.normal};this.options.pedantic?(t.block=eh.pedantic,t.inline=W0.pedantic):this.options.gfm&&(t.block=eh.gfm,this.options.breaks?t.inline=W0.breaks:t.inline=W0.gfm),this.tokenizer.rules=t}static get rules(){return{block:eh,inline:W0}}static lex(e,n){return new t(n).lex(e)}static lexInline(e,n){return new t(n).inlineTokens(e)}lex(e){e=e.replace(In.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(In.tabCharGlobal,"    ").replace(In.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(n=>!!(s=n.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0)))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let n=t.at(-1);s.raw.length===1&&n!==void 0?n.raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let n=t.at(-1);n?.type==="paragraph"||n?.type==="text"?(n.raw+=`
`+s.raw,n.text+=`
`+s.text,this.inlineQueue.at(-1).src=n.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let n=t.at(-1);n?.type==="paragraph"||n?.type==="text"?(n.raw+=`
`+s.raw,n.text+=`
`+s.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}let o=e;if(this.options.extensions?.startBlock){let t=1/0,s=e.slice(1),n;this.options.extensions.startBlock.forEach(e=>{n=e.call({lexer:this},s),typeof n=="number"&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){let i=t.at(-1);n&&i?.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(s),n=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let n=t.at(-1);n?.type==="text"?(n.raw+=`
`+s.raw,n.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(s);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,s=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,i="";for(;e;){o||(i=""),o=!1;let s;if(this.options.extensions?.inline?.some(n=>!!(s=n.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0)))continue;if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length);let n=t.at(-1);s.type==="text"&&n?.type==="text"?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(s=this.tokenizer.emStrong(e,n,i)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),t.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),t.push(s);continue}let a=e;if(this.options.extensions?.startInline){let t=1/0,s=e.slice(1),n;this.options.extensions.startInline.forEach(e=>{n=e.call({lexer:this},s),typeof n=="number"&&n>=0&&(t=Math.min(t,n))}),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(s=this.tokenizer.inlineText(a)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(i=s.raw.slice(-1)),o=!0;let n=t.at(-1);n?.type==="text"?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},F3=class{static{e(this,"_Renderer")}options;parser;constructor(e){this.options=e||qc}space(){return""}code({text:e,lang:t,escaped:n}){let o=(t||"").match(In.notSpaceStart)?.[0],s=e.replace(In.endingNewline,"")+`
`;return o?'<pre><code class="language-'+vi(o)+'">'+(n?s:vi(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:vi(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(){return`<hr>
`}list(e){let t=e.ordered,n=e.start,s="";for(let t=0;t<e.items.length;t++){let n=e.items[t];s+=this.listitem(n)}let o=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+o+i+`>
`+s+"</"+o+`>
`}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+vi(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let s="",t="";for(let n=0;n<e.header.length;n++)t+=this.tablecell(e.header[n]);s+=this.tablerow({text:t});let n="";for(let s=0;s<e.rows.length;s++){let o=e.rows[s];t="";for(let e=0;e<o.length;e++)t+=this.tablecell(o[e]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+s+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+n+`</${t}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${vi(e,!0)}</code>`}br(){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let o=this.parser.parseInline(n),i=NF(e);if(i===null)return o;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+vi(t)+'"'),s+=">"+o+"</a>",s}image({href:e,title:t,text:n}){let o=NF(e);if(o===null)return vi(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${vi(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:vi(e.text)}},_v=class{static{e(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Ii=class t{static{e(this,"_Parser")}options;renderer;textRenderer;constructor(e){this.options=e||qc,this.options.renderer=this.options.renderer||new F3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _v}static parse(e,n){return new t(n).parse(e)}static parseInline(e,n){return new t(n).parseInline(e)}parse(e,t=!0){let n="";for(let o=0;o<e.length;o++){let i=e[o];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(t!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}let s=i;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let a=s,i=this.renderer.text(a);for(;o+1<e.length&&e[o+1].type==="text";)a=e[++o],i+=`
`+this.renderer.text(a);t?n+=this.renderer.paragraph({type:"paragraph",raw:i,text:i,tokens:[{type:"text",raw:i,text:i,escaped:!0}]}):n+=i;continue}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(e!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}let s=o;switch(s.type){case"escape":{n+=t.text(s);break}case"html":{n+=t.html(s);break}case"link":{n+=t.link(s);break}case"image":{n+=t.image(s);break}case"strong":{n+=t.strong(s);break}case"em":{n+=t.em(s);break}case"codespan":{n+=t.codespan(s);break}case"br":{n+=t.br(s);break}case"del":{n+=t.del(s);break}case"text":{n+=t.text(s);break}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},_3=class{static{e(this,"_Hooks")}options;block;constructor(e){this.options=e||qc}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Pi.lex:Pi.lexInline}provideParser(){return this.block?Ii.parse:Ii.parseInline}},Kre=class{static{e(this,"Marked")}defaults=s9();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Ii;Renderer=F3;TextRenderer=_v;Lexer=Pi;Tokenizer=X3;Hooks=_3;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{let e=s;for(let s of e.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of e.rows)for(let e of s)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=s;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=s;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(s=>{let o=e[s].flat(1/0);n=n.concat(this.walkTokens(o,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){let n=e.renderers[t.name];n?e.renderers[t.name]=function(...s){let e=t.renderer.apply(this,s);return e===!1&&(e=n.apply(this,s)),e}:e.renderers[t.name]=t.renderer}if("tokenizer"in t){if(!t.level||t.level!=="block"&&t.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&(t.level==="block"?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:t.level==="inline"&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),n.extensions=e),t.renderer){let e=this.defaults.renderer||new F3(this.defaults);for(let n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let s=n,o=t.renderer[s],i=e[s];e[s]=(...t)=>{let n=o.apply(e,t);return n===!1&&(n=i.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){let e=this.defaults.tokenizer||new X3(this.defaults);for(let n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let s=n,o=t.tokenizer[s],i=e[s];e[s]=(...t)=>{let n=o.apply(e,t);return n===!1&&(n=i.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){let e=this.defaults.hooks||new _3;for(let n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let s=n,o=t.hooks[s],i=e[s];_3.passThroughHooks.has(n)?e[s]=t=>{if(this.defaults.async)return Promise.resolve(o.call(e,t)).then(t=>i.call(e,t));let n=o.call(e,t);return i.call(e,n)}:e[s]=(...t)=>{let n=o.apply(e,t);return n===!1&&(n=i.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){let e=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(s.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Pi.lex(e,t??this.defaults)}parser(e,t){return Ii.parse(e,t??this.defaults)}parseMarkdown(t){return e((e,n)=>{let i={...n},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let a=s.hooks?s.hooks.provideLexer():t?Pi.lex:Pi.lexInline,r=s.hooks?s.hooks.provideParser():t?Ii.parse:Ii.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(e=>a(e,s)).then(e=>s.hooks?s.hooks.processAllTokens(e):e).then(e=>s.walkTokens?Promise.all(this.walkTokens(e,s.walkTokens)).then(()=>e):e).then(e=>r(e,s)).then(e=>s.hooks?s.hooks.postprocess(e):e).catch(o);try{s.hooks&&(e=s.hooks.preprocess(e));let t=a(e,s);s.hooks&&(t=s.hooks.processAllTokens(t)),s.walkTokens&&this.walkTokens(t,s.walkTokens);let n=r(t,s);return s.hooks&&(n=s.hooks.postprocess(n)),n}catch(e){return o(e)}},"parse")}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let e="<p>An error occurred:</p><pre>"+vi(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}},Cc=new Kre,e(Fe,"marked"),Fe.options=Fe.setOptions=function(e){return Cc.setOptions(e),Fe.defaults=Cc.defaults,TF(Fe.defaults),Fe},Fe.getDefaults=s9,Fe.defaults=qc,Fe.use=function(...e){return Cc.use(...e),Fe.defaults=Cc.defaults,TF(Fe.defaults),Fe},Fe.walkTokens=function(e,t){return Cc.walkTokens(e,t)},Fe.parseInline=Cc.parseInline,Fe.Parser=Ii,Fe.parser=Ii.parse,Fe.Renderer=F3,Fe.TextRenderer=_v,Fe.Lexer=Pi,Fe.lexer=Pi.lex,Fe.Tokenizer=X3,Fe.Hooks=_3,Fe.parse=Fe,IZe=Fe.options,BZe=Fe.setOptions,VZe=Fe.use,$Ze=Fe.walkTokens,UZe=Fe.parseInline,YZe=Ii.parse,XZe=Pi.lex});function Dre(e,{markdownAutoWrap:t}){let s=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=oV(s);return t===!1?n.replace(/ /g,"&nbsp;"):n}function Tre(t,n={}){let a=Dre(t,n),r=Fe.lexer(a),s=[[]],o=0;function i(e,t="normal"){e.type==="text"?e.text.split(`
`).forEach((e,n)=>{n!==0&&(o++,s.push([])),e.split(" ").forEach(e=>{e=e.replace(/&#39;/g,"'"),e&&s[o].push({content:e,type:t})})}):e.type==="strong"||e.type==="em"?e.tokens.forEach(t=>{i(t,e.type)}):e.type==="html"&&s[o].push({content:e.text,type:"normal"})}return e(i,"processNode"),r.forEach(e=>{e.type==="paragraph"?e.tokens?.forEach(e=>{i(e)}):e.type==="html"&&s[o].push({content:e.text,type:"normal"})}),s}function Mre(t,{markdownAutoWrap:n}={}){let o=Fe.lexer(t);function s(e){return e.type==="text"?n===!1?e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):e.text.replace(/\n */g,"<br/>"):e.type==="strong"?`<strong>${e.tokens?.map(s).join("")}</strong>`:e.type==="em"?`<em>${e.tokens?.map(s).join("")}</em>`:e.type==="paragraph"?`<p>${e.tokens?.map(s).join("")}</p>`:e.type==="space"?"":e.type==="html"?`${e.text}`:e.type==="escape"?e.text:`Unsupported markdown: ${e.type}`}return e(s,"output"),o.map(s).join("")}Are=n(()=>{"use strict";Pre(),KB(),e(Dre,"preprocessMarkdown"),e(Tre,"markdownToLines"),e(Mre,"markdownToHTML")});function kre(e){return Intl.Segmenter?[...(new Intl.Segmenter).segment(e)].map(e=>e.segment):[...e]}function Ere(e,t){let n=kre(t.content);return bz(e,[],n,t.type)}function bz(e,t,n,s){if(n.length===0)return[{content:t.join(""),type:s},{content:"",type:s}];let[o,...a]=n,i=[...t,o];return e([{content:i.join(""),type:s}])?bz(e,i,a,s):(t.length===0&&o&&(t.push(o),n.shift()),[{content:t.join(""),type:s},{content:n.join(""),type:s}])}function Cre(e,t){if(e.some(({content:e})=>e.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return mv(e,t)}function mv(e,t,n=[],s=[]){if(e.length===0)return s.length>0&&n.push(s),n.length>0?n:[];let a="";e[0].content===" "&&(a=" ",e.shift());let o=e.shift()??{content:" ",type:"normal"},i=[...s];if(a!==""&&i.push({content:a,type:"normal"}),i.push(o),t(i))return mv(e,t,n,i);if(s.length>0)n.push(s),e.unshift(o);else if(o.content){let[i,s]=Ere(t,o);n.push([i]),s.content&&e.unshift(s)}return mv(e,t,n)}xre=n(()=>{"use strict";e(kre,"splitTextToChars"),e(Ere,"splitWordToFitWidth"),e(bz,"splitWordToFitWidthRecursion"),e(Cre,"splitLineToFitWidth"),e(mv,"splitLineToFitWidthRecursion")});function wz(e,t){t&&e.attr("style",t)}async function Ore(e,t,n,s,o=!1){let a=e.append("foreignObject");a.attr("width",`${10*n}px`),a.attr("height",`${10*n}px`);let i=a.append("xhtml:div"),c=t.label;t.label&&_n(t.label)&&(c=await z1(t.label.replace(w.lineBreakRegex,`
`),u()));let d=t.isNode?"nodeLabel":"edgeLabel",r=i.append("span");r.html(c),wz(r,t.labelStyle),r.attr("class",`${d} ${s}`),wz(i,t.labelStyle),i.style("display","table-cell"),i.style("white-space","nowrap"),i.style("line-height","1.5"),i.style("max-width",n+"px"),i.style("text-align","center"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),o&&i.attr("class","labelBkg");let l=i.node().getBoundingClientRect();return l.width===n&&(i.style("display","table"),i.style("white-space","break-spaces"),i.style("width",n+"px"),l=i.node().getBoundingClientRect()),a.node()}function lv(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function wre(e,t,n){let s=e.append("text"),o=lv(s,1,t);av(o,n);let i=o.node().getComputedTextLength();return s.remove(),i}function _re(e,t,n){let s=e.append("text"),o=lv(s,1,t);av(o,[{content:n,type:"normal"}]);let i=o.node()?.getBoundingClientRect();return i&&s.remove(),i}function yre(t,n,s,o=!1){let i=n.append("g"),c=i.insert("rect").attr("class","background").attr("style","stroke: none"),a=i.append("text").attr("y","-10.1"),r=0;for(let n of s){let o=e(e=>wre(i,1.1,e)<=t,"checkWidth"),c=o(n)?[n]:Cre(n,o);for(let e of c){let t=lv(a,r,1.1);av(t,e),r++}}if(o){let e=a.node().getBBox(),t=2;return c.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t),i.node()}return a.node()}function av(e,t){e.text(""),t.forEach((t,n)=>{let s=e.append("tspan").attr("font-style",t.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");n===0?s.text(t.content):s.text(" "+t.content)})}function Sz(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}Rs=n(()=>{"use strict";P(),me(),he(),x(),Are(),se(),xre(),e(wz,"applyStyle"),e(Ore,"addHtmlSpan"),e(lv,"createTspan"),e(wre,"computeWidthOfText"),e(_re,"computeDimensionOfText"),e(yre,"createFormattedText"),e(av,"updateTextContentAndStyles"),e(Sz,"replaceIconSubstring"),ms=e(async(e,t="",{style:n="",isTitle:s=!1,classes:o="",useHtmlLabels:i=!0,isNode:r=!0,width:c=200,addSvgBackground:l=!1}={},d)=>{if(a.debug("XYZ createText",t,n,s,o,i,r,"addSvgBackground: ",l),i){let s=Mre(t,d),i=Sz(Zo(s)),a=t.replace(/\\\\/g,"\\"),u={isNode:r,label:_n(t)?a:i,labelStyle:n.replace("fill:","color:")};return await Ore(e,u,c,o,l)}let h=t.replace(/<br\s*\/?>/g,"<br/>"),m=Tre(h.replace("<br>","<br/>"),d),u=yre(c,e,m,!!t&&l);if(r){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");y(u).attr("style",e)}else{let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");y(u).select("rect").attr("style",e.replace(/background:/g,"fill:"));let t=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");y(u).select("text").attr("style",t)}return u},"createText")});function we(e){let t=e.map((e,t)=>`${t===0?"M":"L"}${e.x},${e.y}`);return t.push("Z"),t.join(" ")}function Jr(e,t,n,s,o,i){let a=[],r=n-e,c=s-t,l=r/i,d=2*Math.PI/l,u=t+c/2;for(let t=0;t<=50;t++){let s=t/50,n=e+s*r,i=u+o*Math.sin(d*(n-e));a.push({x:n,y:i})}return a}function Dz(e,t,n,s,o,i){let a=[],r=o*Math.PI/180,c=(i*Math.PI/180-r)/(s-1);for(let o=0;o<s;o++){let i=r+o*c,l=e+n*Math.cos(i),d=t+n*Math.sin(i);a.push({x:-l,y:-d})}return a}N=n(()=>{"use strict";Rs(),P(),he(),bs(),me(),se(),ce=e(async(t,n,s)=>{let r,c=n.useHtmlLabels||Pe(u()?.htmlLabels);s?r=s:r="node default";let d=t.insert("g").attr("class",r).attr("id",n.domId||n.id),i=d.insert("g").attr("class","label").attr("style",hs(n.labelStyle)),a;n.label===void 0?a="":a=typeof n.label=="string"?n.label:n.label[0];let l=await ms(i,Ie(Zo(a),u()),{useHtmlLabels:c,width:n.width||u().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img}),o=l.getBBox(),h=(n?.padding??0)/2;if(c){let t=l.children[0],n=y(l),s=t.getElementsByTagName("img");if(s){let t=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...s].map(n=>new Promise(s=>{function o(){if(n.style.display="flex",n.style.flexDirection="column",t){let t=u().fontSize?u().fontSize:window.getComputedStyle(document.body).fontSize,s=5,[o=ye.fontSize]=Ka(t),e=o*s+"px";n.style.minWidth=e,n.style.maxWidth=e}else n.style.width="100%";s(n)}e(o,"setupImage"),setTimeout(()=>{n.complete&&o()}),n.addEventListener("error",o),n.addEventListener("load",o)})))}o=t.getBoundingClientRect(),n.attr("width",o.width),n.attr("height",o.height)}return c?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:d,bbox:o,halfPadding:h,label:i}},"labelHelper"),ov=e(async(e,t,n)=>{let a=n.useHtmlLabels||Pe(u()?.flowchart?.htmlLabels),o=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),i=await ms(o,Ie(Zo(t),u()),{useHtmlLabels:a,width:n.width||u()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img}),s=i.getBBox(),r=n.padding/2;if(Pe(u()?.flowchart?.htmlLabels)){let t=i.children[0],e=y(i);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}return a?o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):o.attr("transform","translate(0, "+-s.height/2+")"),n.centerLabel&&o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:r,label:o}},"insertLabel"),B=e((e,t)=>{let n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),ne=e((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses"),e(we,"createPathFromPoints"),e(Jr,"generateFullSineWavePoints"),e(Dz,"generateCirclePoints")});function fre(e,t){return e.intersect(t)}hre=n(()=>{"use strict";e(fre,"intersectNode"),mre=fre});function dre(e,t,n,s){var o,i=e.x,a=e.y,r=i-s.x,c=a-s.y,d=Math.sqrt(t*t*c*c+n*n*r*r),l=Math.abs(t*n*r/d);return s.x<i&&(l=-l),o=Math.abs(t*n*c/d),s.y<a&&(o=-o),{x:i+l,y:a+o}}Uz=n(()=>{"use strict";e(dre,"intersectEllipse"),Wz=dre});function lre(e,t,n){return Wz(e,t,t,n)}rre=n(()=>{"use strict";Uz(),e(lre,"intersectCircle"),cre=lre});function ire(e,t,n,s){var o,i,a,r,c,l,d,u,h,m,f,p,g,v,b;if(u=t.y-e.y,r=e.x-t.x,l=t.x*e.y-e.x*t.y,p=u*n.x+r*n.y+l,f=u*s.x+r*s.y+l,!(p!==0&&f!==0&&Xz(p,f))&&(a=s.y-n.y,c=n.x-s.x,d=s.x*n.y-n.x*s.y,m=a*e.x+c*e.y+d,g=a*t.x+c*t.y+d,!(m!==0&&g!==0&&Xz(m,g))&&(i=u*c-a*r,i!==0)))return h=Math.abs(i/2),o=r*d-c*l,v=o<0?(o-h)/i:(o+h)/i,o=a*l-u*d,b=o<0?(o-h)/i:(o+h)/i,{x:v,y:b}}function Xz(e,t){return e*t>0}ere=n(()=>{"use strict";e(ire,"intersectLine"),e(Xz,"sameSign"),ore=ire});function Jae(e,t,n){let c=e.x,l=e.y,s=[],o=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(e){o=Math.min(o,e.x),i=Math.min(i,e.y)}):(o=Math.min(o,t.x),i=Math.min(i,t.y));let a=c-e.width/2-o,r=l-e.height/2-i;for(let o=0;o<t.length;o++){let i=t[o],c=t[o<t.length-1?o+1:0],l=ore(e,n,{x:a+i.x,y:r+i.y},{x:a+c.x,y:r+c.y});l&&s.push(l)}return s.length?(s.length>1&&s.sort(function(e,t){let s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),s[0]):e}Qae=n(()=>{"use strict";ere(),e(Jae,"intersectPolygon"),Zae=Jae}),oD=n(()=>{"use strict";Xae=e((e,t)=>{var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}},"intersectRect"),ud=Xae}),q=n(()=>{"use strict";hre(),rre(),Uz(),Qae(),oD(),L={node:mre,circle:cre,ellipse:Wz,polygon:Zae,rect:ud}}),$=n(()=>{"use strict";P(),Gae=e(e=>{let{handDrawnSeed:t}=u();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),vd=e(e=>{let t=qae([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),qae=e(e=>{let t=new Map;return e.forEach(e=>{let[n,s]=e.split(":");t.set(n.trim(),s?.trim())}),t},"styles2Map"),dD=e(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),U=e(e=>{let{stylesArray:t}=vd(e),n=[],s=[],o=[],i=[];return t.forEach(e=>{let t=e[0];dD(t)?n.push(e.join(":")+" !important"):(s.push(e.join(":")+" !important"),t.includes("stroke")&&o.push(e.join(":")+" !important"),t==="fill"&&i.push(e.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:s.join(";"),stylesArray:t,borderStyles:o,backgroundStyles:i}},"styles2String"),H=e((e,t)=>{let{themeVariables:s,handDrawnSeed:o}=u(),{nodeBorder:i,mainBkg:a}=s,{stylesMap:n}=vd(e);return Object.assign({roughness:.7,fill:n.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:n.get("stroke")||i,seed:o,strokeWidth:n.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides")});function K7(e,t,n){if(e&&e.length){let[s,o]=t,i=Math.PI/180*n,a=Math.cos(i),r=Math.sin(i);for(let t of e){let[n,i]=t;t[0]=(n-s)*a-(i-o)*r+s,t[1]=(n-s)*r+(i-o)*a+o}}}function Kae(e,t){return e[0]===t[0]&&e[1]===t[1]}function Uae(e,t,n,s=1){let o=n,c=Math.max(t,.1),i=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,a=[0,0];if(o)for(let e of i)K7(e,a,o);let r=function(e,t,n){let r=[];for(let n of e){let t=[...n];Kae(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t.length>2&&r.push(t)}let a=[];t=Math.max(t,.1);let o=[];for(let e of r)for(let s=0;s<e.length-1;s++){let t=e[s],n=e[s+1];if(t[1]!==n[1]){let e=Math.min(t[1],n[1]);o.push({ymin:e,ymax:Math.max(t[1],n[1]),x:e===t[1]?t[0]:n[0],islope:(n[0]-t[0])/(n[1]-t[1])})}}if(o.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!o.length)return a;let s=[],i=o[0].ymin,c=0;for(;s.length||o.length;){if(o.length){let e=-1;for(let t=0;t<o.length&&!(o[t].ymin>i);t++)e=t;o.splice(0,e+1).forEach(e=>{s.push({s:i,edge:e})})}if(s=s.filter(e=>!(e.edge.ymax<=i)),s.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(n!==1||c%t==0)&&s.length>1)for(let e=0;e<s.length;e+=2){let t=e+1;if(t>=s.length)break;let n=s[e].edge,o=s[t].edge;a.push([[Math.round(n.x),i],[Math.round(o.x),i]])}i+=n,s.forEach(e=>{e.edge.x=e.edge.x+n*e.edge.islope}),c++}return a}(i,c,s);if(o){for(let e of i)K7(e,a,-o);(function(e,t,n){let s=[];e.forEach(e=>s.push(...e)),K7(s,t,n)})(r,a,-o)}return r}function w2(e,t){var s;let i=t.hachureAngle+90,n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let o=1;return t.roughness>=1&&(((s=t.randomizer)===null||s===void 0?void 0:s.next())||Math.random())>.7&&(o=n),Uae(e,n,i,o||1)}function $2(e){let t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function W7(e,t){return e.type===t}function $7(e){let i=[],o=function(e){let t=new Array;for(;e!=="";)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:zae,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:v7,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:uN,text:""},t}(e),t="BOD",s=0,n=o[s];for(;!W7(n,uN);){let a=0,r=[];if(t==="BOD"){if(n.text!=="M"&&n.text!=="m")return $7("M0,0"+e);s++,a=O3[n.text],t=n.text}else W7(n,v7)?a=O3[t]:(s++,a=O3[n.text],t=n.text);if(!(s+a<o.length))throw new Error("Path data ended short");for(let e=s;e<s+a;e++){let n=o[e];if(!W7(n,v7))throw new Error("Param not a number: "+t+","+n.text);r[r.length]=+n.text}if(typeof O3[t]!="number")throw new Error("Bad segment: "+t);{let e={key:t,data:r};i.push(e),s+=a,n=o[s],t==="M"&&(t="L"),t==="m"&&(t="l")}}return i}function _D(e){let t=0,n=0,o=0,i=0,s=[];for(let{key:r,data:a}of e)switch(r){case"M":s.push({key:"M",data:[...a]}),[t,n]=a,[o,i]=a;break;case"m":t+=a[0],n+=a[1],s.push({key:"M",data:[t,n]}),o=t,i=n;break;case"L":s.push({key:"L",data:[...a]}),[t,n]=a;break;case"l":t+=a[0],n+=a[1],s.push({key:"L",data:[t,n]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],n=a[5];break;case"c":{let e=a.map((e,s)=>s%2?e+n:e+t);s.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],n=a[3];break;case"q":{let e=a.map((e,s)=>s%2?e+n:e+t);s.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],n=a[6];break;case"a":t+=a[5],n+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,n]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],n=a[3];break;case"s":{let e=a.map((e,s)=>s%2?e+n:e+t);s.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],n=a[1];break;case"t":t+=a[0],n+=a[1],s.push({key:"T",data:[t,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=o,n=i}return s}function wD(e){let s=[],a="",t=0,n=0,r=0,c=0,o=0,i=0;for(let{key:d,data:l}of e){switch(d){case"M":s.push({key:"M",data:[...l]}),[t,n]=l,[r,c]=l;break;case"C":s.push({key:"C",data:[...l]}),t=l[4],n=l[5],o=l[2],i=l[3];break;case"L":s.push({key:"L",data:[...l]}),[t,n]=l;break;case"H":t=l[0],s.push({key:"L",data:[t,n]});break;case"V":n=l[0],s.push({key:"L",data:[t,n]});break;case"S":{let e=0,r=0;a==="C"||a==="S"?(e=t+(t-o),r=n+(n-i)):(e=t,r=n),s.push({key:"C",data:[e,r,...l]}),o=l[0],i=l[1],t=l[2],n=l[3];break}case"T":{let[c,d]=l,e=0,r=0;a==="Q"||a==="T"?(e=t+(t-o),r=n+(n-i)):(e=t,r=n);let u=t+2*(e-t)/3,h=n+2*(r-n)/3,m=c+2*(e-c)/3,f=d+2*(r-d)/3;s.push({key:"C",data:[u,h,m,f,c,d]}),o=e,i=r,t=c,n=d;break}case"Q":{let[r,c,e,a]=l,d=t+2*(r-t)/3,u=n+2*(c-n)/3,h=e+2*(r-e)/3,m=a+2*(c-a)/3;s.push({key:"C",data:[d,u,h,m,e,a]}),o=r,i=c,t=e,n=a;break}case"A":{let i=Math.abs(l[0]),a=Math.abs(l[1]),r=l[2],c=l[3],d=l[4],e=l[5],o=l[6];i===0||a===0?(s.push({key:"C",data:[t,n,e,o,e,o]}),t=e,n=o):(t!==e||n!==o)&&(xD(t,n,e,o,i,a,r,c,d).forEach(function(e){s.push({key:"C",data:e})}),t=e,n=o);break}case"Z":s.push({key:"Z",data:[]}),t=r,n=c}a=d}return s}function g2(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function xD(e,t,n,s,o,i,a,r,c,l){let g=(w=a,Math.PI*w/180);var w;let h=[],u=0,d=0,f=0,p=0;if(l)[u,d,f,p]=l;else{[e,t]=g2(e,t,-g),[n,s]=g2(n,s,-g);let a=(e-n)/2,l=(t-s)/2,h=a*a/(o*o)+l*l/(i*i);h>1&&(h=Math.sqrt(h),o*=h,i*=h);let m=o*o,v=i*i,j=m*v-m*l*l-v*a*a,y=m*l*l+v*a*a,b=(r===c?-1:1)*Math.sqrt(Math.abs(j/y));f=b*o*l/i+(e+n)/2,p=b*-i*a/o+(t+s)/2,u=Math.asin(parseFloat(((t-p)/i).toFixed(9))),d=Math.asin(parseFloat(((s-p)/i).toFixed(9))),e<f&&(u=Math.PI-u),n<f&&(d=Math.PI-d),u<0&&(u=2*Math.PI+u),d<0&&(d=2*Math.PI+d),c&&u>d&&(u-=2*Math.PI),!c&&d>u&&(d-=2*Math.PI)}let v=d-u;if(Math.abs(v)>120*Math.PI/180){let e=d,t=n,r=s;d=c&&d>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,h=xD(n=f+o*Math.cos(d),s=p+i*Math.sin(d),t,r,o,i,a,0,c,[d,e,f,p])}v=d-u;let A=Math.cos(u),C=Math.sin(u),E=Math.cos(d),k=Math.sin(d),b=Math.tan(v/4),j=4/3*o*b,y=4/3*i*b,_=[e,t],m=[e+j*C,t-y*A],O=[n+j*k,s-y*E],x=[n,s];if(m[0]=2*_[0]-m[0],m[1]=2*_[1]-m[1],l)return[m,O,x].concat(h);{h=[m,O,x].concat(h);let e=[];for(let t=0;t<h.length;t+=3){let n=g2(h[t][0],h[t][1],g),s=g2(h[t+1][0],h[t+1][1],g),o=g2(h[t+2][0],h[t+2][1],g);e.push([n[0],n[1],s[0],s[1],o[0],o[1]])}return e}}function CD(e,t,n,s,o){return{type:"path",ops:Ja(e,t,n,s,o)}}function q2(e,t,n){let s=(e||[]).length;if(s>2){let o=[];for(let t=0;t<s-1;t++)o.push(...Ja(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&o.push(...Ja(e[s-1][0],e[s-1][1],e[0][0],e[0][1],n)),{type:"path",ops:o}}return s===2?CD(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function Wae(e,t,n,s,o){return function(e,t){return q2(e,!0,t)}([[e,t],[e+n,t],[e+n,t+s],[e,t+s]],o)}function AD(e,t){if(e.length){let n=typeof e[0][0]=="number"?[e]:e,s=c3(n[0],1*(1+.2*t.roughness),t),o=t.disableMultiStroke?[]:c3(n[0],1.5*(1+.22*t.roughness),ND(t));for(let e=1;e<n.length;e++){let i=n[e];if(i.length){let e=c3(i,1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:c3(i,1.5*(1+.22*t.roughness),ND(t));for(let t of e)t.op!=="move"&&s.push(t);for(let e of n)e.op!=="move"&&o.push(e)}}return{type:"path",ops:s.concat(o)}}return{type:"path",ops:[]}}function SD(e,t,n){let a=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*a)),c=2*Math.PI/r,s=Math.abs(e/2),o=Math.abs(t/2),i=1-n.curveFitting;return s+=te(s*i,n),o+=te(o*i,n),{increment:c,rx:s,ry:o}}function V7(e,t,n,s){let[i,a]=$D(s.increment,e,t,s.rx,s.ry,1,s.increment*a3(.1,a3(.4,1,n),n),n),o=l3(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){let[i]=$D(s.increment,e,t,s.rx,s.ry,1.5,0,n),a=l3(i,null,n);o=o.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function FD(e,t,n,s,o,i,a,r,c){let d=e,u=t,m=Math.abs(n/2),f=Math.abs(s/2);m+=te(.01*m,c),f+=te(.01*f,c);let l=o,h=i;for(;l<0;)l+=2*Math.PI,h+=2*Math.PI;h-l>2*Math.PI&&(l=0,h=2*Math.PI);let v=2*Math.PI/c.curveStepCount,g=Math.min(v/2,(h-l)/2),p=WD(g,d,u,m,f,l,h,1,c);if(!c.disableMultiStroke){let e=WD(g,d,u,m,f,l,h,1.5,c);p.push(...e)}return a&&(r?p.push(...Ja(d,u,d+m*Math.cos(l),u+f*Math.sin(l),c),...Ja(d,u,d+m*Math.cos(h),u+f*Math.sin(h),c)):p.push({op:"lineTo",data:[d,u]},{op:"lineTo",data:[d+m*Math.cos(l),u+f*Math.sin(l)]})),{type:"path",ops:p}}function TD(e,t){let i=wD(_D($7(e))),o=[],s=[0,0],n=[0,0];for(let{key:a,data:e}of i)switch(a){case"M":n=[e[0],e[1]],s=[e[0],e[1]];break;case"L":o.push(...Ja(n[0],n[1],e[0],e[1],t)),n=[e[0],e[1]];break;case"C":{let[a,r,c,l,s,i]=e;o.push(...$ae(a,r,c,l,s,i,n,t)),n=[s,i];break}case"Z":o.push(...Ja(n[0],n[1],s[0],s[1],t)),n=[s[0],s[1]]}return{type:"path",ops:o}}function B7(e,t){let n=[];for(let s of e)if(s.length){let e=t.maxRandomnessOffset||0,o=s.length;if(o>2){n.push({op:"move",data:[s[0][0]+te(e,t),s[0][1]+te(e,t)]});for(let i=1;i<o;i++)n.push({op:"lineTo",data:[s[i][0]+te(e,t),s[i][1]+te(e,t)]})}}return{type:"fillPath",ops:n}}function Dd(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!fs[n])switch(n){case"zigzag":fs[n]||(fs[n]=new Iae(t));break;case"cross-hatch":fs[n]||(fs[n]=new Hae(t));break;case"dots":fs[n]||(fs[n]=new Pae(t));break;case"dashed":fs[n]||(fs[n]=new Rae(t));break;case"zigzag-line":fs[n]||(fs[n]=new Lae(t));break;default:n="hachure",fs[n]||(fs[n]=new _7(t))}return fs[n]}(t,Tae).fillPolygons(e,t)}function ND(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function LD(e){return e.randomizer||(e.randomizer=new Nae(e.seed||0)),e.randomizer.next()}function a3(e,t,n,s=1){return n.roughness*s*(LD(n)*(t-e)+e)}function te(e,t,n=1){return a3(-e,e,t,n)}function Ja(e,t,n,s,o,i=!1){let r=i?o.disableMultiStrokeFill:o.disableMultiStroke,a=D7(e,t,n,s,o,!0,!1);if(r)return a;let c=D7(e,t,n,s,o,!0,!0);return a.concat(c)}function D7(t,n,s,o,i,a,r){let b=Math.pow(t-s,2)+Math.pow(n-o,2),v=Math.sqrt(b),u=1;u=v<200?1:v>500?.4:-.0016668*v+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>b&&(h=v/10);let j=h/2,c=.2+.2*LD(i),m=i.bowing*i.maxRandomnessOffset*(o-n)/200,f=i.bowing*i.maxRandomnessOffset*(t-s)/200;m=te(m,i,u),f=te(f,i,u);let g=[],l=e(()=>te(j,i,u),"M"),p=e(()=>te(h,i,u),"k"),d=i.preserveVertices;return a&&(r?g.push({op:"move",data:[t+(d?0:l()),n+(d?0:l())]}):g.push({op:"move",data:[t+(d?0:te(h,i,u)),n+(d?0:te(h,i,u))]})),r?g.push({op:"bcurveTo",data:[m+t+(s-t)*c+l(),f+n+(o-n)*c+l(),m+t+2*(s-t)*c+l(),f+n+2*(o-n)*c+l(),s+(d?0:l()),o+(d?0:l())]}):g.push({op:"bcurveTo",data:[m+t+(s-t)*c+p(),f+n+(o-n)*c+p(),m+t+2*(s-t)*c+p(),f+n+2*(o-n)*c+p(),s+(d?0:p()),o+(d?0:p())]}),g}function c3(e,t,n){if(!e.length)return[];let s=[];s.push([e[0][0]+te(t,n),e[0][1]+te(t,n)]),s.push([e[0][0]+te(t,n),e[0][1]+te(t,n)]);for(let o=1;o<e.length;o++)s.push([e[o][0]+te(t,n),e[o][1]+te(t,n)]),o===e.length-1&&s.push([e[o][0]+te(t,n),e[o][1]+te(t,n)]);return l3(s,null,n)}function l3(e,t,n){let o=e.length,s=[];if(o>3){{let i=[],a=1-n.curveTightness;s.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<o;t++){let n=e[t];i[0]=[n[0],n[1]],i[1]=[n[0]+(a*e[t+1][0]-a*e[t-1][0])/6,n[1]+(a*e[t+1][1]-a*e[t-1][1])/6],i[2]=[e[t+1][0]+(a*e[t][0]-a*e[t+2][0])/6,e[t+1][1]+(a*e[t][1]-a*e[t+2][1])/6],i[3]=[e[t+1][0],e[t+1][1]],s.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&t.length===2){let e=n.maxRandomnessOffset;s.push({op:"lineTo",data:[t[0]+te(e,n),t[1]+te(e,n)]})}}}else o===3?(s.push({op:"move",data:[e[1][0],e[1][1]]}),s.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):o===2&&s.push(...D7(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return s}function $D(e,t,n,s,o,i,a,r){let l=[],c=[];if(r.roughness===0){e/=4,c.push([t+s*Math.cos(-e),n+o*Math.sin(-e)]);for(let i=0;i<=2*Math.PI;i+=e){let a=[t+s*Math.cos(i),n+o*Math.sin(i)];l.push(a),c.push(a)}c.push([t+s*Math.cos(0),n+o*Math.sin(0)]),c.push([t+s*Math.cos(e),n+o*Math.sin(e)])}else{let d=te(.5,r)-Math.PI/2;c.push([te(i,r)+t+.9*s*Math.cos(d-e),te(i,r)+n+.9*o*Math.sin(d-e)]);let u=2*Math.PI+d-.01;for(let a=d;a<u;a+=e){let h=[te(i,r)+t+s*Math.cos(a),te(i,r)+n+o*Math.sin(a)];l.push(h),c.push(h)}c.push([te(i,r)+t+s*Math.cos(d+2*Math.PI+.5*a),te(i,r)+n+o*Math.sin(d+2*Math.PI+.5*a)]),c.push([te(i,r)+t+.98*s*Math.cos(d+a),te(i,r)+n+.98*o*Math.sin(d+a)]),c.push([te(i,r)+t+.9*s*Math.cos(d+.5*a),te(i,r)+n+.9*o*Math.sin(d+.5*a)])}return[c,l]}function WD(e,t,n,s,o,i,a,r,c){let d=i+te(.1,c),l=[];l.push([te(r,c)+t+.9*s*Math.cos(d-e),te(r,c)+n+.9*o*Math.sin(d-e)]);for(let i=d;i<=a;i+=e)l.push([te(r,c)+t+s*Math.cos(i),te(r,c)+n+o*Math.sin(i)]);return l.push([t+s*Math.cos(a),n+o*Math.sin(a)]),l.push([t+s*Math.cos(a),n+o*Math.sin(a)]),l3(l,null,c)}function $ae(e,t,n,s,o,i,a,r){let l=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3],d=[0,0],h=r.disableMultiStroke?1:2,u=r.preserveVertices;for(let m=0;m<h;m++)m===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(u?0:te(c[0],r)),a[1]+(u?0:te(c[0],r))]}),d=u?[o,i]:[o+te(c[m],r),i+te(c[m],r)],l.push({op:"bcurveTo",data:[e+te(c[m],r),t+te(c[m],r),n+te(c[m],r),s+te(c[m],r),d[0],d[1]]});return l}function a2(e){return[...e]}function qD(e,t=0){let s=e.length;if(s<3)throw new Error("A curve must have at least three points.");let n=[];if(s===3)n.push(a2(e[0]),a2(e[1]),a2(e[2]),a2(e[2]));else{let s=[];s.push(e[0],e[0]);for(let t=1;t<e.length;t++)s.push(e[t]),t===e.length-1&&s.push(e[t]);let i=[],o=1-t;n.push(a2(s[0]));for(let e=1;e+2<s.length;e++){let t=s[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(o*s[e+1][0]-o*s[e-1][0])/6,t[1]+(o*s[e+1][1]-o*s[e-1][1])/6],i[2]=[s[e+1][0]+(o*s[e][0]-o*s[e+2][0])/6,s[e+1][1]+(o*s[e][1]-o*s[e+2][1])/6],i[3]=[s[e+1][0],s[e+1][1]],n.push(i[1],i[2],i[3])}}return n}function g3(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Vae(e,t,n){let o=g3(t,n);if(o===0)return g3(e,t);let s=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/o;return s=Math.max(0,Math.min(1,s)),g3(e,Mc(t,n,s))}function Mc(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function E7(e,t,n,s){let o=s||[];if(function(e,t){let o=e[t+0],c=e[t+1],l=e[t+2],i=e[t+3],n=3*c[0]-2*o[0]-i[0];n*=n;let s=3*c[1]-2*o[1]-i[1];s*=s;let a=3*l[0]-2*i[0]-o[0];a*=a;let r=3*l[1]-2*i[1]-o[1];return r*=r,n<a&&(n=a),s<r&&(s=r),n+s}(e,t)<n){let n=e[t+0];o.length?(i=o[o.length-1],a=n,Math.sqrt(g3(i,a))>1&&o.push(n)):o.push(n),o.push(e[t+3])}else{let s=e[t+0],i=e[t+1],a=e[t+2],r=e[t+3],c=Mc(s,i,.5),l=Mc(i,a,.5),d=Mc(a,r,.5),u=Mc(c,l,.5),h=Mc(l,d,.5),m=Mc(u,h,.5);E7([s,c,u,m],0,n,o),E7([m,h,d,r],0,n,o)}var i,a;return o}function Bae(e,t){return j3(e,0,e.length,t)}function j3(e,t,n,s,o){let i=o||[],c=e[t],l=e[n-1],a=0,r=1;for(let s=t+1;s<n-1;++s){let o=Vae(e[s],c,l);o>a&&(a=o,r=s)}return Math.sqrt(a)>s?(j3(e,t,r+1,s,i),j3(e,r,n,s,i)):(i.length||i.push(c),i.push(l)),i}function O7(e,t=.15,n){let s=[],o=(e.length-1)/3;for(let n=0;n<o;n++)E7(e,3*n,t,s);return n&&n>0?j3(s,0,s.length,n):s}K=n(()=>{"use strict";e(K7,"t"),e(Kae,"e"),e(Uae,"s"),e(w2,"n"),_7=class{static{e(this,"o")}constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let n=w2(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){let n=[];for(let s of e)n.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],t));return n}},e($2,"a"),Iae=class extends _7{static{e(this,"h")}fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let r=w2(e,Object.assign({},t,{hachureGap:n})),s=Math.PI/180*t.hachureAngle,o=[],i=.5*n*Math.cos(s),a=.5*n*Math.sin(s);for(let[e,t]of r)$2([e,t])&&o.push([[e[0]-i,e[1]+a],[...t]],[[e[0]+i,e[1]-a],[...t]]);return{type:"fillSketch",ops:this.renderLines(o,t)}}},Hae=class extends _7{static{e(this,"r")}fillPolygons(e,t){let n=this._fillPolygons(e,t),s=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),o=this._fillPolygons(e,s);return n.ops=n.ops.concat(o.ops),n}},Pae=class{static{e(this,"i")}constructor(e){this.helper=e}fillPolygons(e,t){let n=w2(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){let i=[],n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let s=t.fillWeight;s<0&&(s=t.strokeWidth/2);let o=n/4;for(let a of e){let r=$2(a),l=r/n,c=Math.ceil(l)-1,d=r-c*n,u=(a[0][0]+a[1][0])/2-n/4,h=Math.min(a[0][1],a[1][1]);for(let e=0;e<c;e++){let a=h+d+e*n,r=u-o+2*Math.random()*o,l=a-o+2*Math.random()*o,m=this.helper.ellipse(r,l,s,s,t);i.push(...m.ops)}}return{type:"fillSketch",ops:i}}},Rae=class{static{e(this,"c")}constructor(e){this.helper=e}fillPolygons(e,t){let n=w2(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){let n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,s=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,o=[];return e.forEach(e=>{let l=$2(e),d=Math.floor(l/(n+s)),r=(l+s-d*(n+s))/2,i=e[0],c=e[1];i[0]>c[0]&&(i=e[1],c=e[0]);let a=Math.atan((c[1]-i[1])/(c[0]-i[0]));for(let e=0;e<d;e++){let c=e*(n+s),l=c+n,u=[i[0]+c*Math.cos(a)+r*Math.cos(a),i[1]+c*Math.sin(a)+r*Math.sin(a)],h=[i[0]+l*Math.cos(a)+r*Math.cos(a),i[1]+l*Math.sin(a)+r*Math.sin(a)];o.push(...this.helper.doubleLineOps(u[0],u[1],h[0],h[1],t))}}),o}},Lae=class{static{e(this,"l")}constructor(e){this.helper=e}fillPolygons(e,t){let n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,s=t.zigzagOffset<0?n:t.zigzagOffset,o=w2(e,t=Object.assign({},t,{hachureGap:n+s}));return{type:"fillSketch",ops:this.zigzagLines(o,s,t)}}zigzagLines(e,t,n){let s=[];return e.forEach(e=>{let r=$2(e),c=Math.round(r/(2*t)),o=e[0],a=e[1];o[0]>a[0]&&(o=e[1],a=e[0]);let i=Math.atan((a[1]-o[1])/(a[0]-o[0]));for(let e=0;e<c;e++){let l=2*e*t,d=2*(e+1)*t,u=Math.sqrt(2*Math.pow(t,2)),a=[o[0]+l*Math.cos(i),o[1]+l*Math.sin(i)],h=[o[0]+d*Math.cos(i),o[1]+d*Math.sin(i)],r=[a[0]+u*Math.cos(i+Math.PI/4),a[1]+u*Math.sin(i+Math.PI/4)];s.push(...this.helper.doubleLineOps(a[0],a[1],r[0],r[1],n),...this.helper.doubleLineOps(r[0],r[1],h[0],h[1],n))}}),s}},fs={},Nae=class{static{e(this,"p")}constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},zae=0,v7=1,uN=2,O3={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},e(W7,"k"),e($7,"b"),e(_D,"y"),e(wD,"m"),e(g2,"w"),e(xD,"x"),Tae={randOffset:e(function(e,t){return te(e,t)},"randOffset"),randOffsetWithRange:e(function(e,t,n){return a3(e,t,n)},"randOffsetWithRange"),ellipse:e(function(e,t,n,s,o){let i=SD(n,s,o);return V7(e,t,o,i).opset},"ellipse"),doubleLineOps:e(function(e,t,n,s,o){return Ja(e,t,n,s,o,!0)},"doubleLineOps")},e(CD,"v"),e(q2,"S"),e(Wae,"O"),e(AD,"L"),e(SD,"T"),e(V7,"D"),e(FD,"A"),e(TD,"_"),e(B7,"I"),e(Dd,"C"),e(ND,"z"),e(LD,"W"),e(a3,"E"),e(te,"G"),e(Ja,"$"),e(D7,"R"),e(c3,"j"),e(l3,"q"),e($D,"F"),e(WD,"V"),e($ae,"Z"),e(a2,"Q"),e(qD,"H"),e(g3,"N"),e(Vae,"B"),e(Mc,"J"),e(E7,"K"),e(Bae,"U"),e(j3,"X"),e(O7,"Y"),Ss="none",C3=class{static{e(this,"et")}constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,s,o){let i=this._o(o);return this._d("line",[CD(e,t,n,s,i)],i)}rectangle(e,t,n,s,o){let i=this._o(o),a=[],r=Wae(e,t,n,s,i);if(i.fill){let o=[[e,t],[e+n,t],[e+n,t+s],[e,t+s]];i.fillStyle==="solid"?a.push(B7([o],i)):a.push(Dd([o],i))}return i.stroke!==Ss&&a.push(r),this._d("rectangle",a,i)}ellipse(e,t,n,s,o){let i=this._o(o),a=[],r=SD(n,s,i),c=V7(e,t,i,r);if(i.fill)if(i.fillStyle==="solid"){let n=V7(e,t,i,r).opset;n.type="fillPath",a.push(n)}else a.push(Dd([c.estimatedPoints],i));return i.stroke!==Ss&&a.push(c.opset),this._d("ellipse",a,i)}circle(e,t,n,s){let o=this.ellipse(e,t,n,n,s);return o.shape="circle",o}linearPath(e,t){let n=this._o(t);return this._d("linearPath",[q2(e,!1,n)],n)}arc(e,t,n,s,o,i,a=!1,r){let c=this._o(r),l=[],d=FD(e,t,n,s,o,i,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){let a=Object.assign({},c);a.disableMultiStroke=!0;let r=FD(e,t,n,s,o,i,!0,!1,a);r.type="fillPath",l.push(r)}else l.push(function(e,t,n,s,o,i,a){let h=e,m=t,l=Math.abs(n/2),d=Math.abs(s/2);l+=te(.01*l,a),d+=te(.01*d,a);let c=o,r=i;for(;c<0;)c+=2*Math.PI,r+=2*Math.PI;r-c>2*Math.PI&&(c=0,r=2*Math.PI);let f=(r-c)/a.curveStepCount,u=[];for(let e=c;e<=r;e+=f)u.push([h+l*Math.cos(e),m+d*Math.sin(e)]);return u.push([h+l*Math.cos(r),m+d*Math.sin(r)]),u.push([h,m]),Dd([u],a)}(e,t,n,s,o,i,c));return c.stroke!==Ss&&l.push(d),this._d("arc",l,c)}curve(e,t){let n=this._o(t),s=[],o=AD(e,n);if(n.fill&&n.fill!==Ss)if(n.fillStyle==="solid"){let t=AD(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{let t=[],o=e;if(o.length){let e=typeof o[0][0]=="number"?[o]:o;for(let s of e)s.length<3?t.push(...s):s.length===3?t.push(...O7(qD([s[0],s[0],s[1],s[2]]),10,(1+n.roughness)/2)):t.push(...O7(qD(s),10,(1+n.roughness)/2))}t.length&&s.push(Dd([t],n))}return n.stroke!==Ss&&s.push(o),this._d("curve",s,n)}polygon(e,t){let n=this._o(t),s=[],o=q2(e,!0,n);return n.fill&&(n.fillStyle==="solid"?s.push(B7([e],n)):s.push(Dd([e],n))),n.stroke!==Ss&&s.push(o),this._d("polygon",s,n)}path(t,n){let s=this._o(n),o=[];if(!t)return this._d("path",o,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let r=s.fill&&s.fill!=="transparent"&&s.fill!==Ss,c=s.stroke!==Ss,a=!!(s.simplification&&s.simplification<1),i=function(t,n,s){let u=wD(_D($7(t))),r=[],o=[],a=[0,0],i=[],c=e(()=>{i.length>=4&&o.push(...O7(i,n)),i=[]},"i"),l=e(()=>{c(),o.length&&(r.push(o),o=[])},"c");for(let{key:t,data:e}of u)switch(t){case"M":l(),a=[e[0],e[1]],o.push(a);break;case"L":c(),o.push([e[0],e[1]]);break;case"C":if(!i.length){let e=o.length?o[o.length-1]:a;i.push([e[0],e[1]])}i.push([e[0],e[1]]),i.push([e[2],e[3]]),i.push([e[4],e[5]]);break;case"Z":c(),o.push([a[0],a[1]])}if(l(),!s)return r;let d=[];for(let t of r){let e=Bae(t,s);e.length&&d.push(e)}return d}(t,1,a?4-4*(s.simplification||1):(1+s.roughness)/2),l=TD(t,s);if(r)if(s.fillStyle==="solid")if(i.length===1){let e=TD(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(e.ops)})}else o.push(B7(i,s));else o.push(Dd(i,s));return c&&(a?i.forEach(e=>{o.push(q2(e,!1,s))}):o.push(l)),this._d("path",o,s)}opsToPath(e,t){let n="";for(let o of e.ops){let s=typeof t=="number"&&t>=0?o.data.map(e=>+e.toFixed(t)):o.data;switch(o.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(e){let s=e.sets||[],t=e.options||this.defaultOptions,n=[];for(let o of s){let e=null;switch(o.type){case"path":e={d:this.opsToPath(o),stroke:t.stroke,strokeWidth:t.strokeWidth,fill:Ss};break;case"fillPath":e={d:this.opsToPath(o),stroke:Ss,strokeWidth:0,fill:t.fill||Ss};break;case"fillSketch":e=this.fillSketch(o,t)}e&&n.push(e)}return n}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Ss,strokeWidth:n,fill:Ss}}_mergedShape(e){return e.filter((e,t)=>t===0||e.op!=="move")}},Fae=class{static{e(this,"st")}constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new C3(t)}draw(e){let o=e.sets||[],n=e.options||this.getDefaultOptions(),t=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(let i of o)switch(i.type){case"path":t.save(),t.strokeStyle=n.stroke==="none"?"transparent":n.stroke,t.lineWidth=n.strokeWidth,n.strokeLineDash&&t.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(t.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(t,i,s),t.restore();break;case"fillPath":{t.save(),t.fillStyle=n.fill||"";let o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(t,i,s,o),t.restore();break}case"fillSketch":this.fillSketch(t,i,n)}}fillSketch(e,t,n){let s=n.fillWeight;s<0&&(s=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=s,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,s="nonzero"){e.beginPath();for(let o of t.ops){let s=typeof n=="number"&&n>=0?o.data.map(e=>+e.toFixed(n)):o.data;switch(o.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}t.type==="fillPath"?e.fill(s):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,s,o){let i=this.gen.line(e,t,n,s,o);return this.draw(i),i}rectangle(e,t,n,s,o){let i=this.gen.rectangle(e,t,n,s,o);return this.draw(i),i}ellipse(e,t,n,s,o){let i=this.gen.ellipse(e,t,n,s,o);return this.draw(i),i}circle(e,t,n,s){let o=this.gen.circle(e,t,n,s);return this.draw(o),o}linearPath(e,t){let n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){let n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,s,o,i,a=!1,r){let c=this.gen.arc(e,t,n,s,o,i,a,r);return this.draw(c),c}curve(e,t){let n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){let n=this.gen.path(e,t);return this.draw(n),n}},M3="http://www.w3.org/2000/svg",Mae=class{static{e(this,"ot")}constructor(e,t){this.svg=e,this.gen=new C3(t)}draw(e){let i=e.sets||[],t=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,s=n.createElementNS(M3,"g"),o=e.options.fixedDecimalPlaceDigits;for(let r of i){let a=null;switch(r.type){case"path":a=n.createElementNS(M3,"path"),a.setAttribute("d",this.opsToPath(r,o)),a.setAttribute("stroke",t.stroke),a.setAttribute("stroke-width",t.strokeWidth+""),a.setAttribute("fill","none"),t.strokeLineDash&&a.setAttribute("stroke-dasharray",t.strokeLineDash.join(" ").trim()),t.strokeLineDashOffset&&a.setAttribute("stroke-dashoffset",`${t.strokeLineDashOffset}`);break;case"fillPath":a=n.createElementNS(M3,"path"),a.setAttribute("d",this.opsToPath(r,o)),a.setAttribute("stroke","none"),a.setAttribute("stroke-width","0"),a.setAttribute("fill",t.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||a.setAttribute("fill-rule","evenodd");break;case"fillSketch":a=this.fillSketch(n,r,t)}a&&s.appendChild(a)}return s}fillSketch(e,t,n){let o=n.fillWeight;o<0&&(o=n.strokeWidth/2);let s=e.createElementNS(M3,"path");return s.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",o+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,s,o){let i=this.gen.line(e,t,n,s,o);return this.draw(i)}rectangle(e,t,n,s,o){let i=this.gen.rectangle(e,t,n,s,o);return this.draw(i)}ellipse(e,t,n,s,o){let i=this.gen.ellipse(e,t,n,s,o);return this.draw(i)}circle(e,t,n,s){let o=this.gen.circle(e,t,n,s);return this.draw(o)}linearPath(e,t){let n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){let n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,s,o,i,a=!1,r){let c=this.gen.arc(e,t,n,s,o,i,a,r);return this.draw(c)}curve(e,t){let n=this.gen.curve(e,t);return this.draw(n)}path(e,t){let n=this.gen.path(e,t);return this.draw(n)}},R={canvas:e((e,t)=>new Fae(e,t),"canvas"),svg:e((e,t)=>new Mae(e,t),"svg"),generator:e(e=>new C3(e),"generator"),newSeed:e(()=>C3.newSeed(),"newSeed")}});function Sae(e,t){let{labelStyles:l}=U(t);t.labelStyle=l;let o=ne(t),i=o;o||(i="anchor");let n=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=1,{cssStyles:d}=t,u=R.svg(n),r=H(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(r.roughness=0);let h=u.circle(0,0,s*2,r),c=n.insert(()=>h,":first-child");return c.attr("class","anchor").attr("style",hs(d)),B(t,c),t.intersect=function(e){return a.info("Circle intersect",t,s,e),L.circle(t,s,e)},n}Aae=n(()=>{"use strict";x(),N(),q(),$(),K(),se(),e(Sae,"anchor")});function ON(e,t,n,s,o,i,a){let j=(e+n)/2,y=(t+s)/2,h=Math.atan2(s-t,n-e),p=(n-e)/2,b=(s-t)/2,v=p/o,g=b/i,f=Math.sqrt(v**2+g**2);if(f>1)throw new Error("The given radii are too small to create an arc between the points.");let d=Math.sqrt(1-f**2),l=j+d*i*Math.sin(h)*(a?-1:1),c=y-d*o*Math.cos(h)*(a?-1:1),m=Math.atan2((t-c)/i,(e-l)/o),r=Math.atan2((s-c)/i,(n-l)/o)-m;a&&r<0&&(r+=2*Math.PI),!a&&r>0&&(r-=2*Math.PI);let u=[];for(let e=0;e<20;e++){let n=e/19,t=m+n*r,s=l+o*Math.cos(t),a=c+i*Math.sin(t);u.push({x:s,y:a})}return u}async function kae(e,t){let{labelStyles:f,nodeStyles:h}=U(t);t.labelStyle=f;let{shapeSvg:a,bbox:l}=await ce(e,t,ne(t)),s=l.width+t.padding+20,n=l.height+t.padding,c=n/2,i=c/(2.5+n/50),{cssStyles:d}=t,u=[{x:s/2,y:-n/2},{x:-s/2,y:-n/2},...ON(-s/2,-n/2,-s/2,n/2,i,c,!1),{x:s/2,y:n/2},...ON(s/2,n/2,s/2,-n/2,i,c,!0)],m=R.svg(a),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let p=we(u),g=m.path(p,r),o=a.insert(()=>g,":first-child");return o.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&o.selectAll("path").attr("style",d),h&&t.look!=="handDrawn"&&o.selectAll("path").attr("style",h),o.attr("transform",`translate(${i/2}, 0)`),B(t,o),t.intersect=function(e){return L.polygon(t,u,e)},a}Eae=n(()=>{"use strict";N(),q(),$(),K(),e(ON,"generateArcPoints"),e(kae,"bowTieRect")});function xr(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}Er=n(()=>{"use strict";e(xr,"insertPolygonShape")});async function xae(e,t){let{labelStyles:p,nodeStyles:m}=U(t);t.labelStyle=p;let{shapeSvg:o,bbox:u}=await ce(e,t,ne(t)),c=u.height+t.padding,s=12,r=u.width+t.padding+s,a=0,d=r,i=-c,h=0,l=[{x:a+s,y:i},{x:d,y:i},{x:d,y:h},{x:a,y:h},{x:a,y:i+s},{x:a+s,y:i}],n,{cssStyles:f}=t;if(t.look==="handDrawn"){let e=R.svg(o),s=H(t,{}),i=we(l),a=e.path(i,s);n=o.insert(()=>a,":first-child").attr("transform",`translate(${-r/2}, ${c/2})`),f&&n.attr("style",f)}else n=xr(o,r,c,l);return m&&n.attr("style",m),B(t,n),t.intersect=function(e){return L.polygon(t,l,e)},o}Oae=n(()=>{"use strict";N(),q(),$(),K(),Er(),N(),e(xae,"card")});function _ae(e,t){let{nodeStyles:i}=U(t);t.label="";let s=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,n=Math.max(28,t.width??0),r=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}],l=R.svg(s),o=H(t,{});t.look!=="handDrawn"&&(o.roughness=0,o.fillStyle="solid");let d=we(r),u=l.path(d,o),c=s.insert(()=>u,":first-child");return a&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",i),t.width=28,t.height=28,t.intersect=function(e){return L.polygon(t,r,e)},s}jae=n(()=>{"use strict";q(),K(),$(),N(),e(_ae,"choice")});async function vae(e,t){let{labelStyles:i,nodeStyles:r}=U(t);t.labelStyle=i;let{shapeSvg:n,bbox:c,halfPadding:l}=await ce(e,t,ne(t)),s=c.width/2+l,o,{cssStyles:d}=t;if(t.look==="handDrawn"){let e=R.svg(n),i=H(t,{}),a=e.circle(0,0,s*2,i);o=n.insert(()=>a,":first-child"),o.attr("class","basic label-container").attr("style",hs(d))}else o=n.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",s).attr("cx",0).attr("cy",0);return B(t,o),t.intersect=function(e){return a.info("Circle intersect",t,s,e),L.circle(t,s,e)},n}fae=n(()=>{"use strict";x(),N(),q(),$(),K(),se(),e(vae,"circle")});function mae(e){let n=Math.cos(Math.PI/4),s=Math.sin(Math.PI/4),t=e*2,o={x:t/2*n,y:t/2*s},i={x:-(t/2)*n,y:t/2*s},a={x:-(t/2)*n,y:-(t/2)*s},r={x:t/2*n,y:-(t/2)*s};return`M ${i.x},${i.y} L ${r.x},${r.y}
                   M ${o.x},${o.y} L ${a.x},${a.y}`}function hae(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d,t.label="";let i=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),n=Math.max(30,t?.width??0),{cssStyles:c}=t,l=R.svg(i),s=H(t,{});t.look!=="handDrawn"&&(s.roughness=0,s.fillStyle="solid");let u=l.circle(0,0,n*2,s),h=mae(n),m=l.path(h,s),o=i.insert(()=>u,":first-child");return o.insert(()=>m),c&&t.look!=="handDrawn"&&o.selectAll("path").attr("style",c),r&&t.look!=="handDrawn"&&o.selectAll("path").attr("style",r),B(t,o),t.intersect=function(e){return a.info("crossedCircle intersect",t,{radius:n,point:e}),L.circle(t,n,e)},i}uae=n(()=>{"use strict";x(),N(),$(),K(),q(),e(mae,"createLine"),e(hae,"crossedCircle")});function mr(e,t,n,s=100,o=0,i=180){let a=[],r=o*Math.PI/180,c=(i*Math.PI/180-r)/(s-1);for(let o=0;o<s;o++){let i=r+o*c,l=e+n*Math.cos(i),d=t+n*Math.sin(i);a.push({x:-l,y:-d})}return a}async function dae(e,t){let{labelStyles:m,nodeStyles:h}=U(t);t.labelStyle=m;let{shapeSvg:c,bbox:a,label:p}=await ce(e,t,ne(t)),s=a.width+(t.padding??0),o=a.height+(t.padding??0),n=Math.max(5,o*.1),{cssStyles:l}=t,f=[...mr(s/2,-o/2,n,30,-90,0),{x:-s/2-n,y:n},...mr(s/2+n*2,-n,n,20,-180,-270),...mr(s/2+n*2,n,n,20,-90,-180),{x:-s/2-n,y:-o/2},...mr(s/2,o/2,n,20,0,90)],d=[{x:s/2,y:-o/2-n},{x:-s/2,y:-o/2-n},...mr(s/2,-o/2,n,20,-90,0),{x:-s/2-n,y:-n},...mr(s/2+s*.1,-n,n,20,-180,-270),...mr(s/2+s*.1,n,n,20,-90,-180),{x:-s/2-n,y:o/2},...mr(s/2,o/2,n,20,0,90),{x:-s/2,y:o/2+n},{x:s/2,y:o/2+n}],u=R.svg(c),r=H(t,{fill:"none"});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let g=we(f).replace("Z",""),v=u.path(g,r),b=we(d),j=u.path(b,{...r}),i=c.insert("g",":first-child");return i.insert(()=>j,":first-child").attr("stroke-opacity",0),i.insert(()=>v,":first-child"),i.attr("class","text"),l&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",l),h&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",h),i.attr("transform",`translate(${n}, 0)`),p.attr("transform",`translate(${-s/2+n-(a.x-(a.left??0))},${-o/2+(t.padding??0)/2-(a.y-(a.top??0))})`),B(t,i),t.intersect=function(e){return L.polygon(t,d,e)},c}lae=n(()=>{"use strict";N(),q(),$(),K(),e(mr,"generateCirclePoints"),e(dae,"curlyBraceLeft")});function ur(e,t,n,s=100,o=0,i=180){let a=[],r=o*Math.PI/180,c=(i*Math.PI/180-r)/(s-1);for(let o=0;o<s;o++){let i=r+o*c,l=e+n*Math.cos(i),d=t+n*Math.sin(i);a.push({x:l,y:d})}return a}async function cae(e,t){let{labelStyles:m,nodeStyles:h}=U(t);t.labelStyle=m;let{shapeSvg:c,bbox:a,label:p}=await ce(e,t,ne(t)),s=a.width+(t.padding??0),o=a.height+(t.padding??0),n=Math.max(5,o*.1),{cssStyles:l}=t,f=[...ur(s/2,-o/2,n,20,-90,0),{x:s/2+n,y:-n},...ur(s/2+n*2,-n,n,20,-180,-270),...ur(s/2+n*2,n,n,20,-90,-180),{x:s/2+n,y:o/2},...ur(s/2,o/2,n,20,0,90)],d=[{x:-s/2,y:-o/2-n},{x:s/2,y:-o/2-n},...ur(s/2,-o/2,n,20,-90,0),{x:s/2+n,y:-n},...ur(s/2+n*2,-n,n,20,-180,-270),...ur(s/2+n*2,n,n,20,-90,-180),{x:s/2+n,y:o/2},...ur(s/2,o/2,n,20,0,90),{x:s/2,y:o/2+n},{x:-s/2,y:o/2+n}],u=R.svg(c),r=H(t,{fill:"none"});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let g=we(f).replace("Z",""),v=u.path(g,r),b=we(d),j=u.path(b,{...r}),i=c.insert("g",":first-child");return i.insert(()=>j,":first-child").attr("stroke-opacity",0),i.insert(()=>v,":first-child"),i.attr("class","text"),l&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",l),h&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",h),i.attr("transform",`translate(${-n}, 0)`),p.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-o/2+(t.padding??0)/2-(a.y-(a.top??0))})`),B(t,i),t.intersect=function(e){return L.polygon(t,d,e)},c}rae=n(()=>{"use strict";N(),q(),$(),K(),e(ur,"generateCirclePoints"),e(cae,"curlyBraceRight")});function xn(e,t,n,s=100,o=0,i=180){let a=[],r=o*Math.PI/180,c=(i*Math.PI/180-r)/(s-1);for(let o=0;o<s;o++){let i=r+o*c,l=e+n*Math.cos(i),d=t+n*Math.sin(i);a.push({x:-l,y:-d})}return a}async function aae(e,t){let{labelStyles:f,nodeStyles:u}=U(t);t.labelStyle=f;let{shapeSvg:c,bbox:a,label:w}=await ce(e,t,ne(t)),s=a.width+(t.padding??0),o=a.height+(t.padding??0),n=Math.max(5,o*.1),{cssStyles:h}=t,p=[...xn(s/2,-o/2,n,30,-90,0),{x:-s/2-n,y:n},...xn(s/2+n*2,-n,n,20,-180,-270),...xn(s/2+n*2,n,n,20,-90,-180),{x:-s/2-n,y:-o/2},...xn(s/2,o/2,n,20,0,90)],m=[...xn(-s/2+n+n/2,-o/2,n,20,-90,-180),{x:s/2-n/2,y:n},...xn(-s/2-n/2,-n,n,20,0,90),...xn(-s/2-n/2,n,n,20,-90,0),{x:s/2-n/2,y:-n},...xn(-s/2+n+n/2,o/2,n,30,-180,-270)],d=[{x:s/2,y:-o/2-n},{x:-s/2,y:-o/2-n},...xn(s/2,-o/2,n,20,-90,0),{x:-s/2-n,y:-n},...xn(s/2+n*2,-n,n,20,-180,-270),...xn(s/2+n*2,n,n,20,-90,-180),{x:-s/2-n,y:o/2},...xn(s/2,o/2,n,20,0,90),{x:-s/2,y:o/2+n},{x:s/2-n-n/2,y:o/2+n},...xn(-s/2+n+n/2,-o/2,n,20,-90,-180),{x:s/2-n/2,y:n},...xn(-s/2-n/2,-n,n,20,0,90),...xn(-s/2-n/2,n,n,20,-90,0),{x:s/2-n/2,y:-n},...xn(-s/2+n+n/2,o/2,n,30,-180,-270)],l=R.svg(c),r=H(t,{fill:"none"});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let g=we(p).replace("Z",""),v=l.path(g,r),b=we(m).replace("Z",""),j=l.path(b,r),y=we(d),_=l.path(y,{...r}),i=c.insert("g",":first-child");return i.insert(()=>_,":first-child").attr("stroke-opacity",0),i.insert(()=>v,":first-child"),i.insert(()=>j,":first-child"),i.attr("class","text"),h&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",h),u&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",u),i.attr("transform",`translate(${n-n/4}, 0)`),w.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-o/2+(t.padding??0)/2-(a.y-(a.top??0))})`),B(t,i),t.intersect=function(e){return L.polygon(t,d,e)},c}iae=n(()=>{"use strict";N(),q(),$(),K(),e(xn,"generateCirclePoints"),e(aae,"curlyBraces")});async function oae(e,t){let{labelStyles:b,nodeStyles:f}=U(t);t.labelStyle=b;let{shapeSvg:i,bbox:m}=await ce(e,t,ne(t)),_=80,p=20,c=Math.max(_,(m.width+(t.padding??0)*2)*1.25,t?.width??0),r=Math.max(p,m.height+(t.padding??0)*2,t?.height??0),d=r/2,{cssStyles:u}=t,v=R.svg(i),a=H(t,{});t.look!=="handDrawn"&&(a.roughness=0,a.fillStyle="solid");let g=c,n=r,o=g-d,h=n/4,l=[{x:o,y:0},{x:h,y:0},{x:0,y:n/2},{x:h,y:n},{x:o,y:n},...Dz(-o,-n/2,d,50,270,90)],j=we(l),y=v.path(j,a),s=i.insert(()=>y,":first-child");return s.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&s.selectChildren("path").attr("style",u),f&&t.look!=="handDrawn"&&s.selectChildren("path").attr("style",f),s.attr("transform",`translate(${-c/2}, ${-r/2})`),B(t,s),t.intersect=function(e){return L.polygon(t,l,e)},i}sae=n(()=>{"use strict";N(),q(),$(),K(),e(oae,"curvedTrapezoid")});async function nae(e,t){let{labelStyles:d,nodeStyles:u}=U(t);t.labelStyle=d;let{shapeSvg:r,bbox:s,label:h}=await ce(e,t,ne(t)),a=Math.max(s.width+t.padding,t.width??0),i=a/2,n=i/(2.5+a/50),c=Math.max(s.height+n+t.padding,t.height??0),o,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(r),s=Jie(0,0,a,c,i,n),d=Zie(0,n,a,c,i,n),u=e.path(s,H(t,{})),h=e.path(d,H(t,{fill:"none"}));o=r.insert(()=>h,":first-child"),o=r.insert(()=>u,":first-child"),o.attr("class","basic label-container"),l&&o.attr("style",l)}else{let e=tae(0,0,a,c,i,n);o=r.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",hs(l)).attr("style",u)}return o.attr("label-offset-y",n),o.attr("transform",`translate(${-a/2}, ${-(c/2+n)})`),B(t,o),h.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(e){let s=L.rect(t,e),o=s.x-(t.x??0);if(i!=0&&(Math.abs(o)<(t.width??0)/2||Math.abs(o)==(t.width??0)/2&&Math.abs(s.y-(t.y??0))>(t.height??0)/2-n)){let a=n*n*(1-o*o/(i*i));a>0&&(a=Math.sqrt(a)),a=n-a,e.y-(t.y??0)>0&&(a=-a),s.y+=a}return s},r}Qie=n(()=>{"use strict";N(),q(),$(),K(),se(),tae=e((e,t,n,s,o,i)=>[`M${e},${t+i}`,`a${o},${i} 0,0,0 ${n},0`,`a${o},${i} 0,0,0 ${-n},0`,`l0,${s}`,`a${o},${i} 0,0,0 ${n},0`,`l0,${-s}`].join(" "),"createCylinderPathD"),Jie=e((e,t,n,s,o,i)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${o},${i} 0,0,0 ${-n},0`,`l0,${s}`,`a${o},${i} 0,0,0 ${n},0`,`l0,${-s}`].join(" "),"createOuterCylinderPathD"),Zie=e((e,t,n,s,o,i)=>[`M${e-n/2},${-s/2}`,`a${o},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD"),e(nae,"cylinder")});async function Xie(e,t){let{labelStyles:p,nodeStyles:u}=U(t);t.labelStyle=p;let{shapeSvg:c,bbox:o,label:m}=await ce(e,t,ne(t)),h=o.width+t.padding,l=o.height+t.padding,i=l*.2,s=-h/2,n=-l/2-i/2,{cssStyles:d}=t,f=R.svg(c),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let g=[{x:s,y:n+i},{x:-s,y:n+i},{x:-s,y:-n},{x:s,y:-n},{x:s,y:n},{x:-s,y:n},{x:-s,y:n+i}],v=f.polygon(g.map(e=>[e.x,e.y]),r),a=c.insert(()=>v,":first-child");return a.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",d),u&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",u),m.attr("transform",`translate(${s+(t.padding??0)/2-(o.x-(o.left??0))}, ${n+i+(t.padding??0)/2-(o.y-(o.top??0))})`),B(t,a),t.intersect=function(e){return L.rect(t,e)},c}Gie=n(()=>{"use strict";N(),q(),$(),K(),e(Xie,"dividedRectangle")});async function Yie(e,t){let{labelStyles:d,nodeStyles:i}=U(t);t.labelStyle=d;let{shapeSvg:s,bbox:r,halfPadding:c}=await ce(e,t,ne(t)),o=r.width/2+c+5,l=r.width/2+c,n,{cssStyles:u}=t;if(t.look==="handDrawn"){let e=R.svg(s),i=H(t,{roughness:.2,strokeWidth:2.5}),a=H(t,{roughness:.2,strokeWidth:1.5}),r=e.circle(0,0,o*2,i),c=e.circle(0,0,l*2,a);n=s.insert("g",":first-child"),n.attr("class",hs(t.cssClasses)).attr("style",hs(u)),n.node()?.appendChild(r),n.node()?.appendChild(c)}else{n=s.insert("g",":first-child");let e=n.insert("circle",":first-child"),t=n.insert("circle");n.attr("class","basic label-container").attr("style",i),e.attr("class","outer-circle").attr("style",i).attr("r",o).attr("cx",0).attr("cy",0),t.attr("class","inner-circle").attr("style",i).attr("r",l).attr("cx",0).attr("cy",0)}return B(t,n),t.intersect=function(e){return a.info("DoubleCircle intersect",t,o,e),L.circle(t,o,e)},s}qie=n(()=>{"use strict";x(),N(),q(),$(),K(),se(),e(Yie,"doublecircle")});function Uie(e,t,{config:{themeVariables:n}}){let{labelStyles:d,nodeStyles:c}=U(t);t.label="",t.labelStyle=d;let o=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),i=7,{cssStyles:r}=t,u=R.svg(o),{nodeBorder:h}=n,l=H(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(l.roughness=0);let m=u.circle(0,0,i*2,l),s=o.insert(()=>m,":first-child");return s.selectAll("path").attr("style",`fill: ${h} !important;`),r&&r.length>0&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",r),c&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",c),B(t,s),t.intersect=function(e){return a.info("filledCircle intersect",t,{radius:i,point:e}),L.circle(t,i,e)},o}Wie=n(()=>{"use strict";K(),x(),q(),$(),N(),e(Uie,"filledCircle")});async function $ie(e,t){let{labelStyles:f,nodeStyles:d}=U(t);t.labelStyle=f;let{shapeSvg:r,bbox:n,label:m}=await ce(e,t,ne(t)),i=n.width+(t.padding??0),s=i+n.height,u=i+n.height,o=[{x:0,y:-s},{x:u,y:-s},{x:u/2,y:0}],{cssStyles:h}=t,p=R.svg(r),c=H(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let g=we(o),v=p.path(g,c),l=r.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${s/2})`);return h&&t.look!=="handDrawn"&&l.selectChildren("path").attr("style",h),d&&t.look!=="handDrawn"&&l.selectChildren("path").attr("style",d),t.width=i,t.height=s,B(t,l),m.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-s/2+(t.padding??0)/2+(n.y-(n.top??0))})`),t.intersect=function(e){return a.info("Triangle intersect",t,o,e),L.polygon(t,o,e)},r}Vie=n(()=>{"use strict";x(),N(),q(),$(),K(),N(),e($ie,"flippedTriangle")});function Bie(e,t,{dir:n,config:{state:s,themeVariables:o}}){let{nodeStyles:d}=U(t);t.label="";let i=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:u}=t,a=Math.max(70,t?.width??0),r=Math.max(10,t?.height??0);n==="LR"&&(a=Math.max(10,t?.width??0),r=Math.max(70,t?.height??0));let m=-1*a/2,f=-1*r/2,p=R.svg(i),c=H(t,{stroke:o.lineColor,fill:o.lineColor});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let g=p.rectangle(m,f,a,r,c),l=i.insert(()=>g,":first-child");u&&t.look!=="handDrawn"&&l.selectAll("path").attr("style",u),d&&t.look!=="handDrawn"&&l.selectAll("path").attr("style",d),B(t,l);let h=s?.padding??0;return t.width&&t.height&&(t.width+=h/2||0,t.height+=h/2||0),t.intersect=function(e){return L.rect(t,e)},i}Iie=n(()=>{"use strict";K(),q(),$(),N(),e(Bie,"forkJoin")});async function Hie(e,t){let{labelStyles:m,nodeStyles:h}=U(t);t.labelStyle=m;let p=80,f=50,{shapeSvg:r,bbox:l}=await ce(e,t,ne(t)),n=Math.max(p,l.width+(t.padding??0)*2,t?.width??0),o=Math.max(f,l.height+(t.padding??0)*2,t?.height??0),s=o/2,{cssStyles:d}=t,g=R.svg(r),c=H(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let u=[{x:-n/2,y:-o/2},{x:n/2-s,y:-o/2},...Dz(-n/2+s,0,s,50,90,270),{x:n/2-s,y:o/2},{x:-n/2,y:o/2}],v=we(u),b=g.path(v,c),i=r.insert(()=>b,":first-child");return i.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&i.selectChildren("path").attr("style",d),h&&t.look!=="handDrawn"&&i.selectChildren("path").attr("style",h),B(t,i),t.intersect=function(e){return a.info("Pill intersect",t,{radius:s,point:e}),L.polygon(t,u,e)},r}Pie=n(()=>{"use strict";x(),N(),q(),$(),K(),e(Hie,"halfRoundedRectangle")});async function Rie(e,t){let{labelStyles:u,nodeStyles:r}=U(t);t.labelStyle=u;let{shapeSvg:a,bbox:c}=await ce(e,t,ne(t)),h=4,n=c.height+t.padding,o=n/h,s=c.width+2*o+t.padding,l=[{x:o,y:0},{x:s-o,y:0},{x:s,y:-n/2},{x:s-o,y:-n},{x:o,y:-n},{x:0,y:-n/2}],i,{cssStyles:d}=t;if(t.look==="handDrawn"){let e=R.svg(a),r=H(t,{}),c=Lie(0,0,s,n,o),l=e.path(c,r);i=a.insert(()=>l,":first-child").attr("transform",`translate(${-s/2}, ${n/2})`),d&&i.attr("style",d)}else i=xr(a,s,n,l);return r&&i.attr("style",r),t.width=s,t.height=n,B(t,i),t.intersect=function(e){return L.polygon(t,l,e)},a}Nie=n(()=>{"use strict";N(),q(),$(),K(),Er(),Lie=e((e,t,n,s,o)=>[`M${e+o},${t}`,`L${e+n-o},${t}`,`L${e+n},${t-s/2}`,`L${e+n-o},${t-s}`,`L${e+o},${t-s}`,`L${e},${t-s/2}`,"Z"].join(" "),"createHexagonPathD"),e(Rie,"hexagon")});async function Die(e,t){let{labelStyles:u,nodeStyles:l}=U(t);t.label="",t.labelStyle=u;let{shapeSvg:s}=await ce(e,t,ne(t)),o=Math.max(30,t?.width??0),i=Math.max(30,t?.height??0),{cssStyles:d}=t,h=R.svg(s),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let c=[{x:0,y:0},{x:o,y:0},{x:0,y:i},{x:o,y:i}],m=we(c),f=h.path(m,r),n=s.insert(()=>f,":first-child");return n.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&n.selectChildren("path").attr("style",d),l&&t.look!=="handDrawn"&&n.selectChildren("path").attr("style",l),n.attr("transform",`translate(${-o/2}, ${-i/2})`),B(t,n),t.intersect=function(e){return a.info("Pill intersect",t,{points:c}),L.polygon(t,c,e)},s}zie=n(()=>{"use strict";x(),N(),q(),$(),K(),e(Die,"hourglass")});async function Tie(e,t,{config:{themeVariables:n,flowchart:s}}){let{labelStyles:v}=U(t);t.labelStyle=v;let C=t.assetHeight??48,x=t.assetWidth??48,l=Math.max(C,x),w=s?.wrappingWidth;t.width=Math.max(l,w??0);let{shapeSvg:d,bbox:o,label:_}=await ce(e,t,"icon-shape default"),m=t.pos==="t",c=l,i=l,{nodeBorder:y}=n,{stylesMap:g}=vd(t),b=-i/2,j=-c/2,r=t.label?8:0,p=R.svg(d),h=H(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let O=p.rectangle(b,j,i,c,h),f=Math.max(i,o.width),u=c+o.height+r,E=p.rectangle(-f/2,-u/2,f,u,{...h,fill:"transparent",stroke:"none"}),k=d.insert(()=>O,":first-child"),A=d.insert(()=>E);if(t.icon){let e=d.append("g");e.html(`<g>${await $c(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,s=n.height,c=n.x,i=n.y;e.attr("transform",`translate(${-a/2-c},${m?o.height/2+r/2-s/2-i:-o.height/2-r/2-s/2-i})`),e.attr("style",`color: ${g.get("stroke")??y};`)}return _.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))},${m?-u/2:u/2-o.height})`),k.attr("transform",`translate(0,${m?o.height/2+r/2:-o.height/2-r/2})`),B(t,A),t.intersect=function(e){if(a.info("iconSquare intersect",t,e),!t.label)return L.rect(t,e);let n=t.x??0,s=t.y??0,l=t.height??0,d=[];return m?d=[{x:n-o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2+o.height+r},{x:n+i/2,y:s-l/2+o.height+r},{x:n+i/2,y:s+l/2},{x:n-i/2,y:s+l/2},{x:n-i/2,y:s-l/2+o.height+r},{x:n-o.width/2,y:s-l/2+o.height+r}]:d=[{x:n-i/2,y:s-l/2},{x:n+i/2,y:s-l/2},{x:n+i/2,y:s-l/2+c},{x:n+o.width/2,y:s-l/2+c},{x:n+o.width/2/2,y:s+l/2},{x:n-o.width/2,y:s+l/2},{x:n-o.width/2,y:s-l/2+c},{x:n-i/2,y:s-l/2+c}],L.polygon(t,d,e)},d}Fie=n(()=>{"use strict";K(),x(),Ma(),q(),$(),N(),e(Tie,"icon")});async function Mie(e,t,{config:{themeVariables:n,flowchart:s}}){let{labelStyles:k}=U(t);t.labelStyle=k;let F=t.assetHeight??48,M=t.assetWidth??48,p=Math.max(F,M),A=s?.wrappingWidth;t.width=Math.max(p,A??0);let{shapeSvg:c,bbox:o,label:_}=await ce(e,t,"icon-shape default"),C=20,i=t.label?8:0,f=t.pos==="t",{nodeBorder:x,mainBkg:O}=n,{stylesMap:b}=vd(t),j=R.svg(c),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let w=b.get("fill");r.stroke=w??O;let u=c.append("g");t.icon&&u.html(`<g>${await $c(t.icon,{height:p,width:p,fallbackPrefix:""})}</g>`);let d=u.node().getBBox(),v=d.width,m=d.height,E=d.x,g=d.y,h=Math.max(v,m)*Math.SQRT2+C*2,S=j.circle(0,0,h,r),y=Math.max(h,o.width),l=h+o.height+i,T=j.rectangle(-y/2,-l/2,y,l,{...r,fill:"transparent",stroke:"none"}),z=c.insert(()=>S,":first-child"),D=c.insert(()=>T);return u.attr("transform",`translate(${-v/2-E},${f?o.height/2+i/2-m/2-g:-o.height/2-i/2-m/2-g})`),u.attr("style",`color: ${b.get("stroke")??x};`),_.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))},${f?-l/2:l/2-o.height})`),z.attr("transform",`translate(0,${f?o.height/2+i/2:-o.height/2-i/2})`),B(t,D),t.intersect=function(e){return a.info("iconSquare intersect",t,e),L.rect(t,e)},c}Sie=n(()=>{"use strict";K(),x(),Ma(),q(),$(),N(),e(Mie,"iconCircle")}),nl=n(()=>{"use strict";va=e((e,t,n,s,o)=>["M",e+o,t,"H",e+n-o,"A",o,o,0,0,1,e+n,t+o,"V",t+s-o,"A",o,o,0,0,1,e+n-o,t+s,"H",e+o,"A",o,o,0,0,1,e,t+s-o,"V",t+o,"A",o,o,0,0,1,e+o,t,"Z"].join(" "),"createRoundedRectPathD")});async function Aie(e,t,{config:{themeVariables:n,flowchart:s}}){let{labelStyles:O}=U(t);t.labelStyle=O;let A=t.assetHeight??48,b=t.assetWidth??48,d=Math.max(A,b),w=s?.wrappingWidth;t.width=Math.max(d,w??0);let{shapeSvg:u,bbox:o,halfPadding:g,label:k}=await ce(e,t,"icon-shape default"),h=t.pos==="t",c=d+g*2,i=d+g*2,{nodeBorder:E,mainBkg:C}=n,{stylesMap:v}=vd(t),y=-i/2,_=-c/2,r=t.label?8:0,f=R.svg(u),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let M=v.get("fill");l.stroke=M??C;let x=f.path(va(y,_,i,c,5),l),p=Math.max(i,o.width),m=c+o.height+r,S=f.rectangle(-p/2,-m/2,p,m,{...l,fill:"transparent",stroke:"none"}),j=u.insert(()=>x,":first-child").attr("class","icon-shape2"),F=u.insert(()=>S);if(t.icon){let e=u.append("g");e.html(`<g>${await $c(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,s=n.height,c=n.x,i=n.y;e.attr("transform",`translate(${-a/2-c},${h?o.height/2+r/2-s/2-i:-o.height/2-r/2-s/2-i})`),e.attr("style",`color: ${v.get("stroke")??E};`)}return k.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))},${h?-m/2:m/2-o.height})`),j.attr("transform",`translate(0,${h?o.height/2+r/2:-o.height/2-r/2})`),B(t,F),t.intersect=function(e){if(a.info("iconSquare intersect",t,e),!t.label)return L.rect(t,e);let n=t.x??0,s=t.y??0,l=t.height??0,d=[];return h?d=[{x:n-o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2+o.height+r},{x:n+i/2,y:s-l/2+o.height+r},{x:n+i/2,y:s+l/2},{x:n-i/2,y:s+l/2},{x:n-i/2,y:s-l/2+o.height+r},{x:n-o.width/2,y:s-l/2+o.height+r}]:d=[{x:n-i/2,y:s-l/2},{x:n+i/2,y:s-l/2},{x:n+i/2,y:s-l/2+c},{x:n+o.width/2,y:s-l/2+c},{x:n+o.width/2/2,y:s+l/2},{x:n-o.width/2,y:s+l/2},{x:n-o.width/2,y:s-l/2+c},{x:n-i/2,y:s-l/2+c}],L.polygon(t,d,e)},u}kie=n(()=>{"use strict";K(),x(),Ma(),q(),$(),nl(),N(),e(Aie,"iconRounded")});async function Eie(e,t,{config:{themeVariables:n,flowchart:s}}){let{labelStyles:O}=U(t);t.labelStyle=O;let A=t.assetHeight??48,b=t.assetWidth??48,d=Math.max(A,b),w=s?.wrappingWidth;t.width=Math.max(d,w??0);let{shapeSvg:u,bbox:o,halfPadding:g,label:k}=await ce(e,t,"icon-shape default"),h=t.pos==="t",c=d+g*2,i=d+g*2,{nodeBorder:E,mainBkg:C}=n,{stylesMap:v}=vd(t),y=-i/2,_=-c/2,r=t.label?8:0,f=R.svg(u),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let M=v.get("fill");l.stroke=M??C;let x=f.path(va(y,_,i,c,.1),l),p=Math.max(i,o.width),m=c+o.height+r,S=f.rectangle(-p/2,-m/2,p,m,{...l,fill:"transparent",stroke:"none"}),j=u.insert(()=>x,":first-child"),F=u.insert(()=>S);if(t.icon){let e=u.append("g");e.html(`<g>${await $c(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,s=n.height,c=n.x,i=n.y;e.attr("transform",`translate(${-a/2-c},${h?o.height/2+r/2-s/2-i:-o.height/2-r/2-s/2-i})`),e.attr("style",`color: ${v.get("stroke")??E};`)}return k.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))},${h?-m/2:m/2-o.height})`),j.attr("transform",`translate(0,${h?o.height/2+r/2:-o.height/2-r/2})`),B(t,F),t.intersect=function(e){if(a.info("iconSquare intersect",t,e),!t.label)return L.rect(t,e);let n=t.x??0,s=t.y??0,l=t.height??0,d=[];return h?d=[{x:n-o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2},{x:n+o.width/2,y:s-l/2+o.height+r},{x:n+i/2,y:s-l/2+o.height+r},{x:n+i/2,y:s+l/2},{x:n-i/2,y:s+l/2},{x:n-i/2,y:s-l/2+o.height+r},{x:n-o.width/2,y:s-l/2+o.height+r}]:d=[{x:n-i/2,y:s-l/2},{x:n+i/2,y:s-l/2},{x:n+i/2,y:s-l/2+c},{x:n+o.width/2,y:s-l/2+c},{x:n+o.width/2/2,y:s+l/2},{x:n-o.width/2,y:s+l/2},{x:n-o.width/2,y:s-l/2+c},{x:n-i/2,y:s-l/2+c}],L.polygon(t,d,e)},u}Cie=n(()=>{"use strict";K(),x(),Ma(),q(),nl(),$(),N(),e(Eie,"iconSquare")});async function xie(e,t,{config:{flowchart:n}}){let d=new Image;d.src=t?.img??"",await d.decode();let p=Number(d.naturalWidth.toString().replace("px","")),m=Number(d.naturalHeight.toString().replace("px",""));t.imageAspectRatio=p/m;let{labelStyles:O}=U(t);t.labelStyle=O;let f=n?.wrappingWidth;t.defaultWidth=n?.wrappingWidth;let b=Math.max(t.label?f??0:0,t?.assetWidth??p),o=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:b,i=t.constraint==="on"?o/t.imageAspectRatio:t?.assetHeight??m;t.width=Math.max(o,f??0);let{shapeSvg:c,bbox:s,label:w}=await ce(e,t,"image-shape default"),u=t.pos==="t",y=-o/2,j=-i/2,r=t.label?8:0,v=R.svg(c),h=H(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let _=v.rectangle(y,j,o,i,h),g=Math.max(o,s.width),l=i+s.height+r,x=v.rectangle(-g/2,-l/2,g,l,{...h,fill:"none",stroke:"none"}),C=c.insert(()=>_,":first-child"),E=c.insert(()=>x);if(t.img){let e=c.append("image");e.attr("href",t.img),e.attr("width",o),e.attr("height",i),e.attr("preserveAspectRatio","none"),e.attr("transform",`translate(${-o/2},${u?l/2-i:-l/2})`)}return w.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))},${u?-i/2-s.height/2-r/2:i/2-s.height/2+r/2})`),C.attr("transform",`translate(0,${u?s.height/2+r/2:-s.height/2-r/2})`),B(t,E),t.intersect=function(e){if(a.info("iconSquare intersect",t,e),!t.label)return L.rect(t,e);let n=t.x??0,c=t.y??0,l=t.height??0,d=[];return u?d=[{x:n-s.width/2,y:c-l/2},{x:n+s.width/2,y:c-l/2},{x:n+s.width/2,y:c-l/2+s.height+r},{x:n+o/2,y:c-l/2+s.height+r},{x:n+o/2,y:c+l/2},{x:n-o/2,y:c+l/2},{x:n-o/2,y:c-l/2+s.height+r},{x:n-s.width/2,y:c-l/2+s.height+r}]:d=[{x:n-o/2,y:c-l/2},{x:n+o/2,y:c-l/2},{x:n+o/2,y:c-l/2+i},{x:n+s.width/2,y:c-l/2+i},{x:n+s.width/2/2,y:c+l/2},{x:n-s.width/2,y:c+l/2},{x:n-s.width/2,y:c-l/2+i},{x:n-o/2,y:c-l/2+i}],L.polygon(t,d,e)},c}Oie=n(()=>{"use strict";K(),x(),q(),$(),N(),e(xie,"imageSquare")});async function wie(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d;let{shapeSvg:i,bbox:c}=await ce(e,t,ne(t)),s=Math.max(c.width+(t.padding??0)*2,t?.width??0),n=Math.max(c.height+(t.padding??0)*2,t?.height??0),a=[{x:0,y:0},{x:s,y:0},{x:s+3*n/6,y:-n},{x:-3*n/6,y:-n}],o,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(i),r=H(t,{}),c=we(a),d=e.path(c,r);o=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${n/2})`),l&&o.attr("style",l)}else o=xr(i,s,n,a);return r&&o.attr("style",r),t.width=s,t.height=n,B(t,o),t.intersect=function(e){return L.polygon(t,a,e)},i}_ie=n(()=>{"use strict";N(),q(),$(),K(),Er(),e(wie,"inv_trapezoid")});async function Oh(e,t,n){let{labelStyles:h,nodeStyles:m}=U(t);t.labelStyle=h;let{shapeSvg:o,bbox:u}=await ce(e,t,ne(t)),i=Math.max(u.width+n.labelPaddingX*2,t?.width||0),a=Math.max(u.height+n.labelPaddingY*2,t?.height||0),c=-i/2,l=-a/2,s,{rx:r,ry:d}=t,{cssStyles:f}=t;if(n?.rx&&n.ry&&(r=n.rx,d=n.ry),t.look==="handDrawn"){let e=R.svg(o),n=H(t,{}),u=r||d?e.path(va(c,l,i,a,r||0),n):e.rectangle(c,l,i,a,n);s=o.insert(()=>u,":first-child"),s.attr("class","basic label-container").attr("style",hs(f))}else s=o.insert("rect",":first-child"),s.attr("class","basic label-container").attr("style",m).attr("rx",hs(r)).attr("ry",hs(d)).attr("x",c).attr("y",l).attr("width",i).attr("height",a);return B(t,s),t.intersect=function(e){return L.rect(t,e)},o}k0=n(()=>{"use strict";N(),q(),nl(),$(),K(),se(),e(Oh,"drawRect")});async function yie(e,t){let{shapeSvg:s,bbox:n,label:i}=await ce(e,t,"label"),o=s.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),s.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),B(t,o),t.intersect=function(e){return L.rect(t,e)},s}jie=n(()=>{"use strict";k0(),N(),q(),e(yie,"labelRect")});async function bie(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d;let{shapeSvg:i,bbox:c}=await ce(e,t,ne(t)),s=Math.max(c.width+(t.padding??0),t?.width??0),n=Math.max(c.height+(t.padding??0),t?.height??0),a=[{x:0,y:0},{x:s+3*n/6,y:0},{x:s,y:-n},{x:-(3*n)/6,y:-n}],o,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(i),r=H(t,{}),c=we(a),d=e.path(c,r);o=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${n/2})`),l&&o.attr("style",l)}else o=xr(i,s,n,a);return r&&o.attr("style",r),t.width=s,t.height=n,B(t,o),t.intersect=function(e){return L.polygon(t,a,e)},i}vie=n(()=>{"use strict";N(),q(),$(),K(),Er(),e(bie,"lean_left")});async function gie(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d;let{shapeSvg:i,bbox:c}=await ce(e,t,ne(t)),s=Math.max(c.width+(t.padding??0),t?.width??0),n=Math.max(c.height+(t.padding??0),t?.height??0),a=[{x:-3*n/6,y:0},{x:s,y:0},{x:s+3*n/6,y:-n},{x:0,y:-n}],o,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(i),r=H(t,{}),c=we(a),d=e.path(c,r);o=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${n/2})`),l&&o.attr("style",l)}else o=xr(i,s,n,a);return r&&o.attr("style",r),t.width=s,t.height=n,B(t,o),t.intersect=function(e){return L.polygon(t,a,e)},i}pie=n(()=>{"use strict";N(),q(),$(),K(),Er(),e(gie,"lean_right")});function fie(e,t){let{labelStyles:m,nodeStyles:u}=U(t);t.label="",t.labelStyle=m;let c=e.insert("g").attr("class",ne(t)).attr("id",t.domId??t.id),{cssStyles:l}=t,o=Math.max(35,t?.width??0),s=Math.max(35,t?.height??0),n=7,d=[{x:o,y:0},{x:0,y:s+n/2},{x:o-2*n,y:s+n/2},{x:0,y:2*s},{x:o,y:s-n/2},{x:2*n,y:s-n/2}],h=R.svg(c),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let f=we(d),p=h.path(f,r),i=c.insert(()=>p,":first-child");return l&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",l),u&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",u),i.attr("transform",`translate(-${o/2},${-s})`),B(t,i),t.intersect=function(e){return a.info("lightningBolt intersect",t,e),L.polygon(t,d,e)},c}mie=n(()=>{"use strict";x(),N(),$(),K(),q(),N(),e(fie,"lightningBolt")});async function hie(e,t){let{labelStyles:u,nodeStyles:h}=U(t);t.labelStyle=u;let{shapeSvg:r,bbox:s,label:m}=await ce(e,t,ne(t)),a=Math.max(s.width+(t.padding??0),t.width??0),o=a/2,n=o/(2.5+a/50),c=Math.max(s.height+n+(t.padding??0),t.height??0),d=c*.1,i,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(r),u=die(0,0,a,c,o,n,d),h=lie(0,n,a,c,o,n),s=H(t,{}),m=e.path(u,s),f=e.path(h,s);r.insert(()=>f,":first-child").attr("class","line"),i=r.insert(()=>m,":first-child"),i.attr("class","basic label-container"),l&&i.attr("style",l)}else{let e=uie(0,0,a,c,o,n,d);i=r.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",hs(l)).attr("style",h)}return i.attr("label-offset-y",n),i.attr("transform",`translate(${-a/2}, ${-(c/2+n)})`),B(t,i),m.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+n-(s.y-(s.top??0))})`),t.intersect=function(e){let s=L.rect(t,e),i=s.x-(t.x??0);if(o!=0&&(Math.abs(i)<(t.width??0)/2||Math.abs(i)==(t.width??0)/2&&Math.abs(s.y-(t.y??0))>(t.height??0)/2-n)){let a=n*n*(1-i*i/(o*o));a>0&&(a=Math.sqrt(a)),a=n-a,e.y-(t.y??0)>0&&(a=-a),s.y+=a}return s},r}cie=n(()=>{"use strict";N(),q(),$(),K(),se(),uie=e((e,t,n,s,o,i,a)=>[`M${e},${t+i}`,`a${o},${i} 0,0,0 ${n},0`,`a${o},${i} 0,0,0 ${-n},0`,`l0,${s}`,`a${o},${i} 0,0,0 ${n},0`,`l0,${-s}`,`M${e},${t+i+a}`,`a${o},${i} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),die=e((e,t,n,s,o,i,a)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${o},${i} 0,0,0 ${-n},0`,`l0,${s}`,`a${o},${i} 0,0,0 ${n},0`,`l0,${-s}`,`M${e},${t+i+a}`,`a${o},${i} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),lie=e((e,t,n,s,o,i)=>[`M${e-n/2},${-s/2}`,`a${o},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD"),e(hie,"linedCylinder")});async function rie(e,t){let{labelStyles:m,nodeStyles:h}=U(t);t.labelStyle=m;let{shapeSvg:c,bbox:o,label:f}=await ce(e,t,ne(t)),n=Math.max(o.width+(t.padding??0)*2,t?.width??0),r=Math.max(o.height+(t.padding??0)*2,t?.height??0),a=r/4,s=r+a,{cssStyles:d}=t,p=R.svg(c),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let u=[{x:-n/2-n/2*.1,y:-s/2},{x:-n/2-n/2*.1,y:s/2},...Jr(-n/2-n/2*.1,s/2,n/2+n/2*.1,s/2,a,.8),{x:n/2+n/2*.1,y:-s/2},{x:-n/2-n/2*.1,y:-s/2},{x:-n/2,y:-s/2},{x:-n/2,y:s/2*1.1},{x:-n/2,y:-s/2}],g=p.polygon(u.map(e=>[e.x,e.y]),l),i=c.insert(()=>g,":first-child");return i.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",d),h&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",h),i.attr("transform",`translate(0,${-a/2})`),f.attr("transform",`translate(${-n/2+(t.padding??0)+n/2*.1/2-(o.x-(o.left??0))},${-r/2+(t.padding??0)-a/2-(o.y-(o.top??0))})`),B(t,i),t.intersect=function(e){return L.polygon(t,u,e)},c}aie=n(()=>{"use strict";N(),q(),K(),$(),e(rie,"linedWaveEdgedRect")});async function iie(e,t){let{labelStyles:p,nodeStyles:f}=U(t);t.labelStyle=p;let{shapeSvg:d,bbox:r,label:g}=await ce(e,t,ne(t)),i=Math.max(r.width+(t.padding??0)*2,t?.width??0),a=Math.max(r.height+(t.padding??0)*2,t?.height??0),n=5,o=-i/2,s=-a/2,{cssStyles:u}=t,h=R.svg(d),l=H(t,{}),m=[{x:o-n,y:s+n},{x:o-n,y:s+a+n},{x:o+i-n,y:s+a+n},{x:o+i-n,y:s+a},{x:o+i,y:s+a},{x:o+i,y:s+a-n},{x:o+i+n,y:s+a-n},{x:o+i+n,y:s-n},{x:o+n,y:s-n},{x:o+n,y:s},{x:o,y:s},{x:o,y:s+n}],v=[{x:o,y:s+n},{x:o+i-n,y:s+n},{x:o+i-n,y:s+a},{x:o+i,y:s+a},{x:o+i,y:s},{x:o,y:s}];t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let b=we(m),j=h.path(b,l),y=we(v),_=h.path(y,{...l,fill:"none"}),c=d.insert(()=>_,":first-child");return c.insert(()=>j,":first-child"),c.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",u),f&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",f),g.attr("transform",`translate(${-(r.width/2)-n-(r.x-(r.left??0))}, ${-(r.height/2)+n-(r.y-(r.top??0))})`),B(t,c),t.intersect=function(e){return L.polygon(t,m,e)},d}oie=n(()=>{"use strict";N(),$(),K(),q(),e(iie,"multiRect")});async function sie(e,t){let{labelStyles:j,nodeStyles:b}=U(t);t.labelStyle=j;let{shapeSvg:m,bbox:a,label:_}=await ce(e,t,ne(t)),i=Math.max(a.width+(t.padding??0)*2,t?.width??0),f=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=f/4,u=f+d,s=-i/2,o=-u/2,n=5,{cssStyles:p}=t,h=Jr(s-n,o+u+n,s+i-n,o+u+n,d,.8),c=h?.[h.length-1],g=[{x:s-n,y:o+n},{x:s-n,y:o+u+n},...h,{x:s+i-n,y:c.y-n},{x:s+i,y:c.y-n},{x:s+i,y:c.y-2*n},{x:s+i+n,y:c.y-2*n},{x:s+i+n,y:o-n},{x:s+n,y:o-n},{x:s+n,y:o},{x:s,y:o},{x:s,y:o+n}],y=[{x:s,y:o+n},{x:s+i-n,y:o+n},{x:s+i-n,y:c.y-n},{x:s+i,y:c.y-n},{x:s+i,y:o},{x:s,y:o}],v=R.svg(m),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let w=we(g),O=v.path(w,l),x=we(y),C=v.path(x,l),r=m.insert(()=>O,":first-child");return r.insert(()=>C),r.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&r.selectAll("path").attr("style",p),b&&t.look!=="handDrawn"&&r.selectAll("path").attr("style",b),r.attr("transform",`translate(0,${-d/2})`),_.attr("transform",`translate(${-(a.width/2)-n-(a.x-(a.left??0))}, ${-(a.height/2)+n-d/2-(a.y-(a.top??0))})`),B(t,r),t.intersect=function(e){return L.polygon(t,g,e)},m}nie=n(()=>{"use strict";N(),q(),K(),$(),e(sie,"multiWaveEdgedRectangle")});async function tie(e,t,{config:{themeVariables:n}}){let{labelStyles:p,nodeStyles:r}=U(t);t.labelStyle=p,t.useHtmlLabels||De().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);let{shapeSvg:o,bbox:c}=await ce(e,t,ne(t)),l=Math.max(c.width+(t.padding??0)*2,t?.width??0),d=Math.max(c.height+(t.padding??0)*2,t?.height??0),u=-l/2,m=-d/2,{cssStyles:a}=t,h=R.svg(o),i=H(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(i.roughness=0,i.fillStyle="solid");let f=h.rectangle(u,m,l,d,i),s=o.insert(()=>f,":first-child");return s.attr("class","basic label-container"),a&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",r),B(t,s),t.intersect=function(e){return L.rect(t,e)},o}eie=n(()=>{"use strict";K(),q(),$(),N(),sn(),e(tie,"note")});async function Joe(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d;let{shapeSvg:o,bbox:c}=await ce(e,t,ne(t)),u=c.width+t.padding,h=c.height+t.padding,n=u+h,i=[{x:n/2,y:0},{x:n,y:-n/2},{x:n/2,y:-n},{x:0,y:-n/2}],s,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(o),i=H(t,{}),a=Zoe(0,0,n),r=e.path(a,i);s=o.insert(()=>r,":first-child").attr("transform",`translate(${-n/2}, ${n/2})`),l&&s.attr("style",l)}else s=xr(o,n,n,i);return r&&s.attr("style",r),B(t,s),t.intersect=function(e){return a.debug(`APA12 Intersect called SPLIT
point:`,e,`
node:
`,t,`
res:`,L.polygon(t,i,e)),L.polygon(t,i,e)},o}Qoe=n(()=>{"use strict";x(),N(),q(),$(),K(),Er(),Zoe=e((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD"),e(Joe,"question")});async function Xoe(e,t){let{labelStyles:b,nodeStyles:d}=U(t);t.labelStyle=b;let{shapeSvg:r,bbox:n,label:h}=await ce(e,t,ne(t)),p=Math.max(n.width+(t.padding??0),t?.width??0),m=Math.max(n.height+(t.padding??0),t?.height??0),o=-p/2,i=-m/2,a=i/2,l=[{x:o+a,y:i},{x:o,y:0},{x:o+a,y:-i},{x:-o,y:-i},{x:-o,y:i}],{cssStyles:u}=t,f=R.svg(r),c=H(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let g=we(l),v=f.path(g,c),s=r.insert(()=>v,":first-child");return s.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",u),d&&t.look!=="handDrawn"&&s.selectAll("path").attr("style",d),s.attr("transform",`translate(${-a/2},0)`),h.attr("transform",`translate(${-a/2-n.width/2-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),B(t,s),t.intersect=function(e){return L.polygon(t,l,e)},r}Goe=n(()=>{"use strict";N(),q(),$(),K(),e(Xoe,"rect_left_inv_arrow")});function Yoe(e,t){t&&e.attr("style",t)}async function Koe(e){let n=y(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),t=n.append("xhtml:div"),s=e.label;e.label&&_n(e.label)&&(s=await z1(e.label.replace(w.lineBreakRegex,`
`),u()));let o=e.isNode?"nodeLabel":"edgeLabel";return t.html('<span class="'+o+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+s+"</span>"),Yoe(t,e.labelStyle),t.style("display","inline-block"),t.style("padding-right","1px"),t.style("white-space","nowrap"),t.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}T5=n(()=>{"use strict";he(),x(),P(),me(),se(),e(Yoe,"applyStyle"),e(Koe,"addHtmlLabel"),Uoe=e(async(e,t,n,s)=>{let o=e||"";if(typeof o=="object"&&(o=o[0]),Pe(u().flowchart.htmlLabels)){o=o.replace(/\\n|\n/g,"<br />"),a.info("vertexText"+o);let e={isNode:s,label:Zo(o).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Koe(e)}let r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("style",t.replace("color:","fill:"));let i=[];typeof o=="string"?i=o.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(o)?i=o:i=[];for(let t of i){let e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),n?e.setAttribute("class","title-row"):e.setAttribute("class","row"),e.textContent=t.trim(),r.appendChild(e)}return r},"createLabel"),jc=Uoe});async function Woe(e,t){let{labelStyles:C,nodeStyles:p}=U(t);t.labelStyle=C;let m;t.cssClasses?m="node "+t.cssClasses:m="node default";let i=e.insert("g").attr("class",m).attr("id",t.domId||t.id),v=i.insert("g"),r=i.insert("g").attr("class","label").attr("style",p),g=t.description,E=t.label,c=r.node().appendChild(await jc(E,t.labelStyle,!0,!0)),n={width:0,height:0};if(Pe(u()?.flowchart?.htmlLabels)){let t=c.children[0],e=y(c);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}a.info("Text 2",g);let h=g||[],o=c.getBBox(),f=r.node().appendChild(await jc(h.join?h.join("<br/>"):h,t.labelStyle,!0,!0)),j=f.children[0],b=y(f);n=j.getBoundingClientRect(),b.attr("width",n.width),b.attr("height",n.height);let s=(t.padding||0)/2;y(f).attr("transform","translate( "+(n.width>o.width?0:(o.width-n.width)/2)+", "+(o.height+s+5)+")"),y(c).attr("transform","translate( "+(n.width<o.width?0:-(o.width-n.width)/2)+", 0)"),n=r.node().getBBox(),r.attr("transform","translate("+-n.width/2+", "+(-n.height/2-s+3)+")");let _=n.width+(t.padding||0),w=n.height+(t.padding||0),O=-n.width/2-s,x=-n.height/2-s,l,d;if(t.look==="handDrawn"){let r=R.svg(i),c=H(t,{}),e=r.path(va(O,x,_,w,t.rx||0),c),u=r.line(-n.width/2-s,-n.height/2-s+o.height+s,n.width/2+s,-n.height/2-s+o.height+s,c);d=i.insert(()=>(a.debug("Rough node insert CXC",e),u),":first-child"),l=i.insert(()=>(a.debug("Rough node insert CXC",e),e),":first-child")}else l=v.insert("rect",":first-child"),d=v.insert("line"),l.attr("class","outer title-state").attr("style",p).attr("x",-n.width/2-s).attr("y",-n.height/2-s).attr("width",n.width+(t.padding||0)).attr("height",n.height+(t.padding||0)),d.attr("class","divider").attr("x1",-n.width/2-s).attr("x2",n.width/2+s).attr("y1",-n.height/2-s+o.height+s).attr("y2",-n.height/2-s+o.height+s);return B(t,l),t.intersect=function(e){return L.rect(t,e)},i}$oe=n(()=>{"use strict";he(),me(),N(),T5(),q(),$(),K(),P(),nl(),x(),e(Woe,"rectWithTitle")});async function Voe(e,t){let n={rx:5,ry:5,classes:"",labelPaddingX:(t?.padding||0)*1,labelPaddingY:(t?.padding||0)*1};return Oh(e,t,n)}Boe=n(()=>{"use strict";k0(),e(Voe,"roundedRect")});async function Ioe(e,t){let{labelStyles:p,nodeStyles:d}=U(t);t.labelStyle=p;let{shapeSvg:l,bbox:n,label:m}=await ce(e,t,ne(t)),u=t?.padding??0,c=Math.max(n.width+(t.padding??0)*2,t?.width??0),i=Math.max(n.height+(t.padding??0)*2,t?.height??0),o=-n.width/2-u,s=-n.height/2-u,{cssStyles:h}=t,f=R.svg(l),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let g=[{x:o,y:s},{x:o+c+8,y:s},{x:o+c+8,y:s+i},{x:o-8,y:s+i},{x:o-8,y:s},{x:o,y:s},{x:o,y:s+i}],v=f.polygon(g.map(e=>[e.x,e.y]),r),a=l.insert(()=>v,":first-child");return a.attr("class","basic label-container").attr("style",hs(h)),d&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",d),h&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",d),m.attr("transform",`translate(${-c/2+4+(t.padding??0)-(n.x-(n.left??0))},${-i/2+(t.padding??0)-(n.y-(n.top??0))})`),B(t,a),t.intersect=function(e){return L.rect(t,e)},l}Hoe=n(()=>{"use strict";N(),q(),$(),K(),se(),e(Ioe,"shadedProcess")});async function Poe(e,t){let{labelStyles:p,nodeStyles:h}=U(t);t.labelStyle=p;let{shapeSvg:c,bbox:n,label:f}=await ce(e,t,ne(t)),a=Math.max(n.width+(t.padding??0)*2,t?.width??0),s=Math.max(n.height+(t.padding??0)*2,t?.height??0),r=-a/2,i=-s/2,{cssStyles:u}=t,m=R.svg(c),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let d=[{x:r,y:i},{x:r,y:i+s},{x:r+a,y:i+s},{x:r+a,y:i-s/2}],g=we(d),v=m.path(g,l),o=c.insert(()=>v,":first-child");return o.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",u),h&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",h),o.attr("transform",`translate(0, ${s/4})`),f.attr("transform",`translate(${-a/2+(t.padding??0)-(n.x-(n.left??0))}, ${-s/4+(t.padding??0)-(n.y-(n.top??0))})`),B(t,o),t.intersect=function(e){return L.polygon(t,d,e)},c}Roe=n(()=>{"use strict";N(),q(),$(),K(),e(Poe,"slopedRect")});async function Loe(e,t){let n={rx:0,ry:0,classes:"",labelPaddingX:(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return Oh(e,t,n)}Noe=n(()=>{"use strict";k0(),e(Loe,"squareRect")});async function Doe(e,t){let{labelStyles:r,nodeStyles:c}=U(t);t.labelStyle=r;let{shapeSvg:o,bbox:a}=await ce(e,t,ne(t)),n=a.height+t.padding,i=a.width+n/4+t.padding,s,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(o),a=H(t,{}),r=va(-i/2,-n/2,i,n,n/2),c=e.path(r,a);s=o.insert(()=>c,":first-child"),s.attr("class","basic label-container").attr("style",hs(l))}else s=o.insert("rect",":first-child"),s.attr("class","basic label-container").attr("style",c).attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return B(t,s),t.intersect=function(e){return L.rect(t,e)},o}zoe=n(()=>{"use strict";N(),q(),$(),K(),nl(),se(),e(Doe,"stadium")});async function Toe(e,t){return Oh(e,t,{rx:5,ry:5,classes:"flowchart-node"})}Foe=n(()=>{"use strict";k0(),e(Toe,"state")});function Moe(e,t,{config:{themeVariables:n}}){let{labelStyles:p,nodeStyles:r}=U(t);t.labelStyle=p;let{cssStyles:c}=t,{lineColor:d,stateBorder:m,nodeBorder:u}=n,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a=R.svg(i),o=H(t,{});t.look!=="handDrawn"&&(o.roughness=0,o.fillStyle="solid");let h=a.circle(0,0,14,{...o,stroke:d,strokeWidth:2}),l=m??u,f=a.circle(0,0,5,{...o,fill:l,stroke:l,strokeWidth:2,fillStyle:"solid"}),s=i.insert(()=>h,":first-child");return s.insert(()=>f),c&&s.selectAll("path").attr("style",c),r&&s.selectAll("path").attr("style",r),B(t,s),t.intersect=function(e){return L.circle(t,7,e)},i}Soe=n(()=>{"use strict";K(),q(),$(),N(),e(Moe,"stateEnd")});function koe(e,t,{config:{themeVariables:n}}){let{lineColor:i}=n,o=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),s;if(t.look==="handDrawn"){let e=R.svg(o).circle(0,0,14,Gae(i));s=o.insert(()=>e),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=o.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return B(t,s),t.intersect=function(e){return L.circle(t,7,e)},o}Eoe=n(()=>{"use strict";K(),q(),$(),N(),e(koe,"stateStart")});async function xoe(e,t){let{labelStyles:u,nodeStyles:c}=U(t);t.labelStyle=u;let{shapeSvg:o,bbox:r}=await ce(e,t,ne(t)),l=(t?.padding||0)/2,n=r.width+t.padding,s=r.height+t.padding,i=-r.width/2-l,a=-r.height/2-l,d=[{x:0,y:0},{x:n,y:0},{x:n,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-s},{x:-8,y:-s},{x:-8,y:0}];if(t.look==="handDrawn"){let e=R.svg(o),r=H(t,{}),l=e.rectangle(i-8,a,n+16,s,r),d=e.line(i,a,i,a+s,r),u=e.line(i+n,a,i+n,a+s,r);o.insert(()=>d,":first-child"),o.insert(()=>u,":first-child");let c=o.insert(()=>l,":first-child"),{cssStyles:h}=t;c.attr("class","basic label-container").attr("style",hs(h)),B(t,c)}else{let e=xr(o,n,s,d);c&&e.attr("style",c),B(t,e)}return t.intersect=function(e){return L.polygon(t,d,e)},o}Ooe=n(()=>{"use strict";N(),q(),$(),K(),Er(),se(),e(xoe,"subroutine")});async function woe(e,t){let{labelStyles:g,nodeStyles:f}=U(t);t.labelStyle=g;let{shapeSvg:l,bbox:h}=await ce(e,t,ne(t)),a=Math.max(h.width+(t.padding??0)*2,t?.width??0),n=Math.max(h.height+(t.padding??0)*2,t?.height??0),o=-a/2,i=-n/2,s=.2*n,p=.2*n,{cssStyles:d}=t,u=R.svg(l),c=H(t,{}),m=[{x:o-s/2,y:i},{x:o+a+s/2,y:i},{x:o+a+s/2,y:i+n},{x:o-s/2,y:i+n}],v=[{x:o+a-s/2,y:i+n},{x:o+a+s/2,y:i+n},{x:o+a+s/2,y:i+n-p}];t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let b=we(m),j=u.path(b,c),y=we(v),_=u.path(y,{...c,fillStyle:"solid"}),r=l.insert(()=>_,":first-child");return r.insert(()=>j,":first-child"),r.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&r.selectAll("path").attr("style",d),f&&t.look!=="handDrawn"&&r.selectAll("path").attr("style",f),B(t,r),t.intersect=function(e){return L.polygon(t,m,e)},l}_oe=n(()=>{"use strict";N(),$(),K(),q(),e(woe,"taggedRect")});async function yoe(e,t){let{labelStyles:b,nodeStyles:v}=U(t);t.labelStyle=b;let{shapeSvg:u,bbox:a,label:x}=await ce(e,t,ne(t)),n=Math.max(a.width+(t.padding??0)*2,t?.width??0),s=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=s/4,h=.2*n,g=.2*s,o=s+d,{cssStyles:m}=t,f=R.svg(u),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let p=[{x:-n/2-n/2*.1,y:o/2},...Jr(-n/2-n/2*.1,o/2,n/2+n/2*.1,o/2,d,.8),{x:n/2+n/2*.1,y:-o/2},{x:-n/2-n/2*.1,y:-o/2}],c=-n/2+n/2*.1,r=-o/2-g*.4,j=[{x:c+n-h,y:(r+s)*1.4},{x:c+n,y:r+s-g},{x:c+n,y:(r+s)*.9},...Jr(c+n,(r+s)*1.3,c+n-h,(r+s)*1.5,-s*.03,.5)],y=we(p),_=f.path(y,l),w=we(j),O=f.path(w,{...l,fillStyle:"solid"}),i=u.insert(()=>O,":first-child");return i.insert(()=>_,":first-child"),i.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",m),v&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",v),i.attr("transform",`translate(0,${-d/2})`),x.attr("transform",`translate(${-n/2+(t.padding??0)-(a.x-(a.left??0))},${-s/2+(t.padding??0)-d/2-(a.y-(a.top??0))})`),B(t,i),t.intersect=function(e){return L.polygon(t,p,e)},u}voe=n(()=>{"use strict";N(),q(),K(),$(),e(yoe,"taggedWaveEdgedRectangle")});async function poe(e,t){let{labelStyles:r,nodeStyles:c}=U(t);t.labelStyle=r;let{shapeSvg:n,bbox:s}=await ce(e,t,ne(t)),o=Math.max(s.width+t.padding,t?.width||0),i=Math.max(s.height+t.padding,t?.height||0),l=-o/2,d=-i/2,a=n.insert("rect",":first-child");return a.attr("class","text").attr("style",c).attr("rx",0).attr("ry",0).attr("x",l).attr("y",d).attr("width",o).attr("height",i),B(t,a),t.intersect=function(e){return L.rect(t,e)},n}foe=n(()=>{"use strict";N(),q(),$(),e(poe,"text")});async function uoe(e,t){let{labelStyles:m,nodeStyles:d}=U(t);t.labelStyle=m;let{shapeSvg:r,bbox:o,label:f,halfPadding:u}=await ce(e,t,ne(t)),h=t.look==="neo"?u*2:u,a=o.height+h,i=a/2,s=i/(2.5+a/50),l=o.width+s+h,{cssStyles:c}=t,n;if(t.look==="handDrawn"){let e=R.svg(r),o=loe(0,0,l,a,s,i),d=coe(0,0,l,a,s,i),u=e.path(o,H(t,{})),h=e.path(d,H(t,{fill:"none"}));n=r.insert(()=>h,":first-child"),n=r.insert(()=>u,":first-child"),n.attr("class","basic label-container"),c&&n.attr("style",c)}else{let e=doe(0,0,l,a,s,i);n=r.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",hs(c)).attr("style",d),n.attr("class","basic label-container"),c&&n.selectAll("path").attr("style",c),d&&n.selectAll("path").attr("style",d)}return n.attr("label-offset-x",s),n.attr("transform",`translate(${-l/2}, ${a/2} )`),f.attr("transform",`translate(${-(o.width/2)-s-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),B(t,n),t.intersect=function(e){let n=L.rect(t,e),o=n.y-(t.y??0);if(i!=0&&(Math.abs(o)<(t.height??0)/2||Math.abs(o)==(t.height??0)/2&&Math.abs(n.x-(t.x??0))>(t.width??0)/2-s)){let a=s*s*(1-o*o/(i*i));a!=0&&(a=Math.sqrt(Math.abs(a))),a=s-a,e.x-(t.x??0)>0&&(a=-a),n.x+=a}return n},r}aoe=n(()=>{"use strict";N(),$(),K(),q(),se(),doe=e((e,t,n,s,o,i)=>`M${e},${t}
    a${o},${i} 0,0,1 0,${-s}
    l${n},0
    a${o},${i} 0,0,1 0,${s}
    M${n},${-s}
    a${o},${i} 0,0,0 0,${s}
    l${-n},0`,"createCylinderPathD"),loe=e((e,t,n,s,o,i)=>[`M${e},${t}`,`M${e+n},${t}`,`a${o},${i} 0,0,0 0,${-s}`,`l${-n},0`,`a${o},${i} 0,0,0 0,${s}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),coe=e((e,t,n,s,o,i)=>[`M${e+n/2},${-s/2}`,`a${o},${i} 0,0,0 0,${s}`].join(" "),"createInnerCylinderPathD"),e(uoe,"tiltedCylinder")});async function soe(e,t){let{labelStyles:d,nodeStyles:r}=U(t);t.labelStyle=d;let{shapeSvg:i,bbox:c}=await ce(e,t,ne(t)),s=c.width+t.padding,n=c.height+t.padding,a=[{x:-3*n/6,y:0},{x:s+3*n/6,y:0},{x:s,y:-n},{x:0,y:-n}],o,{cssStyles:l}=t;if(t.look==="handDrawn"){let e=R.svg(i),r=H(t,{}),c=we(a),d=e.path(c,r);o=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${n/2})`),l&&o.attr("style",l)}else o=xr(i,s,n,a);return r&&o.attr("style",r),t.width=s,t.height=n,B(t,o),t.intersect=function(e){return L.polygon(t,a,e)},i}Zse=n(()=>{"use strict";N(),q(),$(),K(),Er(),e(soe,"trapezoid")});async function Qse(e,t){let{labelStyles:f,nodeStyles:d}=U(t);t.labelStyle=f;let{shapeSvg:i,bbox:r}=await ce(e,t,ne(t)),h=60,u=20,n=Math.max(h,r.width+(t.padding??0)*2,t?.width??0),s=Math.max(u,r.height+(t.padding??0)*2,t?.height??0),{cssStyles:c}=t,m=R.svg(i),a=H(t,{});t.look!=="handDrawn"&&(a.roughness=0,a.fillStyle="solid");let l=[{x:-n/2*.8,y:-s/2},{x:n/2*.8,y:-s/2},{x:n/2,y:-s/2*.6},{x:n/2,y:s/2},{x:-n/2,y:s/2},{x:-n/2,y:-s/2*.6}],p=we(l),g=m.path(p,a),o=i.insert(()=>g,":first-child");return o.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",c),d&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",d),B(t,o),t.intersect=function(e){return L.polygon(t,l,e)},i}Xse=n(()=>{"use strict";N(),q(),$(),K(),e(Qse,"trapezoidalPentagon")});async function Gse(e,t){let{labelStyles:f,nodeStyles:m}=U(t);t.labelStyle=f;let{shapeSvg:i,bbox:n,label:v}=await ce(e,t,ne(t)),p=Pe(u().flowchart?.htmlLabels),l=n.width+(t.padding??0),s=l+n.height,d=l+n.height,c=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-s}],{cssStyles:h}=t,g=R.svg(i),r=H(t,{});t.look!=="handDrawn"&&(r.roughness=0,r.fillStyle="solid");let b=we(c),j=g.path(b,r),o=i.insert(()=>j,":first-child").attr("transform",`translate(${-s/2}, ${s/2})`);return h&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",h),m&&t.look!=="handDrawn"&&o.selectChildren("path").attr("style",m),t.width=l,t.height=s,B(t,o),v.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${s/2-(n.height+(t.padding??0)/(p?2:1)-(n.y-(n.top??0)))})`),t.intersect=function(e){return a.info("Triangle intersect",t,c,e),L.polygon(t,c,e)},i}Yse=n(()=>{"use strict";x(),N(),q(),$(),K(),N(),me(),P(),e(Gse,"triangle")});async function qse(e,t){let{labelStyles:j,nodeStyles:m}=U(t);t.labelStyle=j;let{shapeSvg:d,bbox:s,label:p}=await ce(e,t,ne(t)),n=Math.max(s.width+(t.padding??0)*2,t?.width??0),c=Math.max(s.height+(t.padding??0)*2,t?.height??0),r=c/8,i=c+r,{cssStyles:u}=t,h=70-n,o=h>0?h/2:0,g=R.svg(d),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let f=[{x:-n/2-o,y:i/2},...Jr(-n/2-o,i/2,n/2+o,i/2,r,.8),{x:n/2+o,y:-i/2},{x:-n/2-o,y:-i/2}],v=we(f),b=g.path(v,l),a=d.insert(()=>b,":first-child");return a.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",u),m&&t.look!=="handDrawn"&&a.selectAll("path").attr("style",m),a.attr("transform",`translate(0,${-r/2})`),p.attr("transform",`translate(${-n/2+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-r-(s.y-(s.top??0))})`),B(t,a),t.intersect=function(e){return L.polygon(t,f,e)},d}Kse=n(()=>{"use strict";N(),q(),K(),$(),e(qse,"waveEdgedRectangle")});async function Use(e,t){let{labelStyles:j,nodeStyles:p}=U(t);t.labelStyle=j;let{shapeSvg:c,bbox:u}=await ce(e,t,ne(t)),g=100,v=50,h=Math.max(u.width+(t.padding??0)*2,t?.width??0),d=Math.max(u.height+(t.padding??0)*2,t?.height??0),l=h/d,n=h,s=d;n>s*l?s=n/l:n=s*l,n=Math.max(n,g),s=Math.max(s,v);let r=Math.min(s*.2,s/4),o=s+r*2,{cssStyles:m}=t,b=R.svg(c),a=H(t,{});t.look!=="handDrawn"&&(a.roughness=0,a.fillStyle="solid");let f=[{x:-n/2,y:o/2},...Jr(-n/2,o/2,n/2,o/2,r,1),{x:n/2,y:-o/2},...Jr(n/2,-o/2,-n/2,-o/2,r,-1)],y=we(f),_=b.path(y,a),i=c.insert(()=>_,":first-child");return i.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",m),p&&t.look!=="handDrawn"&&i.selectAll("path").attr("style",p),B(t,i),t.intersect=function(e){return L.polygon(t,f,e)},c}Ise=n(()=>{"use strict";N(),q(),$(),K(),e(Use,"waveRectangle")});async function Hse(e,t){let{labelStyles:p,nodeStyles:h}=U(t);t.labelStyle=p;let{shapeSvg:d,bbox:i,label:m}=await ce(e,t,ne(t)),a=Math.max(i.width+(t.padding??0)*2,t?.width??0),r=Math.max(i.height+(t.padding??0)*2,t?.height??0),n=5,o=-a/2,s=-r/2,{cssStyles:u}=t,f=R.svg(d),l=H(t,{}),g=[{x:o-n,y:s-n},{x:o-n,y:s+r},{x:o+a,y:s+r},{x:o+a,y:s-n}],v=`M${o-n},${s-n} L${o+a},${s-n} L${o+a},${s+r} L${o-n},${s+r} L${o-n},${s-n}
                M${o-n},${s} L${o+a},${s}
                M${o},${s-n} L${o},${s+r}`;t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let b=f.path(v,l),c=d.insert(()=>b,":first-child");return c.attr("transform",`translate(${n/2}, ${n/2})`),c.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",u),h&&t.look!=="handDrawn"&&c.selectAll("path").attr("style",h),m.attr("transform",`translate(${-(i.width/2)+n/2-(i.x-(i.left??0))}, ${-(i.height/2)+n/2-(i.y-(i.top??0))})`),B(t,c),t.intersect=function(e){return L.polygon(t,g,e)},d}Pse=n(()=>{"use strict";N(),$(),K(),q(),e(Hse,"windowPane")});async function ZR(e,t){let O=t;if(O.alias&&(t.label=O.alias),t.look==="handDrawn"){let{themeVariables:n}=De(),{background:s}=n,o={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${s}`]};await ZR(e,o)}let r=De();t.useHtmlLabels=r.htmlLabels;let c=r.er?.diagramPadding??10,b=r.er?.entityPadding??6,{cssStyles:k}=t,{labelStyles:_}=U(t);if(O.attributes.length===0&&t.label){let n={rx:0,ry:0,labelPaddingX:c,labelPaddingY:c*1.5,classes:""};vs(t.label,r)+n.labelPaddingX*2<r.er.minEntityWidth&&(t.width=r.er.minEntityWidth);let s=await Oh(e,t,n);if(!Pe(r.htmlLabels)){let e=s.select("text"),t=e.node()?.getBBox();e.attr("transform",`translate(${-t.width/2}, 0)`)}return s}r.htmlLabels||(c*=1.25,b*=1.25);let x=ne(t);x||(x="node default");let n=e.insert("g").attr("class",x).attr("id",t.domId||t.id),i=await a0(n,t.label??"",r,0,0,["name"],_);i.height+=b;let p=0,g=[],s=0,l=0,d=0,m=0,A=!0,E=!0;for(let e of O.attributes){let t=await a0(n,e.type,r,0,p,["attribute-type"],_);s=Math.max(s,t.width+c);let o=await a0(n,e.name,r,0,p,["attribute-name"],_);l=Math.max(l,o.width+c);let i=await a0(n,e.keys.join(),r,0,p,["attribute-keys"],_);d=Math.max(d,i.width+c);let a=await a0(n,e.comment,r,0,p,["attribute-comment"],_);m=Math.max(m,a.width+c),p+=Math.max(t.height,o.height,i.height,a.height)+b,g.push(p)}g.pop();let v=4;d<=c&&(A=!1,d=0,v--),m<=c&&(E=!1,m=0,v--);let C=n.node().getBBox();if(i.width+c*2-(s+l+d+m)>0){let e=i.width+c*2-(s+l+d+m);s+=e/v,l+=e/v,d>0&&(d+=e/v),m>0&&(m+=e/v)}let S=s+l+d+m,f=R.svg(n),u=H(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let j=Math.max(C.width+c*2,t?.width||0,S),w=Math.max(C.height+(g[0]||p)+b,t?.height||0),a=-j/2,o=-w/2;n.selectAll("g:not(:first-child)").each((e,t,n)=>{let r=y(n[t]),h=r.attr("transform"),u=0,m=0;if(h){let e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(h);e&&(u=parseFloat(e[1]),m=parseFloat(e[2]),r.attr("class").includes("attribute-name")?u+=s:r.attr("class").includes("attribute-keys")?u+=s+l:r.attr("class").includes("attribute-comment")&&(u+=s+l+d))}r.attr("transform",`translate(${a+c/2+u}, ${m+o+i.height+b/2})`)}),n.select(".name").attr("transform","translate("+-i.width/2+", "+(o+b/2)+")");let N=f.rectangle(a,o,j,w,u),M=n.insert(()=>N,":first-child").attr("style",k.join("")),{themeVariables:F}=De(),{rowEven:T,rowOdd:z,nodeBorder:D}=F;g.push(0);for(let[e,t]of g.entries()){if(e===0&&g.length>1)continue;let s=e%2===0&&t!==0,r=f.rectangle(a,i.height+o+t,j,i.height,{...u,fill:s?T:z,stroke:D});n.insert(()=>r,"g.label").attr("style",k.join("")).attr("class",`row-rect-${e%2===0?"even":"odd"}`)}let h=f.line(a,i.height+o,j+a,i.height+o,u);n.insert(()=>h).attr("class","divider"),h=f.line(s+a,i.height+o,s+a,w+o,u),n.insert(()=>h).attr("class","divider"),A&&(h=f.line(s+l+a,i.height+o,s+l+a,w+o,u),n.insert(()=>h).attr("class","divider")),E&&(h=f.line(s+l+d+a,i.height+o,s+l+d+a,w+o,u),n.insert(()=>h).attr("class","divider"));for(let e of g)h=f.line(a,i.height+o+e,j+a,i.height+o+e,u),n.insert(()=>h).attr("class","divider");return B(t,M),t.intersect=function(e){return L.rect(t,e)},n}async function a0(e,t,n,s=0,o=0,i=[],a=""){let l=e.insert("g").attr("class",`label ${i.join(" ")}`).attr("transform",`translate(${s}, ${o})`).attr("style",a);t!==er(t)&&(t=er(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));let r=l.node().appendChild(await ms(l,t,{width:vs(t,n)+100,style:a,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let e=r.children[0];for(e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");e.childNodes[0];)e=e.childNodes[0],e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=r.getBBox();if(Pe(n.htmlLabels)){let e=r.children[0];e.style.textAlign="start";let t=y(r);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}return c}Rse=n(()=>{"use strict";N(),q(),$(),K(),k0(),sn(),Rs(),me(),he(),se(),e(ZR,"erBox"),e(a0,"addText")});async function Lse(e,t,n,s,o=n.class.padding??12){let f=s?0:3,i=e.insert("g").attr("class",ne(t)).attr("id",t.domId||t.id),a=null,d=null,l=null,h=null,c=0,m=0,r=0;if(a=i.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let e=t.annotations[0];await cm(a,{text:`\xAB${e}\xBB`},0),c=a.node().getBBox().height}d=i.insert("g").attr("class","label-group text"),await cm(d,t,0,["font-weight: bolder"]);let p=d.node().getBBox();m=p.height,l=i.insert("g").attr("class","members-group text");let g=0;for(let e of t.members){let n=await cm(l,e,g,[e.parseClassifier()]);g+=n+f}r=l.node().getBBox().height,r<=0&&(r=o/2),h=i.insert("g").attr("class","methods-group text");let v=0;for(let e of t.methods){let n=await cm(h,e,v,[e.parseClassifier()]);v+=n+f}let u=i.node().getBBox();if(a!==null){let e=a.node().getBBox();a.attr("transform",`translate(${-e.width/2})`)}return d.attr("transform",`translate(${-p.width/2}, ${c})`),u=i.node().getBBox(),l.attr("transform",`translate(0, ${c+m+o*2})`),u=i.node().getBBox(),h.attr("transform",`translate(0, ${c+m+(r?r+o*4:o*2)})`),u=i.node().getBBox(),{shapeSvg:i,bbox:u}}async function cm(t,n,s,o=[]){let u=t.insert("g").attr("class","label").attr("style",o.join("; ")),c=De(),l="useHtmlLabels"in n?n.useHtmlLabels:Pe(c.htmlLabels)??!0,i="";"text"in n?i=n.text:i=n.label,!l&&i.startsWith("\\")&&(i=i.substring(1)),_n(i)&&(l=!0);let a=await ms(u,db(Zo(i)),{width:vs(i,c)+50,classes:"markdown-node-label",useHtmlLabels:l},c),r,d=1;if(l){let t=a.children[0],n=y(a);d=t.innerHTML.split("<br>").length,t.innerHTML.includes("</math>")&&(d+=t.innerHTML.split("<mrow>").length-1);let s=t.getElementsByTagName("img");if(s){let t=i.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...s].map(n=>new Promise(s=>{function o(){if(n.style.display="flex",n.style.flexDirection="column",t){let t=c.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,e=parseInt(t,10)*5+"px";n.style.minWidth=e,n.style.maxWidth=e}else n.style.width="100%";s(n)}e(o,"setupImage"),setTimeout(()=>{n.complete&&o()}),n.addEventListener("error",o),n.addEventListener("load",o)})))}r=t.getBoundingClientRect(),n.attr("width",r.width),n.attr("height",r.height)}else{o.includes("font-weight: bolder")&&y(a).selectAll("tspan").attr("font-weight",""),d=a.children.length;let e=a.children[0];(a.textContent===""||a.textContent.includes("&gt"))&&(e.textContent=i[0]+i.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),i[1]===" "&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))),e.textContent==="undefined"&&(e.textContent=""),r=a.getBBox()}return u.attr("transform","translate(0,"+(-r.height/(2*d)+s)+")"),r.height}Nse=n(()=>{"use strict";he(),sn(),N(),se(),P(),Rs(),me(),e(Lse,"textHelper"),e(cm,"addText")});async function zse(e,t){let f=u(),s=f.class.padding??12,d=s,b=t.useHtmlLabels??Pe(f.htmlLabels)??!0,n=t;n.annotations=n.annotations??[],n.members=n.members??[],n.methods=n.methods??[];let{shapeSvg:o,bbox:w}=await Lse(e,t,f,b,d),{labelStyles:j,nodeStyles:E}=U(t);t.labelStyle=j,t.cssStyles=n.styles||"";let a=n.styles?.join(";")||E||"";t.cssStyles||(t.cssStyles=a.replaceAll("!important","").split(";"));let i=n.members.length===0&&n.methods.length===0&&!f.class?.hideEmptyMembersBox,v=R.svg(o),l=H(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let O=w.width,h=w.height;n.members.length===0&&n.methods.length===0?h+=d:n.members.length>0&&n.methods.length===0&&(h+=d*2);let _=-O/2,c=-h/2,C=v.rectangle(_-s,c-s-(i?s:n.members.length===0&&n.methods.length===0?-s/2:0),O+2*s,h+2*s+(i?s*2:n.members.length===0&&n.methods.length===0?-s:0),l),g=o.insert(()=>C,":first-child");g.attr("class","basic label-container");let r=g.node().getBBox();o.selectAll(".text").each((e,t,a)=>{let r=y(a[t]),d=r.attr("transform"),u=0;if(d){let e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(d);e&&(u=parseFloat(e[2]))}let h=u+c+s-(i?s:n.members.length===0&&n.methods.length===0?-s/2:0);b||(h-=4);let l=_;(r.attr("class").includes("label-group")||r.attr("class").includes("annotation-group"))&&(l=-r.node()?.getBBox().width/2||0,o.selectAll("text").each(function(e,t,n){window.getComputedStyle(n[t]).textAnchor==="middle"&&(l=0)})),r.attr("transform",`translate(${l}, ${h})`)});let p=o.select(".annotation-group").node().getBBox().height-(i?s/2:0)||0,m=o.select(".label-group").node().getBBox().height-(i?s/2:0)||0,x=o.select(".members-group").node().getBBox().height-(i?s/2:0)||0;if(n.members.length>0||n.methods.length>0||i){let e=v.line(r.x,p+m+c+s,r.x+r.width,p+m+c+s,l);o.insert(()=>e).attr("class","divider").attr("style",a)}if(i||n.members.length>0||n.methods.length>0){let e=v.line(r.x,p+m+x+c+d*2+s,r.x+r.width,p+m+x+c+s+d*2,l);o.insert(()=>e).attr("class","divider").attr("style",a)}if(n.look!=="handDrawn"&&o.selectAll("path").attr("style",a),g.select(":nth-child(2)").attr("style",a),o.selectAll(".divider").select("path").attr("style",a),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",a),!b){let e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(a);if(t){let e=t[0].replace("color","fill");o.selectAll("tspan").attr("style",e)}else if(j){let t=e.exec(j);if(t){let e=t[0].replace("color","fill");o.selectAll("tspan").attr("style",e)}}}return B(t,g),t.intersect=function(e){return L.rect(t,e)},o}Tse=n(()=>{"use strict";N(),P(),he(),K(),$(),q(),Nse(),me(),e(zse,"classBox")});async function Fse(e,t){let{labelStyles:j,nodeStyles:p}=U(t);t.labelStyle=j;let o=t,u=t,d=20,a=20,v="verifyMethod"in t,_=ne(t),n=e.insert("g").attr("class",_).attr("id",t.domId??t.id),i;v?i=await Yi(n,`&lt;&lt;${o.type}&gt;&gt;`,0,t.labelStyle):i=await Yi(n,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let s=i,r=await Yi(n,o.name,s,t.labelStyle+"; font-weight: bold;");if(s+=r+a,v){let e=await Yi(n,`${o.requirementId?`Id: ${o.requirementId}`:""}`,s,t.labelStyle);s+=e;let i=await Yi(n,`${o.text?`Text: ${o.text}`:""}`,s,t.labelStyle);s+=i;let a=await Yi(n,`${o.risk?`Risk: ${o.risk}`:""}`,s,t.labelStyle);s+=a,await Yi(n,`${o.verifyMethod?`Verification: ${o.verifyMethod}`:""}`,s,t.labelStyle)}else{let e=await Yi(n,`${u.type?`Type: ${u.type}`:""}`,s,t.labelStyle);s+=e,await Yi(n,`${u.docRef?`Doc Ref: ${u.docRef}`:""}`,s,t.labelStyle)}let h=(n.node()?.getBBox().width??200)+d,m=(n.node()?.getBBox().height??200)+d,l=-h/2,f=-m/2,g=R.svg(n),c=H(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let w=g.rectangle(l,f,h,m,c),b=n.insert(()=>w,":first-child");if(b.attr("class","basic label-container").attr("style",p),n.selectAll(".label").each((e,t,n)=>{let s=y(n[t]),o=s.attr("transform"),i=0,a=0;if(o){let e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(o);e&&(i=parseFloat(e[1]),a=parseFloat(e[2]))}let c=a-m/2,r=l+d/2;(t===0||t===1)&&(r=i),s.attr("transform",`translate(${r}, ${c+d})`)}),s>i+r+a){let e=g.line(l,f+i+r+a,l+h,f+i+r+a,c);n.insert(()=>e).attr("style",p)}return B(t,b),t.intersect=function(e){return L.rect(t,e)},n}async function Yi(e,t,n,s=""){if(t==="")return 0;let r=e.insert("g").attr("class","label").attr("style",s),a=u(),c=a.htmlLabels??!0,i=await ms(r,db(Zo(t)),{width:vs(t,a)+50,classes:"markdown-node-label",useHtmlLabels:c,style:s},a),o;if(c){let t=i.children[0],e=y(i);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}else{let e=i.children[0];for(let t of e.children)t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),s&&t.setAttribute("style",s);o=i.getBBox(),o.height+=6}return r.attr("transform",`translate(${-o.width/2},${-o.height/2+n})`),o.height}Mse=n(()=>{"use strict";N(),q(),$(),K(),se(),P(),Rs(),he(),e(Fse,"requirementBox"),e(Yi,"addText")});async function Sse(e,t,{config:n}){let{labelStyles:E,nodeStyles:C}=U(t);t.labelStyle=E||"";let x=10,O=t.width;t.width=(t.width??200)-10;let{shapeSvg:s,bbox:l,label:w}=await ce(e,t,ne(t)),p=t.padding||10,v="",g;"ticket"in t&&t.ticket&&n?.kanban?.ticketBaseUrl&&(v=n?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),g=s.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",v).attr("target","_blank"));let f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},m,h;g?{label:m,bbox:h}=await ov(g,"ticket"in t&&t.ticket||"",f):{label:m,bbox:h}=await ov(s,"ticket"in t&&t.ticket||"",f);let{label:y,bbox:j}=await ov(s,"assigned"in t&&t.assigned||"",f);t.width=O;let _=10,o=t?.width||0,u=Math.max(h.height,j.height)/2,i=Math.max(l.height+_*2,t?.height||0)+u,d=-o/2,c=-i/2;w.attr("transform","translate("+(p-o/2)+", "+(-u-l.height/2)+")"),m.attr("transform","translate("+(p-o/2)+", "+(-u+l.height/2)+")"),y.attr("transform","translate("+(p+o/2-j.width-2*x)+", "+(-u+l.height/2)+")");let r,{rx:a,ry:b}=t,{cssStyles:k}=t;if(t.look==="handDrawn"){let e=R.svg(s),n=H(t,{}),l=a||b?e.path(va(d,c,o,i,a||0),n):e.rectangle(d,c,o,i,n);r=s.insert(()=>l,":first-child"),r.attr("class","basic label-container").attr("style",k||null)}else{r=s.insert("rect",":first-child"),r.attr("class","basic label-container __APA__").attr("style",C).attr("rx",a??5).attr("ry",b??5).attr("x",d).attr("y",c).attr("width",o).attr("height",i);let e="priority"in t&&t.priority;if(e){let n=s.append("line"),t=d+2,o=c+Math.floor((a??0)/2),r=c+i-Math.floor((a??0)/2);n.attr("x1",t).attr("y1",o).attr("x2",t).attr("y2",r).attr("stroke-width","4").attr("stroke",kse(e))}}return B(t,r),t.height=i,t.intersect=function(e){return L.rect(t,e)},s}Ese=n(()=>{"use strict";N(),q(),nl(),$(),K(),kse=e(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),e(Sse,"kanbanItem")});function Cse(e){return e in pP}gP=n(()=>{"use strict";Aae(),Eae(),Oae(),jae(),fae(),uae(),lae(),rae(),iae(),sae(),Qie(),Gie(),qie(),Wie(),Vie(),Iie(),Pie(),Nie(),zie(),Fie(),Sie(),kie(),Cie(),Oie(),_ie(),jie(),vie(),pie(),mie(),cie(),aie(),oie(),nie(),eie(),Qoe(),Goe(),$oe(),Boe(),Hoe(),Roe(),Noe(),zoe(),Foe(),Soe(),Eoe(),Ooe(),_oe(),voe(),foe(),aoe(),Zse(),Xse(),Yse(),Kse(),Ise(),Pse(),Rse(),Tse(),Mse(),Ese(),xse=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Loe},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Voe},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Doe},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:xoe},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:nae},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:vae},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Joe},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Rie},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:gie},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:bie},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:soe},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:wie},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Yie},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:poe},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:xae},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Ioe},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:koe},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Moe},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Bie},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Die},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:dae},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:cae},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:aae},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:fie},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:qse},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Hie},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:uoe},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:hie},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:oae},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Xie},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Gse},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Hse},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Uie},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Qse},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:$ie},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Poe},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:sie},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:iie},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:kae},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:hae},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:yoe},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:woe},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Use},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Xoe},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:rie}],Ose=e(()=>{let e=[...Object.entries({state:Toe,choice:_ae,note:tie,rectWithTitle:Woe,labelRect:yie,iconSquare:Eie,iconCircle:Mie,icon:Tie,iconRounded:Aie,imageSquare:xie,anchor:Sae,kanbanItem:Sse,classBox:zse,erBox:ZR,requirementBox:Fse}),...xse.flatMap(e=>[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]].map(t=>[t,e.handler]))];return Object.fromEntries(e)},"generateShapeMap"),pP=Ose(),e(Cse,"isValidShape")}),yse=n(()=>{"use strict";he(),i9(),P(),x(),gP(),se(),me(),_t(),wse="flowchart-",_se=class{constructor(){this.vertexCounter=0,this.config=u(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=It,this.setAccDescription=Gt,this.setDiagramTitle=nn,this.getAccTitle=Yt,this.getAccDescription=Qt,this.getDiagramTitle=Ft,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{e(this,"FlowDB")}sanitizeText(e){return w.sanitizeText(e,this.config)}lookUpDomId(e){for(let t of this.vertices.values())if(t.id===e)return t.domId;return e}addVertex(e,t,n,s,o,i,a={},r){if(!e||e.trim().length===0)return;let c;if(r!==void 0){let e;r.includes(`
`)?e=r+`
`:e=`{
`+r+`
}`,c=r9(e,{schema:c9})}let h=this.edges.find(t=>t.id===e);if(h){let e=c;e?.animate!==void 0&&(h.animate=e.animate),e?.animation!==void 0&&(h.animation=e.animation);return}let d,l=this.vertices.get(e);if(l===void 0&&(l={id:e,labelType:"text",domId:wse+e+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(e,l)),this.vertexCounter++,t!==void 0?(this.config=u(),d=this.sanitizeText(t.text.trim()),l.labelType=t.type,d.startsWith('"')&&d.endsWith('"')&&(d=d.substring(1,d.length-1)),l.text=d):l.text===void 0&&(l.text=e),n!==void 0&&(l.type=n),s?.forEach(e=>{l.styles.push(e)}),o?.forEach(e=>{l.classes.push(e)}),i!==void 0&&(l.dir=i),l.props===void 0?l.props=a:a!==void 0&&Object.assign(l.props,a),c!==void 0){if(c.shape){if(c.shape!==c.shape.toLowerCase()||c.shape.includes("_"))throw new Error(`No such shape: ${c.shape}. Shape names should be lowercase.`);if(!Cse(c.shape))throw new Error(`No such shape: ${c.shape}.`);l.type=c?.shape}c?.label&&(l.text=c?.label),c?.icon&&(l.icon=c?.icon,!c.label?.trim()&&l.text===e&&(l.text="")),c?.form&&(l.form=c?.form),c?.pos&&(l.pos=c?.pos),c?.img&&(l.img=c?.img,!c.label?.trim()&&l.text===e&&(l.text="")),c?.constraint&&(l.constraint=c.constraint),c.w&&(l.assetWidth=Number(c.w)),c.h&&(l.assetHeight=Number(c.h))}}addSingleLink(e,t,n,s){let o={start:e,end:t,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};a.info("abc78 Got edge...",o);let i=n.text;if(i!==void 0&&(o.text=this.sanitizeText(i.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=i.type),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length>10?10:n.length),s&&!this.edges.some(e=>e.id===s))o.id=s,o.isUserDefinedId=!0;else{let e=this.edges.filter(e=>e.start===o.start&&e.end===o.end);e.length===0?o.id=M1(o.start,o.end,{counter:0,prefix:"L"}):o.id=M1(o.start,o.end,{counter:e.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))a.info("Pushing edge..."),this.edges.push(o);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(e){return e!==null&&typeof e=="object"&&"id"in e&&typeof e.id=="string"}addLink(e,t,n){let s=this.isLinkData(n)?n.id.replace("@",""):void 0;a.info("addLink",e,t,s);for(let o of e)for(let i of t){let a=o===e[e.length-1],r=i===t[0];a&&r?this.addSingleLink(o,i,n,s):this.addSingleLink(o,i,n,void 0)}}updateLinkInterpolate(e,t){e.forEach(e=>{e==="default"?this.edges.defaultInterpolate=t:this.edges[e].interpolate=t})}updateLink(e,t){e.forEach(e=>{if(typeof e=="number"&&e>=this.edges.length)throw new Error(`The index ${e} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);e==="default"?this.edges.defaultStyle=t:(this.edges[e].style=t,(this.edges[e]?.style?.length??0)>0&&!this.edges[e]?.style?.some(e=>e?.startsWith("fill"))&&this.edges[e]?.style?.push("fill:none"))})}addClass(e,t){let n=t.join().replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(/§§§/g,",").split(";");e.split(",").forEach(e=>{let t=this.classes.get(e);t===void 0&&(t={id:e,styles:[],textStyles:[]},this.classes.set(e,t)),n?.forEach(e=>{if(/color/.exec(e)){let n=e.replace("fill","bgFill");t.textStyles.push(n)}t.styles.push(e)})})}setDirection(e){this.direction=e,/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(e,t){for(let n of e.split(",")){let s=this.vertices.get(n);s&&s.classes.push(t);let o=this.edges.find(e=>e.id===n);o&&o.classes.push(t);let i=this.subGraphLookup.get(n);i&&i.classes.push(t)}}setTooltip(e,t){if(t!==void 0){t=this.sanitizeText(t);for(let n of e.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(n):n,t)}}setClickFun(e,t,n){let i=this.lookUpDomId(e);if(u().securityLevel!=="loose"||t===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<s.length;t++){let e=s[t].trim();e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),s[t]=e}}s.length===0&&s.push(e);let o=this.vertices.get(e);o&&(o.haveCallback=!0,this.funs.push(()=>{let e=document.querySelector(`[id="${i}"]`);e!==null&&e.addEventListener("click",()=>{le.runFunc(t,...s)},!1)}))}setLink(e,t,n){e.split(",").forEach(e=>{let s=this.vertices.get(e);s!==void 0&&(s.link=le.formatUrl(t,this.config),s.linkTarget=n)}),this.setClass(e,"clickable")}getTooltip(e){return this.tooltips.get(e)}setClickEvent(e,t,n){e.split(",").forEach(e=>{this.setClickFun(e,t,n)}),this.setClass(e,"clickable")}bindFunctions(e){this.funs.forEach(t=>{t(e)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(e){let t=y(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=y("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),y(e).select("svg").selectAll("g.node").on("mouseover",e=>{let s=y(e.currentTarget);if(s.attr("title")===null)return;let n=e.currentTarget?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(s.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",e=>{t.transition().duration(500).style("opacity",0),y(e.currentTarget).classed("hover",!1)})}clear(e="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=e,this.config=u(),Tt()}setGen(e){this.version=e||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(t,n,s){let i=t.text.trim(),r=s.text;t===s&&/\s/.exec(s.text)&&(i=void 0);let l=e(e=>{let t={boolean:{},number:{},string:{}},n=[],s;return{nodeList:e.filter(function(e){let o=typeof e;return e.stmt&&e.stmt==="dir"?(s=e.value,!1):e.trim()!==""&&(o in t?!t[o].hasOwnProperty(e)&&(t[o][e]=!0):!n.includes(e)&&n.push(e))}),dir:s}},"uniq"),{nodeList:c,dir:d}=l(n.flat());if(this.version==="gen-1")for(let e=0;e<c.length;e++)c[e]=this.lookUpDomId(c[e]);i=i??"subGraph"+this.subCount,r=r||"",r=this.sanitizeText(r),this.subCount=this.subCount+1;let o={id:i,nodes:c,title:r.trim(),classes:[],dir:d,labelType:s.type};return a.info("Adding",o.id,o.nodes,o.dir),o.nodes=this.makeUniq(o,this.subGraphs).nodes,this.subGraphs.push(o),this.subGraphLookup.set(i,o),i}getPosForId(e){for(let[t,n]of this.subGraphs.entries())if(n.id===e)return t;return-1}indexNodes2(e,t){let o=this.subGraphs[t].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=t,this.subGraphs[t].id===e)return{result:!0,count:0};let n=0,s=1;for(;n<o.length;){let t=this.getPosForId(o[n]);if(t>=0){let n=this.indexNodes2(e,t);if(n.result)return{result:!0,count:s+n.count};s=s+n.count}n=n+1}return{result:!1,count:s}}getDepthFirstPos(e){return this.posCrossRef[e]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return!!this.firstGraphFlag&&(this.firstGraphFlag=!1,!0)}destructStartLink(e){let t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1);break}let s="normal";return t.includes("=")&&(s="thick"),t.includes(".")&&(s="dotted"),{type:n,stroke:s}}countChar(e,t){let s=t.length,n=0;for(let o=0;o<s;++o)t[o]===e&&++n;return n}destructEndLink(e){let s=e.trim(),t=s.slice(0,-1),n="arrow_open";switch(s.slice(-1)){case"x":n="arrow_cross",s.startsWith("x")&&(n="double_"+n,t=t.slice(1));break;case">":n="arrow_point",s.startsWith("<")&&(n="double_"+n,t=t.slice(1));break;case"o":n="arrow_circle",s.startsWith("o")&&(n="double_"+n,t=t.slice(1));break}let o="normal",i=t.length-1;t.startsWith("=")&&(o="thick"),t.startsWith("~")&&(o="invisible");let a=this.countChar(".",t);return a&&(o="dotted",i=a),{type:n,stroke:o,length:i}}destructLink(e,t){let s=this.destructEndLink(e),n;if(t){if(n=this.destructStartLink(t),n.stroke!==s.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=s.type;else{if(n.type!==s.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=s.length,n}return s}exists(e,t){for(let n of e)if(n.nodes.includes(t))return!0;return!1}makeUniq(e,t){let n=[];return e.nodes.forEach((s,o)=>{this.exists(t,s)||n.push(e.nodes[o])}),{nodes:n}}getTypeFromVertex(e){if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}findNode(e,t){return e.find(e=>e.id===t)}destructEdgeType(e){let t="none",n="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":n=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),n=t;break}return{arrowTypeStart:t,arrowTypeEnd:n}}addNodeFromVertex(e,t,n,s,o,i){let r=n.get(e.id),c=s.get(e.id)??!1,a=this.findNode(t,e.id);if(a)a.cssStyles=e.styles,a.cssCompiledStyles=this.getCompiledStyles(e.classes),a.cssClasses=e.classes.join(" ");else{let n={id:e.id,label:e.text,labelStyle:"",parentId:r,padding:o.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:i,link:e.link,linkTarget:e.linkTarget,tooltip:this.getTooltip(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};c?t.push({...n,isGroup:!0,shape:"rect"}):t.push({...n,isGroup:!1,shape:this.getTypeFromVertex(e)})}}getCompiledStyles(e){let t=[];for(let s of e){let n=this.classes.get(s);n?.styles&&(t=[...t,...n.styles??[]].map(e=>e.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(e=>e.trim()))}return t}getData(){let e=u(),n=[],o=[],t=this.getSubGraphs(),s=new Map,i=new Map;for(let n=t.length-1;n>=0;n--){let e=t[n];e.nodes.length>0&&i.set(e.id,!0);for(let t of e.nodes)s.set(t,e.id)}for(let i=t.length-1;i>=0;i--){let o=t[i];n.push({id:o.id,label:o.title,labelStyle:"",parentId:s.get(o.id),padding:8,cssCompiledStyles:this.getCompiledStyles(o.classes),cssClasses:o.classes.join(" "),shape:"rect",dir:o.dir,isGroup:!0,look:e.look})}this.getVertices().forEach(t=>{this.addNodeFromVertex(t,n,s,i,e,e.look||"classic")});let a=this.getEdges();return a.forEach((t,n)=>{let{arrowTypeStart:i,arrowTypeEnd:r}=this.destructEdgeType(t.type),s=[...a.defaultStyle??[]];t.style&&s.push(...t.style);let c={id:M1(t.start,t.end,{counter:n,prefix:"L"},t.id),isUserDefinedId:t.isUserDefinedId,start:t.start,end:t.end,type:t.type??"normal",label:t.text,labelpos:"c",thickness:t.stroke,minlen:t.length,classes:t?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:t?.stroke==="invisible"||t?.type==="arrow_open"?"none":i,arrowTypeEnd:t?.stroke==="invisible"||t?.type==="arrow_open"?"none":r,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(t.classes),labelStyle:s,style:s,pattern:t.stroke,look:e.look,animate:t.animate,animation:t.animation,curve:t.interpolate||this.edges.defaultInterpolate||e.flowchart?.curve};o.push(c)}),{nodes:n,edges:o,other:{},config:e}}defaultConfig(){return pA.flowchart}}}),H4=n(()=>{"use strict";he(),I4=e((e,t)=>{let n;return t==="sandbox"&&(n=y("#i"+e)),y(t==="sandbox"?n.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement")}),Bm=n(()=>{"use strict";F4=e(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,n=e?.subGraphTitleMargin?.bottom??0,s=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins")}),Qg=n(()=>{"use strict";P(),me(),x(),Bm(),he(),K(),Rs(),oD(),T5(),nl(),$(),xP=e(async(e,t)=>{a.info("Creating subgraph rect for ",t.id,t);let r=u(),{themeVariables:x,handDrawnSeed:O}=r,{clusterBkg:w,clusterBorder:_}=x,{labelStyles:h,nodeStyles:j,borderStyles:b,backgroundStyles:g}=U(t),o=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=Pe(r.flowchart.htmlLabels),d=o.insert("g").attr("class","cluster-label "),l=await ms(d,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0}),n=l.getBBox();if(Pe(r.flowchart.htmlLabels)){let t=l.children[0],e=y(l);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}let i=t.width<=n.width+t.padding?n.width+t.padding:t.width;t.width<=n.width+t.padding?t.diff=(i-t.width)/2-t.padding:t.diff=-t.padding;let c=t.height,m=t.x-i/2,f=t.y-c/2;a.trace("Data ",t,JSON.stringify(t));let s;if(t.look==="handDrawn"){let n=R.svg(o),r=H(t,{roughness:.7,fill:w,stroke:_,fillWeight:3,seed:O}),e=n.path(va(m,f,i,c,0),r);s=o.insert(()=>(a.debug("Rough node insert CXC",e),e),":first-child"),s.select("path:nth-child(2)").attr("style",b.join(";")),s.select("path").attr("style",g.join(";").replace("fill","stroke"))}else s=o.insert("rect",":first-child"),s.attr("style",j).attr("rx",t.rx).attr("ry",t.ry).attr("x",m).attr("y",f).attr("width",i).attr("height",c);let{subGraphTitleTopMargin:C}=F4(r);if(d.attr("transform",`translate(${t.x-n.width/2}, ${t.y-t.height/2+C})`),h){let e=d.select("span");e&&e.attr("style",h)}let p=s.node().getBBox();return t.offsetX=0,t.width=p.width,t.height=p.height,t.offsetY=n.height-t.padding/2,t.intersect=function(e){return ud(t,e)},{cluster:o,labelBBox:n}},"rect"),jse=e((e,t)=>{let s=e.insert("g").attr("class","note-cluster").attr("id",t.id),o=s.insert("rect",":first-child"),n=0*t.padding,i=n/2;o.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");let a=o.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(e){return ud(t,e)},{cluster:s,labelBBox:{width:0,height:0}}},"noteGroup"),bse=e(async(e,t)=>{let m=u(),{themeVariables:C,handDrawnSeed:h}=m,{altBackground:x,compositeBackground:O,compositeTitleBackground:w,nodeBorder:g}=C,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),j=o.insert("g",":first-child"),p=o.insert("g").attr("class","cluster-label"),f=o.append("rect"),d=p.node().appendChild(await jc(t.label,t.labelStyle,void 0,!0)),n=d.getBBox();if(Pe(m.flowchart.htmlLabels)){let t=d.children[0],e=y(d);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}let l=0*t.padding,_=l/2,s=(t.width<=n.width+t.padding?n.width+t.padding:t.width)+l;t.width<=n.width+t.padding?t.diff=(s-t.width)/2-t.padding:t.diff=-t.padding;let c=t.height+l,v=t.height+l-n.height-6,a=t.x-s/2,r=t.y-c/2;t.width=s;let b=t.y-t.height/2-_+n.height+2,i;if(t.look==="handDrawn"){let n=t.cssClasses.includes("statediagram-cluster-alt"),e=R.svg(o),l=t.rx||t.ry?e.path(va(a,r,s,c,10),{roughness:.7,fill:w,fillStyle:"solid",stroke:g,seed:h}):e.rectangle(a,r,s,c,{seed:h});i=o.insert(()=>l,":first-child");let d=e.rectangle(a,b,s,v,{fill:n?x:O,fillStyle:n?"hachure":"solid",stroke:g,seed:h});i=o.insert(()=>l,":first-child"),f=o.insert(()=>d)}else i=j.insert("rect",":first-child"),i.attr("class","outer").attr("x",a).attr("y",r).attr("width",s).attr("height",c).attr("data-look",t.look),f.attr("class","inner").attr("x",a).attr("y",b).attr("width",s).attr("height",v);p.attr("transform",`translate(${t.x-n.width/2}, ${r+1-(Pe(m.flowchart.htmlLabels)?0:3)})`);let E=i.node().getBBox();return t.height=E.height,t.offsetX=0,t.offsetY=n.height-t.padding/2,t.labelBBox=n,t.intersect=function(e){return ud(t,e)},{cluster:o,labelBBox:n}},"roundedWithTitle"),gse=e(async(e,t)=>{a.info("Creating subgraph rect for ",t.id,t);let r=u(),{themeVariables:x,handDrawnSeed:O}=r,{clusterBkg:w,clusterBorder:_}=x,{labelStyles:h,nodeStyles:j,borderStyles:b,backgroundStyles:g}=U(t),o=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=Pe(r.flowchart.htmlLabels),d=o.insert("g").attr("class","cluster-label "),l=await ms(d,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0,width:t.width}),n=l.getBBox();if(Pe(r.flowchart.htmlLabels)){let t=l.children[0],e=y(l);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}let i=t.width<=n.width+t.padding?n.width+t.padding:t.width;t.width<=n.width+t.padding?t.diff=(i-t.width)/2-t.padding:t.diff=-t.padding;let c=t.height,m=t.x-i/2,f=t.y-c/2;a.trace("Data ",t,JSON.stringify(t));let s;if(t.look==="handDrawn"){let n=R.svg(o),r=H(t,{roughness:.7,fill:w,stroke:_,fillWeight:4,seed:O}),e=n.path(va(m,f,i,c,t.rx),r);s=o.insert(()=>(a.debug("Rough node insert CXC",e),e),":first-child"),s.select("path:nth-child(2)").attr("style",b.join(";")),s.select("path").attr("style",g.join(";").replace("fill","stroke"))}else s=o.insert("rect",":first-child"),s.attr("style",j).attr("rx",t.rx).attr("ry",t.ry).attr("x",m).attr("y",f).attr("width",i).attr("height",c);let{subGraphTitleTopMargin:C}=F4(r);if(d.attr("transform",`translate(${t.x-n.width/2}, ${t.y-t.height/2+C})`),h){let e=d.select("span");e&&e.attr("style",h)}let p=s.node().getBBox();return t.offsetX=0,t.width=p.width,t.height=p.height,t.offsetY=n.height-t.padding/2,t.intersect=function(e){return ud(t,e)},{cluster:o,labelBBox:n}},"kanbanSection"),pse=e((e,t)=>{let m=u(),{themeVariables:f,handDrawnSeed:h}=m,{nodeBorder:d}=f,n=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=n.insert("g",":first-child"),r=0*t.padding,o=t.width+r;t.diff=-t.padding;let i=t.height+r,a=t.x-o/2,c=t.y-i/2;t.width=o;let s;if(t.look==="handDrawn"){let e=R.svg(n).rectangle(a,c,o,i,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:d,seed:h});s=n.insert(()=>e,":first-child")}else s=l.insert("rect",":first-child"),s.attr("class","divider").attr("x",a).attr("y",c).attr("width",o).attr("height",i).attr("data-look",t.look);let p=s.node().getBBox();return t.height=p.height,t.offsetX=0,t.offsetY=0,t.intersect=function(e){return ud(t,e)},{cluster:n,labelBBox:{}}},"divider"),fse=xP,mse={rect:xP,squareRect:fse,roundedWithTitle:bse,noteGroup:jse,divider:pse,kanbanSection:gse},FP=new Map,n5=e(async(e,t)=>{let s=t.shape||"rect",n=await mse[s](e,t);return FP.set(t.id,n),n},"insertCluster"),hse=e(()=>{FP=new Map},"clear")});function qm(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=tt(e),t=tt(t);let[o,i]=[e.x,e.y],[a,r]=[t.x,t.y],n=a-o,s=r-i;return{angle:Math.atan(s/n),deltaX:n,deltaY:s}}HP=n(()=>{"use strict";Is={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4},e(qm,"calculateDeltaAndAngle"),tt=e(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),PP=e(t=>({x:e(function(e,n,s){let o=0,l=tt(s[0]).x<tt(s[s.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Is,t.arrowTypeStart)){let{angle:e,deltaX:n}=qm(s[0],s[1]);o=Is[t.arrowTypeStart]*Math.cos(e)*(n>=0?1:-1)}else if(n===s.length-1&&Object.hasOwn(Is,t.arrowTypeEnd)){let{angle:e,deltaX:n}=qm(s[s.length-1],s[s.length-2]);o=Is[t.arrowTypeEnd]*Math.cos(e)*(n>=0?1:-1)}let i=Math.abs(tt(e).x-tt(s[s.length-1]).x),u=Math.abs(tt(e).y-tt(s[s.length-1]).y),a=Math.abs(tt(e).x-tt(s[0]).x),h=Math.abs(tt(e).y-tt(s[0]).y),r=Is[t.arrowTypeStart],c=Is[t.arrowTypeEnd],d=1;if(i<c&&i>0&&u<c){let e=c+d-i;e*=l==="right"?-1:1,o-=e}if(a<r&&a>0&&h<r){let e=r+d-a;e*=l==="right"?-1:1,o+=e}return tt(e).x+o},"x"),y:e(function(e,n,s){let o=0,l=tt(s[0]).y<tt(s[s.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Is,t.arrowTypeStart)){let{angle:e,deltaY:n}=qm(s[0],s[1]);o=Is[t.arrowTypeStart]*Math.abs(Math.sin(e))*(n>=0?1:-1)}else if(n===s.length-1&&Object.hasOwn(Is,t.arrowTypeEnd)){let{angle:e,deltaY:n}=qm(s[s.length-1],s[s.length-2]);o=Is[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(n>=0?1:-1)}let i=Math.abs(tt(e).y-tt(s[s.length-1]).y),u=Math.abs(tt(e).x-tt(s[s.length-1]).x),a=Math.abs(tt(e).y-tt(s[0]).y),h=Math.abs(tt(e).x-tt(s[0]).x),r=Is[t.arrowTypeStart],c=Is[t.arrowTypeEnd],d=1;if(i<c&&i>0&&u<c){let e=c+d-i;e*=l==="up"?-1:1,o-=e}if(a<r&&a>0&&h<r){let e=r+d-a;e*=l==="up"?-1:1,o+=e}return tt(e).y+o},"y")}),"getLineFunctionsWithOffset")}),lse=n(()=>{"use strict";x(),use=e((e,t,n,s,o,i)=>{t.arrowTypeStart&&VP(e,"start",t.arrowTypeStart,n,s,o,i),t.arrowTypeEnd&&VP(e,"end",t.arrowTypeEnd,n,s,o,i)},"addEdgeMarkers"),dse={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},VP=e((e,t,n,s,o,i,r)=>{let c=dse[n];if(!c){a.warn(`Unknown arrow type: ${n}`);return}let d=c.type,l=`${o}_${i}-${d}${t==="start"?"Start":"End"}`;if(r&&r.trim()!==""){let o=r.replace(/[^\dA-Za-z]/g,"_"),n=`${l}_${o}`;if(!document.getElementById(n)){let e=document.getElementById(l);if(e){let t=e.cloneNode(!0);t.id=n,t.querySelectorAll("path, circle, line").forEach(e=>{e.setAttribute("stroke",r),c.fill&&e.setAttribute("fill",r)}),e.parentNode?.appendChild(t)}}e.attr(`marker-${t}`,`url(${s}#${n})`)}else e.attr(`marker-${t}`,`url(${s}#${l})`)},"addEdgeMarker")});function r8(e,t){u().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function cse(e){let t=[],n=[];for(let o=1;o<e.length-1;o++){let i=e[o-1],s=e[o],a=e[o+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(t.push(s),n.push(o))}return{cornerPoints:t,cornerPointPositions:n}}oH=n(()=>{"use strict";P(),me(),x(),Rs(),se(),HP(),Bm(),he(),K(),T5(),lse(),$(),l8=new Map,cn=new Map,ise=e(()=>{l8.clear(),cn.clear()},"clear"),g4=e(e=>e?e.reduce((e,t)=>e+";"+t,""):"","getLabelStyles"),XP=e(async(e,t)=>{let i=Pe(u().flowchart.htmlLabels),o=await ms(e,t.label,{style:g4(t.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});a.info("abc82",t,t.labelType);let r=e.insert("g").attr("class","edgeLabel"),c=r.insert("g").attr("class","label");c.node().appendChild(o);let s=o.getBBox();if(i){let t=o.children[0],e=y(o);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}c.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),l8.set(t.id,r),t.width=s.width,t.height=s.height;let n;if(t.startLabelLeft){let s=await jc(t.startLabelLeft,g4(t.labelStyle)),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),cn.get(t.id)||cn.set(t.id,{}),cn.get(t.id).startLeft=o,r8(n,t.startLabelLeft)}if(t.startLabelRight){let s=await jc(t.startLabelRight,g4(t.labelStyle)),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=o.node().appendChild(s),i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),cn.get(t.id)||cn.set(t.id,{}),cn.get(t.id).startRight=o,r8(n,t.startLabelRight)}if(t.endLabelLeft){let s=await jc(t.endLabelLeft,g4(t.labelStyle)),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(s),cn.get(t.id)||cn.set(t.id,{}),cn.get(t.id).endLeft=o,r8(n,t.endLabelLeft)}if(t.endLabelRight){let s=await jc(t.endLabelRight,g4(t.labelStyle)),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(s),cn.get(t.id)||cn.set(t.id,{}),cn.get(t.id).endRight=o,r8(n,t.endLabelRight)}return o},"insertEdgeLabel"),e(r8,"setTerminalWidth"),QP=e((e,t)=>{a.debug("Moving label abc88 ",e.id,e.label,l8.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath,s=u(),{subGraphTitleTotalMargin:o}=F4(s);if(e.label){let r=l8.get(e.id),s=e.x,i=e.y;if(n){let o=le.calcLabelPosition(n);a.debug("Moving label "+e.label+" from (",s,",",i,") to (",o.x,",",o.y,") abc88"),t.updatedPath&&(s=o.x,i=o.y)}r.attr("transform",`translate(${s}, ${i+o/2})`)}if(e.startLabelLeft){let o=cn.get(e.id).startLeft,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.startLabelRight){let o=cn.get(e.id).startRight,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.endLabelLeft){let o=cn.get(e.id).endLeft,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.endLabelRight){let o=cn.get(e.id).endRight,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}},"positionEdgeLabel"),Zne=e((e,t)=>{let n=e.x,s=e.y,o=Math.abs(t.x-n),i=Math.abs(t.y-s),a=e.width/2,r=e.height/2;return o>=a||i>=r},"outsideNode"),qne=e((e,t,n)=>{a.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let c=e.x,u=e.y,f=Math.abs(c-n.x),r=e.width/2,s=n.x<t.x?r-f:r+f,h=e.height/2,i=Math.abs(t.y-n.y),o=Math.abs(t.x-n.x);if(Math.abs(u-t.y)*r>Math.abs(c-t.x)*h){let r=n.y<t.y?t.y-h-u:u-h-t.y;s=o*r/i;let e={x:n.x<t.x?n.x+s:n.x-o+s,y:n.y<t.y?n.y+i-r:n.y-i+r};return s===0&&(e.x=t.x,e.y=t.y),o===0&&(e.x=t.x),i===0&&(e.y=t.y),a.debug(`abc89 top/bottom calc, Q ${i}, q ${r}, R ${o}, r ${s}`,e),e}n.x<t.x?s=t.x-r-c:s=c-r-t.x;let m=i*s/o,l=n.x<t.x?n.x+o-s:n.x-o+s,d=n.y<t.y?n.y+m:n.y-m;return a.debug(`sides calc abc89, Q ${i}, q ${m}, R ${o}, r ${s}`,{_x:l,_y:d}),s===0&&(l=t.x,d=t.y),o===0&&(l=t.x),i===0&&(d=t.y),{x:l,y:d}},"intersection"),eH=e((e,t)=>{a.warn("abc88 cutPathAtIntersect",e,t);let n=[],s=e[0],o=!1;return e.forEach(e=>{if(a.info("abc88 checking point",e,t),!Zne(t,e)&&!o){let i=qne(t,s,e);a.debug("abc88 inside",e,s,i),a.debug("abc88 intersection",i,t);let r=!1;n.forEach(e=>{r=r||e.x===i.x&&e.y===i.y}),n.some(e=>e.x===i.x&&e.y===i.y)?a.warn("abc88 no intersect",i,n):n.push(i),o=!0}else a.warn("abc88 outside",e,s),s=e,o||n.push(e)}),a.debug("returning points",n),n},"cutPathAtIntersect"),e(cse,"extractCornerPoints"),tH=e(function(e,t,n){let s=t.x-e.x,o=t.y-e.y,a=Math.sqrt(s*s+o*o),i=n/a;return{x:t.x-i*s,y:t.y-i*o}},"findAdjacentPoint"),Kne=e(function(e){let{cornerPointPositions:n}=cse(e),t=[];for(let s=0;s<e.length;s++)if(n.includes(s)){let i=e[s-1],r=e[s+1],c=e[s],n=tH(i,c,5),l=tH(r,c,5),u=l.x-n.x,h=l.y-n.y;t.push(n);let o=Math.sqrt(2)*2,d={x:c.x,y:c.y};if(Math.abs(r.x-i.x)>10&&Math.abs(r.y-i.y)>=10){a.debug("Corner point fixing",Math.abs(r.x-i.x),Math.abs(r.y-i.y));let e=5;c.x===n.x?d={x:u<0?n.x-e+o:n.x+e-o,y:h<0?n.y-o:n.y+o}:d={x:u<0?n.x-o:n.x+o,y:h<0?n.y-e+o:n.y+e-o}}else a.debug("Corner point skipping fixing",Math.abs(r.x-i.x),Math.abs(r.y-i.y));t.push(d,l)}else t.push(e[s]);return t},"fixCorners"),sH=e(function(e,t,n,s,o,i,r){let{handDrawnSeed:k}=u(),c=t.points,v=!1,_=o;var f=i;let j=[];for(let e in t.cssCompiledStyles)dD(e)||j.push(t.cssCompiledStyles[e]);f.intersect&&_.intersect&&(c=c.slice(1,t.points.length-1),c.unshift(_.intersect(c[0])),a.debug("Last point APA12",t.start,"-->",t.end,c[c.length-1],f,f.intersect(c[c.length-1])),c.push(f.intersect(c[c.length-1]))),t.toCluster&&(a.info("to cluster abc88",n.get(t.toCluster)),c=eH(t.points,n.get(t.toCluster).node),v=!0),t.fromCluster&&(a.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(c,null,2)),c=eH(c.reverse(),n.get(t.fromCluster).node).reverse(),v=!0);let p=c.filter(e=>!Number.isNaN(e.y));p=Kne(p);let l=pl;switch(l=j8,t.curve){case"linear":l=j8;break;case"basis":l=pl;break;case"cardinal":l=ZS;break;case"bumpX":l=xF;break;case"bumpY":l=OF;break;case"catmullRom":l=NS;break;case"monotoneX":l=CA;break;case"monotoneY":l=xA;break;case"natural":l=jA;break;case"step":l=hA;break;case"stepAfter":l=lA;break;case"stepBefore":l=dA;break;default:l=pl}let{x,y:C}=PP(t),E=v4().x(x).y(C).curve(l),d;switch(t.thickness){case"normal":d="edge-thickness-normal";break;case"thick":d="edge-thickness-thick";break;case"invisible":d="edge-thickness-invisible";break;default:d="edge-thickness-normal"}switch(t.pattern){case"solid":d+=" edge-pattern-solid";break;case"dotted":d+=" edge-pattern-dotted";break;case"dashed":d+=" edge-pattern-dashed";break;default:d+=" edge-pattern-solid"}let h,w=E(p),m=Array.isArray(t.style)?t.style:[t.style],O=m.find(e=>e?.startsWith("stroke:"));if(t.look==="handDrawn"){let n=R.svg(e);Object.assign([],p);let s=n.path(w,{roughness:.3,seed:k});d+=" transition",h=y(s).select("path").attr("id",t.id).attr("class"," "+d+(t.classes?" "+t.classes:"")).attr("style",m?m.reduce((e,t)=>e+";"+t,""):"");let o=h.attr("d");h.attr("d",o),e.node().appendChild(h.node())}else{let s=j.join(";"),o=m?m.reduce((e,t)=>e+t+";",""):"",n="";t.animate&&(n=" edge-animation-fast"),t.animation&&(n=" edge-animation-"+t.animation);let i=s?s+";"+o+";":o;h=e.append("path").attr("d",w).attr("id",t.id).attr("class"," "+d+(t.classes?" "+t.classes:"")+(n??"")).attr("style",i),O=i.match(/stroke:([^;]+)/)?.[1]}let g="";(u().flowchart.arrowMarkerAbsolute||u().state.arrowMarkerAbsolute)&&(g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,g=g.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),a.info("arrowTypeStart",t.arrowTypeStart),a.info("arrowTypeEnd",t.arrowTypeEnd),use(h,t,g,r,s,O);let b={};return v&&(b.updatedPath=c),b.originalPath=t.points,b},"insertEdge")}),OH=n(()=>{"use strict";x(),Wne=e((e,t,n,s)=>{t.forEach(t=>{lne[t](e,n,s)})},"insertMarkers"),Rne=e((e,t,n)=>{a.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Nne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Dne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Sne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Ene=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Cne=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),xne=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),One=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),_ne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),yne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),vne=e((e,t,n)=>{let s=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),s.append("path").attr("d","M9,0 L9,18");let o=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");o.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),o.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),gne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),mne=e((e,t,n)=>{let s=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),s.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let o=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");o.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),o.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),hne=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),dne=e((e,t,n)=>{let s=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");s.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),s.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),s.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),lne={extension:Rne,composition:Nne,aggregation:Dne,dependency:Sne,lollipop:Ene,point:Cne,circle:xne,cross:One,barb:_ne,only_one:yne,zero_or_one:vne,one_or_more:gne,zero_or_more:mne,requirement_arrow:hne,requirement_contains:dne},wH=Wne});async function Hg(e,t,n){let s,o;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let i=t.shape?pP[t.shape]:void 0;if(!i)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let a;n.config.securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),s=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a??null),o=await i(s,t,n)}else o=await i(e,t,n),s=o;return t.tooltip&&o.attr("title",t.tooltip),R8.set(t.id,s),t.haveCallback&&s.attr("class",s.attr("class")+" clickable"),s}Ng=n(()=>{"use strict";x(),gP(),R8=new Map,e(Hg,"insertNode"),rne=e((e,t)=>{R8.set(t.id,e)},"setNodeElem"),ane=e(()=>{R8.clear()},"clear"),Rg=e(e=>{let t=R8.get(e.id);a.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let s=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-s)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")}),nne=n(()=>{"use strict";sn(),me(),x(),Qg(),oH(),OH(),Ng(),N(),se(),one={common:w,getConfig:De,insertCluster:n5,insertEdge:sH,insertEdgeLabel:XP,insertMarkers:wH,insertNode:Hg,interpolateToCurve:hE,labelHelper:ce,log:a,positionEdgeLabel:QP}});function tne(e){return typeof e=="symbol"||Xs(e)&&ma(e)==ene}_l=n(()=>{"use strict";Na(),No(),ene="[object Symbol]",e(tne,"isSymbol"),Nc=tne});function Jte(e,t){for(var n=-1,s=e==null?0:e.length,o=Array(s);++n<s;)o[n]=t(e[n],n,e);return o}Fl=n(()=>{"use strict";e(Jte,"arrayMap"),Ha=Jte});function HH(e){if(typeof e=="string")return e;if(ve(e))return Ha(e,HH)+"";if(Nc(e))return VH?VH.call(e):"";var t=e+"";return t=="0"&&1/e==-Xte?"-0":t}Hte=n(()=>{"use strict";ad(),Fl(),ot(),_l(),Xte=1/0,BH=Vs?Vs.prototype:void 0,VH=BH?BH.toString:void 0,e(HH,"baseToString"),Gte=HH});function Pte(e){for(var t=e.length;t--&&wte.test(e.charAt(t)););return t}Zee=n(()=>{"use strict";wte=/\s/,e(Pte,"trimmedEndIndex"),rte=Pte});function Xee(e){return e&&e.slice(0,rte(e)+1).replace(Uee,"")}yee=n(()=>{"use strict";Zee(),Uee=/^\s+/,e(Xee,"baseTrim"),Vee=Xee});function bee(e){if(typeof e=="number")return e;if(Nc(e))return eI;if(Yn(e)){var n,t=typeof e.valueOf=="function"?e.valueOf():e;e=Yn(t)?t+"":t}return typeof e!="string"?e===0?e:+e:(e=Vee(e),n=hee.test(e),n||lee.test(e)?cee(e.slice(2),n?2:8):gee.test(e)?eI:+e)}aee=n(()=>{"use strict";yee(),eo(),_l(),eI=NaN,gee=/^[-+]0x[0-9a-f]+$/i,hee=/^0b[01]+$/i,lee=/^0o[0-7]+$/i,cee=parseInt,e(bee,"toNumber"),ree=bee});function iee(e){if(!e)return e===0?e:0;if(e=ree(e),e===cI||e===-cI){var t=e<0?-1:1;return t*oee}return e===e?e:0}uI=n(()=>{"use strict";aee(),cI=1/0,oee=17976931348623157e292,e(iee,"toFinite"),H8=iee});function nee(e){var t=H8(e),n=t%1;return t===t?n?t-n:t:0}t4=n(()=>{"use strict";uI(),e(nee,"toInteger"),o4=nee}),YJ=n(()=>{"use strict";bc(),Eo(),tee=Sc(Ro,"WeakMap"),Og=tee});function qJ(){}yI=n(()=>{"use strict";e(qJ,"noop"),Mt=qJ});function KJ(e,t){for(var n=-1,s=e==null?0:e.length;++n<s&&t(e[n],n,e)!==!1;);return e}OI=n(()=>{"use strict";e(KJ,"arrayEach"),wI=KJ});function WJ(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}EI=n(()=>{"use strict";e(WJ,"baseFindIndex"),CI=WJ});function $J(e){return e!==e}LJ=n(()=>{"use strict";e($J,"baseIsNaN"),PJ=$J});function DJ(e,t,n){for(var s=n-1,o=e.length;++s<o;)if(e[s]===t)return s;return-1}AJ=n(()=>{"use strict";e(DJ,"strictIndexOf"),TJ=DJ});function kJ(e,t,n){return t===t?TJ(e,t,n):CI(e,PJ,n)}yg=n(()=>{"use strict";EI(),LJ(),AJ(),e(kJ,"baseIndexOf"),_g=kJ});function EJ(e,t){var n=e==null?0:e.length;return!!n&&_g(e,t,0)>-1}PI=n(()=>{"use strict";yg(),e(EJ,"arrayIncludes"),RI=EJ}),jJ=n(()=>{"use strict";Yw(),CJ=qw(Object.keys,Object),xJ=CJ});function vJ(e){if(!Y0(e))return xJ(e);var t,n=[];for(t in Object(e))fJ.call(e,t)&&t!="constructor"&&n.push(t);return n}fg=n(()=>{"use strict";q0(),jJ(),pJ=Object.prototype,fJ=pJ.hasOwnProperty,e(vJ,"baseKeys"),pg=vJ});function dJ(e){return mo(e)?rC(e):pg(e)}Vi=n(()=>{"use strict";cC(),fg(),co(),e(dJ,"keys"),Pt=dJ}),eJ=n(()=>{"use strict";X4(),xl(),cE(),co(),q0(),Vi(),cJ=Object.prototype,oJ=cJ.hasOwnProperty,sJ=rE(function(e,t){if(Y0(t)||mo(t)){wl(t,Pt(t),e);return}for(var n in t)oJ.call(t,n)&&J4(e,n,t[n])}),As=sJ});function JZ(e,t){if(ve(e))return!1;var n=typeof e;return!!(n=="number"||n=="symbol"||n=="boolean"||e==null||Nc(e))||XZ.test(e)||!ZZ.test(e)||t!=null&&e in Object(t)}cg=n(()=>{"use strict";ot(),_l(),ZZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XZ=/^\w*$/,e(JZ,"isKey"),lg=JZ});function GZ(e){var t=m3(e,function(e){return n.size===$Z&&n.clear(),e}),n=t.cache;return t}NZ=n(()=>{"use strict";B_(),$Z=500,e(GZ,"memoizeCapped"),BZ=GZ}),MZ=n(()=>{"use strict";NZ(),DZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zZ=/\\(\\)?/g,TZ=BZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DZ,function(e,n,s,o){t.push(s?o.replace(zZ,"$1"):n||e)}),t}),FZ=TZ});function AZ(e){return e==null?"":Gte(e)}vB=n(()=>{"use strict";Hte(),e(AZ,"toString"),gB=AZ});function EZ(e,t){return ve(e)?e:lg(e,t)?[e]:FZ(gB(e))}Of=n(()=>{"use strict";ot(),cg(),MZ(),vB(),e(EZ,"castPath"),wf=EZ});function CZ(e){if(typeof e=="string"||Nc(e))return e;var t=e+"";return t=="0"&&1/e==-xZ?"-0":t}L1=n(()=>{"use strict";_l(),xZ=1/0,e(CZ,"toKey"),P1=CZ});function OZ(e,t){t=wf(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[P1(t[n++])];return n&&n==s?e:void 0}Bf=n(()=>{"use strict";Of(),L1(),e(OZ,"baseGet"),If=OZ});function pZ(e,t,n){var s=e==null?void 0:If(e,t);return s===void 0?n:s}sZ=n(()=>{"use strict";Bf(),e(pZ,"get"),cZ=pZ});function nZ(e,t){for(var n=-1,s=t.length,o=e.length;++n<s;)e[o+n]=t[n];return e}Vp=n(()=>{"use strict";e(nZ,"arrayPush"),$p=nZ});function YQ(e){return ve(e)||jl(e)||!!(NB&&e&&e[NB])}DQ=n(()=>{"use strict";ad(),V0(),ot(),NB=Vs?Vs.isConcatSpreadable:void 0,e(YQ,"isFlattenable"),UQ=YQ});function PB(e,t,n,s,o){var i,a=-1,r=e.length;for(n||(n=UQ),o||(o=[]);++a<r;)i=e[a],t>0&&n(i)?t>1?PB(i,t-1,n,s,o):$p(o,i):s||(o[o.length]=i);return o}O1=n(()=>{"use strict";Vp(),DQ(),e(PB,"baseFlatten"),C1=PB});function TQ(e){var t=e==null?0:e.length;return t?C1(e,1):[]}Pp=n(()=>{"use strict";O1(),e(TQ,"flatten"),Xt=TQ});function FQ(e){return ZC(RC(e,void 0,Xt),e+"")}fQ=n(()=>{"use strict";Pp(),PC(),JC(),e(FQ,"flatRest"),CQ=FQ});function oQ(e,t,n){var i,o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(i=Array(s);++o<s;)i[o]=e[o+t];return i}GB=n(()=>{"use strict";e(oQ,"baseSlice"),YB=oQ});function eQ(e){return _X.test(e)}bX=n(()=>{"use strict";JX="\\ud800-\\udfff",QX="\\u0300-\\u036f",XX="\\ufe20-\\ufe2f",GX="\\u20d0-\\u20ff",qX=QX+XX+GX,KX="\\ufe0e\\ufe0f",HX="\\u200d",_X=RegExp("["+HX+JX+qX+KX+"]"),e(eQ,"hasUnicode"),jX=eQ});function cX(e,t,n,s){var o=-1,i=e==null?0:e.length;for(s&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}iX=n(()=>{"use strict";e(cX,"arrayReduce"),aX=cX});function nX(e,t){return e&&wl(t,Pt(t),e)}JG=n(()=>{"use strict";xl(),Vi(),e(nX,"baseAssign"),eX=nX});function XG(e,t){return e&&wl(t,Rr(t),e)}qG=n(()=>{"use strict";xl(),nc(),e(XG,"baseAssignIn"),YG=XG});function WG(e,t){for(var s,n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;)s=e[n],t(s,n,e)&&(o[a++]=s);return o}kp=n(()=>{"use strict";e(WG,"arrayFilter"),Ap=WG});function BG(){return[]}_V=n(()=>{"use strict";e(BG,"stubArray"),yV=BG}),wp=n(()=>{"use strict";kp(),_V(),HG=Object.prototype,DG=HG.propertyIsEnumerable,xV=Object.getOwnPropertySymbols,zG=xV?function(e){return e==null?[]:(e=Object(e),Ap(xV(e),function(t){return DG.call(e,t)}))}:yV,xp=zG});function EG(e,t){return wl(e,xp(e),t)}jG=n(()=>{"use strict";xl(),wp(),e(EG,"copySymbols"),wG=EG}),DV=n(()=>{"use strict";Vp(),ry(),wp(),_V(),bG=Object.getOwnPropertySymbols,mG=bG?function(e){for(var t=[];e;)$p(t,xp(e)),e=cy(e);return t}:yV,zV=mG});function hG(e,t){return wl(e,zV(e),t)}BY=n(()=>{"use strict";xl(),DV(),e(hG,"copySymbolsIn"),cG=hG});function IY(e,t,n){var s=t(e);return ve(e)?s:$p(s,n(e))}IV=n(()=>{"use strict";Vp(),ot(),e(IY,"baseGetAllKeys"),HV=IY});function PY(e){return HV(e,Pt,xp)}$V=n(()=>{"use strict";IV(),wp(),Vi(),e(PY,"getAllKeys"),jp=PY});function RY(e){return HV(e,Rr,zV)}KV=n(()=>{"use strict";IV(),DV(),nc(),e(RY,"getAllKeysIn"),UV=RY}),DY=n(()=>{"use strict";bc(),Eo(),NY=Sc(Ro,"DataView"),vp=NY}),kY=n(()=>{"use strict";bc(),Eo(),MY=Sc(Ro,"Promise"),fp=MY}),t$=n(()=>{"use strict";bc(),Eo(),bY=Sc(Ro,"Set"),Su=bY}),Lu=n(()=>{"use strict";DY(),By(),kY(),t$(),YJ(),Na(),cx(),n$="[object Map]",vY="[object Object]",o$="[object Promise]",i$="[object Set]",a$="[object WeakMap]",r$="[object DataView]",pY=Kc(vp),fY=Kc(_2),uY=Kc(fp),nY=Kc(Su),tY=Kc(Og),Xr=ma,(vp&&Xr(new vp(new ArrayBuffer(1)))!=r$||_2&&Xr(new _2)!=n$||fp&&Xr(fp.resolve())!=o$||Su&&Xr(new Su)!=i$||Og&&Xr(new Og)!=a$)&&(Xr=e(function(e){var t=ma(e),n=t==vY?e.constructor:void 0,s=n?Kc(n):"";if(s)switch(s){case pY:return r$;case fY:return n$;case uY:return o$;case nY:return i$;case tY:return a$}return t},"getTag")),Ur=Xr});function Jq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Gq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}$q=n(()=>{"use strict";Zq=Object.prototype,Gq=Zq.hasOwnProperty,e(Jq,"initCloneArray"),Kq=Jq});function Iq(e,t){var n=t?vy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}zq=n(()=>{"use strict";gy(),e(Iq,"cloneDataView"),Dq=Iq});function Mq(e){var t=new e.constructor(e.source,kq.exec(e));return t.lastIndex=e.lastIndex,t}vq=n(()=>{"use strict";kq=/\w*$/,e(Mq,"cloneRegExp"),Cq=Mq});function gq(e){return M$?Object(M$.call(e)):{}}dq=n(()=>{"use strict";ad(),S$=Vs?Vs.prototype:void 0,M$=S$?S$.valueOf:void 0,e(gq,"cloneSymbol"),uq=gq});function iq(e,t,n){var s=e.constructor;switch(t){case SK:return vy(e);case oq:case XK:return new s(+e);case xK:return Dq(e,n);case OK:case gK:case pK:case fK:case uK:case lK:case cK:case rK:case XU:return Rw(e,n);case GK:return new s;case VK:case PK:return new s(e);case BK:return Cq(e);case HK:return new s;case MK:return uq(e)}}DU=n(()=>{"use strict";gy(),zq(),vq(),dq(),Pw(),oq="[object Boolean]",XK="[object Date]",GK="[object Map]",VK="[object Number]",BK="[object RegExp]",HK="[object Set]",PK="[object String]",MK="[object Symbol]",SK="[object ArrayBuffer]",xK="[object DataView]",OK="[object Float32Array]",gK="[object Float64Array]",pK="[object Int8Array]",fK="[object Int16Array]",uK="[object Int32Array]",lK="[object Uint8Array]",cK="[object Uint8ClampedArray]",rK="[object Uint16Array]",XU="[object Uint32Array]",e(iq,"initCloneByTag"),GU=iq});function zU(e){return Xs(e)&&Ur(e)==AU}OU=n(()=>{"use strict";Lu(),No(),AU="[object Map]",e(zU,"baseIsMap"),kU=zU}),jU=n(()=>{"use strict";OU(),il(),im(),iW=nr&&nr.isMap,wU=iW?al(iW):kU,yU=wU});function vU(e){return Xs(e)&&Ur(e)==gU}aU=n(()=>{"use strict";Lu(),No(),gU="[object Set]",e(vU,"baseIsSet"),pU=vU}),GW=n(()=>{"use strict";aU(),il(),im(),mW=nr&&nr.isSet,JW=mW?al(mW):pU,ZW=JW});function z6(e,t,n,s,o,i){var a,r,d,u,h,m,f,c=t&YW,l=t&qW,p=t&MW;if(n&&(a=o?n(e,s,o,i):n(e)),a!==void 0)return a;if(!Yn(e))return e;if(d=ve(e),d){if(a=Kq(e),!c)return Iw(e,a)}else{if(r=Ur(e),u=r==oE||r==kW,hl(e))return Aw(e,c);if(r==yW||r==_W||u&&!o){if(a=l||u?{}:sO(e),!c)return l?cG(e,YG(a,e)):wG(e,eX(a,e))}else{if(!qe[r])return o?e:{};a=GU(e,r,c)}}return i||(i=new zl),h=i.get(e),h||(i.set(e,a),ZW(e)?e.forEach(function(s){a.add(z6(s,t,n,s,e,i))}):yU(e)&&e.forEach(function(s,o){a.set(o,z6(s,t,n,o,e,i))}),f=p?l?UV:jp:l?Rr:Pt,m=d?void 0:f(e),wI(m||e,function(s,o){m&&(o=s,s=e[o]),J4(a,o,z6(s,t,n,o,e,i))}),a)}gW=n(()=>{"use strict";w3(),OI(),X4(),JG(),qG(),Sw(),Bw(),jG(),BY(),$V(),KV(),Lu(),$q(),DU(),oO(),ot(),S0(),jU(),eo(),GW(),Vi(),nc(),YW=1,qW=2,MW=4,_W="[object Arguments]",EW="[object Array]",Bve="[object Boolean]",xW="[object Date]",CW="[object Error]",oE="[object Function]",kW="[object GeneratorFunction]",AW="[object Map]",SW="[object Number]",yW="[object Object]",FW="[object RegExp]",TW="[object Set]",zW="[object String]",DW="[object Symbol]",NW="[object WeakMap]",LW="[object ArrayBuffer]",RW="[object DataView]",PW="[object Float32Array]",HW="[object Float64Array]",IW="[object Int8Array]",BW="[object Int16Array]",VW="[object Int32Array]",$W="[object Uint8Array]",WW="[object Uint8ClampedArray]",UW="[object Uint16Array]",KW="[object Uint32Array]",qe={},qe[_W]=qe[EW]=qe[LW]=qe[RW]=qe[Bve]=qe[xW]=qe[PW]=qe[HW]=qe[IW]=qe[BW]=qe[VW]=qe[AW]=qe[SW]=qe[yW]=qe[FW]=qe[TW]=qe[zW]=qe[DW]=qe[$W]=qe[WW]=qe[UW]=qe[KW]=!0,qe[CW]=qe[oE]=qe[NW]=!1,e(z6,"baseClone"),bW=z6});function XW(e){return bW(e,QW)}fW=n(()=>{"use strict";gW(),QW=4,e(XW,"clone"),$t=XW});function eU(e){return bW(e,tU|nU)}oU=n(()=>{"use strict";gW(),tU=1,nU=4,e(eU,"cloneDeep"),sU=eU});function iU(e){for(var t,n=-1,o=e==null?0:e.length,i=0,s=[];++n<o;)t=e[n],t&&(s[i++]=t);return s}rU=n(()=>{"use strict";e(iU,"compact"),n1=iU});function cU(e){return this.__data__.set(e,lU),this}uU=n(()=>{"use strict";lU="__lodash_hash_undefined__",e(cU,"setCacheAdd"),dU=cU});function hU(e){return this.__data__.has(e)}fU=n(()=>{"use strict";e(hU,"setCacheHas"),mU=hU});function M6(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new n3;++t<n;)this.add(e[t])}q6=n(()=>{"use strict";My(),uU(),fU(),e(M6,"SetCache"),M6.prototype.add=M6.prototype.push=dU,M6.prototype.has=mU,U6=M6});function bU(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}rW=n(()=>{"use strict";e(bU,"arraySome"),cW=bU});function _U(e,t){return e.has(t)}Q6=n(()=>{"use strict";e(_U,"cacheHas"),X6=_U});function xU(e,t,n,s,o,i){var a,c,u,h,f,p=n&CU,d=e.length,g=t.length;if(d!=g&&!(p&&g>d))return!1;if(u=i.get(e),h=i.get(t),u&&h)return u==t&&h==e;var r=-1,l=!0,m=n&EU?new U6:void 0;for(i.set(e,t),i.set(t,e);++r<d;){if(a=e[r],c=t[r],s&&(f=p?s(c,a,r,t,e,i):s(a,c,r,e,t,i)),f!==void 0){if(f)continue;l=!1;break}if(m){if(!cW(t,function(e,t){if(!X6(m,t)&&(a===e||o(a,e,n,s,i)))return m.push(t)})){l=!1;break}}else if(a!==c&&!o(a,c,n,s,i)){l=!1;break}}return i.delete(e),i.delete(t),l}nW=n(()=>{"use strict";q6(),rW(),Q6(),CU=1,EU=2,e(xU,"equalArrays"),sW=xU});function SU(e){var n=-1,t=Array(e.size);return e.forEach(function(e,s){t[++n]=[s,e]}),t}FU=n(()=>{"use strict";e(SU,"mapToArray"),MU=SU});function TU(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=e}),t}ep=n(()=>{"use strict";e(TU,"setToArray"),J6=TU});function NU(e,t,n,s,o,i,a){switch(n){case YU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qU:return e.byteLength==t.byteLength&&!!i(new L3(e),new L3(t));case PU:case HU:case VU:return iu(+e,+t);case IU:return e.name==t.name&&e.message==t.message;case $U:case UU:return e==t+"";case BU:var c,l,d,r=MU;case WU:return l=s&LU,r||(r=J6),!(e.size!=t.size&&!l)&&(c=a.get(e),c?c==t:(s|=RU,a.set(e,t),d=sW(r(e),r(t),s,o,i,a),a.delete(e),d));case KU:if(np)return np.call(e)==np.call(t)}return!1}ZU=n(()=>{"use strict";ad(),Tw(),Gd(),nW(),FU(),ep(),LU=1,RU=2,PU="[object Boolean]",HU="[object Date]",IU="[object Error]",BU="[object Map]",VU="[object Number]",$U="[object RegExp]",WU="[object Set]",UU="[object String]",KU="[object Symbol]",qU="[object ArrayBuffer]",YU="[object DataView]",J$=Vs?Vs.prototype:void 0,np=J$?J$.valueOf:void 0,e(NU,"equalByTag"),QU=NU});function JU(e,t,n,s,o,i){var a,r,c,l,d,u,h,m,p,g,v,f=n&eK,j=jp(e),b=j.length,_=jp(t),y=_.length;if(b!=y&&!f)return!1;for(h=b;h--;)if(a=j[h],!(f?a in t:nK.call(t,a)))return!1;if(g=i.get(e),p=i.get(t),g&&p)return g==t&&p==e;r=!0,i.set(e,t),i.set(t,e);for(m=f;++h<b;){if(a=j[h],u=e[a],d=t[a],s&&(v=f?s(d,u,a,t,e,i):s(u,d,a,e,t,i)),!(v===void 0?u===d||o(u,d,n,s,i):v)){r=!1;break}m||(m=a=="constructor")}return r&&!m&&(l=e.constructor,c=t.constructor,l!=c&&"constructor"in e&&"constructor"in t&&!(typeof l=="function"&&l instanceof l&&typeof c=="function"&&c instanceof c)&&(r=!1)),i.delete(e),i.delete(t),r}oK=n(()=>{"use strict";$V(),eK=1,tK=Object.prototype,nK=tK.hasOwnProperty,e(JU,"equalObjects"),sK=JU});function iK(e,t,n,s,o,i){var u,h,m,f,c=ve(e),p=ve(t),a=c?X$:Ur(e),r=p?X$:Ur(t),a=a==Q$?A6:a,r=r==Q$?A6:r,l=a==A6,g=r==A6,d=a==r;if(d&&hl(e)){if(!hl(t))return!1;c=!0,l=!1}return d&&!l?(i||(i=new zl),c||rm(e)?sW(e,t,n,s,o,i):QU(e,t,a,n,s,o,i)):!(n&aK)&&(u=l&&Y$.call(e,"__wrapped__"),h=g&&Y$.call(t,"__wrapped__"),u||h)?(m=u?e.value():e,f=h?t.value():t,i||(i=new zl),o(m,f,n,s,i)):!!d&&(i||(i=new zl),sK(e,t,n,s,o,i))}mK=n(()=>{"use strict";w3(),nW(),ZU(),oK(),Lu(),ot(),S0(),lm(),aK=1,Q$="[object Arguments]",X$="[object Array]",A6="[object Object]",dK=Object.prototype,Y$=dK.hasOwnProperty,e(iK,"baseIsEqualDeep"),hK=iK});function q$(e,t,n,s,o){return e===t||(e==null||t==null||!Xs(e)&&!Xs(t)?e!==e&&t!==t:hK(e,t,n,s,q$,o))}U$=n(()=>{"use strict";mK(),No(),e(q$,"baseIsEqual"),K$=q$});function vK(e,t,n,s){var o,c,l,i=n.length,d=i,u=!s;if(e==null)return!d;for(e=Object(e);i--;)if(o=n[i],u&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++i<d;){o=n[i];var a=o[0],r=e[a],h=o[1];if(u&&o[2]){if(r===void 0&&!(a in e))return!1}else if(c=new zl,s&&(l=s(r,h,a,e,t,c)),!(l===void 0?K$(h,r,bK|jK,s,c):l))return!1}return!0}_K=n(()=>{"use strict";w3(),U$(),bK=1,jK=2,e(vK,"baseIsMatch"),yK=vK});function wK(e){return e===e&&!Yn(e)}$$=n(()=>{"use strict";eo(),e(wK,"isStrictComparable"),W$=wK});function CK(e){for(var s,o,t=Pt(e),n=t.length;n--;)s=t[n],o=e[s],t[n]=[s,o,W$(o)];return t}kK=n(()=>{"use strict";$$(),Vi(),e(CK,"getMatchData"),EK=CK});function AK(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}B$=n(()=>{"use strict";e(AK,"matchesStrictComparable"),V$=AK});function FK(e){var t=EK(e);return t.length==1&&t[0][2]?V$(t[0][0],t[0][1]):function(n){return n===e||yK(n,e,t)}}zK=n(()=>{"use strict";_K(),kK(),B$(),e(FK,"baseMatches"),TK=FK});function DK(e,t){return e!=null&&t in Object(e)}LK=n(()=>{"use strict";e(DK,"baseHasIn"),NK=DK});function RK(e,t,n){t=wf(t,e);for(var o,i=-1,s=t.length,a=!1;++i<s;){if(o=P1(t[i]),!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&oy(s)&&xm(o,s)&&(ve(e)||jl(e)))}H$=n(()=>{"use strict";Of(),V0(),ot(),Cm(),sy(),L1(),e(RK,"hasPath"),I$=RK});function IK(e,t){return e!=null&&I$(e,t,NK)}R$=n(()=>{"use strict";LK(),H$(),e(IK,"hasIn"),P$=IK});function $K(e,t){return lg(e)&&W$(t)?V$(P1(e),t):function(n){var s=cZ(n,e);return s===void 0&&s===t?P$(n,e):K$(t,s,WK|UK)}}qK=n(()=>{"use strict";U$(),sZ(),R$(),cg(),$$(),B$(),L1(),WK=1,UK=2,e($K,"baseMatchesProperty"),KK=$K});function YK(e){return function(t){return t?.[e]}}N$=n(()=>{"use strict";e(YK,"baseProperty"),L$=YK});function QK(e){return function(t){return If(t,e)}}JK=n(()=>{"use strict";Bf(),e(QK,"basePropertyDeep"),ZK=QK});function eq(e){return lg(e)?L$(P1(e)):ZK(e)}nq=n(()=>{"use strict";N$(),JK(),cg(),L1(),e(eq,"property"),tq=eq});function sq(e){return typeof e=="function"?e:e==null?Ji:typeof e=="object"?ve(e)?KK(e[0],e[1]):TK(e):tq(e)}cs=n(()=>{"use strict";zK(),qK(),Cr(),ot(),nq(),e(sq,"baseIteratee"),Jn=sq});function aq(e,t,n,s){for(var o,i=-1,a=e==null?0:e.length;++i<a;)o=e[i],t(s,o,n(o),e);return s}cq=n(()=>{"use strict";e(aq,"arrayAggregator"),rq=aq});function lq(e,t){return e&&_y(e,t,Pt)}ip=n(()=>{"use strict";yy(),Vi(),e(lq,"baseForOwn"),op=lq});function hq(e,t){return function(n,s){if(n==null)return n;if(!mo(n))return e(n,s);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&s(a[o],o,a)!==!1;);return n}}fq=n(()=>{"use strict";co(),e(hq,"createBaseEach"),mq=hq}),Pr=n(()=>{"use strict";ip(),fq(),pq=mq(op),Ec=pq});function bq(e,t,n,s){return Ec(e,function(e,o,i){t(s,e,n(e),i)}),s}yq=n(()=>{"use strict";Pr(),e(bq,"baseAggregator"),jq=bq});function _q(e,t){return function(n,s){var o=ve(n)?rq:jq,i=t?t():{};return o(n,e,Jn(s,2),i)}}Oq=n(()=>{"use strict";cq(),yq(),cs(),ot(),e(_q,"createAggregator"),wq=_q}),Eq=n(()=>{"use strict";Eo(),xq=e(function(){return Ro.Date.now()},"now"),E$=xq}),Fq=n(()=>{"use strict";G1(),Gd(),Nd(),nc(),C$=Object.prototype,Aq=C$.hasOwnProperty,Sq=Q1(function(e,t){e=Object(e);var i=-1,s=t.length,a=s>2?t[2]:void 0;for(a&&pc(t[0],t[1],a)&&(s=1);++i<s;)for(var n,o,r=t[i],c=Rr(r),l=-1,d=c.length;++l<d;)n=c[l],o=e[n],(o===void 0||iu(o,C$[n])&&!Aq.call(e,n))&&(e[n]=r[n]);return e}),w6=Sq});function Tq(e,t,n){for(var s=-1,o=e==null?0:e.length;++s<o;)if(n(t,e[s]))return!0;return!1}w$=n(()=>{"use strict";e(Tq,"arrayIncludesWith"),O$=Tq});function Nq(e,t,n,s){var o,i,l,d=-1,r=RI,c=!0,u=e.length,a=[],h=t.length;if(!u)return a;n&&(t=Ha(t,al(n))),s?(r=O$,c=!1):t.length>=Lq&&(r=X6,c=!1,t=new U6(t));e:for(;++d<u;)if(o=e[d],i=n==null?o:n(o),o=s||o!==0?o:0,c&&i===i){for(l=h;l--;)if(t[l]===i)continue e;a.push(o)}else r(t,i,s)||a.push(o);return a}Pq=n(()=>{"use strict";q6(),PI(),w$(),Fl(),il(),Q6(),Lq=200,e(Nq,"baseDifference"),Rq=Nq}),Bq=n(()=>{"use strict";Pq(),O1(),G1(),ny(),Hq=Q1(function(e,t){return fh(e)?Rq(e,C1(t,1,fh,!0)):[]}),y6=Hq});function Vq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Wq=n(()=>{"use strict";e(Vq,"last"),ii=Vq});function Uq(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===void 0?1:o4(t),YB(e,t<0?0:t,s)):[]}qq=n(()=>{"use strict";GB(),t4(),e(Uq,"drop"),un=Uq});function Yq(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===void 0?1:o4(t),t=s-t,YB(e,0,t<0?0:t)):[]}Xq=n(()=>{"use strict";GB(),t4(),e(Yq,"dropRight"),c1=Yq});function Qq(e){return typeof e=="function"?e:Ji}lp=n(()=>{"use strict";Cr(),e(Qq,"castFunction"),cp=Qq});function eY(e,t){var n=ve(e)?wI:Ec;return n(e,cp(t))}hp=n(()=>{"use strict";OI(),Pr(),lp(),ot(),e(eY,"forEach"),f=eY}),sY=n(()=>{"use strict";hp()});function oY(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}aY=n(()=>{"use strict";e(oY,"arrayEvery"),iY=oY});function rY(e,t){var n=!0;return Ec(e,function(e,s,o){return n=!!t(e,s,o),n}),n}lY=n(()=>{"use strict";Pr(),e(rY,"baseEvery"),cY=rY});function dY(e,t,n){var s=ve(e)?iY:cY;return n&&pc(e,t,n)&&(t=void 0),s(e,Jn(t,3))}hY=n(()=>{"use strict";aY(),lY(),cs(),ot(),Nd(),e(dY,"every"),ko=dY});function mY(e,t){var n=[];return Ec(e,function(e,s,o){t(e,s,o)&&n.push(e)}),n}c$=n(()=>{"use strict";Pr(),e(mY,"baseFilter"),l$=mY});function gY(e,t){var n=ve(e)?Ap:l$;return n(e,Jn(t,3))}JV=n(()=>{"use strict";kp(),c$(),cs(),ot(),e(gY,"filter"),rt=gY});function jY(t){return function(n,s,o){var i,r,a=Object(n);return mo(n)||(r=Jn(s,3),n=Pt(n),s=e(function(e){return r(a[e],e,a)},"predicate")),i=t(n,s,o),i>-1?a[r?n[i]:i]:void 0}}_Y=n(()=>{"use strict";cs(),co(),Vi(),e(jY,"createFind"),yY=jY});function wY(e,t,n){var s,o=e==null?0:e.length;return o?(s=n==null?0:o4(n),s<0&&(s=OY(o+s,0)),CI(e,Jn(t,3),s)):-1}CY=n(()=>{"use strict";EI(),cs(),t4(),OY=Math.max,e(wY,"findIndex"),xY=wY}),AY=n(()=>{"use strict";_Y(),CY(),EY=yY(xY),ga=EY});function SY(e){return e&&e.length?e[0]:void 0}FY=n(()=>{"use strict";e(SY,"head"),So=SY}),TY=n(()=>{"use strict";FY()});function zY(e,t){var s=-1,n=mo(e)?Array(e.length):[];return Ec(e,function(e,o,i){n[++s]=t(e,o,i)}),n}qV=n(()=>{"use strict";Pr(),co(),e(zY,"baseMap"),GV=zY});function LY(e,t){var n=ve(e)?Ha:GV;return n(e,Jn(t,3))}b1=n(()=>{"use strict";Fl(),cs(),qV(),ot(),e(LY,"map"),C=LY});function HY(e,t){return C1(C(e,t),1)}RV=n(()=>{"use strict";O1(),b1(),e(HY,"flatMap"),ks=HY});function VY(e,t){return e==null?e:_y(e,cp(t),Rr)}WY=n(()=>{"use strict";yy(),lp(),nc(),e(VY,"forIn"),$Y=VY});function UY(e,t){return e&&op(e,cp(t))}qY=n(()=>{"use strict";ip(),lp(),e(UY,"forOwn"),KY=UY}),ZY=n(()=>{"use strict";J0(),Oq(),YY=Object.prototype,GY=YY.hasOwnProperty,XY=wq(function(e,t,n){GY.call(e,n)?e[n].push(t):e2(e,n,[t])}),QY=XY});function JY(e,t){return e>t}tG=n(()=>{"use strict";e(JY,"baseGt"),eG=JY});function nG(e,t){return e!=null&&oG.call(e,t)}aG=n(()=>{"use strict";sG=Object.prototype,oG=sG.hasOwnProperty,e(nG,"baseHas"),iG=nG});function rG(e,t){return e!=null&&I$(e,t,iG)}lG=n(()=>{"use strict";aG(),H$(),e(rG,"has"),Q=rG});function dG(e){return typeof e=="string"||!ve(e)&&Xs(e)&&ma(e)==uG}_p=n(()=>{"use strict";Na(),ot(),No(),uG="[object String]",e(dG,"isString"),Wn=dG});function fG(e,t){return Ha(t,function(t){return e[t]})}gG=n(()=>{"use strict";Fl(),e(fG,"baseValues"),pG=fG});function vG(e){return e==null?[]:pG(e,Pt(e))}MV=n(()=>{"use strict";gG(),Vi(),e(vG,"values"),He=vG});function yG(e,t,n,s){e=mo(e)?e:He(e),n=n&&!s?o4(n):0;var o=e.length;return n<0&&(n=_G(o+n,0)),Wn(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&_g(e,t,n)>-1}OG=n(()=>{"use strict";yg(),co(),_p(),t4(),MV(),_G=Math.max,e(yG,"includes"),Kn=yG});function xG(e,t,n){var s,o=e==null?0:e.length;return o?(s=n==null?0:o4(n),s<0&&(s=CG(o+s,0)),_g(e,t,s)):-1}kG=n(()=>{"use strict";yg(),t4(),CG=Math.max,e(xG,"indexOf"),AV=xG});function AG(e){if(e==null)return!0;if(mo(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||hl(e)||rm(e)||jl(e)))return!e.length;var n,t=Ur(e);if(t==SG||t==MG)return!e.size;if(Y0(e))return!pg(e).length;for(n in e)if(TG.call(e,n))return!1;return!0}Ep=n(()=>{"use strict";fg(),Lu(),V0(),ot(),co(),S0(),q0(),lm(),SG="[object Map]",MG="[object Set]",FG=Object.prototype,TG=FG.hasOwnProperty,e(AG,"isEmpty"),Ae=AG});function NG(e){return Xs(e)&&ma(e)==LG}PG=n(()=>{"use strict";Na(),No(),LG="[object RegExp]",e(NG,"baseIsRegExp"),RG=NG}),VG=n(()=>{"use strict";PG(),il(),im(),wV=nr&&nr.isRegExp,IG=wV?al(wV):RG,ba=IG});function $G(e){return e===void 0}UG=n(()=>{"use strict";e($G,"isUndefined"),Te=$G});function KG(e,t){return e<t}fV=n(()=>{"use strict";e(KG,"baseLt"),pV=KG});function GG(e,t){var n={};return t=Jn(t,3),op(e,function(e,s,o){e2(n,s,t(e,s,o))}),n}QG=n(()=>{"use strict";J0(),ip(),cs(),e(GG,"mapValues"),n6=GG});function ZG(e,t,n){for(var s,o,i,r,a=-1,c=e.length;++a<c;)o=e[a],s=t(o),s!=null&&(i===void 0?s===s&&!Nc(s):n(s,i))&&(i=s,r=o);return r}Tp=n(()=>{"use strict";_l(),e(ZG,"baseExtremum"),Fp=ZG});function tX(e){return e&&e.length?Fp(e,Ji,eG):void 0}sX=n(()=>{"use strict";Tp(),tG(),Cr(),e(tX,"max"),tl=tX});function oX(e){return e&&e.length?Fp(e,Ji,pV):void 0}cV=n(()=>{"use strict";Tp(),fV(),Cr(),e(oX,"min"),uu=oX});function rX(e,t){return e&&e.length?Fp(e,Jn(t,2),pV):void 0}lX=n(()=>{"use strict";Tp(),cs(),fV(),e(rX,"minBy"),zp=rX});function dX(e){if(typeof e!="function")throw new TypeError(uX);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}mX=n(()=>{"use strict";uX="Expected a function",e(dX,"negate"),hX=dX});function fX(e,t,n,s){if(!Yn(e))return e;t=wf(t,e);for(var o,a,c,r=-1,l=t.length,d=l-1,i=e;i!=null&&++r<l;){if(o=P1(t[r]),a=n,o==="__proto__"||o==="constructor"||o==="prototype")return e;r!=d&&(c=i[o],a=s?s(c,o,i):void 0,a===void 0&&(a=Yn(c)?c:xm(t[r+1])?[]:{})),J4(i,o,a),i=i[o]}return e}gX=n(()=>{"use strict";X4(),Of(),Cm(),eo(),L1(),e(fX,"baseSet"),pX=fX});function vX(e,t,n){for(var s,o,i=-1,r=t.length,a={};++i<r;)s=t[i],o=If(e,s),n(o,s)&&pX(a,wf(s,e),o);return a}iV=n(()=>{"use strict";Bf(),gX(),Of(),e(vX,"basePickBy"),aV=vX});function yX(e,t){if(e==null)return{};var n=Ha(UV(e),function(e){return[e]});return t=Jn(t),aV(e,n,function(e,n){return t(e,n[0])})}wX=n(()=>{"use strict";Fl(),cs(),iV(),KV(),e(yX,"pickBy"),To=yX});function OX(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}CX=n(()=>{"use strict";e(OX,"baseSortBy"),xX=OX});function EX(e,t){if(e!==t){var a=e!==void 0,r=e===null,n=e===e,s=Nc(e),c=t!==void 0,l=t===null,o=t===t,i=Nc(t);if(!l&&!i&&!s&&e>t||s&&c&&o&&!l&&!i||r&&c&&o||!a&&o||!n)return 1;if(!r&&!s&&!i&&e<t||i&&a&&n&&!r&&!s||l&&a&&n||!c&&n||!o)return-1}return 0}AX=n(()=>{"use strict";_l(),e(EX,"compareAscending"),kX=EX});function SX(e,t,n){for(var o,a,s=-1,i=e.criteria,r=t.criteria,c=i.length,l=n.length;++s<c;)if(o=kX(i[s],r[s]),o)return s>=l?o:(a=n[s],o*(a=="desc"?-1:1));return e.index-t.index}FX=n(()=>{"use strict";AX(),e(SX,"compareMultiple"),MX=SX});function TX(e,t,n){t.length?t=Ha(t,function(e){return ve(e)?function(t){return If(t,e.length===1?e[0]:e)}:e}):t=[Ji];var s,o=-1;return t=Ha(t,al(Jn)),s=GV(e,function(e){var i=Ha(t,function(t){return t(e)});return{criteria:i,index:++o,value:e}}),xX(s,function(e,t){return MX(e,t,n)})}DX=n(()=>{"use strict";Fl(),Bf(),cs(),qV(),CX(),il(),FX(),Cr(),ot(),e(TX,"baseOrderBy"),zX=TX}),RX=n(()=>{"use strict";N$(),NX=L$("length"),LX=NX});function PX(e){for(var t=qB.lastIndex=0;qB.test(e);)++t;return t}aQ=n(()=>{"use strict";sV="\\ud800-\\udfff",IX="\\u0300-\\u036f",BX="\\ufe20-\\ufe2f",VX="\\u20d0-\\u20ff",$X=IX+BX+VX,WX="\\ufe0e\\ufe0f",UX="["+sV+"]",Dp="["+$X+"]",Lp="\\ud83c[\\udffb-\\udfff]",YX="(?:"+Dp+"|"+Lp+")",eV="[^"+sV+"]",JB="(?:\\ud83c[\\udde6-\\uddff]){2}",ZB="[\\ud800-\\udbff][\\udc00-\\udfff]",ZX="\\u200d",QB=YX+"?",XB="["+WX+"]?",tQ="(?:"+ZX+"(?:"+[eV,JB,ZB].join("|")+")"+XB+QB+")*",nQ=XB+QB+tQ,sQ="(?:"+[eV+Dp+"?",Dp,JB,ZB,UX].join("|")+")",qB=RegExp(Lp+"(?="+Lp+")|"+sQ+nQ,"g"),e(PX,"unicodeSize"),iQ=PX});function rQ(e){return jX(e)?iQ(e):LX(e)}lQ=n(()=>{"use strict";RX(),bX(),aQ(),e(rQ,"stringSize"),cQ=rQ});function dQ(e,t){return aV(e,t,function(t,n){return P$(e,n)})}hQ=n(()=>{"use strict";iV(),R$(),e(dQ,"basePick"),uQ=dQ}),pQ=n(()=>{"use strict";hQ(),fQ(),mQ=CQ(function(e,t){return e==null?{}:uQ(e,t)}),e6=mQ});function gQ(e,t,n,s){for(var a=-1,o=bQ(vQ((t-e)/(n||1)),0),i=Array(o);o--;)i[s?o:++a]=e,e+=n;return i}yQ=n(()=>{"use strict";vQ=Math.ceil,bQ=Math.max,e(gQ,"baseRange"),jQ=gQ});function _Q(e){return function(t,n,s){return s&&typeof s!="number"&&pc(t,n,s)&&(n=s=void 0),t=H8(t),n===void 0?(n=t,t=0):n=H8(n),s=s===void 0?t<n?1:-1:H8(s),jQ(t,n,s,e)}}OQ=n(()=>{"use strict";yQ(),Nd(),uI(),e(_Q,"createRange"),wQ=_Q}),EQ=n(()=>{"use strict";OQ(),xQ=wQ(),ou=xQ});function kQ(e,t,n,s,o){return o(e,function(e,o,i){n=s?(s=!1,e):t(n,e,o,i)}),n}SQ=n(()=>{"use strict";e(kQ,"baseReduce"),AQ=kQ});function MQ(e,t,n){var s=ve(e)?aX:AQ,o=arguments.length<3;return s(e,Jn(t,4),n,o,Ec)}BB=n(()=>{"use strict";iX(),Pr(),cs(),SQ(),ot(),e(MQ,"reduce"),bt=MQ});function zQ(e,t){var n=ve(e)?Ap:l$;return n(e,hX(Jn(t,3)))}NQ=n(()=>{"use strict";kp(),c$(),cs(),ot(),mX(),e(zQ,"reject"),Kf=zQ});function LQ(e){if(e==null)return 0;if(mo(e))return Wn(e)?cQ(e):e.length;var t=Ur(e);return t==RQ||t==PQ?e.size:pg(e).length}IQ=n(()=>{"use strict";fg(),Lu(),co(),_p(),lQ(),RQ="[object Map]",PQ="[object Set]",e(LQ,"size"),HQ=LQ});function BQ(e,t){var n;return Ec(e,function(e,s,o){return n=t(e,s,o),!n}),!!n}$Q=n(()=>{"use strict";Pr(),e(BQ,"baseSome"),VQ=BQ});function WQ(e,t,n){var s=ve(e)?cW:VQ;return n&&pc(e,t,n)&&(t=void 0),s(e,Jn(t,3))}KQ=n(()=>{"use strict";rW(),cs(),$Q(),ot(),Nd(),e(WQ,"some"),LB=WQ}),GQ=n(()=>{"use strict";O1(),DX(),G1(),Nd(),qQ=Q1(function(e,t){if(e==null)return[];var n=t.length;return n>1&&pc(e,t[0],t[1])?t=[]:n>2&&pc(t[0],t[1],t[2])&&(t=[t[0]]),zX(e,C1(t,1),[])}),E1=qQ}),JQ=n(()=>{"use strict";t$(),yI(),ep(),XQ=1/0,QQ=Su&&1/J6(new Su([,-0]))[1]==XQ?function(e){return new Su(e)}:Mt,ZQ=QQ});function eZ(e,t,n){var o,i,l,d,u=-1,r=RI,h=e.length,c=!0,a=[],s=a;if(n)c=!1,r=O$;else if(h>=tZ){if(l=t?null:ZQ(e),l)return J6(l);c=!1,r=X6,s=new U6}else s=t?[]:a;e:for(;++u<h;)if(o=e[u],i=t?t(o):o,o=n||o!==0?o:0,c&&i===i){for(d=s.length;d--;)if(s[d]===i)continue e;t&&s.push(i),a.push(o)}else r(s,i,n)||(s!==a&&s.push(i),a.push(o));return a}Gp=n(()=>{"use strict";q6(),PI(),w$(),Q6(),JQ(),ep(),tZ=200,e(eZ,"baseUniq"),Kp=eZ}),aZ=n(()=>{"use strict";O1(),G1(),Gp(),ny(),oZ=Q1(function(e){return Kp(C1(e,1,fh,!0))}),iZ=oZ});function rZ(e){return e&&e.length?Kp(e):[]}lZ=n(()=>{"use strict";Gp(),e(rZ,"uniq"),Xp=rZ});function dZ(e,t){return e&&e.length?Kp(e,Jn(t,2)):[]}hZ=n(()=>{"use strict";cs(),Gp(),e(dZ,"uniqBy"),uZ=dZ});function mZ(e){var t=++fZ;return gB(e)+t}gZ=n(()=>{"use strict";vB(),fZ=0,e(mZ,"uniqueId"),Qp=mZ});function vZ(e,t,n){for(var i,s=-1,a=e.length,r=t.length,o={};++s<a;)i=s<r?t[s]:void 0,n(o,e[s],i);return o}jZ=n(()=>{"use strict";e(vZ,"baseZipObject"),bZ=vZ});function yZ(e,t){return bZ(e||[],t||[],J4)}wZ=n(()=>{"use strict";X4(),jZ(),e(yZ,"zipObject"),_Z=yZ}),W=n(()=>{"use strict";eJ(),fW(),oU(),rU(),BC(),Fq(),Bq(),qq(),Xq(),sY(),hY(),JV(),AY(),TY(),RV(),Pp(),hp(),WY(),qY(),ZY(),lG(),Cr(),OG(),kG(),ot(),Ep(),bh(),eo(),VG(),_p(),UG(),Vi(),Wq(),b1(),QG(),sX(),uE(),cV(),lX(),yI(),Eq(),pQ(),wX(),EQ(),BB(),NQ(),IQ(),KQ(),GQ(),aZ(),lZ(),gZ(),MV(),wZ()});function wB(e,t){e[t]?e[t]++:e[t]=1}function _B(e,t){--e[t]||delete e[t]}function B1(e,t,n,s){var a,o=""+t,i=""+n;return!e&&o>i&&(a=o,o=i,i=a),o+mB+i+mB+(Te(s)?SZ:s)}function kZ(e,t,n,s){var a,r,o=""+t,i=""+n;return!e&&o>i&&(r=o,o=i,i=r),a={v:o,w:i},s&&(a.name=s),a}function sg(e,t){return B1(e,t.v,t.w,t.name)}og=n(()=>{"use strict";W(),SZ="\0",Ir="\0",mB="",ds=class{static{e(this,"Graph")}constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=jr(void 0),this._defaultEdgeLabelFn=jr(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Ir]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Zs(e)||(e=jr(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Pt(this._nodes)}sources(){var e=this;return rt(this.nodes(),function(t){return Ae(e._in[t])})}sinks(){var e=this;return rt(this.nodes(),function(t){return Ae(e._out[t])})}setNodes(e,t){var s=arguments,n=this;return f(e,function(e){s.length>1?n.setNode(e,t):n.setNode(e)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Ir,this._children[e]={},this._children[Ir][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var n=e(e=>this.removeEdge(this._edgeObjs[e]),"removeEdge");delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],f(this.children(t),e=>{this.setParent(e)}),delete this._children[t]),f(Pt(this._in[t]),n),delete this._in[t],delete this._preds[t],f(Pt(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Te(t))t=Ir;else{t+="";for(var n=t;!Te(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==Ir)return t}}children(e){if(Te(e)&&(e=Ir),this._isCompound){{var t=this._children[e];if(t)return Pt(t)}}else{if(e===Ir)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Pt(t)}successors(e){var t=this._sucs[e];if(t)return Pt(t)}neighbors(e){var t=this.predecessors(e);if(t)return iZ(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(t){var s,o,n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),o=this,f(this._nodes,function(e,s){t(s)&&n.setNode(s,e)}),f(this._edgeObjs,function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,o.edge(e))}),s={};function i(e){var t=o.parent(e);return t===void 0||n.hasNode(t)?(s[e]=t,t):t in s?s[t]:i(t)}return e(i,"findParent"),this._isCompound&&f(n.nodes(),function(e){n.setParent(e,i(e))}),n}setDefaultEdgeLabel(e){return Zs(e)||(e=jr(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return He(this._edgeObjs)}setPath(e,t){var n=this,s=arguments;return bt(e,function(e,o){return s.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o}),this}setEdge(){var e,t,n,o,i,a,r=!1,s=arguments[0];if(typeof s=="object"&&s!==null&&"v"in s?(e=s.v,t=s.w,n=s.name,arguments.length===2&&(a=arguments[1],r=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],r=!0)),e=""+e,t=""+t,Te(n)||(n=""+n),o=B1(this._isDirected,e,t,n),Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return r&&(this._edgeLabels[o]=a),this;if(!Te(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");return this.setNode(e),this.setNode(t),this._edgeLabels[o]=r?a:this._defaultEdgeLabelFn(e,t,n),i=kZ(this._isDirected,e,t,n),e=i.v,t=i.w,Object.freeze(i),this._edgeObjs[o]=i,wB(this._preds[t],e),wB(this._sucs[e],t),this._in[t][o]=i,this._out[e][o]=i,this._edgeCount++,this}edge(e,t,n){var s=arguments.length===1?sg(this._isDirected,arguments[0]):B1(this._isDirected,e,t,n);return this._edgeLabels[s]}hasEdge(e,t,n){var s=arguments.length===1?sg(this._isDirected,arguments[0]):B1(this._isDirected,e,t,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,s)}removeEdge(e,t,n){var s=arguments.length===1?sg(this._isDirected,arguments[0]):B1(this._isDirected,e,t,n),o=this._edgeObjs[s];return o&&(e=o.v,t=o.w,delete this._edgeLabels[s],delete this._edgeObjs[s],_B(this._preds[t],e),_B(this._sucs[e],t),delete this._in[t][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,t){var n,s=this._in[e];if(s)return n=He(s),t?rt(n,function(e){return e.v===t}):n}outEdges(e,t){var n,s=this._out[e];if(s)return n=He(s),t?rt(n,function(e){return e.w===t}):n}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},ds.prototype._nodeCount=0,ds.prototype._edgeCount=0,e(wB,"incrementOrInitEntry"),e(_B,"decrementOrRemoveEntry"),e(B1,"edgeArgsToId"),e(kZ,"edgeArgsToObj"),e(sg,"edgeObjToId")}),Lo=n(()=>{"use strict";og()});function lB(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function LZ(e,t){if(e!=="_next"&&e!=="_prev")return t}PZ=n(()=>{"use strict";RZ=class{static{e(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return lB(e),e}enqueue(e){var t=this._sentinel;e._prev&&e._next&&lB(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var t=[],n=this._sentinel,e=n._prev;e!==n;)t.push(JSON.stringify(e,LZ)),e=e._prev;return"["+t.join(", ")+"]"}},e(lB,"unlink"),e(LZ,"filterOutLinks")});function HZ(e,t){if(e.nodeCount()<=1)return[];var n=VZ(e,t||WZ),s=IZ(n.graph,n.buckets,n.zeroIdx);return Xt(C(s,function(t){return e.outEdges(t.v,t.w)}))}function IZ(e,t,n){for(var s,o,i=[],a=t[t.length-1],r=t[0];e.nodeCount();){for(;s=r.dequeue();)ig(e,t,n,s);for(;s=a.dequeue();)ig(e,t,n,s);if(e.nodeCount())for(o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){i=i.concat(ig(e,t,n,s,!0));break}}return i}function ig(e,t,n,s,o){var i=o?[]:void 0;return f(e.inEdges(s.v),function(s){var r=e.edge(s),a=e.node(s.v);o&&i.push({v:s.v,w:s.w}),a.out-=r,rg(t,n,a)}),f(e.outEdges(s.v),function(s){var i=e.edge(s),a=s.w,o=e.node(a);o.in-=i,rg(t,n,o)}),e.removeNode(s.v),i}function VZ(e,t){var i,a,n=new ds,s=0,o=0;return f(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),f(e.edges(),function(e){var a=n.edge(e.v,e.w)||0,i=t(e),r=a+i;n.setEdge(e.v,e.w,r),o=Math.max(o,n.node(e.v).out+=i),s=Math.max(s,n.node(e.w).in+=i)}),i=ou(o+s+3).map(function(){return new RZ}),a=s+1,f(n.nodes(),function(e){rg(i,a,n.node(e))}),{graph:n,buckets:i,zeroIdx:a}}function rg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}UZ=n(()=>{"use strict";W(),Lo(),PZ(),WZ=jr(1),e(HZ,"greedyFAS"),e(IZ,"doGreedyFAS"),e(ig,"removeNode"),e(VZ,"buildState"),e(rg,"assignBucket")});function KZ(t){var s=t.graph().acyclicer==="greedy"?HZ(t,n(t)):qZ(t);f(s,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,Qp("rev"))});function n(e){return function(t){return e.edge(t).weight}}e(n,"weightFn")}function qZ(t){var o=[],n={},i={};function s(e){Object.prototype.hasOwnProperty.call(i,e)||(i[e]=!0,n[e]=!0,f(t.outEdges(e),function(e){Object.prototype.hasOwnProperty.call(n,e.w)?o.push(e):s(e.w)}),delete n[e])}return e(s,"dfs"),f(t.nodes(),s),o}function YZ(e){f(e.edges(),function(t){var s,n=e.edge(t);n.reversed&&(e.removeEdge(t),s=n.forwardName,delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,s))})}aB=n(()=>{"use strict";W(),UZ(),e(KZ,"run"),e(qZ,"dfsFAS"),e(YZ,"undo")});function rd(e,t,n,s){var o;do o=Qp(s);while(e.hasNode(o))return n.dummy=t,e.setNode(o,n),o}function QZ(e){var t=(new ds).setGraph(e.graph());return f(e.nodes(),function(n){t.setNode(n,e.node(n))}),f(e.edges(),function(n){var s=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:s.weight+o.weight,minlen:Math.max(s.minlen,o.minlen)})}),t}function nB(e){var t=new ds({multigraph:e.isMultigraph()}).setGraph(e.graph());return f(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),f(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function tB(e,t){var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;if(!n&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=i*n/s,r=i):(n<0&&(o=-o),a=o,r=o*s/n),{x:c+a,y:l+r}}function ff(e){var t=C(ou(QI(e)+1),function(){return[]});return f(e.nodes(),function(n){var s=e.node(n),o=s.rank;Te(o)||(t[o][s.order]=n)}),t}function tJ(e){var t=uu(C(e.nodes(),function(t){return e.node(t).rank}));f(e.nodes(),function(n){var s=e.node(n);Q(s,"rank")&&(s.rank-=t)})}function nJ(e){var n,s,o=uu(C(e.nodes(),function(t){return e.node(t).rank})),t=[];f(e.nodes(),function(n){var s=e.node(n).rank-o;t[s]||(t[s]=[]),t[s].push(n)}),n=0,s=e.graph().nodeRankFactor,f(t,function(t,o){Te(t)&&o%s!==0?--n:n&&f(t,function(t){e.node(t).rank+=n})})}function ZI(e,t,n,s){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=s),rd(e,"border",o,t)}function QI(e){return tl(C(e.nodes(),function(t){var n=e.node(t).rank;if(!Te(n))return n}))}function iJ(e,t){var n={lhs:[],rhs:[]};return f(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function wW(e,t){var n=E$();try{return t()}finally{console.log(e+" time: "+(E$()-n)+"ms")}}function rJ(e,t){return t()}Wi=n(()=>{"use strict";W(),Lo(),e(rd,"addDummyNode"),e(QZ,"simplify"),e(nB,"asNonCompoundGraph"),e(tB,"intersectRect"),e(ff,"buildLayerMatrix"),e(tJ,"normalizeRanks"),e(nJ,"removeEmptyRanks"),e(ZI,"addBorderNode"),e(QI,"maxRank"),e(iJ,"partition"),e(wW,"time"),e(rJ,"notime")});function lJ(t){function n(e){var o,a,i=t.children(e),s=t.node(e);if(i.length&&f(i,n),Object.prototype.hasOwnProperty.call(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(o=s.minRank,a=s.maxRank+1;o<a;++o)qI(t,"borderLeft","_bl",e,s,o),qI(t,"borderRight","_br",e,s,o)}}e(n,"dfs"),f(t.children(),n)}function qI(e,t,n,s,o,i){var c={width:0,height:0,rank:i,borderType:t},r=o[t][i-1],a=rd(e,"border",c,n);o[t][i]=a,e.setParent(a,s),r&&e.setEdge(r,a,{weight:1})}uJ=n(()=>{"use strict";W(),Wi(),e(lJ,"addBorderSegments"),e(qI,"addBorderNode")});function hJ(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&WI(e)}function mJ(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&gJ(e),(t==="lr"||t==="rl")&&(bJ(e),WI(e))}function WI(e){f(e.nodes(),function(t){$I(e.node(t))}),f(e.edges(),function(t){$I(e.edge(t))})}function $I(e){var t=e.width;e.width=e.height,e.height=t}function gJ(e){f(e.nodes(),function(t){gg(e.node(t))}),f(e.edges(),function(t){var n=e.edge(t);f(n.points,gg),Object.prototype.hasOwnProperty.call(n,"y")&&gg(n)})}function gg(e){e.y=-e.y}function bJ(e){f(e.nodes(),function(t){bg(e.node(t))}),f(e.edges(),function(t){var n=e.edge(t);f(n.points,bg),Object.prototype.hasOwnProperty.call(n,"x")&&bg(n)})}function bg(e){var t=e.x;e.x=e.y,e.y=t}yJ=n(()=>{"use strict";W(),e(hJ,"adjust"),e(mJ,"undo"),e(WI,"swapWidthHeight"),e($I,"swapWidthHeightOne"),e(gJ,"reverseY"),e(gg,"reverseYOne"),e(bJ,"swapXY"),e(bg,"swapXYOne")});function _J(e){e.graph().dummyChains=[],f(e.edges(),function(t){wJ(e,t)})}function wJ(e,t){var s,a,r,i=t.v,o=e.node(i).rank,c=t.w,l=e.node(c).rank,d=t.name,n=e.edge(t),u=n.labelRank;if(l!==o+1){e.removeEdge(t),s=void 0;for(r=0,++o;o<l;++r,++o)n.points=[],s={width:0,height:0,edgeLabel:n,edgeObj:t,rank:o},a=rd(e,"edge",s,"_d"),o===u&&(s.width=n.width,s.height=n.height,s.dummy="edge-label",s.labelpos=n.labelpos),e.setEdge(i,a,{weight:n.weight},d),r===0&&e.graph().dummyChains.push(a),i=a;e.setEdge(i,c,{weight:n.weight},d)}}function OJ(e){f(e.graph().dummyChains,function(t){var o,n=e.node(t),s=n.edgeLabel;for(e.setEdge(n.edgeObj,s);n.dummy;)o=e.successors(t)[0],e.removeNode(t),s.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height),t=o,n=e.node(t)})}II=n(()=>{"use strict";W(),Wi(),e(_J,"run"),e(wJ,"normalizeEdge"),e(OJ,"undo")});function jg(t){var s={};function n(e){var o,i=t.node(e);return Object.prototype.hasOwnProperty.call(s,e)?i.rank:(s[e]=!0,o=uu(C(t.outEdges(e),function(e){return n(e.w)-t.edge(e).minlen})),(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o)}e(n,"dfs"),f(t.sources(),n)}function q1(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}wg=n(()=>{"use strict";W(),e(jg,"longestPath"),e(q1,"slack")});function TI(e){var n,s,t=new ds({directed:!1}),o=e.nodes()[0],i=e.nodeCount();t.setNode(o,{});for(;SJ(t,e)<i;)n=MJ(t,e),s=t.hasNode(n.v)?q1(e,n):-q1(e,n),FJ(t,e,s);return t}function SJ(t,n){function s(e){f(n.nodeEdges(e),function(o){var a=o.v,i=e===a?o.w:a;!t.hasNode(i)&&!q1(n,o)&&(t.setNode(i,{}),t.setEdge(e,i,{}),s(i))})}return e(s,"dfs"),f(t.nodes(),s),t.nodeCount()}function MJ(e,t){return zp(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return q1(t,n)})}function FJ(e,t,n){f(e.nodes(),function(e){t.node(e).rank+=n})}FI=n(()=>{"use strict";W(),Lo(),wg(),e(TI,"feasibleTree"),e(SJ,"tightTree"),e(MJ,"findMinSlackEdge"),e(FJ,"shiftRanks")}),zJ=n(()=>{"use strict"}),MI=n(()=>{"use strict"}),SI=n(()=>{"use strict";W(),MI(),sJe=jr(1)}),RJ=n(()=>{"use strict";SI()}),AI=n(()=>{"use strict"}),HJ=n(()=>{"use strict";AI()}),BJ=n(()=>{"use strict";W(),JZe=jr(1)});function VJ(t){var n={},s={},i=[];function o(e){if(Object.prototype.hasOwnProperty.call(s,e))throw new tf;Object.prototype.hasOwnProperty.call(n,e)||(s[e]=!0,n[e]=!0,f(t.predecessors(e),o),delete s[e],i.push(e))}if(e(o,"visit"),f(t.sinks(),o),HQ(n)!==t.nodeCount())throw new tf;return i}function tf(){}xI=n(()=>{"use strict";W(),VJ.CycleException=tf,e(VJ,"topsort"),e(tf,"CycleException"),tf.prototype=new Error}),UJ=n(()=>{"use strict";xI()});function _I(e,t,n){ve(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],i={};return f(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);bI(e,t,n==="post",i,o,s)}),s}function bI(e,t,n,s,o,i){Object.prototype.hasOwnProperty.call(s,t)||(s[t]=!0,n||i.push(t),f(o(t),function(t){bI(e,t,n,s,o,i)}),n&&i.push(t))}vI=n(()=>{"use strict";W(),e(_I,"dfs"),e(bI,"doDfs")});function GJ(e,t){return _I(e,t,"post")}XJ=n(()=>{"use strict";vI(),e(GJ,"postorder")});function QJ(e,t){return _I(e,t,"pre")}ZJ=n(()=>{"use strict";vI(),e(QJ,"preorder")}),JJ=n(()=>{"use strict";MI(),og()}),eee=n(()=>{"use strict";zJ(),SI(),RJ(),HJ(),BJ(),UJ(),XJ(),ZJ(),JJ(),AI(),xI()});function kc(e){e=QZ(e),jg(e);var n,s,t=TI(e);Cg(t),xg(t,e);for(;n=iI(t);)s=oI(t,e,n),sI(t,e,n,s)}function xg(e,t){var n=GJ(e,e.nodes()),n=n.slice(0,n.length-1);f(n,function(n){see(e,t,n)})}function see(e,t,n){var s=e.node(n),o=s.parent;e.edge(n,o).cutvalue=lI(e,t,n)}function lI(e,t,n){var r=e.node(n),o=r.parent,a=!0,i=t.edge(n,o),s=0;return i||(a=!1,i=t.edge(o,n)),s=i.weight,f(t.nodeEdges(n),function(i){var c,l,d,u=i.v===n,r=u?i.w:i.v;r!==o&&(c=u===a,l=t.edge(i).weight,(s+=c?l:-l,uee(e,n,r))&&(d=e.edge(n,r).cutvalue,s+=c?-d:d))}),s}function Cg(e,t){arguments.length<2&&(t=e.nodes()[0]),aI(e,{},1,t)}function aI(e,t,n,s,o){var a=n,i=e.node(s);return t[s]=!0,f(e.neighbors(s),function(o){Object.prototype.hasOwnProperty.call(t,o)||(n=aI(e,t,n,o,s))}),i.low=a,i.lim=n++,o?i.parent=o:delete i.parent,n}function iI(e){return ga(e.edges(),function(t){return e.edge(t).cutvalue<0})}function oI(e,t,n){s=n.v,o=n.w,t.hasEdge(s,o)||(s=n.w,o=n.v);var s,o,l,r=e.node(s),c=e.node(o),i=r,a=!1;return r.lim>c.lim&&(i=c,a=!0),l=rt(t.edges(),function(t){return a===nI(e,e.node(t.v),i)&&a!==nI(e,e.node(t.w),i)}),zp(l,function(e){return q1(t,e)})}function sI(e,t,n,s){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(s.v,s.w,{}),Cg(e),xg(e,t),dee(e,t)}function dee(e,t){var s=ga(e.nodes(),function(e){return!t.node(e).parent}),n=QJ(e,s),n=n.slice(1);f(n,function(n){var o=e.node(n).parent,s=t.edge(n,o),i=!1;s||(s=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?s.minlen:-s.minlen)})}function uee(e,t,n){return e.hasEdge(t,n)}function nI(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}mee=n(()=>{"use strict";W(),eee(),Wi(),FI(),wg(),kc.initLowLimValues=Cg,kc.initCutValues=xg,kc.calcCutValue=lI,kc.leaveEdge=iI,kc.enterEdge=oI,kc.exchangeEdges=sI,e(kc,"networkSimplex"),e(xg,"initCutValues"),e(see,"assignCutValue"),e(lI,"calcCutValue"),e(Cg,"initLowLimValues"),e(aI,"dfsAssignLowLim"),e(iI,"leaveEdge"),e(oI,"enterEdge"),e(sI,"exchangeEdges"),e(dee,"updateRanks"),e(uee,"isTreeEdge"),e(nI,"isDescendant")});function fee(e){switch(e.graph().ranker){case"network-simplex":tI(e);break;case"tight-tree":pee(e);break;case"longest-path":vee(e);break;default:tI(e)}}function pee(e){jg(e),TI(e)}function tI(e){kc(e)}JH=n(()=>{"use strict";FI(),mee(),wg(),e(fee,"rank"),vee=jg,e(pee,"tightTreeRanker"),e(tI,"networkSimplexRanker")});function jee(e){var i,n=rd(e,"root",{},"_root"),s=_ee(e),o=tl(He(s))-1,t=2*o+1;e.graph().nestingRoot=n,f(e.edges(),function(n){e.edge(n).minlen*=t}),i=wee(e)+1,f(e.children(),function(a){ZH(e,n,t,i,o,s,a)}),e.graph().nodeRankFactor=t}function ZH(e,t,n,s,o,i,a){if(c=e.children(a),!c.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var c,r=ZI(e,"_bt"),l=ZI(e,"_bb"),d=e.node(a);e.setParent(r,a),d.borderTop=r,e.setParent(l,a),d.borderBottom=l,f(c,function(c){ZH(e,t,n,s,o,i,c);var d=e.node(c),u=d.borderTop?d.borderTop:c,h=d.borderBottom?d.borderBottom:c,m=d.borderTop?s:2*s,f=u!==h?1:o-i[a]+1;e.setEdge(r,u,{weight:m,minlen:f,nestingEdge:!0}),e.setEdge(h,l,{weight:m,minlen:f,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,r,{weight:0,minlen:o+i[a]})}function _ee(t){var s={};function n(e,o){var i=t.children(e);i&&i.length&&f(i,function(e){n(e,o+1)}),s[e]=o}return e(n,"dfs"),f(t.children(),function(e){n(e,1)}),s}function wee(e){return bt(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function Oee(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,f(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}xee=n(()=>{"use strict";W(),Wi(),e(jee,"run"),e(ZH,"dfs"),e(_ee,"treeDepths"),e(wee,"sumWeights"),e(Oee,"cleanup")});function Cee(e,t,n){var o,s={};f(n,function(n){for(var a,r,i=e.parent(n);i;){if(a=e.parent(i),a?(r=s[a],s[a]=i):(r=o,o=i),r&&r!==i){t.setEdge(r,i);return}i=a}})}Eee=n(()=>{"use strict";W(),e(Cee,"addSubgraphConstraints")});function kee(e,t,n){var o=Aee(e),s=new ds({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return f(e.nodes(),function(i){var a=e.node(i),r=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(i),s.setParent(i,r||o),f(e[n](i),function(t){var n=t.v===i?t.w:t.v,o=s.edge(n,i),a=Te(o)?0:o.weight;s.setEdge(n,i,{weight:e.edge(t).weight+a})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&s.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),s}function Aee(e){for(var t;e.hasNode(t=Qp("_root")););return t}See=n(()=>{"use strict";W(),Lo(),e(kee,"buildLayerGraph"),e(Aee,"createRootNode")});function Mee(e,t){for(var s=0,n=1;n<t.length;++n)s+=Fee(e,t[n-1],t[n]);return s}function Fee(e,t,n){for(var o,i,a,r=_Z(n,C(n,function(e,t){return t})),c=Xt(C(t,function(t){return E1(C(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")})),s=1;s<n.length;)s<<=1;return a=2*s-1,s-=1,o=C(new Array(a),function(){return 0}),i=0,f(c.forEach(function(e){var n,t=e.pos+s;o[t]+=e.weight;for(n=0;t>0;)t%2&&(n+=o[t+1]),t=t-1>>1,o[t]+=e.weight;i+=e.weight*n})),i}Tee=n(()=>{"use strict";W(),e(Mee,"crossCount"),e(Fee,"twoLayerCrossCount")});function zee(t){var a,s={},o=rt(t.nodes(),function(e){return!t.children(e).length}),r=tl(C(o,function(e){return t.node(e).rank})),i=C(ou(r+1),function(){return[]});function n(e){if(!Q(s,e)){s[e]=!0;var o=t.node(e);i[o.rank].push(e),f(t.successors(e),n)}}return e(n,"dfs"),a=E1(o,function(e){return t.node(e).rank}),f(a,n),i}Dee=n(()=>{"use strict";W(),e(zee,"initOrder")});function Nee(e,t){return C(t,function(t){var n,s=e.inEdges(t);return s.length?(n=bt(s,function(t,n){var s=e.edge(n),o=e.node(n.v);return{sum:t.sum+s.weight*o.order,weight:t.weight+s.weight}},{sum:0,weight:0}),{v:t,barycenter:n.sum/n.weight,weight:n.weight}):{v:t}})}Lee=n(()=>{"use strict";W(),e(Nee,"barycenter")});function Ree(e,t){var s,n={};return f(e,function(e,t){var s=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};Te(e.barycenter)||(s.barycenter=e.barycenter,s.weight=e.weight)}),f(t.edges(),function(e){var t=n[e.v],s=n[e.w];!Te(t)&&!Te(s)&&(s.indegree++,t.out.push(n[e.w]))}),s=rt(n,function(e){return!e.indegree}),Pee(s)}function Pee(t){var n,s=[];function o(e){return function(t){t.merged||(Te(t.barycenter)||Te(e.barycenter)||t.barycenter>=e.barycenter)&&Hee(e,t)}}e(o,"handleIn");function i(e){return function(n){n.in.push(e),--n.indegree===0&&t.push(n)}}for(e(i,"handleOut");t.length;)n=t.pop(),s.push(n),f(n.in.reverse(),o(n)),f(n.out,i(n));return C(rt(s,function(e){return!e.merged}),function(e){return e6(e,["vs","i","barycenter","weight"])})}function Hee(e,t){var s=0,n=0;e.weight&&(s+=e.barycenter*e.weight,n+=e.weight),t.weight&&(s+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=s/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}Iee=n(()=>{"use strict";W(),e(Ree,"resolveConflicts"),e(Pee,"doResolveConflicts"),e(Hee,"mergeEntries")});function Bee(e,t){var i,a=iJ(e,function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")}),r=a.lhs,c=E1(a.rhs,function(e){return-e.i}),s=[],l=0,o=0,n=0;return r.sort($ee(!!t)),n=QH(s,c,n),f(r,function(e){n+=e.vs.length,s.push(e.vs),l+=e.barycenter*e.weight,o+=e.weight,n=QH(s,c,n)}),i={vs:Xt(s)},o&&(i.barycenter=l/o,i.weight=o),i}function QH(e,t,n){for(var s;t.length&&(s=ii(t)).i<=n;)t.pop(),e.push(s.vs),n++;return n}function $ee(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}Wee=n(()=>{"use strict";W(),Wi(),e(Bee,"sort"),e(QH,"consumeUnsortable"),e($ee,"compareWithBias")});function XH(e,t,n,s){var o,l,d,h,m,r=e.children(t),a=e.node(t),i=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,u={};return i&&(r=rt(r,function(e){return e!==i&&e!==c})),l=Nee(e,r),f(l,function(t){if(e.children(t.v).length){var o=XH(e,t.v,n,s);u[t.v]=o,Object.prototype.hasOwnProperty.call(o,"barycenter")&&qee(t,o)}}),d=Ree(l,n),Kee(d,u),o=Bee(d,s),i&&(o.vs=Xt([i,o.vs,c]),e.predecessors(i).length)&&(h=e.node(e.predecessors(i)[0]),m=e.node(e.predecessors(c)[0]),Object.prototype.hasOwnProperty.call(o,"barycenter")||(o.barycenter=0,o.weight=0),o.barycenter=(o.barycenter*o.weight+h.order+m.order)/(o.weight+2),o.weight+=2),o}function Kee(e,t){f(e,function(e){e.vs=Xt(e.vs.map(function(e){return t[e]?t[e].vs:e}))})}function qee(e,t){Te(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}Yee=n(()=>{"use strict";W(),Lee(),Iee(),Wee(),e(XH,"sortSubgraph"),e(Kee,"expandSubgraphs"),e(qee,"mergeBarycenters")});function Gee(e){var o,i=QI(e),c=GH(e,ou(1,i+1),"inEdges"),l=GH(e,ou(i-1,-1,-1),"outEdges"),t=zee(e);YH(e,t);for(var r,a=Number.POSITIVE_INFINITY,n=0,s=0;s<4;++n,++s)Qee(n%2?c:l,n%4>=2),t=ff(e),o=Mee(e,t),o<a&&(s=0,r=sU(t),a=o);YH(e,r)}function GH(e,t,n){return C(t,function(t){return kee(e,t,n)})}function Qee(e,t){var n=new ds;f(e,function(e){var o=e.graph().root,s=XH(e,o,n,t);f(s.vs,function(t,n){e.node(t).order=n}),Cee(e,n,s.vs)})}function YH(e,t){f(t,function(t){f(t,function(t,n){e.node(t).order=n})})}Jee=n(()=>{"use strict";W(),Lo(),Wi(),Eee(),See(),Tee(),Dee(),Yee(),e(Gee,"order"),e(GH,"buildLayerGraphs"),e(Qee,"sweepLayerGraphs"),e(YH,"assignOrder")});function ete(e){var t=nte(e);f(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,l=tte(e,t,r.v,r.w),i=l.path,d=l.lca,s=0,o=i[s],c=!0;n!==r.w;){if(a=e.node(n),c){for(;(o=i[s])!==d&&e.node(o).maxRank<a.rank;)s++;o===d&&(c=!1)}if(!c){for(;s<i.length-1&&e.node(o=i[s+1]).minRank<=a.rank;)s++;o=i[s]}e.setParent(n,o),n=e.successors(n)[0]}})}function tte(e,t,n,s){var i,a=[],r=[],c=Math.min(t[n].low,t[s].low),l=Math.max(t[n].lim,t[s].lim),o=n;do o=e.parent(o),a.push(o);while(o&&(t[o].low>c||l>t[o].lim))for(i=o,o=s;(o=e.parent(o))!==i;)r.push(o);return{path:a.concat(r.reverse()),lca:i}}function nte(t){var s={},o=0;function n(e){var i=o;f(t.children(e),n),s[e]={low:i,lim:o++}}return e(n,"dfs"),f(t.children(),n),s}ste=n(()=>{"use strict";W(),e(ete,"parentDummyChains"),e(tte,"findPath"),e(nte,"postorder")});function ote(t,n){var s={};function o(e,n){var o=0,i=0,a=e.length,r=ii(n);return f(n,function(e,c){var l=ate(t,e),d=l?t.node(l).order:a;(l||e===r)&&(f(n.slice(i,c+1),function(e){f(t.predecessors(e),function(n){var i=t.node(n),a=i.order;(a<o||d<a)&&!(i.dummy&&t.node(e).dummy)&&qH(s,n,e)})}),i=c+1,o=d)}),n}return e(o,"visitLayer"),bt(n,o),s}function ite(t,n){var o={};function s(e,n,s,i,a){var r;f(ou(n,s),function(n){r=e[n],t.node(r).dummy&&f(t.predecessors(r),function(e){var n=t.node(e);n.dummy&&(n.order<i||n.order>a)&&qH(o,e,r)})})}e(s,"scan");function i(e,n){var o,a=-1,i=0;return f(n,function(r,c){if(t.node(r).dummy==="border"){var l=t.predecessors(r);l.length&&(o=t.node(l[0]).order,s(n,i,c,a,o),i=c,a=o)}s(n,i,n.length,o,e.length)}),n}return e(i,"visitLayer"),bt(n,i),o}function ate(e,t){if(e.node(t).dummy)return ga(e.predecessors(t),function(t){return e.node(t).dummy})}function qH(e,t,n){if(t>n){var s,o=t;t=n,n=o}s=e[t],s||(e[t]=s={}),s[n]=!0}function cte(e,t,n){if(t>n){var s=t;t=n,n=s}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],n)}function lte(e,t,n,s){var i={},o={},a={};return f(t,function(e){f(e,function(e,t){i[e]=e,o[e]=e,a[e]=t})}),f(t,function(e){var t=-1;f(e,function(e){if(r=s(e),r.length){r=E1(r,function(e){return a[e]});for(var r,c,d=(r.length-1)/2,l=Math.floor(d),u=Math.ceil(d);l<=u;++l)c=r[l],o[e]===e&&t<a[c]&&!cte(n,e,c)&&(o[c]=e,o[e]=i[e]=i[c],t=a[c])}})}),{root:i,align:o}}function dte(t,n,s,o,i){var r={},a=ute(t,n,s,i),u=i?"borderLeft":"borderRight";function c(e,t){for(var s=a.nodes(),n=s.pop(),o={};n;)o[n]?e(n):(o[n]=!0,s.push(n),s=s.concat(t(n))),n=s.pop()}e(c,"iterate");function l(e){r[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,r[t.v]+a.edge(t))},0)}e(l,"pass1");function d(e){var n=a.outEdges(e).reduce(function(e,t){return Math.min(e,r[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),s=t.node(e);n!==Number.POSITIVE_INFINITY&&s.borderType!==u&&(r[e]=Math.max(r[e],n))}return e(d,"pass2"),c(l,a.predecessors.bind(a)),c(d,a.successors.bind(a)),f(o,function(e){r[e]=r[s[e]]}),r}function ute(e,t,n,s){var o=new ds,i=e.graph(),a=gte(i.nodesep,i.edgesep,s);return f(t,function(t){var s;f(t,function(t){if(i=n[t],o.setNode(i),s){var i,r=n[s],c=o.edge(r,i);o.setEdge(r,i,Math.max(a(e,t,s),c||0))}s=t})}),o}function hte(e,t){return zp(He(t),function(t){var n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return $Y(t,function(t,o){var i=vte(e,o)/2;n=Math.max(t+i,n),s=Math.min(t-i,s)}),n-s})}function mte(e,t){var n=He(t),s=uu(n),o=tl(n);f(["u","d"],function(n){f(["l","r"],function(i){var r,c,l=n+i,a=e[l];a!==t&&(c=He(a),r=i==="l"?s-uu(c):o-tl(c),r&&(e[l]=n6(a,function(e){return e+r})))})})}function fte(e,t){return n6(e.ul,function(n,s){if(t)return e[t.toLowerCase()][s];var o=E1(C(e,s));return(o[1]+o[2])/2})}function pte(e){var t,o,n=ff(e),i=cf(ote(e,n),ite(e,n)),s={};return f(["u","d"],function(o){t=o==="u"?n:He(n).reverse(),f(["l","r"],function(n){n==="r"&&(t=C(t,function(e){return He(e).reverse()}));var c=(o==="u"?e.predecessors:e.successors).bind(e),r=lte(e,t,i,c),a=dte(e,t,r.root,r.align,n==="r");n==="r"&&(a=n6(a,function(e){return-e})),s[o+n]=a})}),o=hte(e,s),mte(s,o),fte(s,e.graph().align)}function gte(e,t,n){return function(s,o,i){var a,c=s.node(o),l=s.node(i),r=0;if(r+=c.width/2,Object.prototype.hasOwnProperty.call(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2;break}if(a&&(r+=n?a:-a),a=0,r+=(c.dummy?t:e)/2,r+=(l.dummy?t:e)/2,r+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2;break}return a&&(r+=n?a:-a),a=0,r}}function vte(e,t){return e.node(t).width}bte=n(()=>{"use strict";W(),Lo(),Wi(),e(ote,"findType1Conflicts"),e(ite,"findType2Conflicts"),e(ate,"findOtherInnerSegmentNode"),e(qH,"addConflict"),e(cte,"hasConflict"),e(lte,"verticalAlignment"),e(dte,"horizontalCompaction"),e(ute,"buildBlockGraph"),e(hte,"findSmallestWidthAlignment"),e(mte,"alignCoordinates"),e(fte,"balance"),e(pte,"positionX"),e(gte,"sep"),e(vte,"width")});function jte(e){e=nB(e),yte(e),KY(pte(e),function(t,n){e.node(n).x=t})}function yte(e){var n=ff(e),s=e.graph().ranksep,t=0;f(n,function(n){var o=tl(C(n,function(t){return e.node(t).height}));f(n,function(n){e.node(n).y=t+o/2}),t+=o+s})}_te=n(()=>{"use strict";W(),Wi(),bte(),e(jte,"position"),e(yte,"positionY")});function KH(e,t){var n=t&&t.debugTiming?wW:rJ;n("layout",()=>{var t=n("  buildLayoutGraph",()=>Cte(e));n("  runLayout",()=>Ote(t,n)),n("  updateInputGraph",()=>xte(e,t))})}function Ote(e,t){t("    makeSpaceForEdgeLabels",()=>Ete(e)),t("    removeSelfEdges",()=>Nte(e)),t("    acyclic",()=>KZ(e)),t("    nestingGraph.run",()=>jee(e)),t("    rank",()=>fee(nB(e))),t("    injectEdgeLabelProxies",()=>kte(e)),t("    removeEmptyRanks",()=>nJ(e)),t("    nestingGraph.cleanup",()=>Oee(e)),t("    normalizeRanks",()=>tJ(e)),t("    assignRankMinMax",()=>Ate(e)),t("    removeEdgeLabelProxies",()=>Ste(e)),t("    normalize.run",()=>_J(e)),t("    parentDummyChains",()=>ete(e)),t("    addBorderSegments",()=>lJ(e)),t("    order",()=>Gee(e)),t("    insertSelfEdges",()=>Lte(e)),t("    adjustCoordinateSystem",()=>hJ(e)),t("    position",()=>jte(e)),t("    positionSelfEdges",()=>Rte(e)),t("    removeBorderNodes",()=>Dte(e)),t("    normalize.undo",()=>OJ(e)),t("    fixupEdgeLabelCoords",()=>Tte(e)),t("    undoCoordinateSystem",()=>mJ(e)),t("    translateGraph",()=>Mte(e)),t("    assignNodeIntersects",()=>Fte(e)),t("    reversePoints",()=>zte(e)),t("    acyclic.undo",()=>YZ(e))}function xte(e,t){f(e.nodes(),function(n){var s=e.node(n),o=t.node(n);s&&(s.x=o.x,s.y=o.y,t.children(n).length&&(s.width=o.width,s.height=o.height))}),f(e.edges(),function(n){var o=e.edge(n),s=t.edge(n);o.points=s.points,Object.prototype.hasOwnProperty.call(s,"x")&&(o.x=s.x,o.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function Cte(e){var t=new ds({multigraph:!0,compound:!0}),n=Ag(e.graph());return t.setGraph(cf({},Bte,Eg(n,Ite),e6(n,Vte))),f(e.nodes(),function(n){var s=Ag(e.node(n));t.setNode(n,w6(Eg(s,$te),Wte)),t.setParent(n,e.parent(n))}),f(e.edges(),function(n){var s=Ag(e.edge(n));t.setEdge(n,cf({},Kte,Eg(s,Ute),e6(s,qte)))}),t}function Ete(e){var t=e.graph();t.ranksep/=2,f(e.edges(),function(n){var s=e.edge(n);s.minlen*=2,s.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?s.width+=s.labeloffset:s.height+=s.labeloffset)})}function kte(e){f(e.edges(),function(t){if(n=e.edge(t),n.width&&n.height){var n,s=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-s.rank)/2+s.rank,e:t};rd(e,"edge-proxy",i,"_ep")}})}function Ate(e){var t=0;f(e.nodes(),function(n){var s=e.node(n);s.borderTop&&(s.minRank=e.node(s.borderTop).rank,s.maxRank=e.node(s.borderBottom).rank,t=tl(t,s.maxRank))}),e.graph().maxRank=t}function Ste(e){f(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Mte(t){var n=Number.POSITIVE_INFINITY,i=0,s=Number.POSITIVE_INFINITY,a=0,o=t.graph(),c=o.marginx||0,l=o.marginy||0;function r(e){var t=e.x,o=e.y,r=e.width,c=e.height;n=Math.min(n,t-r/2),i=Math.max(i,t+r/2),s=Math.min(s,o-c/2),a=Math.max(a,o+c/2)}e(r,"getExtremes"),f(t.nodes(),function(e){r(t.node(e))}),f(t.edges(),function(e){var n=t.edge(e);Object.prototype.hasOwnProperty.call(n,"x")&&r(n)}),n-=c,s-=l,f(t.nodes(),function(e){var o=t.node(e);o.x-=n,o.y-=s}),f(t.edges(),function(e){var o=t.edge(e);f(o.points,function(e){e.x-=n,e.y-=s}),Object.prototype.hasOwnProperty.call(o,"x")&&(o.x-=n),Object.prototype.hasOwnProperty.call(o,"y")&&(o.y-=s)}),o.width=i-n+c,o.height=a-s+l}function Fte(e){f(e.edges(),function(t){var s,o,n=e.edge(t),i=e.node(t.v),a=e.node(t.w);n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=a,o=i),n.points.unshift(tB(i,s)),n.points.push(tB(a,o))})}function Tte(e){f(e.edges(),function(t){var n=e.edge(t);if(Object.prototype.hasOwnProperty.call(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function zte(e){f(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Dte(e){f(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),s=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ii(n.borderLeft)),a=e.node(ii(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-s.y),n.x=o.x+n.width/2,n.y=s.y+n.height/2}}),f(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Nte(e){f(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Lte(e){var t=ff(e);f(t,function(t){var n=0;f(t,function(t,s){var o=e.node(t);o.order=s+n,f(o.selfEdges,function(t){rd(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:s+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})}function Rte(e){f(e.nodes(),function(t){if(n=e.node(t),n.dummy==="selfedge"){var n,a=e.node(n.e.v),s=a.x+a.width/2,o=a.y,i=n.x-s,r=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:s+2*i/3,y:o-r},{x:s+5*i/6,y:o-r},{x:s+i,y:o},{x:s+5*i/6,y:o+r},{x:s+2*i/3,y:o+r}],n.label.x=n.x,n.label.y=n.y}})}function Eg(e,t){return n6(e6(e,t),Number)}function Ag(e){var t={};return f(e,function(e,n){t[n.toLowerCase()]=e}),t}Yte=n(()=>{"use strict";W(),Lo(),uJ(),yJ(),aB(),II(),JH(),xee(),Jee(),ste(),_te(),Wi(),e(KH,"layout"),e(Ote,"runLayout"),e(xte,"updateInputGraph"),Ite=["nodesep","edgesep","ranksep","marginx","marginy"],Bte={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Vte=["acyclicer","ranker","rankdir","align"],$te=["width","height"],Wte={width:0,height:0},Ute=["minlen","weight","width","height","labeloffset"],Kte={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},qte=["labelpos"],e(Cte,"buildLayoutGraph"),e(Ete,"makeSpaceForEdgeLabels"),e(kte,"injectEdgeLabelProxies"),e(Ate,"assignRankMinMax"),e(Ste,"removeEdgeLabelProxies"),e(Mte,"translateGraph"),e(Fte,"assignNodeIntersects"),e(Tte,"fixupEdgeLabelCoords"),e(zte,"reversePointsForReversedEdges"),e(Dte,"removeBorderNodes"),e(Nte,"removeSelfEdges"),e(Lte,"insertSelfEdges"),e(Rte,"positionSelfEdges"),e(Eg,"selectNumberAttrs"),e(Ag,"canonicalize")}),$H=n(()=>{"use strict";aB(),Yte(),II(),JH()});function Ko(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Qte(e),edges:Zte(e)};return Te(e.graph())||(t.value=$t(e.graph())),t}function Qte(e){return C(e.nodes(),function(t){var s=e.node(t),o=e.parent(t),n={v:t};return Te(s)||(n.value=s),Te(o)||(n.parent=o),n})}function Zte(e){return C(e.edges(),function(t){var s=e.edge(t),n={v:t.v,w:t.w};return Te(t.name)||(n.name=t.name),Te(s)||(n.value=s),n})}LH=n(()=>{"use strict";W(),og(),e(Ko,"write"),e(Qte,"writeNodes"),e(Zte,"writeEdges")}),pne=n(()=>{"use strict";x(),Lo(),LH(),pe=new Map,Rc=new Map,FH=new Map,sne=e(()=>{Rc.clear(),FH.clear(),pe.clear()},"clear"),P8=e((e,t)=>{let n=Rc.get(t)||[];return a.trace("In isDescendant",t," ",e," = ",n.includes(e)),n.includes(e)},"isDescendant"),ine=e((e,t)=>{let n=Rc.get(t)||[];return a.info("Descendants of ",t," is ",n),a.info("Edge is ",e),e.v!==t&&e.w!==t&&(n?n.includes(e.v)||P8(e.v,t)||P8(e.w,t)||n.includes(e.w):(a.debug("Tilt, ",t,",not in descendants"),!1))},"edgeInCluster"),kH=e((e,t,n,s)=>{a.warn("Copying children of ",e,"root",s,"data",t.node(e),s);let o=t.children(e)||[];e!==s&&o.push(e),a.warn("Copying (nodes) clusterId",e,"nodes",o),o.forEach(o=>{if(t.children(o).length>0)kH(o,t,n,s);else{let r=t.node(o);a.info("cp ",o," to ",s," with parent ",e),n.setNode(o,r),s!==t.parent(o)&&(a.warn("Setting parent",o,t.parent(o)),n.setParent(o,t.parent(o))),e!==s&&o!==e?(a.debug("Setting parent",o,e),n.setParent(o,e)):(a.info("In copy ",e,"root",s,"data",t.node(e),s),a.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==s,"node!==clusterId",o!==e));let i=t.edges(o);a.debug("Copying Edges",i),i.forEach(o=>{a.info("Edge",o);let i=t.edge(o.v,o.w,o.name);a.info("Edge data",i,s);try{ine(o,s)?(a.info("Copying as ",o.v,o.w,i,o.name),n.setEdge(o.v,o.w,i,o.name),a.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):a.info("Skipping copy of edge ",o.v,"-->",o.w," rootId: ",s," clusterId:",e)}catch(e){a.error(e)}})}a.debug("Removing node",o),t.removeNode(o)})},"copy"),EH=e((e,t)=>{let s=t.children(e),n=[...s];for(let o of s)FH.set(o,e),n=[...n,...EH(o,t)];return n},"extractDescendants"),cne=e((e,t,n)=>{let s=e.edges().filter(e=>e.v===t||e.w===t),o=e.edges().filter(e=>e.v===n||e.w===n),i=s.map(e=>({v:e.v===t?n:e.v,w:e.w===t?t:e.w})),a=o.map(e=>({v:e.v,w:e.w}));return i.filter(e=>a.some(t=>e.v===t.v&&e.w===t.w))},"findCommonEdges"),d4=e((e,t,n)=>{let s=t.children(e);if(a.trace("Searching children of id ",e,s),s.length<1)return e;let o;for(let i of s){let e=d4(i,t,n),a=cne(t,n,e);if(e)if(a.length>0)o=e;else return e}return o},"findNonClusterChild"),yH=e(e=>!pe.has(e)||!pe.get(e).externalConnections?e:pe.has(e)?pe.get(e).id:e,"getAnchorId"),une=e((e,t)=>{if(!e||t>10){a.debug("Opting out, no graph ");return}a.debug("Opting in, graph "),e.nodes().forEach(function(t){e.children(t).length>0&&(a.warn("Cluster identified",t," Replacement id in edges: ",d4(t,e,t)),Rc.set(t,EH(t,e)),pe.set(t,{id:d4(t,e,t),clusterData:e.node(t)}))}),e.nodes().forEach(function(t){let n=e.children(t),s=e.edges();n.length>0?(a.debug("Cluster identified",t,Rc),s.forEach(e=>{let n=P8(e.v,t),s=P8(e.w,t);n^s&&(a.warn("Edge: ",e," leaves cluster ",t),a.warn("Descendants of XXX ",t,": ",Rc.get(t)),pe.get(t).externalConnections=!0)})):a.debug("Not a cluster ",t,Rc)});for(let n of pe.keys()){let s=pe.get(n).id,t=e.parent(s);t!==n&&pe.has(t)&&!pe.get(t).externalConnections&&(pe.get(n).id=t)}e.edges().forEach(function(t){let o=e.edge(t);a.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),a.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t)));let n=t.v,s=t.w;if(a.warn("Fix XXX",pe,"ids:",t.v,t.w,"Translating: ",pe.get(t.v)," --- ",pe.get(t.w)),pe.get(t.v)||pe.get(t.w)){if(a.warn("Fixing and trying - removing XXX",t.v,t.w,t.name),n=yH(t.v),s=yH(t.w),e.removeEdge(t.v,t.w,t.name),n!==t.v){let s=e.parent(n);pe.get(s).externalConnections=!0,o.fromCluster=t.v}if(s!==t.w){let n=e.parent(s);pe.get(n).externalConnections=!0,o.toCluster=t.w}a.warn("Fix Replacing with XXX",n,s,t.name),e.setEdge(n,s,o,t.name)}}),a.warn("Adjusted Graph",Ko(e)),jH(e,0),a.trace(pe)},"adjustClustersAndEdges"),jH=e((e,t)=>{if(a.warn("extractor - ",t,Ko(e),e.children("D")),t>10){a.error("Bailing out");return}let n=e.nodes(),s=!1;for(let t of n){let o=e.children(t);s=s||o.length>0}if(!s){a.debug("Done, no node has children",e.nodes());return}a.debug("Nodes = ",n,t);for(let s of n)if(a.debug("Extracting node",s,pe,pe.has(s)&&!pe.get(s).externalConnections,!e.parent(s),e.node(s),e.children("D")," Depth ",t),!pe.has(s))a.debug("Not a cluster",s,t);else if(!pe.get(s).externalConnections&&e.children(s)&&e.children(s).length>0){a.warn("Cluster without external connections, without a parent and with children",s,t);let n=e.graph().rankdir==="TB"?"LR":"TB";pe.get(s)?.clusterData?.dir&&(n=pe.get(s).clusterData.dir,a.warn("Fixing dir",pe.get(s).clusterData.dir,n));let o=new ds({multigraph:!0,compound:!0}).setGraph({rankdir:n,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});a.warn("Old graph before copy",Ko(e)),kH(s,e,o,s),e.setNode(s,{clusterNode:!0,id:s,clusterData:pe.get(s).clusterData,label:pe.get(s).label,graph:o}),a.warn("New graph after copy node: (",s,")",Ko(o)),a.debug("Old graph after copy",Ko(e))}else a.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!pe.get(s).externalConnections," no parent: ",!e.parent(s)," children ",e.children(s)&&e.children(s).length>0,e.children("D"),t),a.debug(pe);n=e.nodes(),a.warn("New list of nodes",n);for(let o of n){let s=e.node(o);a.warn(" Now next level",o,s),s?.clusterNode&&jH(s.graph,t+1)}},"extractor"),bH=e((e,t)=>{if(t.length===0)return[];let n=Object.assign([],t);return t.forEach(t=>{let s=e.children(t),o=bH(e,s);n=[...n,...o]}),n},"sorter"),fne=e(e=>bH(e,e.children()),"sortNodesByHierarchy")}),vH={},de(vH,{render:()=>bne}),jne=n(()=>{"use strict";$H(),LH(),Lo(),OH(),N(),pne(),Ng(),Qg(),oH(),x(),Bm(),P(),gH=e(async(t,n,s,o,i,r)=>{a.warn("Graph in recursive render:XAX",Ko(n),i);let d=n.graph().rankdir;a.trace("Dir in recursive render - dir:",d);let c=t.insert("g").attr("class","root");n.nodes()?a.info("Recursive render XXX",n.nodes()):a.info("No nodes found for",n),n.edges().length>0&&a.info("Recursive edges",n.edge(n.edges()[0]));let m=c.insert("g").attr("class","clusters"),f=c.insert("g").attr("class","edgePaths"),p=c.insert("g").attr("class","edgeLabels"),u=c.insert("g").attr("class","nodes");await Promise.all(n.nodes().map(async function(e){let t=n.node(e);if(i!==void 0){let t=JSON.parse(JSON.stringify(i.clusterData));a.trace(`Setting data for parent cluster XXX
 Node.id = `,e,`
 data=`,t.height,`
Parent cluster`,i.height),n.setNode(i.id,t),n.parent(e)||(a.trace("Setting parent",e,i.id),n.setParent(e,i.id,t))}if(a.info("(Insert) Node XXX"+e+": "+JSON.stringify(n.node(e))),t?.clusterNode){a.info("Cluster identified XBX",e,t.width,n.node(e));let{ranksep:l,nodesep:d}=n.graph();t.graph.setGraph({...t.graph.graph(),ranksep:l+25,nodesep:d});let i=await gH(u,t.graph,s,o,n.node(e),r),c=i.elem;B(t,c),t.diff=i.diff||0,a.info("New compound node after recursive render XAX",e,"width",t.width,"height",t.height),rne(c,t)}else n.children(e).length>0?(a.trace("Cluster - the non recursive path XBX",e,t.id,t,t.width,"Graph:",n),a.trace(d4(t.id,n)),pe.set(t.id,{id:d4(t.id,n),node:t})):(a.trace("Node - the non recursive path XAX",e,u,n.node(e),d),await Hg(u,n.node(e),{config:r,dir:d}))})),await e(async()=>{let e=n.edges().map(async function(e){let t=n.edge(e.v,e.w,e.name);a.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),a.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(n.edge(e))),a.info("Fix",pe,"ids:",e.v,e.w,"Translating: ",pe.get(e.v),pe.get(e.w)),await XP(p,t)});await Promise.all(e)},"processEdges")(),a.info("Graph before layout:",JSON.stringify(Ko(n))),a.info("############################################# XXX"),a.info("###                Layout                 ### XXX"),a.info("############################################# XXX"),KH(n),a.info("Graph after layout:",JSON.stringify(Ko(n)));let h=0,{subGraphTitleTotalMargin:l}=F4(r);return await Promise.all(fne(n).map(async function(e){let t=n.node(e);if(a.info("Position XBX => "+e+": ("+t.x,","+t.y,") width: ",t.width," height: ",t.height),t?.clusterNode)t.y+=l,a.info("A tainted cluster node XBX1",e,t.id,t.width,t.height,t.x,t.y,n.parent(e)),pe.get(t.id).node=t,Rg(t);else if(n.children(e).length>0){a.info("A pure cluster node XBX1",e,t.id,t.x,t.y,t.width,t.height,n.parent(e)),t.height+=l,n.node(t.parentId);let s=t?.padding/2||0,o=t?.labelBBox?.height||0,i=o-s||0;a.debug("OffsetY",i,"labelHeight",o,"halfPadding",s),await n5(m,t),pe.get(t.id).node=t}else{let e=n.node(t.parentId);t.y+=l/2,a.info("A regular node XBX1 - using the padding",t.id,"parent",t.parentId,t.width,t.height,t.x,t.y,"offsetY",t.offsetY,"parent",e,e?.offsetY,t),Rg(t)}})),n.edges().forEach(function(e){let t=n.edge(e);a.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t),t),t.points.forEach(e=>e.y+=l/2);let i=n.node(e.v);var r=n.node(e.w);let c=sH(f,t,pe,s,i,r,o);QP(t,c)}),n.nodes().forEach(function(e){let t=n.node(e);a.info(e,t.type,t.diff),t.isGroup&&(h=t.diff)}),a.warn("Returning from recursive render XAX",c,h),{elem:c,diff:h}},"recursiveRender"),bne=e(async(e,t)=>{let n=new ds({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),s=t.select("g");wH(s,e.markers,e.type,e.diagramId),ane(),ise(),hse(),sne(),e.nodes.forEach(e=>{n.setNode(e.id,{...e}),e.parentId&&n.setParent(e.id,e.parentId)}),a.debug("Edges:",e.edges),e.edges.forEach(e=>{if(e.start===e.end){let t=e.start,s=t+"---"+t+"---1",o=t+"---"+t+"---2",i=n.node(t);n.setNode(s,{domId:s,id:s,parentId:i.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),n.setParent(s,i.parentId),n.setNode(o,{domId:o,id:o,parentId:i.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),n.setParent(o,i.parentId);let a=structuredClone(e),c=structuredClone(e),r=structuredClone(e);a.label="",a.arrowTypeEnd="none",a.id=t+"-cyclic-special-1",c.arrowTypeStart="none",c.arrowTypeEnd="none",c.id=t+"-cyclic-special-mid",r.label="",i.isGroup&&(a.fromCluster=t,r.toCluster=t),r.id=t+"-cyclic-special-2",r.arrowTypeStart="none",n.setEdge(t,s,a,t+"-cyclic-special-0"),n.setEdge(s,o,c,t+"-cyclic-special-1"),n.setEdge(o,t,r,t+"-cyc<lic-special-2")}else n.setEdge(e.start,e.end,{...e},e.id)}),a.warn("Graph at first:",JSON.stringify(Ko(n))),une(n),a.warn("Graph after XAX:",JSON.stringify(Ko(n)));let o=u();await gH(s,n,e.type,e.diagramId,void 0,o)},"render")}),ul=n(()=>{"use strict";nne(),x(),u4={},fH=e(e=>{for(let t of e)u4[t.name]=t},"registerLayoutLoaders"),wne=e(()=>{fH([{name:"dagre",loader:e(async()=>await Promise.resolve().then(()=>(jne(),vH)),"loader")}])},"registerDefaultLayoutLoaders"),wne(),h4=e(async(e,t)=>{if(!(e.layoutAlgorithm in u4))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let n=u4[e.layoutAlgorithm];return(await n.loader()).render(e,t,one,{algorithm:n.algorithm})},"render"),T8=e((e="",{fallback:t="dagre"}={})=>{if(e in u4)return e;if(t in u4)return a.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")}),p4=n(()=>{"use strict";Ht(),x(),f4=e((e,t,n,s)=>{e.attr("class",n);let{width:o,height:i,x:c,y:l}=kne(e,t);ls(e,i,o,s);let r=Ane(c,l,o,i,t);e.attr("viewBox",r),a.debug(`viewBox configured: ${r} with padding: ${t}`)},"setupViewPortForSVG"),kne=e((e,t)=>{let n=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:n.width+t*2,height:n.height+t*2,x:n.x,y:n.y}},"calculateDimensionsWithPadding"),Ane=e((e,t,n,s,o)=>`${e-o} ${t-o} ${n} ${s}`,"createViewBox")}),zne=n(()=>{"use strict";he(),P(),x(),H4(),ul(),p4(),se(),Mne=e(function(e,t){return t.db.getClasses()},"getClasses"),Fne=e(async function(e,t,n,s){a.info("REF0:"),a.info("Drawing state diagram (v2)",t);let{securityLevel:i,flowchart:r,layout:l}=u(),d;i==="sandbox"&&(d=y("#i"+t));let h=i==="sandbox"?d.nodes()[0].contentDocument:document;a.debug("Before getData: ");let o=s.db.getData();a.debug("Data: ",o);let c=I4(t,i),m=s.db.getDirection();o.type=s.type,o.layoutAlgorithm=T8(l),o.layoutAlgorithm==="dagre"&&l==="elk"&&a.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),o.direction=m,o.nodeSpacing=r?.nodeSpacing||50,o.rankSpacing=r?.rankSpacing||50,o.markers=["point","circle","cross"],o.diagramId=t,a.debug("REF1:",o),await h4(o,c);let f=o.config.flowchart?.diagramPadding??8;le.insertTitle(c,"flowchartTitleText",r?.titleTopMargin||0,s.db.getDiagramTitle()),f4(c,f,"flowchart",r?.useMaxWidth||!1);for(let e of o.nodes){let s=y(`#${t} [id="${e.id}"]`);if(!s||!e.link)continue;let n=h.createElementNS("http://www.w3.org/2000/svg","a");n.setAttributeNS("http://www.w3.org/2000/svg","class",e.cssClasses),n.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?n.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):e.linkTarget&&n.setAttributeNS("http://www.w3.org/2000/svg","target",e.linkTarget);let a=s.insert(function(){return n},":first-child"),r=s.select(".label-container");r&&a.append(function(){return r.node()});let c=s.select(".label");c&&a.append(function(){return c.node()})}},"draw"),Tne={getClasses:Mne,draw:Fne}}),Lne=n(()=>{"use strict";Vg=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),ke=[1,4],Ee=[1,3],Ce=[1,5],R=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],oe=[2,2],he=[1,13],we=[1,14],_e=[1,15],ye=[1,16],je=[1,23],be=[1,25],ve=[1,26],ge=[1,27],p=[1,49],g=[1,48],se=[1,29],fe=[1,30],me=[1,31],ne=[1,32],ue=[1,33],d=[1,44],m=[1,46],h=[1,42],u=[1,47],j=[1,43],f=[1,50],v=[1,45],l=[1,51],b=[1,52],de=[1,34],le=[1,35],ce=[1,36],ie=[1,37],H=[1,57],a=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],k=[1,61],L=[1,60],N=[1,62],J=[8,9,11,75,77,78],st=[1,78],Y=[1,91],$=[1,96],W=[1,95],U=[1,92],K=[1,88],q=[1,94],V=[1,90],G=[1,97],X=[1,93],Q=[1,98],Z=[1,89],I=[8,9,10,11,40,75,77,78],y=[8,9,10,11,40,46,75,77,78],x=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],Ae=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],B=[44,60,89,102,105,106,109,111,114,115,116],nt=[1,121],tt=[1,122],ae=[1,124],re=[1,123],Je=[44,60,62,74,89,102,105,106,109,111,114,115,116],Ze=[1,133],Qe=[1,147],Xe=[1,148],Ge=[1,149],Ye=[1,150],qe=[1,135],Ke=[1,137],Ue=[1,141],We=[1,142],Ve=[1,143],Be=[1,144],Ie=[1,145],He=[1,146],Pe=[1,151],Re=[1,152],Le=[1,131],Ne=[1,132],De=[1,139],ze=[1,134],Me=[1,138],$e=[1,136],Oe=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],Fe=[1,154],Te=[1,156],c=[8,9,11],O=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],s=[1,176],w=[1,172],_=[1,173],i=[1,177],n=[1,174],o=[1,175],ee=[77,116,119],r=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Se=[10,106],P=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],E=[1,247],D=[1,245],M=[1,249],S=[1,243],A=[1,244],z=[1,246],F=[1,248],T=[1,250],te=[1,268],et=[8,9,11,106],C=[8,9,10,11,60,84,105,106,109,110,111,112],xe={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:e(function(e,t,n,s,o,i){var c,r=i.length-1;switch(o){case 2:this.$=[];break;case 3:(!Array.isArray(i[r])||i[r].length>0)&&i[r-1].push(i[r]),this.$=i[r-1];break;case 4:case 183:this.$=i[r];break;case 11:s.setDirection("TB"),this.$="TB";break;case 12:s.setDirection(i[r-1]),this.$=i[r-1];break;case 27:this.$=i[r-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=s.addSubGraph(i[r-6],i[r-1],i[r-4]);break;case 34:this.$=s.addSubGraph(i[r-3],i[r-1],i[r-3]);break;case 35:this.$=s.addSubGraph(void 0,i[r-1],void 0);break;case 37:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 38:case 39:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 43:this.$=i[r-1]+i[r];break;case 44:this.$=i[r];break;case 45:s.addVertex(i[r-1][i[r-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,i[r]),s.addLink(i[r-3].stmt,i[r-1],i[r-2]),this.$={stmt:i[r-1],nodes:i[r-1].concat(i[r-3].nodes)};break;case 46:s.addLink(i[r-2].stmt,i[r],i[r-1]),this.$={stmt:i[r],nodes:i[r].concat(i[r-2].nodes)};break;case 47:s.addLink(i[r-3].stmt,i[r-1],i[r-2]),this.$={stmt:i[r-1],nodes:i[r-1].concat(i[r-3].nodes)};break;case 48:this.$={stmt:i[r-1],nodes:i[r-1]};break;case 49:s.addVertex(i[r-1][i[r-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,i[r]),this.$={stmt:i[r-1],nodes:i[r-1],shapeData:i[r]};break;case 50:this.$={stmt:i[r],nodes:i[r]};break;case 51:this.$=[i[r]];break;case 52:s.addVertex(i[r-5][i[r-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,i[r-4]),this.$=i[r-5].concat(i[r]);break;case 53:this.$=i[r-4].concat(i[r]);break;case 54:this.$=i[r];break;case 55:this.$=i[r-2],s.setClass(i[r-2],i[r]);break;case 56:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"square");break;case 57:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"doublecircle");break;case 58:this.$=i[r-5],s.addVertex(i[r-5],i[r-2],"circle");break;case 59:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"ellipse");break;case 60:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"stadium");break;case 61:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"subroutine");break;case 62:this.$=i[r-7],s.addVertex(i[r-7],i[r-1],"rect",void 0,void 0,void 0,Object.fromEntries([[i[r-5],i[r-3]]]));break;case 63:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"cylinder");break;case 64:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"round");break;case 65:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"diamond");break;case 66:this.$=i[r-5],s.addVertex(i[r-5],i[r-2],"hexagon");break;case 67:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"odd");break;case 68:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"trapezoid");break;case 69:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"inv_trapezoid");break;case 70:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"lean_right");break;case 71:this.$=i[r-3],s.addVertex(i[r-3],i[r-1],"lean_left");break;case 72:this.$=i[r],s.addVertex(i[r]);break;case 73:i[r-1].text=i[r],this.$=i[r-1];break;case 74:case 75:i[r-2].text=i[r-1],this.$=i[r-2];break;case 76:this.$=i[r];break;case 77:c=s.destructLink(i[r],i[r-2]),this.$={type:c.type,stroke:c.stroke,length:c.length,text:i[r-1]};break;case 78:c=s.destructLink(i[r],i[r-2]),this.$={type:c.type,stroke:c.stroke,length:c.length,text:i[r-1],id:i[r-3]};break;case 79:this.$={text:i[r],type:"text"};break;case 80:this.$={text:i[r-1].text+""+i[r],type:i[r-1].type};break;case 81:this.$={text:i[r],type:"string"};break;case 82:this.$={text:i[r],type:"markdown"};break;case 83:c=s.destructLink(i[r]),this.$={type:c.type,stroke:c.stroke,length:c.length};break;case 84:c=s.destructLink(i[r]),this.$={type:c.type,stroke:c.stroke,length:c.length,id:i[r-1]};break;case 85:this.$=i[r-1];break;case 86:this.$={text:i[r],type:"text"};break;case 87:this.$={text:i[r-1].text+""+i[r],type:i[r-1].type};break;case 88:this.$={text:i[r],type:"string"};break;case 89:case 104:this.$={text:i[r],type:"markdown"};break;case 101:this.$={text:i[r],type:"text"};break;case 102:this.$={text:i[r-1].text+""+i[r],type:i[r-1].type};break;case 103:this.$={text:i[r],type:"text"};break;case 105:this.$=i[r-4],s.addClass(i[r-2],i[r]);break;case 106:this.$=i[r-4],s.setClass(i[r-2],i[r]);break;case 107:case 115:this.$=i[r-1],s.setClickEvent(i[r-1],i[r]);break;case 108:case 116:this.$=i[r-3],s.setClickEvent(i[r-3],i[r-2]),s.setTooltip(i[r-3],i[r]);break;case 109:this.$=i[r-2],s.setClickEvent(i[r-2],i[r-1],i[r]);break;case 110:this.$=i[r-4],s.setClickEvent(i[r-4],i[r-3],i[r-2]),s.setTooltip(i[r-4],i[r]);break;case 111:this.$=i[r-2],s.setLink(i[r-2],i[r]);break;case 112:this.$=i[r-4],s.setLink(i[r-4],i[r-2]),s.setTooltip(i[r-4],i[r]);break;case 113:this.$=i[r-4],s.setLink(i[r-4],i[r-2],i[r]);break;case 114:this.$=i[r-6],s.setLink(i[r-6],i[r-4],i[r]),s.setTooltip(i[r-6],i[r-2]);break;case 117:this.$=i[r-1],s.setLink(i[r-1],i[r]);break;case 118:this.$=i[r-3],s.setLink(i[r-3],i[r-2]),s.setTooltip(i[r-3],i[r]);break;case 119:this.$=i[r-3],s.setLink(i[r-3],i[r-2],i[r]);break;case 120:this.$=i[r-5],s.setLink(i[r-5],i[r-4],i[r]),s.setTooltip(i[r-5],i[r-2]);break;case 121:this.$=i[r-4],s.addVertex(i[r-2],void 0,void 0,i[r]);break;case 122:this.$=i[r-4],s.updateLink([i[r-2]],i[r]);break;case 123:this.$=i[r-4],s.updateLink(i[r-2],i[r]);break;case 124:this.$=i[r-8],s.updateLinkInterpolate([i[r-6]],i[r-2]),s.updateLink([i[r-6]],i[r]);break;case 125:this.$=i[r-8],s.updateLinkInterpolate(i[r-6],i[r-2]),s.updateLink(i[r-6],i[r]);break;case 126:this.$=i[r-6],s.updateLinkInterpolate([i[r-4]],i[r]);break;case 127:this.$=i[r-6],s.updateLinkInterpolate(i[r-4],i[r]);break;case 128:case 130:this.$=[i[r]];break;case 129:case 131:i[r-2].push(i[r]),this.$=i[r-2];break;case 133:this.$=i[r-1]+i[r];break;case 181:this.$=i[r];break;case 182:this.$=i[r-1]+""+i[r];break;case 184:this.$=i[r-1]+""+i[r];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:ke,10:Ee,12:Ce},{1:[3]},t(R,oe,{5:6}),{4:7,9:ke,10:Ee,12:Ce},{4:8,9:ke,10:Ee,12:Ce},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:he,9:we,10:_e,11:ye,20:17,22:18,23:19,24:20,25:21,26:22,27:je,33:24,34:be,36:ve,38:ge,42:28,43:38,44:p,45:39,47:40,60:g,84:se,85:fe,86:me,87:ne,88:ue,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b,121:de,122:le,123:ce,124:ie},t(R,[2,9]),t(R,[2,10]),t(R,[2,11]),{8:[1,54],9:[1,55],10:H,15:53,18:56},t(a,[2,3]),t(a,[2,4]),t(a,[2,5]),t(a,[2,6]),t(a,[2,7]),t(a,[2,8]),{8:k,9:L,11:N,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:k,9:L,11:N,21:67},{8:k,9:L,11:N,21:68},{8:k,9:L,11:N,21:69},{8:k,9:L,11:N,21:70},{8:k,9:L,11:N,21:71},{8:k,9:L,10:[1,72],11:N,21:73},t(a,[2,36]),{35:[1,74]},{37:[1,75]},t(a,[2,39]),t(J,[2,50],{18:76,39:77,10:H,40:st}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:Y,44:$,60:W,80:[1,86],89:U,95:[1,83],97:[1,84],101:85,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z,120:87},t(a,[2,185]),t(a,[2,186]),t(a,[2,187]),t(a,[2,188]),t(I,[2,51]),t(I,[2,54],{46:[1,99]}),t(y,[2,72],{113:112,29:[1,100],44:p,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:g,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:d,102:m,105:h,106:u,109:j,111:f,114:v,115:l,116:b}),t(x,[2,181]),t(x,[2,142]),t(x,[2,143]),t(x,[2,144]),t(x,[2,145]),t(x,[2,146]),t(x,[2,147]),t(x,[2,148]),t(x,[2,149]),t(x,[2,150]),t(x,[2,151]),t(x,[2,152]),t(R,[2,12]),t(R,[2,18]),t(R,[2,19]),{9:[1,113]},t(Ae,[2,26],{18:114,10:H}),t(a,[2,27]),{42:115,43:38,44:p,45:39,47:40,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},t(a,[2,40]),t(a,[2,41]),t(a,[2,42]),t(B,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:nt,81:tt,116:ae,119:re},{75:[1,125],77:[1,126]},t(Je,[2,83]),t(a,[2,28]),t(a,[2,29]),t(a,[2,30]),t(a,[2,31]),t(a,[2,32]),{10:Ze,12:Qe,14:Xe,27:Ge,28:127,32:Ye,44:qe,60:Ke,75:Ue,80:[1,129],81:[1,130],83:140,84:We,85:Ve,86:Be,87:Ie,88:He,89:Pe,90:Re,91:128,105:Le,109:Ne,111:De,114:ze,115:Me,116:$e},t(Oe,oe,{5:153}),t(a,[2,37]),t(a,[2,38]),t(J,[2,48],{44:Fe}),t(J,[2,49],{18:155,10:H,40:Te}),t(I,[2,44]),{44:p,47:157,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},{102:[1,158],103:159,105:[1,160]},{44:p,47:161,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},{44:p,47:162,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},t(c,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},t(c,[2,115],{120:167,10:[1,166],14:Y,44:$,60:W,89:U,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z}),t(c,[2,117],{10:[1,168]}),t(O,[2,183]),t(O,[2,170]),t(O,[2,171]),t(O,[2,172]),t(O,[2,173]),t(O,[2,174]),t(O,[2,175]),t(O,[2,176]),t(O,[2,177]),t(O,[2,178]),t(O,[2,179]),t(O,[2,180]),{44:p,47:169,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},{30:170,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:178,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:180,50:[1,179],67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:181,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:182,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:183,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{109:[1,184]},{30:185,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:186,65:[1,187],67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:188,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:189,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{30:190,67:s,80:w,81:_,82:171,116:i,117:n,118:o},t(x,[2,182]),t(R,[2,20]),t(Ae,[2,25]),t(J,[2,46],{39:191,18:192,10:H,40:st}),t(B,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{77:[1,196],79:197,116:ae,119:re},t(ee,[2,79]),t(ee,[2,81]),t(ee,[2,82]),t(ee,[2,168]),t(ee,[2,169]),{76:198,79:120,80:nt,81:tt,116:ae,119:re},t(Je,[2,84]),{8:k,9:L,10:Ze,11:N,12:Qe,14:Xe,21:200,27:Ge,29:[1,199],32:Ye,44:qe,60:Ke,75:Ue,83:140,84:We,85:Ve,86:Be,87:Ie,88:He,89:Pe,90:Re,91:201,105:Le,109:Ne,111:De,114:ze,115:Me,116:$e},t(r,[2,101]),t(r,[2,103]),t(r,[2,104]),t(r,[2,157]),t(r,[2,158]),t(r,[2,159]),t(r,[2,160]),t(r,[2,161]),t(r,[2,162]),t(r,[2,163]),t(r,[2,164]),t(r,[2,165]),t(r,[2,166]),t(r,[2,167]),t(r,[2,90]),t(r,[2,91]),t(r,[2,92]),t(r,[2,93]),t(r,[2,94]),t(r,[2,95]),t(r,[2,96]),t(r,[2,97]),t(r,[2,98]),t(r,[2,99]),t(r,[2,100]),{6:11,7:12,8:he,9:we,10:_e,11:ye,20:17,22:18,23:19,24:20,25:21,26:22,27:je,32:[1,202],33:24,34:be,36:ve,38:ge,42:28,43:38,44:p,45:39,47:40,60:g,84:se,85:fe,86:me,87:ne,88:ue,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b,121:de,122:le,123:ce,124:ie},{10:H,18:203},{44:[1,204]},t(I,[2,43]),{10:[1,205],44:p,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:112,114:v,115:l,116:b},{10:[1,206]},{10:[1,207],106:[1,208]},t(Se,[2,128]),{10:[1,209],44:p,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:112,114:v,115:l,116:b},{10:[1,210],44:p,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:112,114:v,115:l,116:b},{80:[1,211]},t(c,[2,109],{10:[1,212]}),t(c,[2,111],{10:[1,213]}),{80:[1,214]},t(O,[2,184]),{80:[1,215],98:[1,216]},t(I,[2,55],{113:112,44:p,60:g,89:d,102:m,105:h,106:u,109:j,111:f,114:v,115:l,116:b}),{31:[1,217],67:s,82:218,116:i,117:n,118:o},t(P,[2,86]),t(P,[2,88]),t(P,[2,89]),t(P,[2,153]),t(P,[2,154]),t(P,[2,155]),t(P,[2,156]),{49:[1,219],67:s,82:218,116:i,117:n,118:o},{30:220,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{51:[1,221],67:s,82:218,116:i,117:n,118:o},{53:[1,222],67:s,82:218,116:i,117:n,118:o},{55:[1,223],67:s,82:218,116:i,117:n,118:o},{57:[1,224],67:s,82:218,116:i,117:n,118:o},{60:[1,225]},{64:[1,226],67:s,82:218,116:i,117:n,118:o},{66:[1,227],67:s,82:218,116:i,117:n,118:o},{30:228,67:s,80:w,81:_,82:171,116:i,117:n,118:o},{31:[1,229],67:s,82:218,116:i,117:n,118:o},{67:s,69:[1,230],71:[1,231],82:218,116:i,117:n,118:o},{67:s,69:[1,233],71:[1,232],82:218,116:i,117:n,118:o},t(J,[2,45],{18:155,10:H,40:Te}),t(J,[2,47],{44:Fe}),t(B,[2,75]),t(B,[2,74]),{62:[1,234],67:s,82:218,116:i,117:n,118:o},t(B,[2,77]),t(ee,[2,80]),{77:[1,235],79:197,116:ae,119:re},{30:236,67:s,80:w,81:_,82:171,116:i,117:n,118:o},t(Oe,oe,{5:237}),t(r,[2,102]),t(a,[2,35]),{43:238,44:p,45:39,47:40,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},{10:H,18:239},{10:E,60:D,84:M,92:240,105:S,107:241,108:242,109:A,110:z,111:F,112:T},{10:E,60:D,84:M,92:251,104:[1,252],105:S,107:241,108:242,109:A,110:z,111:F,112:T},{10:E,60:D,84:M,92:253,104:[1,254],105:S,107:241,108:242,109:A,110:z,111:F,112:T},{105:[1,255]},{10:E,60:D,84:M,92:256,105:S,107:241,108:242,109:A,110:z,111:F,112:T},{44:p,47:257,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},t(c,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},t(c,[2,116]),t(c,[2,118],{10:[1,261]}),t(c,[2,119]),t(y,[2,56]),t(P,[2,87]),t(y,[2,57]),{51:[1,262],67:s,82:218,116:i,117:n,118:o},t(y,[2,64]),t(y,[2,59]),t(y,[2,60]),t(y,[2,61]),{109:[1,263]},t(y,[2,63]),t(y,[2,65]),{66:[1,264],67:s,82:218,116:i,117:n,118:o},t(y,[2,67]),t(y,[2,68]),t(y,[2,70]),t(y,[2,69]),t(y,[2,71]),t([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),t(B,[2,78]),{31:[1,265],67:s,82:218,116:i,117:n,118:o},{6:11,7:12,8:he,9:we,10:_e,11:ye,20:17,22:18,23:19,24:20,25:21,26:22,27:je,32:[1,266],33:24,34:be,36:ve,38:ge,42:28,43:38,44:p,45:39,47:40,60:g,84:se,85:fe,86:me,87:ne,88:ue,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b,121:de,122:le,123:ce,124:ie},t(I,[2,53]),{43:267,44:p,45:39,47:40,60:g,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b},t(c,[2,121],{106:te}),t(et,[2,130],{108:269,10:E,60:D,84:M,105:S,109:A,110:z,111:F,112:T}),t(C,[2,132]),t(C,[2,134]),t(C,[2,135]),t(C,[2,136]),t(C,[2,137]),t(C,[2,138]),t(C,[2,139]),t(C,[2,140]),t(C,[2,141]),t(c,[2,122],{106:te}),{10:[1,270]},t(c,[2,123],{106:te}),{10:[1,271]},t(Se,[2,129]),t(c,[2,105],{106:te}),t(c,[2,106],{113:112,44:p,60:g,89:d,102:m,105:h,106:u,109:j,111:f,114:v,115:l,116:b}),t(c,[2,110]),t(c,[2,112],{10:[1,272]}),t(c,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:k,9:L,11:N,21:277},t(a,[2,34]),t(I,[2,52]),{10:E,60:D,84:M,105:S,107:278,108:242,109:A,110:z,111:F,112:T},t(C,[2,133]),{14:Y,44:$,60:W,89:U,101:279,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z,120:87},{14:Y,44:$,60:W,89:U,101:280,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z,120:87},{98:[1,281]},t(c,[2,120]),t(y,[2,58]),{30:282,67:s,80:w,81:_,82:171,116:i,117:n,118:o},t(y,[2,66]),t(Oe,oe,{5:283}),t(et,[2,131],{108:269,10:E,60:D,84:M,105:S,109:A,110:z,111:F,112:T}),t(c,[2,126],{120:167,10:[1,284],14:Y,44:$,60:W,89:U,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z}),t(c,[2,127],{120:167,10:[1,285],14:Y,44:$,60:W,89:U,105:K,106:q,109:V,111:G,114:X,115:Q,116:Z}),t(c,[2,114]),{31:[1,286],67:s,82:218,116:i,117:n,118:o},{6:11,7:12,8:he,9:we,10:_e,11:ye,20:17,22:18,23:19,24:20,25:21,26:22,27:je,32:[1,287],33:24,34:be,36:ve,38:ge,42:28,43:38,44:p,45:39,47:40,60:g,84:se,85:fe,86:me,87:ne,88:ue,89:d,102:m,105:h,106:u,109:j,111:f,113:41,114:v,115:l,116:b,121:de,122:le,123:ce,124:ie},{10:E,60:D,84:M,92:288,105:S,107:241,108:242,109:A,110:z,111:F,112:T},{10:E,60:D,84:M,92:289,105:S,107:241,108:242,109:A,110:z,111:F,112:T},t(y,[2,62]),t(a,[2,33]),t(c,[2,124],{106:te}),t(c,[2,125],{106:te})],defaultActions:{},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},ot=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),t.yytext="",40;break;case 8:return this.pushState("shapeDataStr"),40;break;case 9:return this.popState(),40;break;case 10:let n=/\n\s*/g;return t.yytext=t.yytext.replace(n,"<br/>"),40;break;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return e.lex.firstGraph()&&this.begin("dir"),12;break;case 36:return e.lex.firstGraph()&&this.begin("dir"),12;break;case 37:return e.lex.firstGraph()&&this.begin("dir"),12;break;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return this.popState(),14;break;case 50:return this.popState(),14;break;case 51:return this.popState(),14;break;case 52:return this.popState(),14;break;case 53:return this.popState(),14;break;case 54:return this.popState(),14;break;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;break;case 69:return this.pushState("edgeText"),75;break;case 70:return 119;case 71:return this.popState(),77;break;case 72:return this.pushState("thickEdgeText"),75;break;case 73:return 119;case 74:return this.popState(),77;break;case 75:return this.pushState("dottedEdgeText"),75;break;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;break;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;break;case 81:return this.popState(),55;break;case 82:return this.pushState("text"),54;break;case 83:return this.popState(),57;break;case 84:return this.pushState("text"),56;break;case 85:return 58;case 86:return this.pushState("text"),67;break;case 87:return this.popState(),64;break;case 88:return this.pushState("text"),63;break;case 89:return this.popState(),49;break;case 90:return this.pushState("text"),48;break;case 91:return this.popState(),69;break;case 92:return this.popState(),71;break;case 93:return 117;case 94:return this.pushState("trapText"),68;break;case 95:return this.pushState("trapText"),70;break;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;break;case 108:return this.pushState("text"),62;break;case 109:return this.popState(),51;break;case 110:return this.pushState("text"),50;break;case 111:return this.popState(),31;break;case 112:return this.pushState("text"),29;break;case 113:return this.popState(),66;break;case 114:return this.pushState("text"),65;break;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s"]+@(?=[^{"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^.]|\.(?!))/,/^(?:\s*~~[~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^()[\]{}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\[\](){}/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"#$%&'*+.`?\\_/]|-(?=[^>\-.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^[\](){}|"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return t}();xe.lexer=ot;function pe(){this.yy={}}return e(pe,"Parser"),pe.prototype=xe,xe.Parser=pe,new pe}(),Vg.parser=Vg,rH=Vg}),Hne=n(()=>{"use strict";Lne(),aH=Object.assign({},rH),aH.parse=e=>{let t=e.replace(/}\s*\n/g,`}
`);return rH.parse(t)},Pne=aH}),$ne=n(()=>{"use strict";Js(),Ine=e((e,t)=>{let n=zg,s=n(e,"r"),o=n(e,"g"),i=n(e,"b");return Wa(s,o,i,t)},"fade"),Bne=e(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Ine(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),Vne=Bne}),x8={},de(x8,{diagram:()=>Une}),$g=n(()=>{"use strict";P(),yse(),zne(),Hne(),$ne(),Une={parser:Pne,get db(){return new _se},renderer:Tne,styles:Vne,init:e(e=>{e.flowchart||(e.flowchart={}),e.layout&&cb({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,cb({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}})},"init")}}),Gne=n(()=>{"use strict";Wg=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),n=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],q=[1,10],K=[1,11],U=[1,12],V=[1,13],B=[1,20],I=[1,21],S=[1,22],P=[1,23],F=[1,24],h=[1,19],A=[1,25],M=[1,26],p=[1,18],C=[1,33],_=[1,34],w=[1,35],O=[1,36],x=[1,37],H=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],o=[1,42],i=[1,43],c=[1,52],l=[40,50,68,69],u=[1,63],m=[1,61],s=[1,58],d=[1,62],f=[1,64],v=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],T=[63,64,65,66,67],z=[1,81],D=[1,80],N=[1,78],L=[1,79],R=[6,10,42,47],a=[6,10,13,41,42,47,48,49],b=[1,89],j=[1,88],g=[1,87],r=[19,56],$=[1,98],W=[1,97],E=[19,56,58,60],k={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 1:break;case 2:this.$=[];break;case 3:i[r-1].push(i[r]),this.$=i[r-1];break;case 4:case 5:this.$=i[r];break;case 6:case 7:this.$=[];break;case 8:s.addEntity(i[r-4]),s.addEntity(i[r-2]),s.addRelationship(i[r-4],i[r],i[r-2],i[r-3]);break;case 9:s.addEntity(i[r-8]),s.addEntity(i[r-4]),s.addRelationship(i[r-8],i[r],i[r-4],i[r-5]),s.setClass([i[r-8]],i[r-6]),s.setClass([i[r-4]],i[r-2]);break;case 10:s.addEntity(i[r-6]),s.addEntity(i[r-2]),s.addRelationship(i[r-6],i[r],i[r-2],i[r-3]),s.setClass([i[r-6]],i[r-4]);break;case 11:s.addEntity(i[r-6]),s.addEntity(i[r-4]),s.addRelationship(i[r-6],i[r],i[r-4],i[r-5]),s.setClass([i[r-4]],i[r-2]);break;case 12:s.addEntity(i[r-3]),s.addAttributes(i[r-3],i[r-1]);break;case 13:s.addEntity(i[r-5]),s.addAttributes(i[r-5],i[r-1]),s.setClass([i[r-5]],i[r-3]);break;case 14:s.addEntity(i[r-2]);break;case 15:s.addEntity(i[r-4]),s.setClass([i[r-4]],i[r-2]);break;case 16:s.addEntity(i[r]);break;case 17:s.addEntity(i[r-2]),s.setClass([i[r-2]],i[r]);break;case 18:s.addEntity(i[r-6],i[r-4]),s.addAttributes(i[r-6],i[r-1]);break;case 19:s.addEntity(i[r-8],i[r-6]),s.addAttributes(i[r-8],i[r-1]),s.setClass([i[r-8]],i[r-3]);break;case 20:s.addEntity(i[r-5],i[r-3]);break;case 21:s.addEntity(i[r-7],i[r-5]),s.setClass([i[r-7]],i[r-2]);break;case 22:s.addEntity(i[r-3],i[r-1]);break;case 23:s.addEntity(i[r-5],i[r-3]),s.setClass([i[r-5]],i[r]);break;case 24:case 25:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 26:case 27:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 32:s.setDirection("TB");break;case 33:s.setDirection("BT");break;case 34:s.setDirection("RL");break;case 35:s.setDirection("LR");break;case 36:this.$=i[r-3],s.addClass(i[r-2],i[r-1]);break;case 37:case 38:case 56:case 64:this.$=[i[r]];break;case 39:case 40:this.$=i[r-2].concat([i[r]]);break;case 41:this.$=i[r-2],s.setClass(i[r-1],i[r]);break;case 42:this.$=i[r-3],s.addCssStyles(i[r-2],i[r-1]);break;case 43:this.$=[i[r]];break;case 44:i[r-2].push(i[r]),this.$=i[r-2];break;case 46:this.$=i[r-1]+i[r];break;case 54:case 76:case 77:this.$=i[r].replace(/"/g,"");break;case 55:case 78:this.$=i[r];break;case 57:i[r].push(i[r-1]),this.$=i[r];break;case 58:this.$={type:i[r-1],name:i[r]};break;case 59:this.$={type:i[r-2],name:i[r-1],keys:i[r]};break;case 60:this.$={type:i[r-2],name:i[r-1],comment:i[r]};break;case 61:this.$={type:i[r-3],name:i[r-2],keys:i[r-1],comment:i[r]};break;case 62:case 63:case 66:this.$=i[r];break;case 65:i[r-2].push(i[r]),this.$=i[r-2];break;case 67:this.$=i[r].replace(/"/g,"");break;case 68:this.$={cardA:i[r],relType:i[r-1],cardB:i[r-2]};break;case 69:this.$=s.Cardinality.ZERO_OR_ONE;break;case 70:this.$=s.Cardinality.ZERO_OR_MORE;break;case 71:this.$=s.Cardinality.ONE_OR_MORE;break;case 72:this.$=s.Cardinality.ONLY_ONE;break;case 73:this.$=s.Cardinality.MD_PARENT;break;case 74:this.$=s.Identification.NON_IDENTIFYING;break;case 75:this.$=s.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:q,24:K,26:U,28:V,29:14,30:15,31:16,32:17,33:B,34:I,35:S,36:P,37:F,40:h,43:A,44:M,50:p},t(n,[2,7],{1:[2,1]}),t(n,[2,3]),{9:27,11:9,22:q,24:K,26:U,28:V,29:14,30:15,31:16,32:17,33:B,34:I,35:S,36:P,37:F,40:h,43:A,44:M,50:p},t(n,[2,5]),t(n,[2,6]),t(n,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:C,64:_,65:w,66:O,67:x}),{23:[1,38]},{25:[1,39]},{27:[1,40]},t(n,[2,27]),t(n,[2,28]),t(n,[2,29]),t(n,[2,30]),t(n,[2,31]),t(H,[2,54]),t(H,[2,55]),t(n,[2,32]),t(n,[2,33]),t(n,[2,34]),t(n,[2,35]),{16:41,40:o,41:i},{16:44,40:o,41:i},{16:45,40:o,41:i},t(n,[2,4]),{11:46,40:h,50:p},{16:47,40:o,41:i},{18:48,19:[1,49],51:50,52:51,56:c},{11:53,40:h,50:p},{62:54,68:[1,55],69:[1,56]},t(l,[2,69]),t(l,[2,70]),t(l,[2,71]),t(l,[2,72]),t(l,[2,73]),t(n,[2,24]),t(n,[2,25]),t(n,[2,26]),{13:u,38:57,41:m,42:s,45:59,46:60,48:d,49:f},t(v,[2,37]),t(v,[2,38]),{16:65,40:o,41:i,42:s},{13:u,38:66,41:m,42:s,45:59,46:60,48:d,49:f},{13:[1,67],15:[1,68]},t(n,[2,17],{61:32,12:69,17:[1,70],42:s,63:C,64:_,65:w,66:O,67:x}),{19:[1,71]},t(n,[2,14]),{18:72,19:[2,56],51:50,52:51,56:c},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:C,64:_,65:w,66:O,67:x},t(T,[2,74]),t(T,[2,75]),{6:z,10:D,39:77,42:N,47:L},{40:[1,82],41:[1,83]},t(R,[2,43],{46:84,13:u,41:m,48:d,49:f}),t(a,[2,45]),t(a,[2,50]),t(a,[2,51]),t(a,[2,52]),t(a,[2,53]),t(n,[2,41],{42:s}),{6:z,10:D,39:85,42:N,47:L},{14:86,40:b,50:j,70:g},{16:90,40:o,41:i},{11:91,40:h,50:p},{18:92,19:[1,93],51:50,52:51,56:c},t(n,[2,12]),{19:[2,57]},t(r,[2,58],{54:94,55:95,57:96,59:$,60:W}),t([19,56,59,60],[2,63]),t(n,[2,22],{15:[1,100],17:[1,99]}),t([40,50],[2,68]),t(n,[2,36]),{13:u,41:m,45:101,46:60,48:d,49:f},t(n,[2,47]),t(n,[2,48]),t(n,[2,49]),t(v,[2,39]),t(v,[2,40]),t(a,[2,46]),t(n,[2,42]),t(n,[2,8]),t(n,[2,76]),t(n,[2,77]),t(n,[2,78]),{13:[1,102],42:s},{13:[1,104],15:[1,103]},{19:[1,105]},t(n,[2,15]),t(r,[2,59],{55:106,58:[1,107],60:W}),t(r,[2,60]),t(E,[2,64]),t(r,[2,67]),t(E,[2,66]),{18:108,19:[1,109],51:50,52:51,56:c},{16:110,40:o,41:i},t(R,[2,44],{46:84,13:u,41:m,48:d,49:f}),{14:111,40:b,50:j,70:g},{16:112,40:o,41:i},{14:113,40:b,50:j,70:g},t(n,[2,13]),t(r,[2,61]),{57:114,59:$},{19:[1,115]},t(n,[2,20]),t(n,[2,23],{17:[1,116],42:s}),t(n,[2,11]),{13:[1,117],42:s},t(n,[2,10]),t(E,[2,65]),t(n,[2,18]),{18:118,19:[1,119],51:50,52:51,56:c},{14:120,40:b,50:j,70:g},{19:[1,121]},t(n,[2,21]),t(n,[2,9]),t(n,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},Y=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return this.begin("acc_title"),24;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),26;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;break;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;break;case 30:return t.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;break;case 34:return this.popState(),10;break;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;break;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return t.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9-_[\]()\u00C0-\uFFFF*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return t}();k.lexer=Y;function y(){this.yy={}}return e(y,"Parser"),y.prototype=k,k.Parser=y,new y}(),Wg.parser=Wg,Yne=Wg}),Qne=n(()=>{"use strict";x(),P(),_t(),se(),Xne=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=It,this.getAccTitle=Yt,this.setAccDescription=Gt,this.getAccDescription=Qt,this.setDiagramTitle=nn,this.getDiagramTitle=Ft,this.getConfig=e(()=>u().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{e(this,"ErDB")}addEntity(e,t=""){return this.entities.has(e)?!this.entities.get(e)?.alias&&t&&(this.entities.get(e).alias=t,a.info(`Add alias '${t}' to entity '${e}'`)):(this.entities.set(e,{id:`entity-${e}-${this.entities.size}`,label:e,attributes:[],alias:t,shape:"erBox",look:u().look??"default",cssClasses:"default",cssStyles:[]}),a.info("Added new entity :",e)),this.entities.get(e)}getEntity(e){return this.entities.get(e)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(e,t){let s=this.addEntity(e),n;for(n=t.length-1;n>=0;n--)t[n].keys||(t[n].keys=[]),t[n].comment||(t[n].comment=""),s.attributes.push(t[n]),a.debug("Added attribute ",t[n].name)}addRelationship(e,t,n,s){let o=this.entities.get(e),i=this.entities.get(n);if(!o||!i)return;let r={entityA:o.id,roleA:t,entityB:i.id,relSpec:s};this.relationships.push(r),a.debug("Added new relationship :",r)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(e){this.direction=e}getCompiledStyles(e){let t=[];for(let s of e){let n=this.classes.get(s);n?.styles&&(t=[...t,...n.styles??[]].map(e=>e.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(e=>e.trim()))}return t}addCssStyles(e,t){for(let s of e){let n=this.entities.get(s);if(!t||!n)return;for(let e of t)n.cssStyles.push(e)}}addClass(e,t){e.forEach(e=>{let n=this.classes.get(e);n===void 0&&(n={id:e,styles:[],textStyles:[]},this.classes.set(e,n)),t&&t.forEach(function(e){if(/color/.exec(e)){let t=e.replace("fill","bgFill");n.textStyles.push(t)}n.styles.push(e)})})}setClass(e,t){for(let s of e){let n=this.entities.get(s);if(n)for(let e of t)n.cssClasses+=" "+e}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],Tt()}getData(){let e=[],t=[],n=u();for(let n of this.entities.keys()){let t=this.entities.get(n);t&&(t.cssCompiledStyles=this.getCompiledStyles(t.cssClasses.split(" ")),e.push(t))}let s=0;for(let e of this.relationships){let o={id:M1(e.entityA,e.entityB,{prefix:"id",counter:s++}),type:"normal",curve:"basis",start:e.entityA,end:e.entityB,label:e.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:e.relSpec.cardB.toLowerCase(),arrowTypeEnd:e.relSpec.cardA.toLowerCase(),pattern:e.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:n.look};t.push(o)}return{nodes:e,edges:t,other:{},config:n,direction:"TB"}}}}),ZP={},de(ZP,{draw:()=>Jne}),ese=n(()=>{"use strict";P(),x(),H4(),ul(),p4(),se(),he(),Jne=e(async function(e,t,n,s){a.info("REF0:"),a.info("Drawing er diagram (unified)",t);let{securityLevel:l,er:r,layout:d}=u(),o=s.db.getData(),i=I4(t,l);o.type=s.type,o.layoutAlgorithm=T8(d),o.config.flowchart.nodeSpacing=r?.nodeSpacing||140,o.config.flowchart.rankSpacing=r?.rankSpacing||80,o.direction=s.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=t,await h4(o,i),o.layoutAlgorithm==="elk"&&i.select(".edges").lower();let c=i.selectAll('[id*="-background"]');Array.from(c).length>0&&c.each(function(){let e=y(this),n=e.attr("id").replace("-background",""),t=i.select(`#${CSS.escape(n)}`);if(!t.empty()){let n=t.attr("transform");e.attr("transform",n)}});let h=8;le.insertTitle(i,"erDiagramTitleText",r?.titleTopMargin??25,s.db.getDiagramTitle()),f4(i,h,"erDiagram",r?.useMaxWidth??!0)},"draw")}),ose=n(()=>{"use strict";Js(),tse=e((e,t)=>{let n=zg,s=n(e,"r"),o=n(e,"g"),i=n(e,"b");return Wa(s,o,i,t)},"fade"),nse=e(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${tse(e.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${e.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${e.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),sse=nse}),YP={},de(YP,{diagram:()=>ase}),rse=n(()=>{"use strict";Gne(),Qne(),ese(),ose(),ase={parser:Yne,get db(){return new Xne},renderer:ZP,styles:sse}});function zt(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function Os(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function BP(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function C4(e){return typeof e=="object"&&e!==null&&zt(e.container)&&Os(e.reference)&&typeof e.message=="string"}function Sa(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function vl(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function o5(e){return Sa(e)&&typeof e.fullText=="string"}di=n(()=>{"use strict";e(zt,"isAstNode"),e(Os,"isReference"),e(BP,"isAstNodeDescription"),e(C4,"isLinkingError"),i5=class{static{e(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return zt(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});let s=n[t];if(s!==void 0)return s;{let s=this.computeIsSubtype(e,t);return n[t]=s,s}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let n=this.getAllTypes(),t=[];for(let s of n)this.isSubtype(s,e)&&t.push(s);return this.allSubtypes[e]=t,t}}},e(Sa,"isCompositeCstNode"),e(vl,"isLeafCstNode"),e(o5,"isRootCstNode")});function vse(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Km(e){return!!e&&typeof e[Symbol.iterator]=="function"}function yt(...e){if(e.length===1){let t=e[0];if(t instanceof $o)return t;if(Km(t))return new $o(()=>t[Symbol.iterator](),e=>e.next());if(typeof t.length=="number")return new $o(()=>({index:0}),e=>e.index<t.length?{done:!1,value:t[e.index++]}:An)}return e.length>1?new $o(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let n=e[t.collIndex++];Km(n)?t.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(t.array=n)}}while(t.iterator||t.array||t.collIndex<e.length)return An}):wm}Ms=n(()=>{"use strict";$o=class t{static{e(this,"StreamImpl")}constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){let t={state:this.startFn(),next:e(()=>this.nextFn(t.state),"next"),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let e=this.iterator(),t=0,n=e.next();for(;!n.done;)t++,n=e.next();return t}toArray(){let t=[],n=this.iterator(),e;do e=n.next(),e.value!==void 0&&t.push(e.value);while(!e.done)return t}toSet(){return new Set(this)}toMap(e,t){let n=this.map(n=>[e?e(n):n,t?t(n):n]);return new Map(n)}toString(){return this.join()}concat(e){return new t(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),e=>{let t;if(!e.firstDone){do if(t=this.nextFn(e.first),!t.done)return t;while(!t.done)e.firstDone=!0}do if(t=e.iterator.next(),!t.done)return t;while(!t.done)return An})}join(e=","){let o=this.iterator(),n="",t,s=!1;do t=o.next(),t.done||(s&&(n+=e),n+=vse(t.value)),s=!0;while(!t.done)return n}indexOf(e,t=0){let o=this.iterator(),n=0,s=o.next();for(;!s.done;){if(n>=t&&s.value===e)return n;s=o.next(),n++}return-1}every(e){let n=this.iterator(),t=n.next();for(;!t.done;){if(!e(t.value))return!1;t=n.next()}return!0}some(e){let n=this.iterator(),t=n.next();for(;!t.done;){if(e(t.value))return!0;t=n.next()}return!1}forEach(e){let n=this.iterator(),s=0,t=n.next();for(;!t.done;)e(t.value,s),t=n.next(),s++}map(e){return new t(this.startFn,t=>{let{done:n,value:s}=this.nextFn(t);return n?An:{done:!1,value:e(s)}})}filter(e){return new t(this.startFn,t=>{let n;do if(n=this.nextFn(t),!n.done&&e(n.value))return n;while(!n.done)return An})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,t){let o=this.iterator(),n=t,s=o.next();for(;!s.done;)n===void 0?n=s.value:n=e(n,s.value),s=o.next();return n}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,n){let s=e.next();if(s.done)return n;let o=this.recursiveReduce(e,t,n);return o===void 0?s.value:t(o,s.value)}find(e){let n=this.iterator(),t=n.next();for(;!t.done;){if(e(t.value))return t.value;t=n.next()}}findIndex(e){let n=this.iterator(),s=0,t=n.next();for(;!t.done;){if(e(t.value))return s;t=n.next(),s++}return-1}includes(e){let n=this.iterator(),t=n.next();for(;!t.done;){if(t.value===e)return!0;t=n.next()}return!1}flatMap(e){return new t(()=>({this:this.startFn()}),t=>{do{if(t.iterator){let e=t.iterator.next();if(e.done)t.iterator=void 0;else return e}let{done:n,value:s}=this.nextFn(t.this);if(!n){let n=e(s);if(Km(n))t.iterator=n[Symbol.iterator]();else return{done:!1,value:n}}}while(t.iterator)return An})}flat(e){if(e===void 0&&(e=1),e<=0)return this;let n=e>1?this.flat(e-1):this;return new t(()=>({this:n.startFn()}),e=>{do{if(e.iterator){let t=e.iterator.next();if(t.done)e.iterator=void 0;else return t}let{done:s,value:t}=n.nextFn(e.this);if(!s)if(Km(t))e.iterator=t[Symbol.iterator]();else return{done:!1,value:t}}while(e.iterator)return An})}head(){let e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new t(()=>{let t=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(t).done)return t;return t},this.nextFn)}limit(e){return new t(()=>({size:0,state:this.startFn()}),t=>(t.size++,t.size>e?An:this.nextFn(t.state)))}distinct(e){return new t(()=>({set:new Set,internalState:this.startFn()}),t=>{let n;do if(n=this.nextFn(t.internalState),!n.done){let s=e?e(n.value):n.value;if(!t.set.has(s))return t.set.add(s),n}while(!n.done)return An})}exclude(e,t){let n=new Set;for(let s of e){let o=t?t(s):s;n.add(o)}return this.filter(e=>{let s=t?t(e):e;return!n.has(s)})}},e(vse,"toString"),e(Km,"isIterable"),wm=new $o(()=>{},()=>An),An=Object.freeze({done:!0,value:void 0}),e(yt,"stream"),Vl=class extends $o{static{e(this,"TreeStreamImpl")}constructor(e,t,n){super(()=>({iterators:n?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){let n=e.iterators[e.iterators.length-1].next();if(n.done)e.iterators.pop();else return e.iterators.push(t(n.value)[Symbol.iterator]()),n}return An})}iterator(){let t={state:this.startFn(),next:e(()=>this.nextFn(t.state),"next"),prune:e(()=>{t.state.pruned=!0},"prune"),[Symbol.iterator]:()=>t};return t}},function(t){function n(e){return e.reduce((e,t)=>e+t,0)}e(n,"sum"),t.sum=n;function s(e){return e.reduce((e,t)=>e*t,0)}e(s,"product"),t.product=s;function o(e){return e.reduce((e,t)=>Math.min(e,t))}e(o,"min"),t.min=o;function i(e){return e.reduce((e,t)=>Math.max(e,t))}e(i,"max"),t.max=i}(pm||(pm={}))}),a5={},de(a5,{DefaultNameRegexp:()=>m5,RangeComparison:()=>Gi,compareRange:()=>iP,findCommentNode:()=>sP,findDeclarationNodeAtOffset:()=>Dse,findLeafNodeAtOffset:()=>h5,findLeafNodeBeforeOffset:()=>QR,flattenCst:()=>Ase,getInteriorNodes:()=>$se,getNextNode:()=>Bse,getPreviousNode:()=>GR,getStartlineNode:()=>Vse,inRange:()=>oP,isChildNode:()=>lP,isCommentNode:()=>c5,streamCst:()=>Z4,toDocumentSegment:()=>o0,tokenToRange:()=>mm});function Z4(e){return new Vl(e,e=>Sa(e)?e.content:[],{includeRoot:!0})}function Ase(e){return Z4(e).filter(vl)}function lP(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function mm(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function o0(e){if(!e)return;let{offset:t,end:n,range:s}=e;return{range:s,offset:t,end:n,length:n-t}}function iP(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return Gi.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return Gi.After;let n=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,s=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return n&&s?Gi.Inside:n?Gi.OverlapBack:s?Gi.OverlapFront:Gi.Outside}function oP(e,t){return iP(e,t)>Gi.After}function Dse(e,t,n=m5){if(e){if(t>0){let s=t-e.offset,o=e.text.charAt(s);n.test(o)||t--}return h5(e,t)}}function sP(e,t){if(e){let n=GR(e,!0);if(n&&c5(n,t))return n;if(o5(e)){let n=e.content.findIndex(e=>!e.hidden);for(let s=n-1;s>=0;s--){let o=e.content[s];if(c5(o,t))return o}}}}function c5(e,t){return vl(e)&&t.includes(e.tokenType.name)}function h5(e,t){if(vl(e))return e;if(Sa(e)){let n=XR(e,t,!1);if(n)return h5(n,t)}}function QR(e,t){if(vl(e))return e;if(Sa(e)){let n=XR(e,t,!0);if(n)return QR(n,t)}}function XR(e,t,n){let s=0,o=e.content.length-1,i;for(;s<=o;){let r=Math.floor((s+o)/2),a=e.content[r];if(a.offset<=t&&a.end>t)return a;a.end<=t?(i=n?a:void 0,s=r+1):o=r-1}return i}function GR(e,t=!0){for(;e.container;){let n=e.container,s=n.content.indexOf(e);for(;s>0;){s--;let e=n.content[s];if(t||!e.hidden)return e}e=n}}function Bse(e,t=!0){for(;e.container;){let n=e.container,s=n.content.indexOf(e),o=n.content.length-1;for(;s<o;){s++;let e=n.content[s];if(t||!e.hidden)return e}e=n}}function Vse(e){if(e.range.start.character===0)return e;let s=e.range.start.line,n=e,t;for(;e.container;){let o=e.container,i=t??o.content.indexOf(e);if(i===0?(e=o,t=void 0):(t=i-1,e=o.content[t]),e.range.start.line!==s)break;n=e}return n}function $se(e,t){let n=Wse(e,t);return n?n.parent.content.slice(n.a+1,n.b):[]}function Wse(e,t){let n=YR(e),s=YR(t),o;for(let e=0;e<n.length&&e<s.length;e++){let t=n[e],i=s[e];if(t.parent===i.parent)o={parent:t.parent,a:t.index,b:i.index};else break}return o}function YR(e){let t=[];for(;e.container;){let n=e.container,s=n.content.indexOf(e);t.push({parent:n,index:s}),e=n}return t.reverse()}ni=n(()=>{"use strict";di(),Ms(),e(Z4,"streamCst"),e(Ase,"flattenCst"),e(lP,"isChildNode"),e(mm,"tokenToRange"),e(o0,"toDocumentSegment"),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(Gi||(Gi={})),e(iP,"compareRange"),e(oP,"inRange"),m5=/^[\w\p{L}]$/u,e(Dse,"findDeclarationNodeAtOffset"),e(sP,"findCommentNode"),e(c5,"isCommentNode"),e(h5,"findLeafNodeAtOffset"),e(QR,"findLeafNodeBeforeOffset"),e(XR,"binarySearch"),e(GR,"getPreviousNode"),e(Bse,"getNextNode"),e(Vse,"getStartlineNode"),e($se,"getInteriorNodes"),e(Wse,"getCommonParent"),e(YR,"getParentChain")});function ec(){throw new Error("Error! The input value was not handled.")}p5=n(()=>{"use strict";om=class extends Error{static{e(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}},e(ec,"assertUnreachable")}),BR={},de(BR,{AbstractElement:()=>hd,AbstractRule:()=>ld,AbstractType:()=>dd,Action:()=>du,Alternatives:()=>hu,ArrayLiteral:()=>md,ArrayType:()=>gd,Assignment:()=>mu,BooleanLiteral:()=>bd,CharacterRange:()=>pu,Condition:()=>g0,Conjunction:()=>_d,CrossReference:()=>_u,Disjunction:()=>wd,EndOfFile:()=>wu,Grammar:()=>Od,GrammarImport:()=>O0,Group:()=>Ou,InferredType:()=>Sd,Interface:()=>Td,Keyword:()=>Cu,LangiumGrammarAstReflection:()=>Z5,LangiumGrammarTerminals:()=>qoe,NamedArgument:()=>x0,NegatedToken:()=>Eu,Negation:()=>Bd,NumberLiteral:()=>Vd,Parameter:()=>$d,ParameterReference:()=>Yd,ParserRule:()=>Qd,ReferenceType:()=>eu,RegexToken:()=>Au,ReturnType:()=>E0,RuleCall:()=>Fu,SimpleType:()=>nu,StringLiteral:()=>su,TerminalAlternatives:()=>zu,TerminalGroup:()=>Nu,TerminalRule:()=>Tc,TerminalRuleCall:()=>Hu,Type:()=>au,TypeAttribute:()=>A0,TypeDefinition:()=>Bh,UnionType:()=>lu,UnorderedGroup:()=>Iu,UntilToken:()=>Bu,ValueLiteral:()=>_0,Wildcard:()=>Xu,isAbstractElement:()=>g5,isAbstractRule:()=>Jse,isAbstractType:()=>eoe,isAction:()=>qr,isAlternatives:()=>w5,isArrayLiteral:()=>roe,isArrayType:()=>PR,isAssignment:()=>yr,isBooleanLiteral:()=>RR,isCharacterRange:()=>yR,isCondition:()=>toe,isConjunction:()=>LR,isCrossReference:()=>qh,isDisjunction:()=>NR,isEndOfFile:()=>bR,isFeatureName:()=>noe,isGrammar:()=>hoe,isGrammarImport:()=>moe,isGroup:()=>sd,isInferredType:()=>v5,isInterface:()=>b5,isKeyword:()=>Tr,isNamedArgument:()=>goe,isNegatedToken:()=>pR,isNegation:()=>TR,isNumberLiteral:()=>boe,isParameter:()=>joe,isParameterReference:()=>FR,isParserRule:()=>xs,isPrimitiveType:()=>IR,isReferenceType:()=>SR,isRegexToken:()=>fR,isReturnType:()=>AR,isRuleCall:()=>ya,isSimpleType:()=>y5,isStringLiteral:()=>Coe,isTerminalAlternatives:()=>hR,isTerminalGroup:()=>uR,isTerminalRule:()=>Qi,isTerminalRuleCall:()=>k5,isType:()=>tm,isTypeAttribute:()=>Aoe,isTypeDefinition:()=>ooe,isUnionType:()=>xR,isUnorderedGroup:()=>A5,isUntilToken:()=>aR,isValueLiteral:()=>ioe,isWildcard:()=>iR,reflection:()=>re});function Jse(e){return re.isInstance(e,ld)}function eoe(e){return re.isInstance(e,dd)}function toe(e){return re.isInstance(e,g0)}function noe(e){return IR(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function IR(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function ooe(e){return re.isInstance(e,Bh)}function ioe(e){return re.isInstance(e,_0)}function g5(e){return re.isInstance(e,hd)}function roe(e){return re.isInstance(e,md)}function PR(e){return re.isInstance(e,gd)}function RR(e){return re.isInstance(e,bd)}function LR(e){return re.isInstance(e,_d)}function NR(e){return re.isInstance(e,wd)}function hoe(e){return re.isInstance(e,Od)}function moe(e){return re.isInstance(e,O0)}function v5(e){return re.isInstance(e,Sd)}function b5(e){return re.isInstance(e,Td)}function goe(e){return re.isInstance(e,x0)}function TR(e){return re.isInstance(e,Bd)}function boe(e){return re.isInstance(e,Vd)}function joe(e){return re.isInstance(e,$d)}function FR(e){return re.isInstance(e,Yd)}function xs(e){return re.isInstance(e,Qd)}function SR(e){return re.isInstance(e,eu)}function AR(e){return re.isInstance(e,E0)}function y5(e){return re.isInstance(e,nu)}function Coe(e){return re.isInstance(e,su)}function Qi(e){return re.isInstance(e,Tc)}function tm(e){return re.isInstance(e,au)}function Aoe(e){return re.isInstance(e,A0)}function xR(e){return re.isInstance(e,lu)}function qr(e){return re.isInstance(e,du)}function w5(e){return re.isInstance(e,hu)}function yr(e){return re.isInstance(e,mu)}function yR(e){return re.isInstance(e,pu)}function qh(e){return re.isInstance(e,_u)}function bR(e){return re.isInstance(e,wu)}function sd(e){return re.isInstance(e,Ou)}function Tr(e){return re.isInstance(e,Cu)}function pR(e){return re.isInstance(e,Eu)}function fR(e){return re.isInstance(e,Au)}function ya(e){return re.isInstance(e,Fu)}function hR(e){return re.isInstance(e,zu)}function uR(e){return re.isInstance(e,Nu)}function k5(e){return re.isInstance(e,Hu)}function A5(e){return re.isInstance(e,Iu)}function aR(e){return re.isInstance(e,Bu)}function iR(e){return re.isInstance(e,Xu)}zi=n(()=>{"use strict";di(),qoe={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},ld="AbstractRule",e(Jse,"isAbstractRule"),dd="AbstractType",e(eoe,"isAbstractType"),g0="Condition",e(toe,"isCondition"),e(noe,"isFeatureName"),e(IR,"isPrimitiveType"),Bh="TypeDefinition",e(ooe,"isTypeDefinition"),_0="ValueLiteral",e(ioe,"isValueLiteral"),hd="AbstractElement",e(g5,"isAbstractElement"),md="ArrayLiteral",e(roe,"isArrayLiteral"),gd="ArrayType",e(PR,"isArrayType"),bd="BooleanLiteral",e(RR,"isBooleanLiteral"),_d="Conjunction",e(LR,"isConjunction"),wd="Disjunction",e(NR,"isDisjunction"),Od="Grammar",e(hoe,"isGrammar"),O0="GrammarImport",e(moe,"isGrammarImport"),Sd="InferredType",e(v5,"isInferredType"),Td="Interface",e(b5,"isInterface"),x0="NamedArgument",e(goe,"isNamedArgument"),Bd="Negation",e(TR,"isNegation"),Vd="NumberLiteral",e(boe,"isNumberLiteral"),$d="Parameter",e(joe,"isParameter"),Yd="ParameterReference",e(FR,"isParameterReference"),Qd="ParserRule",e(xs,"isParserRule"),eu="ReferenceType",e(SR,"isReferenceType"),E0="ReturnType",e(AR,"isReturnType"),nu="SimpleType",e(y5,"isSimpleType"),su="StringLiteral",e(Coe,"isStringLiteral"),Tc="TerminalRule",e(Qi,"isTerminalRule"),au="Type",e(tm,"isType"),A0="TypeAttribute",e(Aoe,"isTypeAttribute"),lu="UnionType",e(xR,"isUnionType"),du="Action",e(qr,"isAction"),hu="Alternatives",e(w5,"isAlternatives"),mu="Assignment",e(yr,"isAssignment"),pu="CharacterRange",e(yR,"isCharacterRange"),_u="CrossReference",e(qh,"isCrossReference"),wu="EndOfFile",e(bR,"isEndOfFile"),Ou="Group",e(sd,"isGroup"),Cu="Keyword",e(Tr,"isKeyword"),Eu="NegatedToken",e(pR,"isNegatedToken"),Au="RegexToken",e(fR,"isRegexToken"),Fu="RuleCall",e(ya,"isRuleCall"),zu="TerminalAlternatives",e(hR,"isTerminalAlternatives"),Nu="TerminalGroup",e(uR,"isTerminalGroup"),Hu="TerminalRuleCall",e(k5,"isTerminalRuleCall"),Iu="UnorderedGroup",e(A5,"isUnorderedGroup"),Bu="UntilToken",e(aR,"isUntilToken"),Xu="Wildcard",e(iR,"isWildcard"),Z5=class extends i5{static{e(this,"LangiumGrammarAstReflection")}getAllTypes(){return[hd,ld,dd,du,hu,md,gd,mu,bd,pu,g0,_d,_u,wd,wu,Od,O0,Ou,Sd,Td,Cu,x0,Eu,Bd,Vd,$d,Yd,Qd,eu,Au,E0,Fu,nu,su,zu,Nu,Tc,Hu,au,A0,Bh,lu,Iu,Bu,_0,Xu]}computeIsSubtype(e,t){switch(e){case du:case hu:case mu:case pu:case _u:case wu:case Ou:case Cu:case Eu:case Au:case Fu:case zu:case Nu:case Hu:case Iu:case Bu:case Xu:return this.isSubtype(hd,t);case md:case Vd:case su:return this.isSubtype(_0,t);case gd:case eu:case nu:case lu:return this.isSubtype(Bh,t);case bd:return this.isSubtype(g0,t)||this.isSubtype(_0,t);case _d:case wd:case Bd:case Yd:return this.isSubtype(g0,t);case Sd:case Td:case au:return this.isSubtype(dd,t);case Qd:return this.isSubtype(ld,t)||this.isSubtype(dd,t);case Tc:return this.isSubtype(ld,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return dd;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return ld;case"Grammar:usedGrammars":return Od;case"NamedArgument:parameter":case"ParameterReference:parameter":return $d;case"TerminalRuleCall:rule":return Tc;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case hd:return{name:hd,properties:[{name:"cardinality"},{name:"lookahead"}]};case md:return{name:md,properties:[{name:"elements",defaultValue:[]}]};case gd:return{name:gd,properties:[{name:"elementType"}]};case bd:return{name:bd,properties:[{name:"true",defaultValue:!1}]};case _d:return{name:_d,properties:[{name:"left"},{name:"right"}]};case wd:return{name:wd,properties:[{name:"left"},{name:"right"}]};case Od:return{name:Od,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case O0:return{name:O0,properties:[{name:"path"}]};case Sd:return{name:Sd,properties:[{name:"name"}]};case Td:return{name:Td,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case x0:return{name:x0,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case Bd:return{name:Bd,properties:[{name:"value"}]};case Vd:return{name:Vd,properties:[{name:"value"}]};case $d:return{name:$d,properties:[{name:"name"}]};case Yd:return{name:Yd,properties:[{name:"parameter"}]};case Qd:return{name:Qd,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case eu:return{name:eu,properties:[{name:"referenceType"}]};case E0:return{name:E0,properties:[{name:"name"}]};case nu:return{name:nu,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case su:return{name:su,properties:[{name:"value"}]};case Tc:return{name:Tc,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case au:return{name:au,properties:[{name:"name"},{name:"type"}]};case A0:return{name:A0,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case lu:return{name:lu,properties:[{name:"types",defaultValue:[]}]};case du:return{name:du,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case hu:return{name:hu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case mu:return{name:mu,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case pu:return{name:pu,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case _u:return{name:_u,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case wu:return{name:wu,properties:[{name:"cardinality"},{name:"lookahead"}]};case Ou:return{name:Ou,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Cu:return{name:Cu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Eu:return{name:Eu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Au:return{name:Au,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Fu:return{name:Fu,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case zu:return{name:zu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Nu:return{name:Nu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Hu:return{name:Hu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Iu:return{name:Iu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Bu:return{name:Bu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Xu:return{name:Xu,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},re=new Z5}),J5={},de(J5,{assignMandatoryProperties:()=>GN,copyAstNode:()=>a7,findLocalReferences:()=>eae,findRootNode:()=>rh,getContainerOfType:()=>P0,getDocument:()=>Oi,hasContainerOfType:()=>Kie,linkContentToContainer:()=>e7,streamAllContents:()=>Uc,streamAst:()=>Aa,streamContents:()=>ih,streamReferences:()=>oh});function e7(e){for(let[n,t]of Object.entries(e))n.startsWith("$")||(Array.isArray(t)?t.forEach((t,s)=>{zt(t)&&(t.$container=e,t.$containerProperty=n,t.$containerIndex=s)}):zt(t)&&(t.$container=e,t.$containerProperty=n))}function P0(e,t){let n=e;for(;n;){if(t(n))return n;n=n.$container}}function Kie(e,t){let n=e;for(;n;){if(t(n))return!0;n=n.$container}return!1}function Oi(e){let t=rh(e).$document;if(!t)throw new Error("AST node has no document.");return t}function rh(e){for(;e.$container;)e=e.$container;return e}function ih(e,t){if(!e)throw new Error("Node must be an AstNode.");let n=t?.range;return new $o(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let s=t.keys[t.keyIndex];if(!s.startsWith("$")){let o=e[s];if(zt(o)){if(t.keyIndex++,o7(o,n))return{done:!1,value:o}}else if(Array.isArray(o)){for(;t.arrayIndex<o.length;){let s=t.arrayIndex++,e=o[s];if(zt(e)&&o7(e,n))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return An})}function Uc(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Vl(e,e=>ih(e,t))}function Aa(e,t){if(e){if(t?.range&&!o7(e,t.range))return new Vl(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new Vl(e,e=>ih(e,t),{includeRoot:!0})}function o7(e,t){var n;if(!t)return!0;let s=(n=e.$cstNode)===null||n===void 0?void 0:n.range;return!!s&&oP(s,t)}function oh(e){return new $o(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let n=t.keys[t.keyIndex];if(!n.startsWith("$")){let s=e[n];if(Os(s))return t.keyIndex++,{done:!1,value:{reference:s,container:e,property:n}};if(Array.isArray(s)){for(;t.arrayIndex<s.length;){let o=t.arrayIndex++,i=s[o];if(Os(i))return{done:!1,value:{reference:i,container:e,property:n,index:o}}}t.arrayIndex=0}}t.keyIndex++}return An})}function eae(e,t=Oi(e).parseResult.value){let n=[];return Aa(t).forEach(t=>{oh(t).forEach(t=>{t.reference.ref===e&&n.push(t.reference)})}),yt(n)}function GN(e,t){let s=e.getTypeMetaData(t.$type),n=t;for(let e of s.properties)e.defaultValue!==void 0&&n[e.name]===void 0&&(n[e.name]=YN(e.defaultValue))}function YN(e){return Array.isArray(e)?[...e.map(YN)]:e}function a7(e,t){let n={$type:e.$type};for(let[o,s]of Object.entries(e))if(!o.startsWith("$"))if(zt(s))n[o]=a7(s,t);else if(Os(s))n[o]=t(n,o,s.$refNode,s.$refText);else if(Array.isArray(s)){let e=[];for(let i of s)zt(i)?e.push(a7(i,t)):Os(i)?e.push(t(n,o,i.$refNode,i.$refText)):e.push(i);n[o]=e}else n[o]=s;return e7(n),n}Xn=n(()=>{"use strict";di(),Ms(),ni(),e(e7,"linkContentToContainer"),e(P0,"getContainerOfType"),e(Kie,"hasContainerOfType"),e(Oi,"getDocument"),e(rh,"findRootNode"),e(ih,"streamContents"),e(Uc,"streamAllContents"),e(Aa,"streamAst"),e(o7,"isAstNodeInRange"),e(oh,"streamReferences"),e(eae,"findLocalReferences"),e(GN,"assignMandatoryProperties"),e(YN,"copyDefaultValue"),e(a7,"copyAstNode")});function oe(e){return e.charCodeAt(0)}function c7(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function K0(e,t){if(e[t]===!0)throw"duplicate flag "+t;let n=e[t];e[t]=!0}function $u(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function q3(){throw Error("Internal Error - Should never get here!")}function PN(e){return e.type==="Character"}LN=n(()=>{"use strict";e(oe,"cc"),e(c7,"insertToSet"),e(K0,"addFlag"),e($u,"ASSERT_EXISTS"),e(q3,"ASSERT_NEVER_REACH_HERE"),e(PN,"isCharacter")}),pae=n(()=>{"use strict";LN(),K3=[];for(let e=oe("0");e<=oe("9");e++)K3.push(e);U3=[oe("_")].concat(K3);for(let e=oe("a");e<=oe("z");e++)U3.push(e);for(let e=oe("A");e<=oe("Z");e++)U3.push(e);zN=[oe(" "),oe(""),oe(`
`),oe("\r"),oe("	"),oe(""),oe("	"),oe("\xA0"),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe(" "),oe("　"),oe("﻿")]}),yae=n(()=>{"use strict";LN(),pae(),gae=/[0-9a-fA-F]/,$3=/[0-9]/,bae=/[1-9]/,FN=class{static{e(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let n=this.disjunction();this.consumeChar("/");let t={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":K0(t,"global");break;case"i":K0(t,"ignoreCase");break;case"m":K0(t,"multiLine");break;case"u":K0(t,"unicode");break;case"y":K0(t,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:t,value:n,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}$u(t);let n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return q3()}quantifier(e=!1){let t,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;$u(t);break}if((e!==!0||t!==void 0)&&$u(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),$u(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):q3()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[oe(`
`),oe("\r"),oe(" "),oe(" ")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=K3;break;case"D":e=K3,t=!0;break;case"s":e=zN;break;case"S":e=zN,t=!0;break;case"w":e=U3;break;case"W":e=U3,t=!0;break}return $u(e)?{type:"Set",value:e,complement:t}:q3()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=oe("");break;case"n":e=oe(`
`);break;case"r":e=oe("\r");break;case"t":e=oe("	");break;case"v":e=oe("");break}return $u(e)?{type:"Character",value:e}:q3()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:oe("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:oe(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case" ":case" ":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:oe(e)}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let n=this.classAtom(),s=n.type==="Character";if(PN(n)&&this.isRangeDash()){this.consumeChar("-");let t=this.classAtom(),s=t.type==="Character";if(PN(t)){if(t.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:t.value})}else c7(n.value,e),e.push(oe("-")),c7(t.value,e)}else c7(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case" ":case" ":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:oe("")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let n=this.disjunction();this.consumeChar(")");let t={type:"Group",capturing:e,value:n};return e&&(t.idx=this.groupIdx),t}positiveInteger(){let e=this.popChar();if(bae.test(e)===!1)throw Error("Expecting a positive integer");for(;$3.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if($3.test(e)===!1)throw Error("Expecting an integer");for(;$3.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case" ":case" ":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:oe(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return $3.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case" ":case" ":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case" ":case" ":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){let s=this.popChar();if(gae.test(s)===!1)throw Error("Expecting a HexDecimal digits");t+=s}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}}),wae=n(()=>{"use strict";I3=class{static{e(this,"BaseRegExpVisitor")}visitChildren(e){for(let n in e){let t=e[n];e.hasOwnProperty(n)&&(t.type!==void 0?this.visit(t):Array.isArray(t)&&t.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(){}visitFlags(){}visitDisjunction(){}visitAlternative(){}visitStartAnchor(){}visitEndAnchor(){}visitWordBoundary(){}visitNonWordBoundary(){}visitLookahead(){}visitNegativeLookahead(){}visitCharacter(){}visitSet(){}visitGroup(){}visitGroupBackReference(){}visitQuantifier(){}}}),P3=n(()=>{"use strict";yae(),wae()}),f7={},de(f7,{NEWLINE_REGEXP:()=>mN,escapeRegExp:()=>Q0,getCaseInsensitivePattern:()=>_N,getTerminalParts:()=>Cae,isMultilineComment:()=>CN,isWhitespace:()=>N3,partialMatches:()=>bN,partialRegExp:()=>gN,whitespaceCharacters:()=>aN});function Cae(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let n=lN.pattern(e),t=[];for(let s of n.value.value)Lc.reset(e),Lc.visit(s),t.push({start:Lc.startRegexp,end:Lc.endRegex});return t}catch{return[]}}function CN(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Lc.reset(e),Lc.visit(lN.pattern(e)),Lc.multiline}catch{return!1}}function N3(e){let t=typeof e=="string"?new RegExp(e):e;return aN.some(e=>t.test(e))}function Q0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _N(e){return Array.prototype.map.call(e,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:Q0(e)).join("")}function bN(e,t){let s=gN(e),n=t.match(s);return!!n&&n[0].length>0}function gN(t){typeof t=="string"&&(t=new RegExp(t));let i=t,s=t.source,n=0;function o(){let r="",t;function c(e){r+=s.substr(n,e),n+=e}e(c,"appendRaw");function a(e){r+="(?:"+s.substr(n,e)+"|$)",n+=e}for(e(a,"appendOptional");n<s.length;)switch(s[n]){case"\\":switch(s[n+1]){case"c":a(3);break;case"x":a(4);break;case"u":i.unicode?a(s[n+2]==="{"?s.indexOf("}",n)-n+1:6):a(2);break;case"p":case"P":a(i.unicode?s.indexOf("}",n)-n+1:2);break;case"k":a(s.indexOf(">",n)-n+1);break;default:a(2);break}break;case"[":t=/\[(?:\\.|.)*?\]/g,t.lastIndex=n,t=t.exec(s)||[],a(t[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":c(1);break;case"{":t=/\{\d+,?\d*\}/g,t.lastIndex=n,t=t.exec(s),t?c(t[0].length):a(1);break;case"(":if(s[n+1]==="?")switch(s[n+2]){case":":r+="(?:",n+=3,r+=o()+"|$)";break;case"=":r+="(?=",n+=3,r+=o()+")";break;case"!":t=n,n+=3,o(),r+=s.substr(t,n-t);break;case"<":switch(s[n+3]){case"=":case"!":t=n,n+=4,o(),r+=s.substr(t,n-t);break;default:c(s.indexOf(">",n)-n+1),r+=o()+"|$)";break}break}else c(1),r+=o()+"|$)";break;case")":return++n,r;default:a(1);break}return r}return e(o,"process"),new RegExp(o(),t.flags)}n2=n(()=>{"use strict";P3(),mN=/\r?\n/gm,lN=new FN,Dae=class extends I3{static{e(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&t===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let e=Q0(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(t);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},Lc=new Dae,e(Cae,"getTerminalParts"),e(CN,"isMultilineComment"),aN=`
\r	 \xA0                　﻿`.split(""),e(N3,"isWhitespace"),e(Q0,"escapeRegExp"),e(_N,"getCaseInsensitivePattern"),e(bN,"partialMatches"),e(gN,"partialRegExp")}),y7={},de(y7,{findAssignment:()=>tD,findNameAssignment:()=>Z7,findNodeForKeyword:()=>rD,findNodeForProperty:()=>U7,findNodesForKeyword:()=>Yae,findNodesForKeywordInternal:()=>X7,findNodesForProperty:()=>gD,getActionAtElement:()=>Zz,getActionType:()=>$z,getAllReachableRules:()=>C7,getCrossReferenceTerminal:()=>UD,getEntryRule:()=>sN,getExplicitRuleType:()=>x2,getHiddenRules:()=>nN,getRuleType:()=>Vz,getRuleTypeName:()=>ure,getTypeName:()=>k2,isArrayCardinality:()=>nre,isArrayOperator:()=>sre,isCommentTerminal:()=>kD,isDataType:()=>are,isDataTypeRule:()=>M2,isOptionalCardinality:()=>tre,terminalRegex:()=>R2});function sN(e){return e.rules.find(e=>xs(e)&&e.entry)}function nN(e){return e.rules.filter(e=>Qi(e)&&e.hidden)}function C7(e,t){let n=new Set,s=sN(e);if(!s)return new Set(e.rules);let i=[s].concat(nN(e));for(let e of i)GD(e,n,t);let o=new Set;for(let t of e.rules)(n.has(t.name)||Qi(t)&&t.hidden)&&o.add(t);return o}function GD(e,t,n){t.add(e.name),Uc(e).forEach(e=>{if(ya(e)||n&&k5(e)){let s=e.rule.ref;s&&!t.has(s.name)&&GD(s,t,n)}})}function UD(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=Z7(e.type.ref);return t?.terminal}}function kD(e){return e.hidden&&!N3(R2(e))}function gD(e,t){return!e||!t?[]:Y7(e,t,e.astNode,!0)}function U7(e,t,n){if(!e||!t)return;let s=Y7(e,t,e.astNode,!0);if(s.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,s.length-1)):n=0,s[n]}function Y7(e,t,n,s){if(!s){let n=P0(e.grammarSource,yr);if(n&&n.feature===t)return[e]}return Sa(e)&&e.astNode===n?e.content.flatMap(e=>Y7(e,t,n,!1)):[]}function Yae(e,t){return e?X7(e,t,e?.astNode):[]}function rD(e,t,n){if(!e)return;let s=X7(e,t,e?.astNode);if(s.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,s.length-1)):n=0,s[n]}function X7(e,t,n){if(e.astNode!==n)return[];if(Tr(e.grammarSource)&&e.grammarSource.value===t)return[e];let o=Z4(e).iterator(),s,i=[];do if(s=o.next(),!s.done){let e=s.value;e.astNode===n?Tr(e.grammarSource)&&e.grammarSource.value===t&&i.push(e):o.prune()}while(!s.done)return i}function tD(e){let n=e.astNode;for(var t;n===((t=e.container)===null||t===void 0?void 0:t.astNode);){let s=P0(e.grammarSource,yr);if(s)return s;e=e.container}}function Z7(e){let t=e;return v5(t)&&(qr(t.$container)?t=t.$container.$container:xs(t.$container)?t=t.$container:ec(t.$container)),Jz(e,t,new Map)}function Jz(t,n,s){var o;function i(e,n){let o;return P0(e,yr)||(o=Jz(n,n,s)),s.set(t,o),o}if(e(i,"go"),s.has(t))return s.get(t);s.set(t,void 0);for(let e of Uc(n)){if(yr(e)&&e.feature.toLowerCase()==="name")return s.set(t,e),e;if(ya(e)&&xs(e.rule.ref))return i(e,e.rule.ref);if(y5(e)&&(o=e.typeRef)!==null&&o!==void 0&&o.ref)return i(e,e.typeRef.ref)}}function Zz(e){let t=e.$container;if(sd(t)){let n=t.elements,s=n.indexOf(e);for(let e=s-1;e>=0;e--){let t=n[e];if(qr(t))return t;{let t=Uc(n[e]).find(qr);if(t)return t}}}if(g5(t))return Zz(t)}function tre(e,t){return e==="?"||e==="*"||sd(t)&&!!t.guardCondition}function nre(e){return e==="*"||e==="+"}function sre(e){return e==="+="}function M2(e){return Gz(e,new Set)}function Gz(e,t){if(t.has(e))return!0;t.add(e);for(let n of Uc(e))if(ya(n)){if(!n.rule.ref||xs(n.rule.ref)&&!Gz(n.rule.ref,t))return!1}else{if(yr(n))return!1;if(qr(n))return!1}return!!e.definition}function are(e){return J7(e.type,new Set)}function J7(e,t){if(t.has(e))return!0;if(t.add(e),PR(e))return!1;if(SR(e))return!1;if(xR(e))return e.types.every(e=>J7(e,t));if(y5(e)){if(e.primitiveType!==void 0)return!0;if(e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let n=e.typeRef.ref;return!!tm(n)&&J7(n.type,t)}return!1}else return!1}function x2(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(xs(t))return t.name;if(b5(t)||tm(t))return t.name}}}function k2(e){var t;if(xs(e))return M2(e)?e.name:(t=x2(e))!==null&&t!==void 0?t:e.name;if(b5(e)||tm(e)||AR(e))return e.name;if(qr(e)){{let t=$z(e);if(t)return t}}else if(v5(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function $z(e){var t;if(e.inferredType)return e.inferredType.name;if((t=e.type)!==null&&t!==void 0&&t.ref)return k2(e.type.ref)}function ure(e){var t,n,s;return Qi(e)?(n=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"string":M2(e)?e.name:(s=x2(e))!==null&&s!==void 0?s:e.name}function Vz(e){var t,n,s;return Qi(e)?(n=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"string":(s=x2(e))!==null&&s!==void 0?s:e.name}function R2(e){let t={s:!1,i:!1,u:!1},n=id(e.definition,t),s=Object.entries(t).filter(([,e])=>e).map(([e])=>e).join("");return new RegExp(n,s)}function id(e,t){if(hR(e))return pre(e);if(uR(e))return gre(e);if(yR(e))return jre(e);if(k5(e)){let t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return Ui(id(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(pR(e))return bre(e);if(aR(e))return vre(e);if(fR(e)){let s=e.regex.lastIndexOf("/"),o=e.regex.substring(1,s),n=e.regex.substring(s+1);return t&&(t.i=n.includes("i"),t.s=n.includes("s"),t.u=n.includes("u")),Ui(o,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(iR(e))return Ui(cv,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}function pre(e){return Ui(e.elements.map(e=>id(e)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function gre(e){return Ui(e.elements.map(e=>id(e)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function vre(e){return Ui(`${cv}*?${id(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function bre(e){return Ui(`(?!${id(e.terminal)})${cv}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function jre(e){return e.right?Ui(`[${rv(e.left)}-${rv(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):Ui(rv(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function rv(e){return Q0(e.value)}function Ui(e,t){var n;return(t.wrap!==!1||t.lookahead)&&(e=`(${(n=t.lookahead)!==null&&n!==void 0?n:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}ci=n(()=>{"use strict";p5(),zi(),di(),Xn(),ni(),n2(),e(sN,"getEntryRule"),e(nN,"getHiddenRules"),e(C7,"getAllReachableRules"),e(GD,"ruleDfs"),e(UD,"getCrossReferenceTerminal"),e(kD,"isCommentTerminal"),e(gD,"findNodesForProperty"),e(U7,"findNodeForProperty"),e(Y7,"findNodesForPropertyInternal"),e(Yae,"findNodesForKeyword"),e(rD,"findNodeForKeyword"),e(X7,"findNodesForKeywordInternal"),e(tD,"findAssignment"),e(Z7,"findNameAssignment"),e(Jz,"findNameAssignmentInternal"),e(Zz,"getActionAtElement"),e(tre,"isOptionalCardinality"),e(nre,"isArrayCardinality"),e(sre,"isArrayOperator"),e(M2,"isDataTypeRule"),e(Gz,"isDataTypeRuleInternal"),e(are,"isDataType"),e(J7,"isDataTypeInternal"),e(x2,"getExplicitRuleType"),e(k2,"getTypeName"),e($z,"getActionType"),e(ure,"getRuleTypeName"),e(Vz,"getRuleType"),e(R2,"terminalRegex"),cv=/[\s\S]/.source,e(id,"abstractElementToRegex"),e(pre,"terminalAlternativesToRegex"),e(gre,"terminalGroupToRegex"),e(vre,"untilTokenToRegex"),e(bre,"negateTokenToRegex"),e(jre,"characterRangeToRegex"),e(rv,"keywordToRegex"),e(Ui,"withCardinality")});function _z(e){let t=[],n=e.Grammar;for(let e of n.rules)Qi(e)&&kD(e)&&CN(R2(e))&&t.push(e.name);return{multilineCommentRules:t,nameRegexp:m5}}jz=n(()=>{"use strict";ni(),ci(),n2(),zi(),e(_z,"createGrammarConfig")}),vz=n(()=>{"use strict"});function pv(e){console&&console.error&&console.error(`Error: ${e}`)}function pz(e){console&&console.warn&&console.warn(`Warning: ${e}`)}Sre=n(()=>{"use strict";e(pv,"PRINT_ERROR"),e(pz,"PRINT_WARNING")});function fz(e){let t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}Fre=n(()=>{"use strict";e(fz,"timer")});function mz(t){function n(){}e(n,"FakeConstructor"),n.prototype=t;let o=new n;function s(){return typeof o.bar}return e(s,"fakeAccess"),s(),s(),t;(0,eval)(t)}zre=n(()=>{"use strict";e(mz,"toFastProperties")}),r2=n(()=>{"use strict";Sre(),Fre(),zre()});function Nre(e){return Lre(e)?e.LABEL:e.name}function Lre(e){return Wn(e.LABEL)&&e.LABEL!==""}function Rre(e){return C(e,y3)}function y3(t){function n(e){return C(e,y3)}if(e(n,"convertDefinition"),t instanceof qn){let e={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Wn(t.label)&&(e.label=t.label),e}if(t instanceof ts)return{type:"Alternative",definition:n(t.definition)};if(t instanceof an)return{type:"Option",idx:t.idx,definition:n(t.definition)};if(t instanceof Ns)return{type:"RepetitionMandatory",idx:t.idx,definition:n(t.definition)};if(t instanceof Ts)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:y3(new Xe({terminalType:t.separator})),definition:n(t.definition)};if(t instanceof ss)return{type:"RepetitionWithSeparator",idx:t.idx,separator:y3(new Xe({terminalType:t.separator})),definition:n(t.definition)};if(t instanceof lt)return{type:"Repetition",idx:t.idx,definition:n(t.definition)};if(t instanceof Gn)return{type:"Alternation",idx:t.idx,definition:n(t.definition)};if(t instanceof Xe){let e={type:"Terminal",name:t.terminalType.name,label:Nre(t.terminalType),idx:t.idx};Wn(t.label)&&(e.terminalLabel=t.label);let n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(e.pattern=ba(n)?n.source:n),e}if(t instanceof Bl)return{type:"Rule",name:t.name,orgText:t.orgText,definition:n(t.definition)};throw Error("non exhaustive match")}Fv=n(()=>{"use strict";W(),e(Nre,"tokenLabel"),e(Lre,"hasTokenLabel"),Po=class{static{e(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),f(this.definition,t=>{t.accept(e)})}},qn=class extends Po{static{e(this,"NonTerminal")}constructor(e){super([]),this.idx=1,As(this,To(e,e=>e!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},Bl=class extends Po{static{e(this,"Rule")}constructor(e){super(e.definition),this.orgText="",As(this,To(e,e=>e!==void 0))}},ts=class extends Po{static{e(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,As(this,To(e,e=>e!==void 0))}},an=class extends Po{static{e(this,"Option")}constructor(e){super(e.definition),this.idx=1,As(this,To(e,e=>e!==void 0))}},Ns=class extends Po{static{e(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,As(this,To(e,e=>e!==void 0))}},Ts=class extends Po{static{e(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,As(this,To(e,e=>e!==void 0))}},lt=class extends Po{static{e(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,As(this,To(e,e=>e!==void 0))}},ss=class extends Po{static{e(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,As(this,To(e,e=>e!==void 0))}},Gn=class extends Po{static{e(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,As(this,To(e,e=>e!==void 0))}},Xe=class{static{e(this,"Terminal")}constructor(e){this.idx=1,As(this,To(e,e=>e!==void 0))}accept(e){e.visit(this)}},e(Rre,"serializeGrammar"),e(y3,"serializeProduction")}),Zre=n(()=>{"use strict";Fv(),ol=class{static{e(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case qn:return this.visitNonTerminal(t);case ts:return this.visitAlternative(t);case an:return this.visitOption(t);case Ns:return this.visitRepetitionMandatory(t);case Ts:return this.visitRepetitionMandatoryWithSeparator(t);case ss:return this.visitRepetitionWithSeparator(t);case lt:return this.visitRepetition(t);case Gn:return this.visitAlternation(t);case Xe:return this.visitTerminal(t);case Bl:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(){}visitAlternative(){}visitOption(){}visitRepetition(){}visitRepetitionMandatory(){}visitRepetitionMandatoryWithSeparator(){}visitRepetitionWithSeparator(){}visitAlternation(){}visitTerminal(){}visitRule(){}}});function Jre(e){return e instanceof ts||e instanceof an||e instanceof lt||e instanceof Ns||e instanceof Ts||e instanceof ss||e instanceof Xe||e instanceof Bl}function mh(e,t=[]){return e instanceof an||e instanceof lt||e instanceof ss||(e instanceof Gn?LB(e.definition,e=>mh(e,t)):!(e instanceof qn&&Kn(t,e))&&e instanceof Po&&(e instanceof qn&&t.push(e),ko(e.definition,e=>mh(e,t))))}function tce(e){return e instanceof Gn}function fi(e){if(e instanceof qn)return"SUBRULE";if(e instanceof an)return"OPTION";if(e instanceof Gn)return"OR";if(e instanceof Ns)return"AT_LEAST_ONE";if(e instanceof Ts)return"AT_LEAST_ONE_SEP";if(e instanceof ss)return"MANY_SEP";if(e instanceof lt)return"MANY";if(e instanceof Xe)return"CONSUME";throw Error("non exhaustive match")}sce=n(()=>{"use strict";W(),Fv(),e(Jre,"isSequenceProd"),e(mh,"isOptionalProd"),e(tce,"isBranchingProd"),e(fi,"getProductionDslName")}),ps=n(()=>{"use strict";Fv(),Zre(),sce()});function zT(e,t,n){return[new an({definition:[new Xe({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}Dv=n(()=>{"use strict";W(),ps(),ph=class{static{e(this,"RestWalker")}walk(e,t=[]){f(e.definition,(n,s)=>{let o=un(e.definition,s+1);if(n instanceof qn)this.walkProdRef(n,o,t);else if(n instanceof Xe)this.walkTerminal(n,o,t);else if(n instanceof ts)this.walkFlat(n,o,t);else if(n instanceof an)this.walkOption(n,o,t);else if(n instanceof Ns)this.walkAtLeastOne(n,o,t);else if(n instanceof Ts)this.walkAtLeastOneSep(n,o,t);else if(n instanceof ss)this.walkManySep(n,o,t);else if(n instanceof lt)this.walkMany(n,o,t);else if(n instanceof Gn)this.walkOr(n,o,t);else throw Error("non exhaustive match")})}walkTerminal(){}walkProdRef(){}walkFlat(e,t,n){let s=t.concat(n);this.walk(e,s)}walkOption(e,t,n){let s=t.concat(n);this.walk(e,s)}walkAtLeastOne(e,t,n){let s=[new an({definition:e.definition})].concat(t,n);this.walk(e,s)}walkAtLeastOneSep(e,t,n){let s=zT(e,t,n);this.walk(e,s)}walkMany(e,t,n){let s=[new an({definition:e.definition})].concat(t,n);this.walk(e,s)}walkManySep(e,t,n){let s=zT(e,t,n);this.walk(e,s)}walkOr(e,t,n){let s=t.concat(n);f(e.definition,e=>{let t=new ts({definition:[e]});this.walk(t,s)})}},e(zT,"restForRepetitionWithSeparator")});function M0(e){if(e instanceof qn)return M0(e.referencedRule);if(e instanceof Xe)return uce(e);if(Jre(e))return lce(e);if(tce(e))return dce(e);throw Error("non exhaustive match")}function lce(e){let n=[],s=e.definition,t=0,i=s.length>t,o,a=!0;for(;i&&a;)o=s[t],a=mh(o),n=n.concat(M0(o)),t=t+1,i=s.length>t;return Xp(n)}function dce(e){let t=C(e.definition,e=>M0(e));return Xp(Xt(t))}function uce(e){return[e.terminalType]}AT=n(()=>{"use strict";W(),ps(),e(M0,"first"),e(lce,"firstForSequence"),e(dce,"firstForBranching"),e(uce,"firstForTerminal")}),CT=n(()=>{"use strict";kT="_~IN~_"});function pce(e){let t={};return f(e,e=>{let n=new vce(e).startWalking();As(t,n)}),t}function gce(e,t){return e.name+t+kT}bce=n(()=>{"use strict";Dv(),AT(),W(),CT(),ps(),vce=class extends ph{static{e(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(){}walkProdRef(e,t,n){let s=gce(e.referencedRule,e.idx)+this.topProd.name,o=t.concat(n),i=new ts({definition:o}),a=M0(i);this.follows[s]=a}},e(pce,"computeAllProdsFollows"),e(gce,"buildBetweenProdsFollowPrefix")});function Mh(e){let t=e.toString();if(Rh.hasOwnProperty(t))return Rh[t];{let e=wce.pattern(t);return Rh[t]=e,e}}function yce(){Rh={}}Nv=n(()=>{"use strict";P3(),Rh={},wce=new FN,e(Mh,"getRegExpAst"),e(yce,"clearRegExpParserCache")});function xce(e,t=!1){try{let t=Mh(e);return Rv(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===lT)t&&pz(`${Gh}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),pv(`${Gh}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Rv(e,t,n){switch(e.type){case"Disjunction":for(let s=0;s<e.value.length;s++)Rv(e.value[s],t,n);break;case"Alternative":let s=e.value;for(let o=0;o<s.length;o++){let i=s[o];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let e=i;switch(e.type){case"Character":Yh(e.value,t,n);break;case"Set":if(e.complement===!0)throw Error(lT);f(e.value,e=>{if(typeof e=="number")Yh(e,t,n);else{let s=e;if(n===!0)for(let e=s.from;e<=s.to;e++)Yh(e,t,n);else{for(let e=s.from;e<=s.to&&e<q4;e++)Yh(e,t,n);if(s.to>=q4){let e=s.from>=q4?s.from:q4,n=s.to,o=Ea(e),i=Ea(n);for(let e=o;e<=i;e++)t[e]=e}}}});break;case"Group":Rv(e.value,t,n);break;default:throw Error("Non Exhaustive Match")}let a=e.quantifier!==void 0&&e.quantifier.atLeast===0;if(e.type==="Group"&&Iv(e)===!1||e.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return He(t)}function Yh(e,t,n){let s=Ea(e);t[s]=s,n===!0&&kce(e,t)}function kce(e,t){let n=String.fromCharCode(e),s=n.toUpperCase();if(s!==n){let e=Ea(s.charCodeAt(0));t[e]=e}else{let e=n.toLowerCase();if(e!==n){let n=Ea(e.charCodeAt(0));t[n]=n}}}function fT(e,t){return ga(e.value,e=>{if(typeof e=="number")return Kn(t,e);{let n=e;return ga(t,e=>n.from<=e&&e<=n.to)!==void 0}})}function Iv(e){let t=e.quantifier;return!!(t&&t.atLeast===0)||!!e.value&&(ve(e.value)?ko(e.value,Iv):Iv(e.value))}function Vv(e,t){if(t instanceof RegExp){let s=Mh(t),n=new zce(e);return n.visit(s),n.found}return ga(t,t=>Kn(e,t.charCodeAt(0)))!==void 0}Dce=n(()=>{"use strict";P3(),W(),r2(),Nv(),EF(),lT="Complement Sets are not supported for first char optimization",Gh=`Unable to use "first char" lexer optimizations:
`,e(xce,"getOptimizedStartCodesIndices"),e(Rv,"firstCharOptimizedIndices"),e(Yh,"addOptimizedIdxToResult"),e(kce,"handleIgnoreCase"),e(fT,"findCode"),e(Iv,"isWholeOptional"),zce=class extends I3{static{e(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Kn(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?fT(e,this.targetCharCodes)===void 0&&(this.found=!0):fT(e,this.targetCharCodes)!==void 0&&(this.found=!0)}},e(Vv,"canMatchCharCode")});function Nce(t,n){n=w6(n,{useSticky:SF,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:e((e,t)=>t(),"tracer")});let o=n.tracer;o("initCharCodeToOptimizedIndexMap",()=>{cle()});let s;o("Reject Lexer.NA",()=>{s=Kf(t,e=>e[Qc]===Tn.NA)});let a=!1,r;o("Transform Patterns",()=>{a=!1,r=C(s,e=>{let t=e[Qc];if(ba(t)){let e=t.source;return e.length===1&&e!=="^"&&e!=="$"&&e!=="."&&!t.ignoreCase?e:e.length===2&&e[0]==="\\"&&!Kn(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?e[1]:n.useSticky?sT(t):oT(t)}if(Zs(t))return a=!0,{exec:t};if(typeof t=="object")return a=!0,t;if(typeof t=="string"){if(t.length===1)return t;{let s=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),e=new RegExp(s);return n.useSticky?sT(e):oT(e)}}throw Error("non exhaustive match")})});let b,v,h,u,d;o("misc mapping",()=>{b=C(s,e=>e.tokenTypeIdx),v=C(s,e=>{let t=e.GROUP;if(t!==Tn.SKIPPED){if(Wn(t))return t;if(Te(t))return!1;throw Error("non exhaustive match")}}),h=C(s,e=>{let t=e.LONGER_ALT;if(t)return ve(t)?C(t,e=>AV(s,e)):[AV(s,t)]}),u=C(s,e=>e.PUSH_MODE),d=C(s,e=>Q(e,"POP_MODE"))});let l;o("Line Terminator Handling",()=>{let e=GF(n.lineTerminatorCharacters);l=C(s,e=>!1),n.positionTracking!=="onlyOffset"&&(l=C(s,t=>Q(t,"LINE_BREAKS")?!!t.LINE_BREAKS:JF(t,e)===!1&&Vv(e,t.PATTERN)))});let m,p,g,i;o("Misc Mapping #2",()=>{m=C(s,tT),p=C(r,nle),g=bt(s,(e,t)=>{let n=t.GROUP;return Wn(n)&&n!==Tn.SKIPPED&&(e[n]=[]),e},{}),i=C(r,(e,t)=>({pattern:r[t],longerAlt:h[t],canLineTerminator:l[t],isCustom:m[t],short:p[t],group:v[t],push:u[t],pop:d[t],tokenTypeIdx:b[t],tokenType:s[t]}))});let c=!0,j=[];return n.safeMode||o("First Char Optimization",()=>{j=bt(s,(e,t,s)=>{if(typeof t.PATTERN=="string"){let n=t.PATTERN.charCodeAt(0),o=Ea(n);Zv(e,o,i[s])}else if(ve(t.START_CHARS_HINT)){let n;f(t.START_CHARS_HINT,t=>{let a=typeof t=="string"?t.charCodeAt(0):t,o=Ea(a);n!==o&&(n=o,Zv(e,o,i[s]))})}else if(ba(t.PATTERN))if(t.PATTERN.unicode)c=!1,n.ensureOptimizations&&pv(`${Gh}	Unable to analyze < ${t.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let o=xce(t.PATTERN,n.ensureOptimizations);Ae(o)&&(c=!1),f(o,t=>{Zv(e,t,i[s])})}else n.ensureOptimizations&&pv(`${Gh}	TokenType: <${t.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),c=!1;return e},[])}),{emptyGroups:g,patternIdxToConfig:i,charCodeToPatternIdxToConfig:j,hasCustom:a,canBeOptimized:c}}function Lce(e,t){let n=[],o=Pce(e);n=n.concat(o.errors);let i=Hce(o.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(Rce(s)),n=n.concat(Uce(s)),n=n.concat(Kce(s,t)),n=n.concat(qce(s)),n}function Rce(e){let t=[],n=rt(e,e=>ba(e[Qc]));return t=t.concat(Ice(n)),t=t.concat(Vce(n)),t=t.concat($ce(n)),t=t.concat(Wce(n)),t=t.concat(Bce(n)),t}function Pce(e){let t=rt(e,e=>!Q(e,Qc)),n=C(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:vt.MISSING_PATTERN,tokenTypes:[e]})),s=y6(e,t);return{errors:n,valid:s}}function Hce(e){let t=rt(e,e=>{let t=e[Qc];return!ba(t)&&!Zs(t)&&!Q(t,"exec")&&!Wn(t)}),n=C(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:vt.INVALID_PATTERN,tokenTypes:[e]})),s=y6(e,t);return{errors:n,valid:s}}function Ice(t){class n extends I3{static{e(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(){this.found=!0}}let s=rt(t,e=>{let t=e.PATTERN;try{let s=Mh(t),e=new n;return e.visit(s),e.found}catch{return mle.test(t.source)}});return C(s,e=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+e.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:vt.EOI_ANCHOR_FOUND,tokenTypes:[e]}))}function Bce(e){let t=rt(e,e=>e.PATTERN.test(""));return C(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:vt.EMPTY_MATCH_PATTERN,tokenTypes:[e]}))}function Vce(t){class n extends I3{static{e(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(){this.found=!0}}let s=rt(t,e=>{let t=e.PATTERN;try{let s=Mh(t),e=new n;return e.visit(s),e.found}catch{return fle.test(t.source)}});return C(s,e=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+e.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:vt.SOI_ANCHOR_FOUND,tokenTypes:[e]}))}function $ce(e){let t=rt(e,e=>{let t=e[Qc];return t instanceof RegExp&&(t.multiline||t.global)});return C(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:vt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}))}function Wce(e){let n=[],t=C(e,t=>bt(e,(e,s)=>(t.PATTERN.source===s.PATTERN.source&&!Kn(n,s)&&s.PATTERN!==Tn.NA&&(n.push(s),e.push(s)),e),[]));t=n1(t);let s=rt(t,e=>e.length>1);return C(s,e=>{let t=C(e,e=>e.name);return{message:`The same RegExp pattern ->${So(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:vt.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}})}function Uce(e){let t=rt(e,e=>{if(!Q(e,"GROUP"))return!1;let t=e.GROUP;return t!==Tn.SKIPPED&&t!==Tn.NA&&!Wn(t)});return C(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:vt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}))}function Kce(e,t){let n=rt(e,e=>e.PUSH_MODE!==void 0&&!Kn(t,e.PUSH_MODE));return C(n,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:vt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}))}function qce(e){let t=[],n=bt(e,(e,t,n)=>{let s=t.PATTERN;return s===Tn.NA||(Wn(s)?e.push({str:s,idx:n,tokenType:t}):ba(s)&&Gce(s)&&e.push({str:s.source,idx:n,tokenType:t})),e},[]);return f(e,(e,s)=>{f(n,({str:n,idx:o,tokenType:i})=>{if(s<o&&Yce(n,e.PATTERN)){let n=`Token: ->${i.name}<- can never be matched.
Because it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:vt.UNREACHABLE_PATTERN,tokenTypes:[e,i]})}})}),t}function Yce(e,t){if(ba(t)){let n=t.exec(e);return n!==null&&n.index===0}if(Zs(t))return t(e,0,[],{});if(Q(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}function Gce(e){return ga([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function oT(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function sT(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Zce(e){let s=[];return Q(e,e0)||s.push({message:"A MultiMode Lexer cannot be initialized without a <"+e0+`> property in its definition
`,type:vt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Q(e,fm)||s.push({message:"A MultiMode Lexer cannot be initialized without a <"+fm+`> property in its definition
`,type:vt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Q(e,fm)&&Q(e,e0)&&!Q(e.modes,e.defaultMode)&&s.push({message:`A MultiMode Lexer cannot be initialized with a ${e0}: <${e.defaultMode}>which does not exist
`,type:vt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Q(e,fm)&&f(e.modes,(e,t)=>{f(e,(n,o)=>{if(Te(n))s.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${t}> at index: <${o}>
`,type:vt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Q(n,"LONGER_ALT")){let o=ve(n.LONGER_ALT)?n.LONGER_ALT:[n.LONGER_ALT];f(o,o=>{!Te(o)&&!Kn(e,o)&&s.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${o.name}> on token <${n.name}> outside of mode <${t}>
`,type:vt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),s}function Jce(e,t,n){let s=[],o=!1,a=n1(Xt(He(e.modes))),r=Kf(a,e=>e[Qc]===Tn.NA),i=GF(n);return t&&f(r,e=>{let t=JF(e,i);if(t!==!1){let n={message:ole(e,t),type:t.issue,tokenType:e};s.push(n)}else Q(e,"LINE_BREAKS")?e.LINE_BREAKS===!0&&(o=!0):Vv(i,e.PATTERN)&&(o=!0)}),t&&!o&&s.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:vt.NO_LINE_BREAKS_FLAGS}),s}function ele(e){let t={},n=Pt(e);return f(n,n=>{let s=e[n];if(ve(s))t[n]=[];else throw Error("non exhaustive match")}),t}function tT(e){let t=e.PATTERN;if(ba(t))return!1;if(Zs(t))return!0;if(Q(t,"exec"))return!0;if(Wn(t))return!1;throw Error("non exhaustive match")}function nle(e){return!!(Wn(e)&&e.length===1)&&e.charCodeAt(0)}function JF(e,t){if(Q(e,"LINE_BREAKS"))return!1;if(ba(e.PATTERN)){try{Vv(t,e.PATTERN)}catch(e){return{issue:vt.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Wn(e.PATTERN))return!1;if(tT(e))return{issue:vt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function ole(e,t){if(t.issue===vt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===vt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function GF(e){return C(e,e=>Wn(e)?e.charCodeAt(0):e)}function Zv(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}function Ea(e){return e<q4?e:jm[e]}function cle(){if(Ae(jm)){jm=new Array(65536);for(let e=0;e<65536;e++)jm[e]=e>255?255+~~(e/255):e}}EF=n(()=>{"use strict";P3(),Nm(),W(),r2(),Dce(),Nv(),Qc="PATTERN",e0="defaultMode",fm="modes",SF=typeof new RegExp("(?:)").sticky=="boolean",e(Nce,"analyzeTokenTypes"),e(Lce,"validatePatterns"),e(Rce,"validateRegExpPattern"),e(Pce,"findMissingPatterns"),e(Hce,"findInvalidPatterns"),mle=/[^\\][$]/,e(Ice,"findEndOfInputAnchor"),e(Bce,"findEmptyMatchRegExps"),fle=/[^\\[][\^]|^\^/,e(Vce,"findStartOfInputAnchor"),e($ce,"findUnsupportedFlags"),e(Wce,"findDuplicatePatterns"),e(Uce,"findInvalidGroupType"),e(Kce,"findModesThatDoNotExist"),e(qce,"findUnreachablePatterns"),e(Yce,"testTokenType"),e(Gce,"noMetaChar"),e(oT,"addStartOfInput"),e(sT,"addStickyFlag"),e(Zce,"performRuntimeChecks"),e(Jce,"performWarningRuntimeChecks"),e(ele,"cloneEmptyGroups"),e(tT,"isCustomPattern"),e(nle,"isShortPattern"),ple={test:e(function(e){let t=e.length;for(let n=this.lastIndex;n<t;n++){let s=e.charCodeAt(n);if(s===10)return this.lastIndex=n+1,!0;if(s===13)return e.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},"test"),lastIndex:0},e(JF,"checkLineBreaksIssues"),e(ole,"buildLineBreakIssueMessage"),e(GF,"getCharCodes"),e(Zv,"addToMapOfArrays"),q4=256,jm=[],e(Ea,"charCodeToOptimizedIndex"),e(cle,"initCharCodeToOptimizedIndexMap")});function U4(e,t){let n=e.tokenTypeIdx;return n===t.tokenTypeIdx||t.isParent===!0&&t.categoryMatchesMap[n]===!0}function _m(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function $4(e){let t=wle(e);Ole(t),Cle(t),xle(t),f(t,e=>{e.isParent=e.categoryMatches.length>0})}function wle(e){let t=$t(e),n=e,s=!0;for(;s;){n=n1(Xt(C(n,e=>e.CATEGORIES)));let e=y6(n,t);t=t.concat(e),Ae(e)?s=!1:n=e}return t}function Ole(e){f(e,e=>{mF(e)||(rF[lF]=e,e.tokenTypeIdx=lF++),hF(e)&&!ve(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),hF(e)||(e.CATEGORIES=[]),Sle(e)||(e.categoryMatches=[]),Mle(e)||(e.categoryMatchesMap={})})}function xle(e){f(e,e=>{e.categoryMatches=[],f(e.categoryMatchesMap,(t,n)=>{e.categoryMatches.push(rF[n].tokenTypeIdx)})})}function Cle(e){f(e,e=>{fF([],e)})}function fF(e,t){f(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),f(t.CATEGORIES,n=>{let s=e.concat(t);Kn(s,n)||fF(s,n)})}function mF(e){return Q(e,"tokenTypeIdx")}function hF(e){return Q(e,"CATEGORIES")}function Sle(e){return Q(e,"categoryMatches")}function Mle(e){return Q(e,"categoryMatchesMap")}function Fle(e){return Q(e,"tokenTypeIdx")}Ml=n(()=>{"use strict";W(),e(U4,"tokenStructuredMatcher"),e(_m,"tokenStructuredMatcherNoCategories"),lF=1,rF={},e($4,"augmentTokenTypes"),e(wle,"expandCategories"),e(Ole,"assignTokenDefaultProps"),e(xle,"assignCategoriesTokensProp"),e(Cle,"assignCategoriesMapProp"),e(fF,"singleAssignCategoriesToksMap"),e(mF,"hasShortKeyProperty"),e(hF,"hasCategoriesProperty"),e(Sle,"hasExtendingTokensTypesProperty"),e(Mle,"hasExtendingTokensTypesMapProperty"),e(Fle,"isTokenType")}),nF=n(()=>{"use strict";d9={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,n){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`}}}),Nm=n(()=>{"use strict";EF(),W(),r2(),Ml(),nF(),Nv(),function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(vt||(vt={})),R4={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:d9,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(R4),Tn=class{static{e(this,"Lexer")}constructor(e,t=R4){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);let{time:s,value:o}=fz(t),i=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${e}> time: ${s}ms`),this.traceInitIndent--,o}return t()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=As({},R4,t);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===R4.lineTerminatorsPattern)this.config.lineTerminatorsPattern=ple;else if(this.config.lineTerminatorCharacters===R4.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),ve(e)?n={modes:{defaultMode:$t(e)},defaultMode:e0}:(s=!1,n=$t(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Zce(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Jce(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},f(n.modes,(e,t)=>{n.modes[t]=Kf(e,e=>Te(e))});let o=Pt(n.modes);if(f(n.modes,(e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,()=>{if(this.modes.push(n),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Lce(e,o))}),Ae(this.lexerDefinitionErrors)){$4(e);let s;this.TRACE_INIT("analyzeTokenTypes",()=>{s=Nce(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[n]=s.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=s.charCodeToPatternIdxToConfig,this.emptyGroups=As({},this.emptyGroups,s.emptyGroups),this.hasCustom=s.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=s.canBeOptimized}})}),this.defaultMode=n.defaultMode,!Ae(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let e=C(this.lexerDefinitionErrors,e=>e.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+e)}f(this.lexerDefinitionWarning,e=>{pz(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(SF?(this.chopInput=Ji,this.match=this.matchWithTest):(this.updateLastIndex=Mt,this.match=this.matchWithExec),s&&(this.handleModes=Mt),this.trackStartLines===!1&&(this.computeNewColumn=Ji),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Mt),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let e=bt(this.canModeBeOptimized,(e,t,n)=>(t===!1&&e.push(n),e),[]);if(t.ensureOptimizations&&!Ae(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{yce()}),this.TRACE_INIT("toFastProperties",()=>{mz(this)})})}tokenize(e,t=this.defaultMode){if(!Ae(this.lexerDefinitionErrors)){let e=C(this.lexerDefinitionErrors,e=>e.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(t,n){let _,E,C,m,x,o,j,k,l,p,D,h,y,V,R,a,d=t,L=d.length,s=0,F=0,I=this.hasCustom?0:Math.floor(t.length/10),u=new Array(I),A=[],b=this.trackStartLines?1:void 0,r=this.trackStartLines?1:void 0,g=ele(this.emptyGroups),H=this.trackStartLines,M=this.config.lineTerminatorsPattern,w=0,c=[],v=[],O=[],N=[];Object.freeze(N);let f;function S(){return c}e(S,"getPossiblePatternsSlow");function T(e){let n=Ea(e),t=v[n];return t===void 0?N:t}e(T,"getPossiblePatternsOptimized");let B=e(e=>{if(O.length===1&&e.tokenType.PUSH_MODE===void 0){let t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);A.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{O.pop();let e=ii(O);c=this.patternIdxToConfig[e],v=this.charCodeToPatternIdxToConfig[e],w=c.length;let t=this.canModeBeOptimized[e]&&this.config.safeMode===!1;v&&t?f=T:f=S}},"pop_mode");function z(e){O.push(e),v=this.charCodeToPatternIdxToConfig[e],c=this.patternIdxToConfig[e],w=c.length,w=c.length;let t=this.canModeBeOptimized[e]&&this.config.safeMode===!1;v&&t?f=T:f=S}e(z,"push_mode"),z.call(this,n);let i,P=this.config.recoveryEnabled;for(;s<L;){o=null;let e=d.charCodeAt(s),n=f(e),v=n.length;for(_=0;_<v;_++){i=n[_];let r=i.pattern;j=null;let l=i.short;if(l!==!1?e===l&&(o=r):i.isCustom===!0?(a=r.exec(d,s,u,g),a!==null?(o=a[0],a.payload!==void 0&&(j=a.payload)):o=null):(this.updateLastIndex(r,s),o=this.match(r,t,s)),o!==null){if(x=i.longerAlt,x!==void 0){let e=x.length;for(C=0;C<e;C++){let n=c[x[C]],r=n.pattern;if(k=null,n.isCustom===!0?(a=r.exec(d,s,u,g),a!==null?(m=a[0],a.payload!==void 0&&(k=a.payload)):m=null):(this.updateLastIndex(r,s),m=this.match(r,t,s)),m&&m.length>o.length){o=m,j=k,i=n;break}}}break}}if(o!==null){if(l=o.length,p=i.group,p!==void 0&&(D=i.tokenTypeIdx,h=this.createTokenInstance(o,s,D,i.tokenType,b,r,l),this.handlePayload(h,j),p===!1?F=this.addToken(u,F,h):g[p].push(h)),t=this.chopInput(t,l),s=s+l,r=this.computeNewColumn(r,l),H===!0&&i.canLineTerminator===!0){let e=0,t,n;M.lastIndex=0;do t=M.test(o),t===!0&&(n=M.lastIndex-1,e++);while(t===!0)e!==0&&(b=b+e,r=l-n,this.updateTokenEndLineColumnLocation(h,p,n,e,b,r,l))}this.handleModes(i,B,z,h)}else{let n=s,o=b,i=r,e=P===!1;for(;e===!1&&s<L;)for(t=this.chopInput(t,1),s++,E=0;E<w;E++){let n=c[E],o=n.pattern,i=n.short;if(i!==!1?d.charCodeAt(s)===i&&(e=!0):n.isCustom===!0?e=o.exec(d,s,u,g)!==null:(this.updateLastIndex(o,s),e=o.exec(t)!==null),e===!0)break}if(y=s-n,r=this.computeNewColumn(r,y),R=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(d,n,y,o,i),A.push({offset:n,line:o,column:i,length:y,message:R}),P===!1)break}}return this.hasCustom||(u.length=F),{tokens:u,groups:g,errors:A}}handleModes(e,t,n,s){if(e.pop===!0){let o=e.push;t(s),o!==void 0&&n.call(this,o)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,s,o,i,a){let r,c;t!==void 0&&(r=n===a-1,c=r?-1:0,s===1&&r===!0||(e.endLine=o+c,e.endColumn=i-1+-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,s){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:s}}createStartOnlyToken(e,t,n,s,o,i){return{image:e,startOffset:t,startLine:o,startColumn:i,tokenTypeIdx:n,tokenType:s}}createFullToken(e,t,n,s,o,i,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:o,endLine:o,startColumn:i,endColumn:i+a-1,tokenTypeIdx:n,tokenType:s}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,t++,t}handlePayloadNoCustom(){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,n){return e.test(t)===!0?t.substring(n,e.lastIndex):null}matchWithExec(e,t){let n=e.exec(t);return n!==null?n[0]:null}},Tn.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Tn.NA=/NOT_APPLICABLE/});function Pl(e){return YM(e)?e.LABEL:e.name}function YM(e){return Wn(e.LABEL)&&e.LABEL!==""}function T4(e){return Wle(e)}function Wle(e){let n=e.pattern,t={};if(t.name=e.name,Te(n)||(t.PATTERN=n),Q(e,qle))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Q(e,$M)&&(t.CATEGORIES=e[$M]),$4([t]),Q(e,BM)&&(t.LABEL=e[BM]),Q(e,LM)&&(t.GROUP=e[LM]),Q(e,AM)&&(t.POP_MODE=e[AM]),Q(e,NM)&&(t.PUSH_MODE=e[NM]),Q(e,kM)&&(t.LONGER_ALT=e[kM]),Q(e,EM)&&(t.LINE_BREAKS=e[EM]),Q(e,xM)&&(t.START_CHARS_HINT=e[xM]),t}function Lm(e,t,n,s,o,i,a,r){return{image:t,startOffset:n,endOffset:s,startLine:o,endLine:i,startColumn:a,endColumn:r,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function WM(e,t){return U4(e,t)}Gl=n(()=>{"use strict";W(),Nm(),Ml(),e(Pl,"tokenLabel"),e(YM,"hasTokenLabel"),qle="parent",$M="categories",BM="label",LM="group",NM="push_mode",AM="pop_mode",kM="longer_alt",EM="line_breaks",xM="start_chars_hint",e(T4,"createToken"),e(Wle,"createTokenInternal"),dr=T4({name:"EOF",pattern:Tn.NA}),$4([dr]),e(Lm,"createTokenInstance"),e(WM,"tokenMatcher")}),E4=n(()=>{"use strict";Gl(),W(),ps(),Xl={buildMismatchTokenMessage({expected:e,actual:t,previous:n,ruleName:s}){return`Expecting ${YM(e)?`--> ${Pl(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:s,ruleName:o}){let i="Expecting: ",a=`
but found: '`+So(t).image+"'";if(s)return i+s+a;{let t=bt(e,(e,t)=>e.concat(t),[]),n=C(t,e=>`[${C(e,e=>Pl(e)).join(", ")}]`),s=`one of these possible Token sequences:
${C(n,(e,t)=>`  ${t+1}. ${e}`).join(`
`)}`;return i+s+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:s}){let o="Expecting: ",i=`
but found: '`+So(t).image+"'";if(n)return o+n+i;{let t=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${C(e,e=>`[${C(e,e=>Pl(e)).join(",")}]`).join(" ,")}>`;return o+t+i}}},Object.freeze(Xl),ide={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},ic={buildDuplicateFoundError(t,n){function i(e){return e instanceof Xe?e.terminalType.name:e instanceof qn?e.nonTerminalName:""}e(i,"getExtraProductionArgument");let c=t.name,o=So(n),a=o.idx,l=fi(o),r=i(o),d=a>0,s=`->${l}${d?a:""}<- ${r?`with argument: ->${r}<-`:""}
                  appears more than once (${n.length} times) in the top level rule: ->${c}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return s=s.replace(/[ \t]+/g," "),s=s.replace(/\s\s+/g,`
`),s},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=C(e.prefixPath,e=>Pl(e)).join(", "),n=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let n=C(e.prefixPath,e=>Pl(e)).join(", "),s=e.alternation.idx===0?"":e.alternation.idx,t=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${s}> inside <${e.topLevelRule.name}> Rule,
<${n}> may appears as a prefix path in all these alternatives.
`;return t=t+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,t},buildEmptyRepetitionError(e){let t=fi(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,n=C(e.leftRecursionPath,e=>e.name),s=`${t} --> ${n.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${s}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Bl?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function cde(e,t){let n=new lde(e,t);return n.resolveRefs(),n.errors}dde=n(()=>{"use strict";_s(),W(),ps(),e(cde,"resolveGrammar"),lde=class extends ol{static{e(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){f(He(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:Zn.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}});function w9(t,n,s=[]){s=$t(s);let i=[],a=0;function r(e){return e.concat(un(t,a+1))}e(r,"remainingPathWith");function o(e){let t=w9(r(e),n,s);return i.concat(t)}for(e(o,"getAlternativesForProd");s.length<n&&a<t.length;){let r=t[a];if(r instanceof ts)return o(r.definition);if(r instanceof qn)return o(r.definition);if(r instanceof an)i=o(r.definition);else if(r instanceof Ns){let e=r.definition.concat([new lt({definition:r.definition})]);return o(e)}else if(r instanceof Ts){let e=[new ts({definition:r.definition}),new lt({definition:[new Xe({terminalType:r.separator})].concat(r.definition)})];return o(e)}else if(r instanceof ss){let e=r.definition.concat([new lt({definition:[new Xe({terminalType:r.separator})].concat(r.definition)})]);i=o(e)}else if(r instanceof lt){let e=r.definition.concat([new lt({definition:r.definition})]);i=o(e)}else{if(r instanceof Gn)return f(r.definition,e=>{Ae(e.definition)===!1&&(i=o(e.definition))}),i;if(r instanceof Xe)s.push(r.terminalType);else throw Error("non exhaustive match")}a++}return i.push({partialPath:s,suffixDef:un(t,a)}),i}function dM(e,t,n,s){let r="EXIT_NONE_TERMINAL",d=[r],i="EXIT_ALTERNATIVE",c=!1,a=t.length,u=a-s-1,l=[],o=[];for(o.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Ae(o);){let g=o.pop();if(g===i){c&&ii(o).idx<=u&&o.pop();continue}let m=g.def,h=g.idx,f=g.ruleStack,p=g.occurrenceStack;if(Ae(m))continue;let s=m[0];if(s===r){let e={idx:h,def:un(m),ruleStack:c1(f),occurrenceStack:c1(p)};o.push(e)}else if(s instanceof Xe)if(h<a-1){{let e=h+1,i=t[e];if(n(i,s.terminalType)){let t={idx:e,def:un(m),ruleStack:f,occurrenceStack:p};o.push(t)}}}else if(h===a-1)l.push({nextTokenType:s.terminalType,nextTokenOccurrence:s.idx,ruleStack:f,occurrenceStack:p}),c=!0;else throw Error("non exhaustive match");else if(s instanceof qn){let e=$t(f);e.push(s.nonTerminalName);let t=$t(p);t.push(s.idx);let n={idx:h,def:s.definition.concat(d,un(m)),ruleStack:e,occurrenceStack:t};o.push(n)}else if(s instanceof an){let e={idx:h,def:un(m),ruleStack:f,occurrenceStack:p};o.push(e),o.push(i);let t={idx:h,def:s.definition.concat(un(m)),ruleStack:f,occurrenceStack:p};o.push(t)}else if(s instanceof Ns){let e=new lt({definition:s.definition,idx:s.idx}),t=s.definition.concat([e],un(m)),n={idx:h,def:t,ruleStack:f,occurrenceStack:p};o.push(n)}else if(s instanceof Ts){let e=new Xe({terminalType:s.separator}),t=new lt({definition:[e].concat(s.definition),idx:s.idx}),n=s.definition.concat([t],un(m)),i={idx:h,def:n,ruleStack:f,occurrenceStack:p};o.push(i)}else if(s instanceof ss){let e={idx:h,def:un(m),ruleStack:f,occurrenceStack:p};o.push(e),o.push(i);let t=new Xe({terminalType:s.separator}),n=new lt({definition:[t].concat(s.definition),idx:s.idx}),a=s.definition.concat([n],un(m)),r={idx:h,def:a,ruleStack:f,occurrenceStack:p};o.push(r)}else if(s instanceof lt){let e={idx:h,def:un(m),ruleStack:f,occurrenceStack:p};o.push(e),o.push(i);let t=new lt({definition:s.definition,idx:s.idx}),n=s.definition.concat([t],un(m)),a={idx:h,def:n,ruleStack:f,occurrenceStack:p};o.push(a)}else if(s instanceof Gn)for(let e=s.definition.length-1;e>=0;e--){let t=s.definition[e],n={idx:h,def:t.definition.concat(un(m)),ruleStack:f,occurrenceStack:p};o.push(n),o.push(i)}else if(s instanceof ts)o.push({idx:h,def:s.definition.concat(un(m)),ruleStack:f,occurrenceStack:p});else if(s instanceof Bl)o.push(mde(s,h,f,p));else throw Error("non exhaustive match")}return l}function mde(e,t,n,s){let o=$t(n);o.push(e.name);let i=$t(s);return i.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:i}}Qm=n(()=>{"use strict";W(),AT(),Dv(),ps(),fde=class extends ph{static{e(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=$t(this.path.ruleStack).reverse(),this.occurrenceStack=$t(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let s=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,s)}}updateExpectedNext(){Ae(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},pde=class extends fde{static{e(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let e=t.concat(n),s=new ts({definition:e});this.possibleTokTypes=M0(s),this.found=!0}}},Ym=class extends ph{static{e(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},vde=class extends Ym{static{e(this,"NextTerminalAfterManyWalker")}walkMany(e,t,n){if(e.idx===this.occurrence){let e=So(t.concat(n));this.result.isEndOfRule=e===void 0,e instanceof Xe&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}},rM=class extends Ym{static{e(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,n){if(e.idx===this.occurrence){let e=So(t.concat(n));this.result.isEndOfRule=e===void 0,e instanceof Xe&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}},jde=class extends Ym{static{e(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){let e=So(t.concat(n));this.result.isEndOfRule=e===void 0,e instanceof Xe&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}},aM=class extends Ym{static{e(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){let e=So(t.concat(n));this.result.isEndOfRule=e===void 0,e instanceof Xe&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}},e(w9,"possiblePathsFrom"),e(dM,"nextPossibleTokensAfter"),e(mde,"expandTopLevelRule")});function C9(e){if(e instanceof an||e==="Option")return ht.OPTION;if(e instanceof lt||e==="Repetition")return ht.REPETITION;if(e instanceof Ns||e==="RepetitionMandatory")return ht.REPETITION_MANDATORY;if(e instanceof Ts||e==="RepetitionMandatoryWithSeparator")return ht.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof ss||e==="RepetitionWithSeparator")return ht.REPETITION_WITH_SEPARATOR;if(e instanceof Gn||e==="Alternation")return ht.ALTERNATION;throw Error("non exhaustive match")}function eM(e){let{occurrence:t,rule:n,prodType:i,maxLookahead:s}=e,o=C9(i);return o===ht.ALTERNATION?o8(t,n,s):c8(t,n,o,s)}function xde(e,t,n,s,o,i){let a=o8(e,t,n),r=qS(a)?_m:U4;return i(a,s,r,o)}function Cde(e,t,n,s,o,i){let a=c8(e,t,o,n),r=qS(a)?_m:U4;return i(a[0],r,s)}function Ede(e,t,n,s){let o=e.length,i=ko(e,e=>ko(e,e=>e.length===1));if(t)return function(t){let s=C(t,e=>e.GATE);for(let t=0;t<o;t++){let i=e[t],r=i.length,a=s[t];if(a===void 0||a.call(this)!==!1)e:for(let e=0;e<r;e++){let s=i[e],o=s.length;for(let e=0;e<o;e++){let t=this.LA(e+1);if(n(t,s[e])===!1)continue e}return t}}};if(i&&!s){let t=C(e,e=>Xt(e)),n=bt(t,(e,t,n)=>(f(t,t=>{Q(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),f(t.categoryMatches,t=>{Q(e,t)||(e[t]=n)})}),e),{});return function(){let e=this.LA(1);return n[e.tokenTypeIdx]}}return function(){for(let t=0;t<o;t++){let s=e[t],i=s.length;e:for(let e=0;e<i;e++){let o=s[e],a=o.length;for(let e=0;e<a;e++){let t=this.LA(e+1);if(n(t,o[e])===!1)continue e}return t}}}}function kde(e,t,n){let s=ko(e,e=>e.length===1),o=e.length;if(s&&!n){let t=Xt(e);if(t.length===1&&Ae(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}let n=bt(t,(e,t)=>(e[t.tokenTypeIdx]=!0,f(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){let e=this.LA(1);return n[e.tokenTypeIdx]===!0}}else return function(){e:for(let n=0;n<o;n++){let s=e[n],i=s.length;for(let e=0;e<i;e++){let n=this.LA(e+1);if(t(n,s[e])===!1)continue e}return!0}return!1}}function JS(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function A9(e){let t=[""];for(let n=0;n<e.length;n++){let s=e[n],o=[];for(let e=0;e<t.length;e++){let n=t[e];o.push(n+"_"+s.tokenTypeIdx);for(let e=0;e<s.categoryMatches.length;e++){let t="_"+s.categoryMatches[e];o.push(n+t)}}t=o}return t}function Mde(e,t,n){for(let s=0;s<e.length;s++){if(s===n)continue;let o=e[s];for(let e=0;e<t.length;e++){let n=t[e];if(o[n]===!0)return!1}}return!0}function QS(e,t){let s=C(e,e=>w9([e],1)),i=JS(s.length),o=C(s,e=>{let t={};return f(e,e=>{let n=A9(e.partialPath);f(n,e=>{t[e]=!0})}),t}),n=s;for(let e=1;e<=t;e++){let s=n;n=JS(s.length);for(let a=0;a<s.length;a++){let r=s[a];for(let c=0;c<r.length;c++){let s=r[c].partialPath,d=r[c].suffixDef,l=A9(s);if(Mde(o,l,a)||Ae(d)||s.length===t){{let e=i[a];if(T9(e,s)===!1){e.push(s);for(let e=0;e<l.length;e++){let t=l[e];o[a][t]=!0}}}}else{let t=w9(d,e+1,s);n[a]=n[a].concat(t),f(t,e=>{let t=A9(e.partialPath);f(t,e=>{o[a][e]=!0})})}}}}return i}function o8(e,t,n,s){let o=new US(e,ht.ALTERNATION,s);return t.accept(o),QS(o.result,n)}function c8(e,t,n,s){let o=new US(e,n);t.accept(o);let i=o.result,a=new Pde(t,e,n).startWalking(),r=new ts({definition:i}),c=new ts({definition:a});return QS([r,c],s)}function T9(e,t){e:for(let n=0;n<e.length;n++){let s=e[n];if(s.length===t.length){for(let e=0;e<s.length;e++){let n=t[e],o=s[e];if((n===o||o.categoryMatchesMap[n.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Nde(e,t){return e.length<t.length&&ko(e,(e,n)=>{let s=t[n];return e===s||s.categoryMatchesMap[e.tokenTypeIdx]})}function qS(e){return ko(e,e=>ko(e,e=>ko(e,e=>Ae(e.categoryMatches))))}y4=n(()=>{"use strict";W(),Qm(),Dv(),Ml(),ps(),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(ht||(ht={})),e(C9,"getProdType"),e(eM,"getLookaheadPaths"),e(xde,"buildLookaheadFuncForOr"),e(Cde,"buildLookaheadFuncForOptionalProd"),e(Ede,"buildAlternativesLookAheadFunc"),e(kde,"buildSingleAlternativeLookaheadFunction"),Pde=class extends ph{static{e(this,"RestDefinitionFinderWalker")}constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,s){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(s),!0)}walkOption(e,t,n){this.checkIsTarget(e,ht.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,ht.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,ht.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,ht.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,ht.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}},US=class extends ol{static{e(this,"InsideDefinitionFinderVisitor")}constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,ht.OPTION)}visitRepetition(e){this.checkIsTarget(e,ht.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,ht.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,ht.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,ht.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,ht.ALTERNATION)}},e(JS,"initializeArrayOfArrays"),e(A9,"pathToHashKeys"),e(Mde,"isUniquePrefixHash"),e(QS,"lookAheadSequenceFromAlternatives"),e(o8,"getLookaheadPathsForOr"),e(c8,"getLookaheadPathsForOptionalProd"),e(T9,"containsPath"),e(Nde,"isStrictPrefixOfPath"),e(qS,"areTokenCategoriesNotUsed")});function Bde(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return C(t,e=>Object.assign({type:Zn.CUSTOM_LOOKAHEAD_VALIDATION},e))}function Vde(e,t,n,s){let o=ks(e,e=>$de(e,n)),i=nue(e,t,n),a=ks(e,e=>Zde(e,n)),r=ks(e,t=>Kde(t,e,s,n));return o.concat(i,a,r)}function $de(e,t){let n=new sue;e.accept(n);let s=n.allProductions,o=QY(s,Wde),i=To(o,e=>e.length>1);return C(He(i),n=>{let s=So(n),a=t.buildDuplicateFoundError(e,n),r=fi(s),o={message:a,type:Zn.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:r,occurrence:s.idx},i=VS(s);return i&&(o.parameter=i),o})}function Wde(e){return`${fi(e)}_#_${e.idx}_#_${VS(e)}`}function VS(e){return e instanceof Xe?e.terminalType.name:e instanceof qn?e.nonTerminalName:""}function Kde(e,t,n,s){let o=[];if(bt(t,(t,n)=>n.name===e.name?t+1:t,0)>1){let t=s.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:t,type:Zn.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}function qde(e,t,n){let s=[],o;return Kn(t,e)||(o=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,s.push({message:o,type:Zn.INVALID_RULE_OVERRIDE,ruleName:e})),s}function BS(e,t,n,s=[]){let i=[],o=C8(t.definition);if(Ae(o))return[];{let t=e.name;Kn(o,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:s}),type:Zn.LEFT_RECURSION,ruleName:t});let a=y6(o,s.concat([e])),r=ks(a,t=>{let o=$t(s);return o.push(t),BS(e,t,n,o)});return i.concat(r)}}function C8(e){let n=[];if(Ae(e))return n;let t=So(e);if(t instanceof qn)n.push(t.referencedRule);else if(t instanceof ts||t instanceof an||t instanceof Ns||t instanceof Ts||t instanceof ss||t instanceof lt)n=n.concat(C8(t.definition));else if(t instanceof Gn)n=Xt(C(t.definition,e=>C8(e.definition)));else if(!(t instanceof Xe))throw Error("non exhaustive match");let s=mh(t),o=e.length>1;if(s&&o){let t=un(e);return n.concat(C8(t))}return n}function Xde(e,t){let n=new R9;e.accept(n);let s=n.alternations;return ks(s,n=>{let s=c1(n.definition);return ks(s,(s,o)=>{let i=dM([s],[],U4,1);return Ae(i)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:o}),type:Zn.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:o+1}]:[]})})}function Qde(e,t,n){let o=new R9;e.accept(o);let s=o.alternations;return s=Kf(s,e=>e.ignoreAmbiguities===!0),ks(s,s=>{let i=s.idx,a=s.maxLookahead||t,o=o8(i,e,a,s),r=eue(o,s,e,n),c=tue(o,s,e,n);return r.concat(c)})}function Zde(e,t){let n=new R9;e.accept(n);let s=n.alternations;return ks(s,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Zn.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}function Jde(e,t,n){let s=[];return f(e,e=>{let o=new iue;e.accept(o);let i=o.allProductions;f(i,o=>{let i=C9(o),a=o.maxLookahead||t,r=o.idx,c=c8(r,e,i,a)[0];if(Ae(Xt(c))){let t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});s.push({message:t,type:Zn.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),s}function eue(e,t,n,s){let o=[],i=bt(e,(n,s,i)=>(t.definition[i].ignoreAmbiguities===!0||f(s,s=>{let a=[i];f(e,(e,n)=>{i!==n&&T9(e,s)&&t.definition[n].ignoreAmbiguities!==!0&&a.push(n)}),a.length>1&&!T9(o,s)&&(o.push(s),n.push({alts:a,path:s}))}),n),[]);return C(i,e=>{let o=C(e.alts,e=>e+1);return{message:s.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path}),type:Zn.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}})}function tue(e,t,n,s){let o=bt(e,(e,t,n)=>{let s=C(t,e=>({idx:n,path:e}));return e.concat(s)},[]);return n1(ks(o,e=>{if(t.definition[e.idx].ignoreAmbiguities===!0)return[];let i=e.idx,a=e.path,r=rt(o,e=>t.definition[e.idx].ignoreAmbiguities!==!0&&e.idx<i&&Nde(e.path,a));return C(r,e=>{let o=[e.idx+1,i+1],a=t.idx===0?"":t.idx;return{message:s.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path}),type:Zn.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:a,alternatives:o}})}))}function nue(e,t,n){let s=[],o=C(t,e=>e.name);return f(e,e=>{let t=e.name;if(Kn(o,t)){let o=n.buildNamespaceConflictError(e);s.push({message:o,type:Zn.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),s}M8=n(()=>{"use strict";W(),_s(),ps(),y4(),Qm(),Ml(),e(Bde,"validateLookahead"),e(Vde,"validateGrammar"),e($de,"validateDuplicateProductions"),e(Wde,"identifyProductionForDuplicates"),e(VS,"getExtraProductionArgument"),sue=class extends ol{static{e(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}},e(Kde,"validateRuleDoesNotAlreadyExist"),e(qde,"validateRuleIsOverridden"),e(BS,"validateNoLeftRecursion"),e(C8,"getFirstNoneTerminal"),R9=class extends ol{static{e(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}},e(Xde,"validateEmptyOrAlternative"),e(Qde,"validateAmbiguousAlternationAlternatives"),iue=class extends ol{static{e(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}},e(Zde,"validateTooManyAlts"),e(Jde,"validateSomeNonEmptyLookaheadPath"),e(eue,"checkAlternativesAmbiguities"),e(tue,"checkPrefixAlternativesAmbiguities"),e(nue,"checkTerminalAndNoneTerminalsNameSpace")});function rue(e){let n=w6(e,{errMsgProvider:ide}),t={};return f(e.rules,e=>{t[e.name]=e}),cde(t,n.errMsgProvider)}function cue(e){return e=w6(e,{errMsgProvider:ic}),Vde(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}lue=n(()=>{"use strict";W(),dde(),M8(),E4(),e(rue,"resolveGrammar"),e(cue,"validateGrammar")});function N8(e){return Kn(ES,e.name)}Ju=n(()=>{"use strict";W(),DS="MismatchedTokenException",zS="NoViableAltException",FS="EarlyExitException",SS="NotAllInputParsedException",ES=[DS,zS,FS,SS],Object.freeze(ES),e(N8,"isRecognitionException"),L8=class extends Error{static{e(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},OS=class extends L8{static{e(this,"MismatchedTokenException")}constructor(e,t,n){super(e,t),this.previousToken=n,this.name=DS}},bue=class extends L8{static{e(this,"NoViableAltException")}constructor(e,t,n){super(e,t),this.previousToken=n,this.name=zS}},jue=class extends L8{static{e(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=SS}},yue=class extends L8{static{e(this,"EarlyExitException")}constructor(e,t,n){super(e,t),this.previousToken=n,this.name=FS}}});function wue(e,t,n,s,o,i,a){let d=this.getKeyForAutomaticLookahead(s,o),r=this.firstAfterRepMap[d];if(r===void 0){let e=this.getCurrRuleFullName(),t=this.getGAstProductions()[e];r=new i(t,o).startWalking(),this.firstAfterRepMap[d]=r}let c=r.token,l=r.occurrence,u=r.isEndOfRule;this.RULE_STACK.length===1&&u&&c===void 0&&(c=dr,l=1),c!==void 0&&l!==void 0&&this.shouldInRepetitionRecoveryBeTried(c,l,a)&&this.tryInRepetitionRecovery(e,t,n,c)}gS=n(()=>{"use strict";Gl(),W(),Ju(),CT(),_s(),$9={},vS="InRuleRecoveryException",Cue=class extends Error{static{e(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=vS}},Eue=class{static{e(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Q(e,"recoveryEnabled")?e.recoveryEnabled:ua.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=wue)}getTokenToInsert(e){let t=Lm(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(){return!0}canTokenTypeBeDeletedInRecovery(){return!0}tryInRepetitionRecovery(t,n,s,o){let d=this.findReSyncTokenType(),u=this.exportLexerState(),a=[],r=!1,c=this.LA(1),i=this.LA(1),l=e(()=>{let t=this.LA(0),n=this.errorMessageProvider.buildMismatchTokenMessage({expected:o,actual:c,previous:t,ruleName:this.getCurrRuleFullName()}),e=new OS(n,c,this.LA(0));e.resyncedTokens=c1(a),this.SAVE_ERROR(e)},"generateErrorMessage");for(;!r;){if(this.tokenMatcher(i,o)){l();return}if(s.call(this)){l(),t.apply(this,n);return}this.tokenMatcher(i,d)?r=!0:(i=this.SKIP_TOKEN(),this.addToResyncTokens(i,a))}this.importLexerState(u)}shouldInRepetitionRecoveryBeTried(e,t,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new Cue("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||Ae(t))return!1;let n=this.LA(1);return ga(t,e=>this.tokenMatcher(n,e))!==void 0}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Kn(n,e)}findReSyncTokenType(){let n=this.flattenFollowSet(),e=this.LA(1),t=2;for(;;){let s=ga(n,t=>WM(e,t));if(s!==void 0)return s;e=this.LA(t),t++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return $9;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return C(e,(n,s)=>s===0?$9:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[s],inRule:this.shortRuleNameToFullName(e[s-1])})}flattenFollowSet(){let e=C(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return Xt(e)}getFollowSetFromFollowKey(e){if(e===$9)return[dr];let t=e.ruleName+e.idxInCallingRule+kT+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,dr)||t.push(e),t}reSyncTo(e){let n=[],t=this.LA(1);for(;this.tokenMatcher(t,e)===!1;)t=this.SKIP_TOKEN(),this.addToResyncTokens(t,n);return c1(n)}attemptInRepetitionRecovery(){}getCurrentGrammarPath(e,t){let n=this.getHumanReadableRuleStack(),s=$t(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:s,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return C(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},e(wue,"attemptInRepetitionRecovery")});function U9(e,t,n){return n|t|e}K9=n(()=>{"use strict";e(U9,"getKeyForAutomaticLookahead")}),oS=n(()=>{"use strict";W(),E4(),_s(),M8(),y4(),q9=class{static{e(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=(t=e?.maxLookahead)!==null&&t!==void 0?t:ua.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(Ae(t)){let n=this.validateEmptyOrAlternatives(e.rules),s=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...s,...o]}return t}validateNoLeftRecursion(e){return ks(e,e=>BS(e,e,ic))}validateEmptyOrAlternatives(e){return ks(e,e=>Xde(e,ic))}validateAmbiguousAlternationAlternatives(e,t){return ks(e,e=>Qde(e,t,ic))}validateSomeNonEmptyLookaheadPath(e,t){return Jde(e,t,ic)}buildLookaheadForAlternation(e){return xde(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Ede)}buildLookaheadForOptional(e){return Cde(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,C9(e.prodType),kde)}}});function Tue(e){W8.reset(),e.accept(W8);let t=W8.dslMethods;return W8.reset(),t}Lue=n(()=>{"use strict";W(),_s(),K9(),ps(),oS(),zue=class{static{e(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=Q(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:ua.dynamicTokensEnabled,this.maxLookahead=Q(e,"maxLookahead")?e.maxLookahead:ua.maxLookahead,this.lookaheadStrategy=Q(e,"lookaheadStrategy")?e.lookaheadStrategy:new q9({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){f(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{let{alternation:t,repetition:n,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:i,repetitionWithSeparator:a}=Tue(e);f(t,t=>{let n=t.idx===0?"":t.idx;this.TRACE_INIT(`${fi(t)}${n}`,()=>{let n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),s=U9(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(s,n)})}),f(n,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,fi(t))}),f(s,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,fi(t))}),f(o,t=>{this.computeLookaheadFunc(e,t.idx,1024,"RepetitionMandatory",t.maxLookahead,fi(t))}),f(i,t=>{this.computeLookaheadFunc(e,t.idx,1536,"RepetitionMandatoryWithSeparator",t.maxLookahead,fi(t))}),f(a,t=>{this.computeLookaheadFunc(e,t.idx,1280,"RepetitionWithSeparator",t.maxLookahead,fi(t))})})})}computeLookaheadFunc(e,t,n,s,o,i){this.TRACE_INIT(`${i}${t===0?"":t}`,()=>{let i=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:s}),a=U9(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(a,i)})}getKeyForAutomaticLookahead(e,t){let n=this.getLastExplicitRuleShortName();return U9(n,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},Due=class extends ol{static{e(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},W8=new Due,e(Tue,"collectMethods")});function nS(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function tS(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Hue(e,t,n){e.children[n]===void 0?e.children[n]=[t]:e.children[n].push(t)}function Iue(e,t,n){e.children[t]===void 0?e.children[t]=[n]:e.children[t].push(n)}Bue=n(()=>{"use strict";e(nS,"setNodeLocationOnlyOffset"),e(tS,"setNodeLocationFull"),e(Hue,"addTerminalToCst"),e(Iue,"addNoneTerminalToCst")});function eS(e,t){Object.defineProperty(e,$ue,{enumerable:!1,configurable:!0,writable:!1,value:t})}Wue=n(()=>{"use strict";$ue="name",e(eS,"defineNameProp")});function Uue(e,t){let n=Pt(e),s=n.length;for(let o=0;o<s;o++){let a=n[o],i=e[a],r=i.length;for(let e=0;e<r;e++){let n=i[e];n.tokenTypeIdx===void 0&&this[n.name](n.children,t)}}}function Kue(t,n){let s=e(function(){},"derivedConstructor");eS(s,t+"BaseSemantics");let o={visit:e(function(e,t){if(ve(e)&&(e=e[0]),!Te(e))return this[e.name](e.children,t)},"visit"),validateVisitor:e(function(){let e=Yue(this,n);if(!Ae(e)){let t=C(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${t.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return s.prototype=o,s.prototype.constructor=s,s._RULE_NAMES=n,s}function que(t,n,s){let o=e(function(){},"derivedConstructor");eS(o,t+"BaseSemanticsWithDefaults");let i=Object.create(s.prototype);return f(n,e=>{i[e]=Uue}),o.prototype=i,o.prototype.constructor=o,o}function Yue(e,t){return Gue(e,t)}function Gue(e,t){let n=rt(t,t=>Zs(e[t])===!1),s=C(n,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:ZA.MISSING_METHOD,methodName:t}));return n1(s)}Que=n(()=>{"use strict";W(),Wue(),e(Uue,"defaultVisit"),e(Kue,"createBaseSemanticVisitorConstructor"),e(que,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(ZA||(ZA={})),e(Yue,"validateVisitor"),e(Gue,"validateMissingCstMethods")}),Jue=n(()=>{"use strict";Bue(),W(),Que(),_s(),Zue=class{static{e(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Q(e,"nodeLocationTracking")?e.nodeLocationTracking:ua.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Mt,this.cstFinallyStateUpdate=Mt,this.cstPostTerminal=Mt,this.cstPostNonTerminal=Mt,this.cstPostRule=Mt;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=tS,this.setNodeLocationFromNode=tS,this.cstPostRule=Mt,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Mt,this.setNodeLocationFromNode=Mt,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=nS,this.setNodeLocationFromNode=nS,this.cstPostRule=Mt,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Mt,this.setNodeLocationFromNode=Mt,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Mt,this.setNodeLocationFromNode=Mt,this.cstPostRule=Mt,this.setInitialNodeLocation=Mt;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let n=this.LA(0),t=e.location;t.startOffset<=n.startOffset?(t.endOffset=n.endOffset,t.endLine=n.endLine,t.endColumn=n.endColumn):(t.startOffset=NaN,t.startLine=NaN,t.startColumn=NaN)}cstPostRuleOnlyOffset(e){let n=this.LA(0),t=e.location;t.startOffset<=n.startOffset?t.endOffset=n.endOffset:t.startOffset=NaN}cstPostTerminal(e,t){let n=this.CST_STACK[this.CST_STACK.length-1];Hue(n,t,e),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){let n=this.CST_STACK[this.CST_STACK.length-1];Iue(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Te(this.baseCstVisitorConstructor)){let e=Kue(this.className,Pt(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Te(this.baseCstVisitorWithDefaultsConstructor)){let e=que(this.className,Pt(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}}),t1e=n(()=>{"use strict";_s(),e1e=class{static{e(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ef}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Ef:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}}),s1e=n(()=>{"use strict";W(),Ju(),_s(),E4(),M8(),ps(),n1e=class{static{e(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=Df){if(Kn(this.definedRulesNames,e)){let t={message:ic.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Zn.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);let s=this.defineRule(e,t,n);return this[e]=s,s}OVERRIDE_RULE(e,t,n=Df){let o=qde(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(o);let s=this.defineRule(e,t,n);return this[e]=s,s}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(N8(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Rre(He(this.gastProductionsCache))}}}),i1e=n(()=>{"use strict";W(),K9(),Ju(),y4(),Qm(),_s(),gS(),Gl(),Ml(),o1e=class{static{e(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=_m,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Q(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(ve(e)){if(Ae(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(ve(e))this.tokensMap=bt(e,(e,t)=>(e[t.name]=t,e),{});else if(Q(e,"modes")&&ko(Xt(He(e.modes)),Fle)){let t=Xt(He(e.modes)),n=Xp(t);this.tokensMap=bt(n,(e,t)=>(e[t.name]=t,e),{})}else if(Yn(e))this.tokensMap=$t(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=dr;let n=Q(e,"modes")?Xt(He(e.modes)):He(e),s=ko(n,e=>Ae(e.categoryMatches));this.tokenMatcher=s?_m:U4,$4(He(this.tokensMap))}defineRule(t,n,s){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let a=Q(s,"resyncEnabled")?s.resyncEnabled:Df.resyncEnabled,r=Q(s,"recoveryValueFunc")?s.recoveryValueFunc:Df.recoveryValueFunc,o=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=t,this.fullRuleNameToShort[t]=o;let i;return this.outputCst===!0?i=e(function(...e){try{this.ruleInvocationStateUpdate(o,t,this.subruleIdx),n.apply(this,e);let s=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(s),s}catch(e){return this.invokeRuleCatch(e,a,r)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):i=e(function(...e){try{return this.ruleInvocationStateUpdate(o,t,this.subruleIdx),n.apply(this,e)}catch(e){return this.invokeRuleCatch(e,a,r)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(i,{ruleName:t,originalGrammarAction:n})}invokeRuleCatch(e,t,n){let s=this.RULE_STACK.length===1,o=t&&!this.isBackTracking()&&this.recoveryEnabled;if(N8(e)){let t=e;if(o){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(t.resyncedTokens=this.reSyncTo(s),this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}else return n(e);else{if(this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}}else{if(s)return this.moveToTerminatedState(),n(e);throw t}}else throw e}optionInternal(e,t){let n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(t,n,s){let o=this.getLaFuncFromCache(s),i;if(typeof t!="function"){{i=t.DEF;let n=t.GATE;if(n!==void 0){let t=o;o=e(()=>n.call(this)&&t.call(this),"lookAheadFunc")}}}else i=t;if(o.call(this)===!0)return i.call(this)}atLeastOneInternal(e,t){let n=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(t,n,s){let o=this.getLaFuncFromCache(s),i;if(typeof n!="function"){{i=n.DEF;let t=n.GATE;if(t!==void 0){let n=o;o=e(()=>t.call(this)&&n.call(this),"lookAheadFunc")}}}else i=n;if(o.call(this)===!0){let e=this.doSingleRepetition(i);for(;o.call(this)===!0&&e===!0;)e=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(t,ht.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],o,1024,t,jde)}atLeastOneSepFirstInternal(e,t){let n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(t,n,s){let i=n.DEF,o=n.SEP;if(this.getLaFuncFromCache(s).call(this)===!0){i.call(this);let n=e(()=>this.tokenMatcher(this.LA(1),o),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,n,i,aM],n,1536,t,aM)}else throw this.raiseEarlyExitException(t,ht.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,t){let n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(t,n,s){let o=this.getLaFuncFromCache(s),i;if(typeof n!="function"){{i=n.DEF;let t=n.GATE;if(t!==void 0){let n=o;o=e(()=>t.call(this)&&n.call(this),"lookaheadFunction")}}}else i=n;let a=!0;for(;o.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,n],o,768,t,vde,a)}manySepFirstInternal(e,t){let n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(t,n,s){let i=n.DEF,o=n.SEP;if(this.getLaFuncFromCache(s).call(this)===!0){i.call(this);let n=e(()=>this.tokenMatcher(this.LA(1),o),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,n,i,rM],n,1280,t,rM)}}repetitionSepSecondInternal(e,t,n,s,o){for(;n();)this.CONSUME(t),s.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,s,o],n,1536,e,o)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let o=this.getKeyForAutomaticLookahead(256,t),n=ve(e)?e:e.DEF,s=this.getLaFuncFromCache(o).call(this,n);if(s!==void 0)return n[s].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new jue(t,e))}}subruleInternal(e,t,n){let s;try{let o=n!==void 0?n.ARGS:void 0;return this.subruleIdx=t,s=e.apply(this,o),this.cstPostNonTerminal(s,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),s}catch(t){throw this.subruleInternalError(t,n,e.ruleName)}}subruleInternalError(e,t,n){throw N8(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let s;try{let t=this.LA(1);this.tokenMatcher(t,e)===!0?(this.consumeToken(),s=t):this.consumeInternalError(e,t,n)}catch(n){s=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,s),s}consumeInternalError(e,t,n){let s,o=this.LA(0);throw n!==void 0&&n.ERR_MSG?s=n.ERR_MSG:s=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new OS(s,t,o))}consumeInternalRecovery(e,t,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let s=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,s)}catch(e){throw e.name===vS?n:e}}else throw n}saveRecogState(){let e=this.errors,t=$t(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),dr)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}}),r1e=n(()=>{"use strict";Ju(),W(),y4(),_s(),a1e=class{static{e(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=Q(e,"errorMessageProvider")?e.errorMessageProvider:ua.errorMessageProvider}SAVE_ERROR(e){if(N8(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:$t(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return $t(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){let s=this.getCurrRuleFullName(),i=this.getGAstProductions()[s],a=c8(e,i,t,this.maxLookahead)[0],o=[];for(let e=1;e<=this.maxLookahead;e++)o.push(this.LA(e));let r=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:s});throw this.SAVE_ERROR(new yue(r,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let o=this.getCurrRuleFullName(),i=this.getGAstProductions()[o],a=o8(e,i,this.maxLookahead),n=[];for(let e=1;e<=this.maxLookahead;e++)n.push(this.LA(e));let s=this.LA(0),r=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:n,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new bue(r,this.LA(1),s))}}}),l1e=n(()=>{"use strict";Qm(),W(),c1e=class{static{e(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let n=this.gastProductionsCache[e];if(Te(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return dM([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=So(e.ruleStack),n=this.getGAstProductions()[t];return new pde(n,e).startWalking()}}});function e4(e,t,n,s=!1){K8(n);let i=ii(this.recordingProdStack),a=Zs(t)?t:t.DEF,o=new e({definition:[],idx:n});return s&&(o.separator=t.SEP),Q(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),X8}function u1e(e,t){K8(t);let i=ii(this.recordingProdStack),s=ve(e)===!1,o=s===!1?e:e.DEF,n=new Gn({definition:[],idx:t,ignoreAmbiguities:s&&e.IGNORE_AMBIGUITIES===!0});Q(e,"MAX_LOOKAHEAD")&&(n.maxLookahead=e.MAX_LOOKAHEAD);let a=LB(o,e=>Zs(e.GATE));return n.hasPredicates=a,i.definition.push(n),f(o,e=>{let t=new ts({definition:[]});n.definition.push(t),Q(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Q(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),X8}function GA(e){return e===0?"":`${e}`}function K8(e){if(e<0||e>WA){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${WA+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}_1e=n(()=>{"use strict";W(),ps(),Nm(),Ml(),Gl(),_s(),K9(),X8={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze(X8),UA=!0,WA=Math.pow(2,8)-1,$A=T4({name:"RECORDING_PHASE_TOKEN",pattern:Tn.NA}),$4([$A]),VA=Lm($A,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1),Object.freeze(VA),j1e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},y1e=class{static{e(this,"GastRecorder")}initGastRecorder(){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let n=0;n<10;n++){let t=n>0?n:"";delete e[`CONSUME${t}`],delete e[`SUBRULE${t}`],delete e[`OPTION${t}`],delete e[`OR${t}`],delete e[`MANY${t}`],delete e[`MANY_SEP${t}`],delete e[`AT_LEAST_ONE${t}`],delete e[`AT_LEAST_ONE_SEP${t}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(){}BACKTRACK_RECORD(){return()=>!0}LA_RECORD(){return Ef}topLevelRuleRecord(e,t){try{let n=new Bl({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(e.KNOWN_RECORDER_ERROR!==!0)try{e.message=e.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw e}throw e}}optionInternalRecord(e,t){return e4.call(this,an,e,t)}atLeastOneInternalRecord(e,t){e4.call(this,Ns,t,e)}atLeastOneSepFirstInternalRecord(e,t){e4.call(this,Ts,t,e,UA)}manyInternalRecord(e,t){e4.call(this,lt,t,e)}manySepFirstInternalRecord(e,t){e4.call(this,ss,t,e,UA)}orInternalRecord(e,t){return u1e.call(this,e,t)}subruleInternalRecord(e,t,n){if(K8(t),!e||Q(e,"ruleName")===!1){let n=new Error(`<SUBRULE${GA(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}let s=ii(this.recordingProdStack),o=e.ruleName,i=new qn({idx:t,nonTerminalName:o,label:n?.LABEL,referencedRule:void 0});return s.definition.push(i),this.outputCst?j1e:X8}consumeInternalRecord(e,t,n){if(K8(t),!mF(e)){let n=new Error(`<CONSUME${GA(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}let s=ii(this.recordingProdStack),o=new Xe({idx:t,terminalType:e,label:n?.LABEL});return s.definition.push(o),VA}},e(e4,"recordProd"),e(u1e,"recordOrProd"),e(GA,"getIdxSuffix"),e(K8,"assertMethodIdxIsValid")}),O1e=n(()=>{"use strict";W(),r2(),_s(),w1e=class{static{e(this,"PerformanceTracer")}initPerformanceTracer(e){if(Q(e,"traceInitPerf")){let t=e.traceInitPerf,n=typeof t=="number";this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=ua.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);let{time:s,value:o}=fz(t),i=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${e}> time: ${s}ms`),this.traceInitIndent--,o}return t()}}});function x1e(e,t){t.forEach(t=>{let n=t.prototype;Object.getOwnPropertyNames(n).forEach(s=>{if(s==="constructor")return;let o=Object.getOwnPropertyDescriptor(n,s);o&&(o.get||o.set)?Object.defineProperty(e.prototype,s,o):e.prototype[s]=t.prototype[s]})})}C1e=n(()=>{"use strict";e(x1e,"applyMixins")});function BA(e=void 0){return function(){return e}}_s=n(()=>{"use strict";W(),r2(),bce(),Gl(),E4(),lue(),gS(),Lue(),Jue(),t1e(),s1e(),i1e(),r1e(),l1e(),_1e(),O1e(),C1e(),M8(),Ef=Lm(dr,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(Ef),ua=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Xl,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Df=Object.freeze({recoveryValueFunc:e(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Zn||(Zn={})),e(BA,"EMPTY_ALT"),nb=class t{static{e(this,"Parser")}static performSelfAnalysis(){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let n;this.selfAnalysisDone=!0;let s=this.className;this.TRACE_INIT("toFastProps",()=>{mz(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),f(this.definedRulesNames,e=>{let n=this[e].originalGrammarAction,t;this.TRACE_INIT(`${e} Rule`,()=>{t=this.topLevelRuleRecord(e,n)}),this.gastProductionsCache[e]=t})}finally{this.disableRecording()}});let e=[];if(this.TRACE_INIT("Grammar Resolving",()=>{e=rue({rules:He(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(e)}),this.TRACE_INIT("Grammar Validations",()=>{if(Ae(e)&&this.skipValidations===!1){let e=cue({rules:He(this.gastProductionsCache),tokenTypes:He(this.tokensMap),errMsgProvider:ic,grammarName:s}),t=Bde({lookaheadStrategy:this.lookaheadStrategy,rules:He(this.gastProductionsCache),tokenTypes:He(this.tokensMap),grammarName:s});this.definitionErrors=this.definitionErrors.concat(e,t)}}),Ae(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let e=pce(He(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;(e=(t=this.lookaheadStrategy).initialize)===null||e===void 0||e.call(t,{rules:He(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(He(this.gastProductionsCache))})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Ae(this.definitionErrors))throw n=C(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:
 ${n.join(`
-------------------------------
`)}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),Q(t,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Q(t,"skipValidations")?t.skipValidations:ua.skipValidations}},nb.DEFER_DEFINITION_ERRORS_HANDLING=!1,x1e(nb,[Eue,zue,Zue,e1e,o1e,n1e,a1e,c1e,y1e,w1e]),T1e=class extends nb{static{e(this,"EmbeddedActionsParser")}constructor(e,t=ua){let n=$t(t);n.outputCst=!1,super(e,n)}}}),D1e=n(()=>{"use strict";ps()}),N1e=n(()=>{"use strict"}),L1e=n(()=>{"use strict";D1e(),N1e()}),R1e=n(()=>{"use strict";vz()}),sl=n(()=>{"use strict";vz(),_s(),Nm(),Gl(),y4(),oS(),E4(),Ju(),nF(),ps(),ps(),L1e(),R1e()});function xu(e,t,n){return`${e.name}_${t}_${n}`}function I1e(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};B1e(t,e);let n=e.length;for(let s=0;s<n;s++){let o=e[s],i=Wc(t,o,o);i!==void 0&&i4e(t,o,i)}return t}function B1e(e,t){let n=t.length;for(let o=0;o<n;o++){let s=t[o],i=Zt(e,s,void 0,{type:u4e}),a=Zt(e,s,void 0,{type:m1});i.stop=a,e.ruleToStartState.set(s,i),e.ruleToStopState.set(s,a)}}function gA(e,t,n){return n instanceof Xe?ub(e,t,n.terminalType,n):n instanceof qn?o4e(e,t,n):n instanceof Gn?q1e(e,t,n):n instanceof an?Y1e(e,t,n):n instanceof lt?$1e(e,t,n):n instanceof ss?W1e(e,t,n):n instanceof Ns?U1e(e,t,n):n instanceof Ts?K1e(e,t,n):Wc(e,t,n)}function $1e(e,t,n){let s=Zt(e,t,n,{type:oA});Ta(e,s);let o=ku(e,t,s,n,Wc(e,t,n));return mA(e,t,n,o)}function W1e(e,t,n){let s=Zt(e,t,n,{type:oA});Ta(e,s);let o=ku(e,t,s,n,Wc(e,t,n)),i=ub(e,t,n.separator,n);return mA(e,t,n,o,i)}function U1e(e,t,n){let s=Zt(e,t,n,{type:iA});Ta(e,s);let o=ku(e,t,s,n,Wc(e,t,n));return fA(e,t,n,o)}function K1e(e,t,n){let s=Zt(e,t,n,{type:iA});Ta(e,s);let o=ku(e,t,s,n,Wc(e,t,n)),i=ub(e,t,n.separator,n);return fA(e,t,n,o,i)}function q1e(e,t,n){let s=Zt(e,t,n,{type:hr});Ta(e,s);let o=C(n.definition,n=>gA(e,t,n));return ku(e,t,s,n,...o)}function Y1e(e,t,n){let s=Zt(e,t,n,{type:hr});Ta(e,s);let o=ku(e,t,s,n,Wc(e,t,n));return Z1e(e,t,n,o)}function Wc(e,t,n){let s=rt(C(n.definition,n=>gA(e,t,n)),e=>e!==void 0);return s.length===1?s[0]:s.length===0?void 0:n4e(e,s)}function fA(e,t,n,s,o){let a=s.left,c=s.right,i=Zt(e,t,n,{type:b4e});Ta(e,i);let r=Zt(e,t,n,{type:nA});return a.loopback=i,r.loopback=i,e.decisionMap[xu(t,o?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=i,Ot(c,i),o===void 0?(Ot(i,a),Ot(i,r)):(Ot(i,r),Ot(i,o.left),Ot(o.right,a)),{left:a,right:r}}function mA(e,t,n,s,o){let c=s.left,l=s.right,i=Zt(e,t,n,{type:v4e});Ta(e,i);let r=Zt(e,t,n,{type:nA}),a=Zt(e,t,n,{type:g4e});return i.loopback=a,r.loopback=a,Ot(i,c),Ot(i,r),Ot(l,a),o!==void 0?(Ot(a,r),Ot(a,o.left),Ot(o.right,c)):Ot(a,i),e.decisionMap[xu(t,o?"RepetitionWithSeparator":"Repetition",n.idx)]=i,{left:i,right:r}}function Z1e(e,t,n,s){let o=s.left,i=s.right;return Ot(o,i),e.decisionMap[xu(t,"Option",n.idx)]=o,s}function Ta(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function ku(s,o,e,n,...i){let t=Zt(s,o,n,{type:p4e,start:e});e.end=t;for(let n of i)n!==void 0?(Ot(e,n.left),Ot(n.right,t)):Ot(e,t);let a={left:e,right:t};return s.decisionMap[xu(o,t4e(n),n.idx)]=e,a}function t4e(e){if(e instanceof Gn)return"Alternation";if(e instanceof an)return"Option";if(e instanceof lt)return"Repetition";if(e instanceof ss)return"RepetitionWithSeparator";if(e instanceof Ns)return"RepetitionMandatory";if(e instanceof Ts)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function n4e(e,t){let n=t.length;for(let i=0;i<n-1;i++){let s=t[i],o;s.left.transitions.length===1&&(o=s.left.transitions[0]);let r=o instanceof Eb,c=o,a=t[i+1].left;s.left.type===hr&&s.right.type===hr&&o!==void 0&&(r&&c.followState===s.right||o.target===s.right)?(r?c.followState=a:o.target=a,l4e(e,s.right)):Ot(s.right,a)}let s=t[0],o=t[n-1];return{left:s.left,right:o.right}}function ub(e,t,n,s){let o=Zt(e,t,s,{type:hr}),i=Zt(e,t,s,{type:hr});return bb(o,new Cb(i,n)),{left:o,right:i}}function o4e(e,t,n){let s=n.referencedRule,a=e.ruleToStartState.get(s),o=Zt(e,t,n,{type:hr}),i=Zt(e,t,n,{type:hr}),r=new Eb(a,s,i);return bb(o,r),{left:o,right:i}}function i4e(e,t,n){let s=e.ruleToStartState.get(t);Ot(s,n.left);let o=e.ruleToStopState.get(t);return Ot(n.right,o),{left:s,right:o}}function Ot(e,t){let n=new Jk(t);bb(e,n)}function Zt(e,t,n,s){let o=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},s);return e.states.push(o),o}function bb(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function l4e(e,t){e.states.splice(e.states.indexOf(t),1)}x4e=n(()=>{"use strict";b1(),JV(),sl(),e(xu,"buildATNKey"),hr=1,u4e=2,iA=4,oA=5,m1=7,p4e=8,g4e=9,v4e=10,b4e=11,nA=12,xb=class{static{e(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},Cb=class extends xb{static{e(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},Jk=class extends xb{static{e(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},Eb=class extends xb{static{e(this,"RuleTransition")}constructor(e,t,n){super(e),this.rule=t,this.followState=n}isEpsilon(){return!0}},e(I1e,"createATN"),e(B1e,"createRuleStartAndStopATNStates"),e(gA,"atom"),e($1e,"repetition"),e(W1e,"repetitionSep"),e(U1e,"repetitionMandatory"),e(K1e,"repetitionMandatorySep"),e(q1e,"alternation"),e(Y1e,"option"),e(Wc,"block"),e(fA,"plus"),e(mA,"star"),e(Z1e,"optional"),e(Ta,"defineDecisionState"),e(ku,"makeAlts"),e(t4e,"getProdType"),e(n4e,"makeBlock"),e(ub,"tokenRef"),e(o4e,"ruleRef"),e(i4e,"buildRuleHandle"),e(Ot,"epsilon"),e(Zt,"newState"),e(bb,"addTransition"),e(l4e,"removeState")});function Qk(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}A4e=n(()=>{"use strict";b1(),g6={},Sb=class{static{e(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=Qk(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return C(this.configs,e=>e.alt)}get key(){let e="";for(let t in this.map)e+=t+":";return e}},e(Qk,"getATNConfigKey")});function S4e(e,t){let n={};return s=>{let i=s.toString(),o=n[i];return o!==void 0||(o={atnStartState:e,decision:t,states:{}},n[i]=o),o}}function Yk(e,t=!0){let n=new Set;for(let o of e){let s=new Set;for(let e of o){if(e===void 0){if(t)break;return!1}let i=[e.tokenTypeIdx].concat(e.categoryMatches);for(let e of i)if(n.has(e)){if(!s.has(e))return!1}else n.add(e),s.add(e)}}return!0}function F4e(e){let t=e.decisionStates.length,n=Array(t);for(let s=0;s<t;s++)n[s]=S4e(e.decisionStates[s],s);return n}function zb(e,t,n,s){let o=e[t](n),i=o.start;if(i===void 0){let e=K4e(o.atnStartState);i=Wk(o,Kk(e)),o.start=i}return z4e.apply(this,[o,i,n,s])}function z4e(e,t,n,s){let i=t,a=1,r=[],o=this.LA(a++);for(;;){let t=H4e(i,o);if(t===void 0&&(t=D4e.apply(this,[e,i,o,a,n,s])),t===g6)return P4e(r,i,o);if(t.isAcceptState===!0)return t.prediction;i=t,r.push(o),o=this.LA(a++)}}function D4e(e,t,n,s,o,i){let r=I4e(t.configs,n,o);if(r.size===0)return Uk(e,t,n,g6),g6;let a=Kk(r),c=V4e(r,o);if(c!==void 0)a.isAcceptState=!0,a.prediction=c,a.configs.uniqueAlt=c;else if(Q4e(r)){let t=uu(r.alts);a.isAcceptState=!0,a.prediction=t,a.configs.uniqueAlt=t,N4e.apply(this,[e,s,r.alts,i])}return a=Uk(e,t,n,a),a}function N4e(e,t,n,s){let o=[];for(let e=1;e<=t;e++)o.push(this.LA(e).tokenType);let i=e.atnStartState,a=i.rule,r=i.production,c=L4e({topLevelRule:a,ambiguityIndices:n,production:r,prefixPath:o});s(c)}function L4e(e){let n=C(e.prefixPath,e=>Pl(e)).join(", "),s=e.production.idx===0?"":e.production.idx,t=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${R4e(e.production)}${s}> inside <${e.topLevelRule.name}> Rule,
<${n}> may appears as a prefix path in all these alternatives.
`;return t=t+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,t}function R4e(e){if(e instanceof qn)return"SUBRULE";if(e instanceof an)return"OPTION";if(e instanceof Gn)return"OR";if(e instanceof Ns)return"AT_LEAST_ONE";if(e instanceof Ts)return"AT_LEAST_ONE_SEP";if(e instanceof ss)return"MANY_SEP";if(e instanceof lt)return"MANY";if(e instanceof Xe)return"CONSUME";throw Error("non exhaustive match")}function P4e(e,t,n){let s=ks(t.configs.elements,e=>e.state.transitions),o=uZ(s.filter(e=>e instanceof Cb).map(e=>e.tokenType),e=>e.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:o,tokenPath:e}}function H4e(e,t){return e.edges[t.tokenTypeIdx]}function I4e(e,t,n){let o=new Sb,i=[];for(let s of e.elements){if(n.is(s.alt)===!1)continue;if(s.state.type===m1){i.push(s);continue}let a=s.state.transitions.length;for(let e=0;e<a;e++){let i=s.state.transitions[e],n=B4e(i,t);n!==void 0&&o.add({state:n,alt:s.alt,stack:s.stack})}}let s;if(i.length===0&&o.size===1&&(s=o),s===void 0){s=new Sb;for(let e of o.elements)T6(e,s)}if(i.length>0&&!G4e(s))for(let e of i)s.add(e);return s}function B4e(e,t){if(e instanceof Cb&&WM(t,e.tokenType))return e.target}function V4e(e,t){let n;for(let s of e.elements)if(t.is(s.alt)===!0)if(n===void 0)n=s.alt;else if(n!==s.alt)return;return n}function Kk(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function Uk(e,t,n,s){return s=Wk(e,s),t.edges[n.tokenTypeIdx]=s,s}function Wk(e,t){if(t===g6)return t;let n=t.configs.key,s=e.states[n];return s!==void 0?s:(t.configs.finalize(),e.states[n]=t,t)}function K4e(e){let t=new Sb,n=e.transitions.length;for(let s=0;s<n;s++){let o={state:e.transitions[s].target,alt:s,stack:[]};T6(o,t)}return t}function T6(e,t){let n=e.state;if(n.type===m1){if(e.stack.length>0){let n=[...e.stack],s={state:n.pop(),alt:e.alt,stack:n};T6(s,t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);let s=n.transitions.length;for(let o=0;o<s;o++){let a=n.transitions[o],i=Y4e(e,a);i!==void 0&&T6(i,t)}}function Y4e(e,t){if(t instanceof Jk)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Eb){let n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}function G4e(e){for(let t of e.elements)if(t.state.type===m1)return!0;return!1}function X4e(e){for(let t of e.elements)if(t.state.type!==m1)return!1;return!0}function Q4e(e){if(X4e(e))return!0;let t=Z4e(e.elements);return J4e(t)&&!e0e(t)}function Z4e(e){let t=new Map;for(let s of e){let o=Qk(s,!1),n=t.get(o);n===void 0&&(n={},t.set(o,n)),n[s.alt]=!0}return t}function J4e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function e0e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}o0e=n(()=>{"use strict";sl(),x4e(),A4e(),cV(),RV(),hZ(),b1(),Pp(),hp(),Ep(),BB(),e(S4e,"createDFACache"),Ik=class{static{e(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let n=0;n<t;n++)e+=this.predicates[n]===!0?"1":"0";return e}},Hk=new Ik,s0e=class extends q9{static{e(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=(t=e?.logging)!==null&&t!==void 0?t:e=>console.log(e)}initialize(e){this.atn=I1e(e.rules),this.dfas=F4e(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:n,hasPredicates:s,dynamicTokensEnabled:c}=e,o=this.dfas,i=this.logging,l=xu(n,"Alternation",t),a=this.atn.decisionMap[l].decision,r=C(eM({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:n}),e=>C(e,e=>e[0]));if(Yk(r,!1)&&!c){let e=bt(r,(e,t,n)=>(f(t,t=>{t&&(e[t.tokenTypeIdx]=n,f(t.categoryMatches,t=>{e[t]=n}))}),e),{});return s?function(t){var n;let o=this.LA(1),s=e[o.tokenTypeIdx];if(t!==void 0&&s!==void 0){let e=(n=t[s])===null||n===void 0?void 0:n.GATE;if(e!==void 0&&e.call(this)===!1)return}return s}:function(){let t=this.LA(1);return e[t.tokenTypeIdx]}}return s?function(e){let t=new Ik,s=e===void 0?0:e.length;for(let n=0;n<s;n++){let o=e?.[n].GATE;t.set(n,o===void 0||o.call(this))}let n=zb.call(this,o,a,t,i);return typeof n=="number"?n:void 0}:function(){let e=zb.call(this,o,a,Hk,i);return typeof e=="number"?e:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:n,rule:s,prodType:o,dynamicTokensEnabled:i}=e,a=this.dfas,r=this.logging,c=xu(s,o,n),l=this.atn.decisionMap[c].decision,t=C(eM({maxLookahead:1,occurrence:n,prodType:o,rule:s}),e=>C(e,e=>e[0]));if(Yk(t)&&t[0][0]&&!i){let n=t[0],e=Xt(n);if(e.length===1&&Ae(e[0].categoryMatches)){let t=e[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===t}}let s=bt(e,(e,t)=>(t!==void 0&&(e[t.tokenTypeIdx]=!0,f(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){let e=this.LA(1);return s[e.tokenTypeIdx]===!0}}return function(){let e=zb.call(this,a,l,Hk,r);return typeof e!="object"&&e===0}}},e(Yk,"isLL1Sequence"),e(F4e,"initATNSimulator"),e(zb,"adaptivePredict"),e(z4e,"performLookahead"),e(D4e,"computeLookaheadTarget"),e(N4e,"reportLookaheadAmbiguity"),e(L4e,"buildAmbiguityError"),e(R4e,"getProductionDslName"),e(P4e,"buildAdaptivePredictError"),e(H4e,"getExistingTargetState"),e(I4e,"computeReachSet"),e(B4e,"getReachableTarget"),e(V4e,"getUniqueAlt"),e(Kk,"newDFAState"),e(Uk,"addDFAEdge"),e(Wk,"addDFAState"),e(K4e,"computeStartState"),e(T6,"closure"),e(Y4e,"getEpsilonTarget"),e(G4e,"hasConfigInRuleStopState"),e(X4e,"allConfigsInRuleStopStates"),e(Q4e,"hasConflictTerminatingPrediction"),e(Z4e,"getConflictingAltSets"),e(J4e,"hasConflictingAltSet"),e(e0e,"hasStateAssociatedWithOneAlt")}),i0e=n(()=>{"use strict";o0e()}),TE=n(()=>{"use strict";(function(t){function n(e){return typeof e=="string"}e(n,"is"),t.is=n})(a0e||(a0e={})),function(t){function n(e){return typeof e=="string"}e(n,"is"),t.is=n}(Pk||(Pk={})),function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function n(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}e(n,"is"),t.is=n}(c0e||(c0e={})),function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function n(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}e(n,"is"),t.is=n}(Ub||(Ub={})),function(t){function n(e,t){return e===Number.MAX_VALUE&&(e=Ub.MAX_VALUE),t===Number.MAX_VALUE&&(t=Ub.MAX_VALUE),{line:e,character:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&v.uinteger(t.line)&&v.uinteger(t.character)}e(s,"is"),t.is=s}(Re||(Re={})),function(t){function n(e,t,n,s){if(v.uinteger(e)&&v.uinteger(t)&&v.uinteger(n)&&v.uinteger(s))return{start:Re.create(e,t),end:Re.create(n,s)};if(Re.is(e)&&Re.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${n}, ${s}]`)}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&Re.is(t.start)&&Re.is(t.end)}e(s,"is"),t.is=s}(xe||(xe={})),function(t){function n(e,t){return{uri:e,range:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&xe.is(t.range)&&(v.string(t.uri)||v.undefined(t.uri))}e(s,"is"),t.is=s}(qb||(qb={})),function(t){function n(e,t,n,s){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:s}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&xe.is(t.targetRange)&&v.string(t.targetUri)&&xe.is(t.targetSelectionRange)&&(xe.is(t.originSelectionRange)||v.undefined(t.originSelectionRange))}e(s,"is"),t.is=s}(m0e||(m0e={})),function(t){function n(e,t,n,s){return{red:e,green:t,blue:n,alpha:s}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&v.numberRange(t.red,0,1)&&v.numberRange(t.green,0,1)&&v.numberRange(t.blue,0,1)&&v.numberRange(t.alpha,0,1)}e(s,"is"),t.is=s}(Sk||(Sk={})),function(t){function n(e,t){return{range:e,color:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&xe.is(t.range)&&Sk.is(t.color)}e(s,"is"),t.is=s}(p0e||(p0e={})),function(t){function n(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&v.string(t.label)&&(v.undefined(t.textEdit)||d1.is(t))&&(v.undefined(t.additionalTextEdits)||v.typedArray(t.additionalTextEdits,d1.is))}e(s,"is"),t.is=s}(g0e||(g0e={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(v0e||(v0e={})),function(t){function n(e,t,n,s,o,i){let a={startLine:e,endLine:t};return v.defined(n)&&(a.startCharacter=n),v.defined(s)&&(a.endCharacter=s),v.defined(o)&&(a.kind=o),v.defined(i)&&(a.collapsedText=i),a}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&v.uinteger(t.startLine)&&v.uinteger(t.startLine)&&(v.undefined(t.startCharacter)||v.uinteger(t.startCharacter))&&(v.undefined(t.endCharacter)||v.uinteger(t.endCharacter))&&(v.undefined(t.kind)||v.string(t.kind))}e(s,"is"),t.is=s}(b0e||(b0e={})),function(t){function n(e,t){return{location:e,message:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&qb.is(t.location)&&v.string(t.message)}e(s,"is"),t.is=s}(kk||(kk={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(y0e||(y0e={})),function(e){e.Unnecessary=1,e.Deprecated=2}(_0e||(_0e={})),function(t){function n(e){let t=e;return v.objectLiteral(t)&&v.string(t.href)}e(n,"is"),t.is=n}(w0e||(w0e={})),function(t){function n(e,t,n,s,o,i){let a={range:e,message:t};return v.defined(n)&&(a.severity=n),v.defined(s)&&(a.code=s),v.defined(o)&&(a.source=o),v.defined(i)&&(a.relatedInformation=i),a}e(n,"create"),t.create=n;function s(e){var n;let t=e;return v.defined(t)&&xe.is(t.range)&&v.string(t.message)&&(v.number(t.severity)||v.undefined(t.severity))&&(v.integer(t.code)||v.string(t.code)||v.undefined(t.code))&&(v.undefined(t.codeDescription)||v.string((n=t.codeDescription)===null||n===void 0?void 0:n.href))&&(v.string(t.source)||v.undefined(t.source))&&(v.undefined(t.relatedInformation)||v.typedArray(t.relatedInformation,kk.is))}e(s,"is"),t.is=s}(Yb||(Yb={})),function(t){function n(n,s,...e){let t={title:n,command:s};return v.defined(e)&&e.length>0&&(t.arguments=e),t}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.string(t.title)&&v.string(t.command)}e(s,"is"),t.is=s}(l1||(l1={})),function(t){function n(e,t){return{range:e,newText:t}}e(n,"replace"),t.replace=n;function s(e,t){return{range:{start:e,end:e},newText:t}}e(s,"insert"),t.insert=s;function o(e){return{range:e,newText:""}}e(o,"del"),t.del=o;function i(e){let t=e;return v.objectLiteral(t)&&v.string(t.newText)&&xe.is(t.range)}e(i,"is"),t.is=i}(d1||(d1={})),function(t){function n(e,t,n){let s={label:e};return t!==void 0&&(s.needsConfirmation=t),n!==void 0&&(s.description=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&v.string(t.label)&&(v.boolean(t.needsConfirmation)||t.needsConfirmation===void 0)&&(v.string(t.description)||t.description===void 0)}e(s,"is"),t.is=s}(wk||(wk={})),function(t){function n(e){let t=e;return v.string(t)}e(n,"is"),t.is=n}(u1||(u1={})),function(t){function n(e,t,n){return{range:e,newText:t,annotationId:n}}e(n,"replace"),t.replace=n;function s(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}}e(s,"insert"),t.insert=s;function o(e,t){return{range:e,newText:"",annotationId:t}}e(o,"del"),t.del=o;function i(e){let t=e;return d1.is(t)&&(wk.is(t.annotationId)||u1.is(t.annotationId))}e(i,"is"),t.is=i}(A0e||(A0e={})),function(t){function n(e,t){return{textDocument:e,edits:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&YE.is(t.textDocument)&&Array.isArray(t.edits)}e(s,"is"),t.is=s}(jk||(jk={})),function(t){function n(e,t,n){let s={kind:"create",uri:e};return t!==void 0&&(t.overwrite!==void 0||t.ignoreIfExists!==void 0)&&(s.options=t),n!==void 0&&(s.annotationId=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return t&&t.kind==="create"&&v.string(t.uri)&&(t.options===void 0||(t.options.overwrite===void 0||v.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||v.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||u1.is(t.annotationId))}e(s,"is"),t.is=s}(bk||(bk={})),function(t){function n(e,t,n,s){let o={kind:"rename",oldUri:e,newUri:t};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(o.options=n),s!==void 0&&(o.annotationId=s),o}e(n,"create"),t.create=n;function s(e){let t=e;return t&&t.kind==="rename"&&v.string(t.oldUri)&&v.string(t.newUri)&&(t.options===void 0||(t.options.overwrite===void 0||v.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===void 0||v.boolean(t.options.ignoreIfExists)))&&(t.annotationId===void 0||u1.is(t.annotationId))}e(s,"is"),t.is=s}(vk||(vk={})),function(t){function n(e,t,n){let s={kind:"delete",uri:e};return t!==void 0&&(t.recursive!==void 0||t.ignoreIfNotExists!==void 0)&&(s.options=t),n!==void 0&&(s.annotationId=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return t&&t.kind==="delete"&&v.string(t.uri)&&(t.options===void 0||(t.options.recursive===void 0||v.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===void 0||v.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===void 0||u1.is(t.annotationId))}e(s,"is"),t.is=s}(hk||(hk={})),function(t){function n(e){let t=e;return t&&(t.changes!==void 0||t.documentChanges!==void 0)&&(t.documentChanges===void 0||t.documentChanges.every(e=>v.string(e.kind)?bk.is(e)||vk.is(e)||hk.is(e):jk.is(e)))}e(n,"is"),t.is=n}(QE||(QE={})),function(t){function n(e){return{uri:e}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.string(t.uri)}e(s,"is"),t.is=s}(D0e||(D0e={})),function(t){function n(e,t){return{uri:e,version:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.string(t.uri)&&v.integer(t.version)}e(s,"is"),t.is=s}(N0e||(N0e={})),function(t){function n(e,t){return{uri:e,version:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.string(t.uri)&&(t.version===null||v.integer(t.version))}e(s,"is"),t.is=s}(YE||(YE={})),function(t){function n(e,t,n,s){return{uri:e,languageId:t,version:n,text:s}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.string(t.uri)&&v.string(t.languageId)&&v.integer(t.version)&&v.string(t.text)}e(s,"is"),t.is=s}(R0e||(R0e={})),function(t){t.PlainText="plaintext",t.Markdown="markdown";function n(e){let n=e;return n===t.PlainText||n===t.Markdown}e(n,"is"),t.is=n}(qE||(qE={})),function(t){function n(e){let t=e;return v.objectLiteral(e)&&qE.is(t.kind)&&v.string(t.value)}e(n,"is"),t.is=n}(Nf||(Nf={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(I0e||(I0e={})),function(e){e.PlainText=1,e.Snippet=2}(B0e||(B0e={})),function(e){e.Deprecated=1}(V0e||(V0e={})),function(t){function n(e,t,n){return{newText:e,insert:t,replace:n}}e(n,"create"),t.create=n;function s(e){let t=e;return t&&v.string(t.newText)&&xe.is(t.insert)&&xe.is(t.replace)}e(s,"is"),t.is=s}($0e||($0e={})),function(e){e.asIs=1,e.adjustIndentation=2}(W0e||(W0e={})),function(t){function n(e){let t=e;return t&&(v.string(t.detail)||t.detail===void 0)&&(v.string(t.description)||t.description===void 0)}e(n,"is"),t.is=n}(U0e||(U0e={})),function(t){function n(e){return{label:e}}e(n,"create"),t.create=n}(K0e||(K0e={})),function(t){function n(e,t){return{items:e||[],isIncomplete:!!t}}e(n,"create"),t.create=n}(q0e||(q0e={})),function(t){function n(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e(n,"fromPlainText"),t.fromPlainText=n;function s(e){let t=e;return v.string(t)||v.objectLiteral(t)&&v.string(t.language)&&v.string(t.value)}e(s,"is"),t.is=s}(nj||(nj={})),function(t){function n(e){let t=e;return!!t&&v.objectLiteral(t)&&(Nf.is(t.contents)||nj.is(t.contents)||v.typedArray(t.contents,nj.is))&&(e.range===void 0||xe.is(e.range))}e(n,"is"),t.is=n}(G0e||(G0e={})),function(t){function n(e,t){return t?{label:e,documentation:t}:{label:e}}e(n,"create"),t.create=n}(X0e||(X0e={})),function(t){function n(s,t,...n){let e={label:s};return v.defined(t)&&(e.documentation=t),v.defined(n)?e.parameters=n:e.parameters=[],e}e(n,"create"),t.create=n}(Q0e||(Q0e={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Z0e||(Z0e={})),function(t){function n(e,t){let n={range:e};return v.number(t)&&(n.kind=t),n}e(n,"create"),t.create=n}(J0e||(J0e={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(e2e||(e2e={})),function(e){e.Deprecated=1}(t2e||(t2e={})),function(t){function n(e,t,n,s,o){let i={name:e,kind:t,location:{uri:s,range:n}};return o&&(i.containerName=o),i}e(n,"create"),t.create=n}(n2e||(n2e={})),function(t){function n(e,t,n,s){return s!==void 0?{name:e,kind:t,location:{uri:n,range:s}}:{name:e,kind:t,location:{uri:n}}}e(n,"create"),t.create=n}(s2e||(s2e={})),function(t){function n(e,t,n,s,o,i){let a={name:e,detail:t,kind:n,range:s,selectionRange:o};return i!==void 0&&(a.children=i),a}e(n,"create"),t.create=n;function s(e){let t=e;return t&&v.string(t.name)&&v.number(t.kind)&&xe.is(t.range)&&xe.is(t.selectionRange)&&(t.detail===void 0||v.string(t.detail))&&(t.deprecated===void 0||v.boolean(t.deprecated))&&(t.children===void 0||Array.isArray(t.children))&&(t.tags===void 0||Array.isArray(t.tags))}e(s,"is"),t.is=s}(o2e||(o2e={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(i2e||(i2e={})),function(e){e.Invoked=1,e.Automatic=2}(sj||(sj={})),function(t){function n(e,t,n){let s={diagnostics:e};return t!=null&&(s.only=t),n!=null&&(s.triggerKind=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.typedArray(t.diagnostics,Yb.is)&&(t.only===void 0||v.typedArray(t.only,v.string))&&(t.triggerKind===void 0||t.triggerKind===sj.Invoked||t.triggerKind===sj.Automatic)}e(s,"is"),t.is=s}(r2e||(r2e={})),function(t){function n(e,t,n){let s={title:e},o=!0;return typeof t=="string"?(o=!1,s.kind=t):l1.is(t)?s.command=t:s.edit=t,o&&n!==void 0&&(s.kind=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return t&&v.string(t.title)&&(t.diagnostics===void 0||v.typedArray(t.diagnostics,Yb.is))&&(t.kind===void 0||v.string(t.kind))&&(t.edit!==void 0||t.command!==void 0)&&(t.command===void 0||l1.is(t.command))&&(t.isPreferred===void 0||v.boolean(t.isPreferred))&&(t.edit===void 0||QE.is(t.edit))}e(s,"is"),t.is=s}(c2e||(c2e={})),function(t){function n(e,t){let n={range:e};return v.defined(t)&&(n.data=t),n}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&xe.is(t.range)&&(v.undefined(t.command)||l1.is(t.command))}e(s,"is"),t.is=s}(l2e||(l2e={})),function(t){function n(e,t){return{tabSize:e,insertSpaces:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&v.uinteger(t.tabSize)&&v.boolean(t.insertSpaces)}e(s,"is"),t.is=s}(d2e||(d2e={})),function(t){function n(e,t,n){return{range:e,target:t,data:n}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&xe.is(t.range)&&(v.undefined(t.target)||v.string(t.target))}e(s,"is"),t.is=s}(u2e||(u2e={})),function(t){function n(e,t){return{range:e,parent:t}}e(n,"create"),t.create=n;function s(e){let n=e;return v.objectLiteral(n)&&xe.is(n.range)&&(n.parent===void 0||t.is(n.parent))}e(s,"is"),t.is=s}(h2e||(h2e={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(m2e||(m2e={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(f2e||(f2e={})),function(t){function n(e){let t=e;return v.objectLiteral(t)&&(t.resultId===void 0||typeof t.resultId=="string")&&Array.isArray(t.data)&&(t.data.length===0||typeof t.data[0]=="number")}e(n,"is"),t.is=n}(p2e||(p2e={})),function(t){function n(e,t){return{range:e,text:t}}e(n,"create"),t.create=n;function s(e){let t=e;return t!=null&&xe.is(t.range)&&v.string(t.text)}e(s,"is"),t.is=s}(g2e||(g2e={})),function(t){function n(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}}e(n,"create"),t.create=n;function s(e){let t=e;return t!=null&&xe.is(t.range)&&v.boolean(t.caseSensitiveLookup)&&(v.string(t.variableName)||t.variableName===void 0)}e(s,"is"),t.is=s}(v2e||(v2e={})),function(t){function n(e,t){return{range:e,expression:t}}e(n,"create"),t.create=n;function s(e){let t=e;return t!=null&&xe.is(t.range)&&(v.string(t.expression)||t.expression===void 0)}e(s,"is"),t.is=s}(b2e||(b2e={})),function(t){function n(e,t){return{frameId:e,stoppedLocation:t}}e(n,"create"),t.create=n;function s(e){let t=e;return v.defined(t)&&xe.is(e.stoppedLocation)}e(s,"is"),t.is=s}(j2e||(j2e={})),function(t){t.Type=1,t.Parameter=2;function n(e){return e===1||e===2}e(n,"is"),t.is=n}(IE||(IE={})),function(t){function n(e){return{value:e}}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&(t.tooltip===void 0||v.string(t.tooltip)||Nf.is(t.tooltip))&&(t.location===void 0||qb.is(t.location))&&(t.command===void 0||l1.is(t.command))}e(s,"is"),t.is=s}(LE||(LE={})),function(t){function n(e,t,n){let s={position:e,label:t};return n!==void 0&&(s.kind=n),s}e(n,"create"),t.create=n;function s(e){let t=e;return v.objectLiteral(t)&&Re.is(t.position)&&(v.string(t.label)||v.typedArray(t.label,LE.is))&&(t.kind===void 0||IE.is(t.kind))&&t.textEdits===void 0||v.typedArray(t.textEdits,d1.is)&&(t.tooltip===void 0||v.string(t.tooltip)||Nf.is(t.tooltip))&&(t.paddingLeft===void 0||v.boolean(t.paddingLeft))&&(t.paddingRight===void 0||v.boolean(t.paddingRight))}e(s,"is"),t.is=s}(w2e||(w2e={})),function(t){function n(e){return{kind:"snippet",value:e}}e(n,"createSnippet"),t.createSnippet=n}(O2e||(O2e={})),function(t){function n(e,t,n,s){return{insertText:e,filterText:t,range:n,command:s}}e(n,"create"),t.create=n}(x2e||(x2e={})),function(t){function n(e){return{items:e}}e(n,"create"),t.create=n}(C2e||(C2e={})),function(e){e.Invoked=0,e.Automatic=1}(E2e||(E2e={})),function(t){function n(e,t){return{range:e,text:t}}e(n,"create"),t.create=n}(k2e||(k2e={})),function(t){function n(e,t){return{triggerKind:e,selectedCompletionInfo:t}}e(n,"create"),t.create=n}(A2e||(A2e={})),function(t){function n(e){let t=e;return v.objectLiteral(t)&&Pk.is(t.uri)&&v.string(t.name)}e(n,"is"),t.is=n}(S2e||(S2e={})),function(t){function s(e,t,n,s){return new F2e(e,t,n,s)}e(s,"create"),t.create=s;function o(e){let t=e;return!!(v.defined(t)&&v.string(t.uri)&&(v.undefined(t.languageId)||v.string(t.languageId))&&v.uinteger(t.lineCount)&&v.func(t.getText)&&v.func(t.positionAt)&&v.func(t.offsetAt))}e(o,"is"),t.is=o;function i(e,t){let s=e.getText(),o=n(t,(e,t)=>{let n=e.range.start.line-t.range.start.line;return n===0?e.range.start.character-t.range.start.character:n}),i=s.length;for(let t=o.length-1;t>=0;t--){let n=o[t],a=e.offsetAt(n.range.start),r=e.offsetAt(n.range.end);if(r<=i)s=s.substring(0,a)+n.newText+s.substring(r,s.length);else throw new Error("Overlapping edit");i=a}return s}e(i,"applyEdits"),t.applyEdits=i;function n(e,t){if(e.length<=1)return e;let c=e.length/2|0,s=e.slice(0,c),o=e.slice(c);n(s,t),n(o,t);let i=0,a=0,r=0;for(;i<s.length&&a<o.length;)t(s[i],o[a])<=0?e[r++]=s[i++]:e[r++]=o[a++];for(;i<s.length;)e[r++]=s[i++];for(;a<o.length;)e[r++]=o[a++];return e}e(n,"mergeSort")}(M2e||(M2e={})),F2e=class{static{e(this,"FullTextDocument")}constructor(e,t,n,s){this._uri=e,this._languageId=t,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let n=[],e=this._content,t=!0;for(let s=0;s<e.length;s++){t&&(n.push(s),t=!1);let o=e.charAt(s);t=o==="\r"||o===`
`,o==="\r"&&s+1<e.length&&e.charAt(s+1)===`
`&&s++}t&&e.length>0&&n.push(e.length),this._lineOffsets=n}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let s=this.getLineOffsets(),t=0,n=s.length;if(n===0)return Re.create(0,e);for(;t<n;){let o=Math.floor((t+n)/2);s[o]>e?n=o:t=o+1}let o=t-1;return Re.create(o,e-s[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],s=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,s),n)}get lineCount(){return this.getLineOffsets().length}},function(t){let n=Object.prototype.toString;function s(e){return typeof e<"u"}e(s,"defined"),t.defined=s;function o(e){return typeof e>"u"}e(o,"undefined"),t.undefined=o;function i(e){return e===!0||e===!1}e(i,"boolean"),t.boolean=i;function a(e){return n.call(e)==="[object String]"}e(a,"string"),t.string=a;function r(e){return n.call(e)==="[object Number]"}e(r,"number"),t.number=r;function c(e,t,s){return n.call(e)==="[object Number]"&&t<=e&&e<=s}e(c,"numberRange"),t.numberRange=c;function l(e){return n.call(e)==="[object Number]"&&-2147483648<=e&&e<=2147483647}e(l,"integer"),t.integer=l;function d(e){return n.call(e)==="[object Number]"&&0<=e&&e<=2147483647}e(d,"uinteger"),t.uinteger=d;function u(e){return n.call(e)==="[object Function]"}e(u,"func"),t.func=u;function h(e){return e!==null&&typeof e=="object"}e(h,"objectLiteral"),t.objectLiteral=h;function m(e,t){return Array.isArray(e)&&e.every(t)}e(m,"typedArray"),t.typedArray=m}(v||(v={}))}),cj=n(()=>{"use strict";TE(),ni(),FE=class{static{e(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new aj(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new Sf;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let n=new zf(e.startOffset,e.image.length,mm(e),e.tokenType,!t);return n.grammarSource=t,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){let t=e.container;if(t){let n=t.content.indexOf(e);n>=0&&t.content.splice(n,1)}}addHiddenNodes(e){let n=[];for(let t of e){let s=new zf(t.startOffset,t.image.length,mm(t),t.tokenType,!0);s.root=this.rootNode,n.push(s)}let t=this.current,s=!1;if(t.content.length>0){t.content.push(...n);return}for(;t.container;){let e=t.container.content.indexOf(t);if(e>0){t.container.content.splice(e,0,...n),s=!0;break}t=t.container}s||this.rootNode.content.unshift(...n)}construct(e){let n=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=n;let t=this.nodeStack.pop();t?.content.length===0&&this.removeNode(t)}},ij=class{static{e(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(t=this.container)===null||t===void 0?void 0:t.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},zf=class extends ij{static{e(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,n,s,o=!1){super(),this._hidden=o,this._offset=e,this._tokenType=s,this._length=t,this._range=n}},Sf=class extends ij{static{e(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new P2e(this)}get children(){return this.content}get offset(){var e,t;return(t=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:0}get length(){return this.end-this.offset}get end(){var e,t;return(t=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&t!==void 0?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(this._rangeCache===void 0){let{range:n}=e,{range:s}=t;this._rangeCache={start:n.start,end:s.end.line<n.start.line?n.start:s.end}}return this._rangeCache}return{start:Re.create(0,0),end:Re.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},P2e=class t extends Array{static{e(this,"CstNodeContainer")}constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,t.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(t,n,...e){return this.addParents(e),super.splice(t,n,...e)}addParents(e){for(let t of e)t.container=this.parent}},aj=class extends Sf{static{e(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}});function lj(e){return e.$type===bf}q8=n(()=>{"use strict";sl(),i0e(),zi(),ci(),Xn(),cj(),bf=Symbol("Datatype"),e(lj,"isDataTypeNode"),pE="​",mE=e(e=>e.endsWith(pE)?e:e+pE,"withRuleSuffix"),dj=class{static{e(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition,n=e.LanguageMetaData.mode==="production";this.wrapper=new Q2e(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},aE=class extends dj{static{e(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new FE,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let s=this.computeRuleType(e),n=this.wrapper.DEFINE_RULE(mE(e.name),this.startImplementation(s,t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}computeRuleType(e){if(!e.fragment){if(M2(e))return bf;{let t=x2(e);return t??e.name}}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);let n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;let s=t.rule?this.allRules.get(t.rule):this.mainRule;if(!s)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");let o=s.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:o,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return n=>{let o=!this.isRecording()&&e!==void 0;if(o){let t={$type:e};this.stack.push(t),e===bf&&(t.value="")}let s;try{s=t(n)}catch{s=void 0}return s===void 0&&o&&(s=this.construct()),s}}extractHiddenTokens(e){let t=this.lexerResult.hidden;if(!t.length)return[];let n=e.startOffset;for(let e=0;e<t.length;e++)if(t[e].startOffset>n)return t.splice(0,e);return t.splice(0,t.length)}consume(e,t,n){let s=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(s)){let i=this.extractHiddenTokens(s);this.nodeBuilder.addHiddenNodes(i);let e=this.nodeBuilder.buildLeafNode(s,n),{assignment:t,isCrossRef:a}=this.getAssignment(n),o=this.current;if(t){let o=Tr(n)?s.image:this.converter.convert(s.image,e);this.assign(t.operator,t.feature,o,e,a)}else if(lj(o)){let t=s.image;Tr(n)||(t=this.converter.convert(t,e).toString()),o.value+=t}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,t,n,s,o){let i;!this.isRecording()&&!n&&(i=this.nodeBuilder.buildCompositeNode(s));let a=this.wrapper.wrapSubrule(e,t,o);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(a,s,i)}performSubruleAssignment(e,t,n){let{assignment:s,isCrossRef:o}=this.getAssignment(t);if(s)this.assign(s.operator,s.feature,e,n,o);else if(!s){let t=this.current;if(lj(t))t.value+=e.toString();else if(typeof e=="object"&&e){let n=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(n)}}}action(e,t){if(!this.isRecording()){let n=this.current;if(t.feature&&t.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(t).content.push(n.$cstNode);let s={$type:e};this.stack.push(s),this.assign(t.operator,t.feature,n,n.$cstNode,!1)}else n.$type=e}}construct(){if(this.isRecording())return;let e=this.current;return e7(e),this.nodeBuilder.construct(e),this.stack.pop(),lj(e)?this.converter.convert(e.value,e.$cstNode):(GN(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=P0(e,yr);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&qh(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,n,s,o){let i=this.current,a;switch(o&&typeof n=="string"?a=this.linker.buildReference(i,t,s,n):a=n,e){case"=":{i[t]=a;break}case"?=":{i[t]=!0;break}case"+=":Array.isArray(i[t])||(i[t]=[]),i[t].push(a)}}assignWithoutOverride(e,t){for(let[s,n]of Object.entries(t)){let o=e[s];o===void 0?e[s]=n:Array.isArray(o)&&Array.isArray(n)&&(n.push(...o),e[s]=n)}let n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},sE=class{static{e(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return Xl.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Xl.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Xl.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Xl.buildEarlyExitMessage(e)}},hj=class extends sE{static{e(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},QC=class extends dj{static{e(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let n=this.wrapper.DEFINE_RULE(mE(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let n=this.keepStackSize();try{e(t)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,n){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,n,s,o){this.before(s),this.wrapper.wrapSubrule(e,t,o),this.after(s)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},X2e={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new hj},Q2e=class extends T1e{static{e(this,"ChevrotainWrapper")}constructor(e,t){let n=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},X2e),{lookaheadStrategy:n?new q9({maxLookahead:t.maxLookahead}):new s0e({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,n){return this.subrule(e,t,{ARGS:[n]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}});function fj(e,t,n){return e3e({parser:t,tokens:n,ruleNames:new Map},e),t}function e3e(e,t){let n=C7(t,!1),s=yt(t.rules).filter(xs).filter(e=>n.has(e));for(let t of s){let n=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(t,hc(n,t.definition))}}function hc(t,n,s=!1){let o;if(Tr(n))o=u3e(t,n);else if(qr(n))o=n3e(t,n);else if(yr(n))o=hc(t,n.terminal);else if(qh(n))o=UC(t,n);else if(ya(n))o=s3e(t,n);else if(w5(n))o=a3e(t,n);else if(A5(n))o=r3e(t,n);else if(sd(n))o=c3e(t,n);else if(bR(n)){let s=t.consume++;o=e(()=>t.parser.consume(s,dr,n),"method")}else throw new om(n.$cstNode,`Unexpected element type: ${n.$type}`);return WC(t,s?void 0:I8(n),o,n.cardinality)}function n3e(e,t){let n=k2(t);return()=>e.parser.action(n,t)}function s3e(e,t){let n=t.rule.ref;if(xs(n)){let s=e.subrule++,o=n.fragment,i=t.arguments.length>0?o3e(n,t.arguments):()=>({});return a=>e.parser.subrule(s,$C(e,n),o,t,i(a))}if(Qi(n)){let s=e.consume++,o=gj(e,n.name);return()=>e.parser.consume(s,o,t)}if(n)ec(n);else throw new om(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function o3e(e,t){let n=t.map(e=>da(e.value));return t=>{let s={};for(let o=0;o<n.length;o++){let i=e.parameters[o],a=n[o];s[i.name]=a(t)}return s}}function da(e){if(NR(e)){let t=da(e.left),n=da(e.right);return e=>t(e)||n(e)}if(LR(e)){let t=da(e.left),n=da(e.right);return e=>t(e)&&n(e)}if(TR(e)){let t=da(e.value);return e=>!t(e)}if(FR(e)){let t=e.parameter.ref.name;return e=>e!==void 0&&e[t]===!0}if(RR(e)){let t=!!e.true;return()=>t}ec(e)}function a3e(t,n){if(n.elements.length===1)return hc(t,n.elements[0]);{let s=[];for(let e of n.elements){let o={ALT:hc(t,e,!0)},i=I8(e);i&&(o.GATE=da(i)),s.push(o)}let o=t.or++;return n=>t.parser.alternatives(o,s.map(t=>{let s={ALT:e(()=>t.ALT(n),"ALT")},o=t.GATE;return o&&(s.GATE=()=>o(n)),s}))}}function r3e(t,n){if(n.elements.length===1)return hc(t,n.elements[0]);let i=[];for(let e of n.elements){let s={ALT:hc(t,e,!0)},o=I8(e);o&&(s.GATE=da(o)),i.push(s)}let s=t.or++,o=e((e,t)=>{let n=t.getRuleStack().join("-");return`uGroup_${e}_${n}`},"idFunc"),a=e(n=>t.parser.alternatives(s,i.map((i,a)=>{let c={ALT:e(()=>!0,"ALT")},r=t.parser;c.ALT=()=>{if(i.ALT(n),!r.isRecording()){let e=o(s,r);r.unorderedGroups.get(e)||r.unorderedGroups.set(e,[]);let t=r.unorderedGroups.get(e);typeof t?.[a]>"u"&&(t[a]=!0)}};let l=i.GATE;return l?c.GATE=()=>l(n):c.GATE=()=>{let e=r.unorderedGroups.get(o(s,r));return!e?.[a]},c})),"alternatives"),r=WC(t,I8(n),a,"*");return e=>{r(e),t.parser.isRecording()||t.parser.unorderedGroups.delete(o(s,t.parser))}}function c3e(e,t){let n=t.elements.map(t=>hc(e,t));return e=>n.forEach(t=>t(e))}function I8(e){if(sd(e))return e.guardCondition}function UC(e,t,n=t.terminal){if(n)if(ya(n)&&xs(n.rule.ref)){let s=n.rule.ref,o=e.subrule++;return n=>e.parser.subrule(o,$C(e,s),!1,t,n)}else if(ya(n)&&Qi(n.rule.ref)){let s=e.consume++,o=gj(e,n.rule.ref.name);return()=>e.parser.consume(s,o,t)}else if(Tr(n)){let s=e.consume++,o=gj(e,n.value);return()=>e.parser.consume(s,o,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let s=Z7(t.type.ref),n=s?.terminal;if(!n)throw new Error("Could not find name assignment for type: "+k2(t.type.ref));return UC(e,t,n)}}function u3e(e,t){let s=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(s,n,t)}function WC(t,n,s,o){let i=n&&da(n);if(!o)if(i){let n=t.or++;return o=>t.parser.alternatives(n,[{ALT:e(()=>s(o),"ALT"),GATE:e(()=>i(o),"GATE")},{ALT:BA(),GATE:e(()=>!i(o),"GATE")}])}else return s;if(o==="*"){let n=t.many++;return o=>t.parser.many(n,{DEF:e(()=>s(o),"DEF"),GATE:i?()=>i(o):void 0})}if(o==="+"){let n=t.many++;if(i){let o=t.or++;return a=>t.parser.alternatives(o,[{ALT:e(()=>t.parser.atLeastOne(n,{DEF:e(()=>s(a),"DEF")}),"ALT"),GATE:e(()=>i(a),"GATE")},{ALT:BA(),GATE:e(()=>!i(a),"GATE")}])}return o=>t.parser.atLeastOne(n,{DEF:e(()=>s(o),"DEF")})}else if(o==="?"){let n=t.optional++;return o=>t.parser.optional(n,{DEF:e(()=>s(o),"DEF"),GATE:i?()=>i(o):void 0})}else ec(o)}function $C(e,t){let n=f3e(e,t),s=e.parser.getRule(n);if(!s)throw new Error(`Rule "${n}" not found."`);return s}function f3e(e,t){if(xs(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let o=t,n=o.$container,s=t.$type;for(;!xs(n);)(sd(n)||w5(n)||A5(n))&&(s=n.elements.indexOf(o).toString()+":"+s),o=n,n=n.$container;return s=n.name+":"+s,e.ruleNames.set(t,s),s}}function gj(e,t){let n=e.tokens[t];if(!n)throw new Error(`Token "${t}" not found."`);return n}vj=n(()=>{"use strict";sl(),zi(),p5(),Ms(),ci(),e(fj,"createParser"),e(e3e,"buildRules"),e(hc,"buildElement"),e(n3e,"buildAction"),e(s3e,"buildRuleCall"),e(o3e,"buildRuleCallPredicate"),e(da,"buildPredicate"),e(a3e,"buildAlternatives"),e(r3e,"buildUnorderedGroup"),e(c3e,"buildGroup"),e(I8,"getGuardCondition"),e(UC,"buildCrossReference"),e(u3e,"buildKeyword"),e(WC,"wrap"),e($C,"getRule"),e(f3e,"getRuleName"),e(gj,"getToken")});function NC(e){let n=e.Grammar,s=e.parser.Lexer,t=new QC(e);return fj(n,t,s.definition),t.finalize(),t}DC=n(()=>{"use strict";q8(),vj(),e(NC,"createCompletionParser")});function zC(e){let t=TC(e);return t.finalize(),t}function TC(e){let t=e.Grammar,n=e.parser.Lexer,s=new aE(e);return fj(t,s,n.definition)}SC=n(()=>{"use strict";q8(),vj(),e(zC,"createLangiumParser"),e(TC,"prepareLangiumParser")}),yj=n(()=>{"use strict";sl(),zi(),Xn(),ci(),n2(),Ms(),g8=class{static{e(this,"DefaultTokenBuilder")}constructor(){this.diagnostics=[]}buildTokens(e,t){let s=yt(C7(e,!1)),o=this.buildTerminalTokens(s),n=this.buildKeywordTokens(s,o,t);return o.forEach(e=>{let t=e.PATTERN;typeof t=="object"&&t&&"test"in t&&N3(t)?n.unshift(e):n.push(e)}),n}flushLexingReport(){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(Qi).filter(e=>!e.fragment).map(e=>this.buildTerminalToken(e)).toArray()}buildTerminalToken(e){let t=R2(e),s=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:s};return typeof s=="function"&&(n.LINE_BREAKS=!0),e.hidden&&(n.GROUP=N3(t)?Tn.SKIPPED:"hidden"),n}requiresCustomPattern(e){return!!(e.flags.includes("u")||e.flags.includes("s"))||!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(e,n)=>(t.lastIndex=n,t.exec(e))}buildKeywordTokens(e,t,n){return e.filter(xs).flatMap(e=>Uc(e).filter(Tr)).distinct(e=>e.value).toArray().sort((e,t)=>t.value.length-e.value.length).map(e=>this.buildKeywordToken(e,t,!!n?.caseInsensitive))}buildKeywordToken(e,t,n){let s=this.buildKeywordPattern(e,n),o={name:e.value,PATTERN:s,LONGER_ALT:this.findLongerAlt(e,t)};return typeof s=="function"&&(o.LINE_BREAKS=!0),o}buildKeywordPattern(e,t){return t?new RegExp(_N(e.value)):e.value}findLongerAlt(e,t){return t.reduce((t,n)=>{let s=n?.PATTERN;return s?.source&&bN("^"+s.source+"$",e.value)&&t.push(n),t},[])}}}),OC=n(()=>{"use strict";zi(),ci(),_j=class{static{e(this,"DefaultValueConverter")}convert(e,t){let n=t.grammarSource;if(qh(n)&&(n=UD(n)),ya(n)){let s=n.rule.ref;if(!s)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(s,e,t)}return e}runConverter(e,t){var s;switch(e.name.toUpperCase()){case"INT":return Zi.convertInt(t);case"STRING":return Zi.convertString(t);case"ID":return Zi.convertID(t)}switch((s=Vz(e))===null||s===void 0?void 0:s.toLowerCase()){case"number":return Zi.convertNumber(t);case"boolean":return Zi.convertBoolean(t);case"bigint":return Zi.convertBigint(t);case"date":return Zi.convertDate(t);default:return t}}},function(t){function n(e){let t="";for(let n=1;n<e.length-1;n++){let o=e.charAt(n);if(o==="\\"){let o=e.charAt(++n);t+=s(o)}else t+=o}return t}e(n,"convertString"),t.convertString=n;function s(e){switch(e){case"b":return"";case"f":return"";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"";case"0":return"\0";default:return e}}e(s,"convertEscapeCharacter");function o(e){return e.charAt(0)==="^"?e.substring(1):e}e(o,"convertID"),t.convertID=o;function i(e){return parseInt(e)}e(i,"convertInt"),t.convertInt=i;function a(e){return BigInt(e)}e(a,"convertBigint"),t.convertBigint=a;function r(e){return new Date(e)}e(r,"convertDate"),t.convertDate=r;function c(e){return Number(e)}e(c,"convertNumber"),t.convertNumber=c;function l(e){return e.toLowerCase()==="true"}e(l,"convertBoolean"),t.convertBoolean=l}(Zi||(Zi={}))}),wC=Ut(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;function n(){if(s===void 0)throw new Error("No runtime abstraction layer installed");return s}e(n,"RAL"),function(t){function n(e){if(e===void 0)throw new Error("No runtime abstraction layer provided");s=e}e(n,"install"),t.install=n}(n||(n={})),t.default=n}),A3e=Ut(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0;function o(e){return e===!0||e===!1}e(o,"boolean"),t.boolean=o;function n(e){return typeof e=="string"||e instanceof String}e(n,"string"),t.string=n;function i(e){return typeof e=="number"||e instanceof Number}e(i,"number"),t.number=i;function a(e){return e instanceof Error}e(a,"error"),t.error=a;function r(e){return typeof e=="function"}e(r,"func"),t.func=r;function s(e){return Array.isArray(e)}e(s,"array"),t.array=s;function c(e){return s(e)&&e.every(e=>n(e))}e(c,"stringArray"),t.stringArray=c}),_C=Ut(n=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Emitter=n.Event=void 0,s=wC(),function(e){let t={dispose(){}};e.None=function(){return t}}(o||(n.Event=o={}));var s,o,a=class{static{e(this,"CallbackList")}add(t,n=null,s){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(s)&&s.push({dispose:e(()=>this.remove(t,n),"dispose")})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let s=0,o=this._callbacks.length;s<o;s++)if(this._callbacks[s]===e)if(this._contexts[s]===t){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...n){if(!this._callbacks)return[];let e=[],t=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,a=t.length;i<a;i++)try{e.push(t[i].apply(o[i],n))}catch(e){(0,s.default)().console.error(e)}return e}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},i=class t{static{e(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(n,s,o)=>{this._callbacks||(this._callbacks=new a),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(n,s);let i={dispose:e(()=>{this._callbacks&&(this._callbacks.remove(n,s),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(o)&&o.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};n.Emitter=i,i._noop=function(){}}),M3e=Ut(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;var n,i=wC(),a=A3e(),s=_C();(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:s.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s.Event.None});function n(e){let n=e;return n&&(n===t.None||n===t.Cancelled||a.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e(n,"is"),t.is=n})(n||(t.CancellationToken=n={}));var r=Object.freeze(function(e,t){let n=(0,i.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),o=class{static{e(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?r:(this._emitter||(this._emitter=new s.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},c=class{static{e(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new o),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof o&&this._token.dispose():this._token=n.None}};t.CancellationTokenSource=c}),We={},go=n(()=>{"use strict";$6(We,Sn(M3e(),1))});function Oj(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function xj(){return zm=performance.now(),new We.CancellationTokenSource}function fC(e){dC=e}function Hl(e){return e===Ua}async function Fn(e){if(e===We.CancellationToken.None)return;let t=performance.now();if(t-zm>=dC&&(zm=t,await Oj(),zm=performance.now()),e.isCancellationRequested)throw Ua}Oo=n(()=>{"use strict";go(),e(Oj,"delayNextTick"),zm=0,dC=10,e(xj,"startCancelableOperation"),e(fC,"setInterruptionPeriod"),Ua=Symbol("OperationCancelled"),e(Hl,"isOperationCancelled"),e(Fn,"interruptAndCheck"),Bi=class{static{e(this,"Deferred")}constructor(){this.promise=new Promise((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)})}}});function Tj(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);Tj(n,t),Tj(s,t);let o=0,i=0,a=0;for(;o<n.length&&i<s.length;)t(n[o],s[i])<=0?e[a++]=n[o++]:e[a++]=s[i++];for(;o<n.length;)e[a++]=n[o++];for(;i<s.length;)e[a++]=s[i++];return e}function tC(e,t,n=0){let s=t?[n]:[];for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);eC(o)&&(o===13&&t+1<e.length&&e.charCodeAt(t+1)===10&&t++,s.push(n+t+1))}return s}function eC(e){return e===13||e===10}function Jx(e){let t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function q3e(e){let t=Jx(e.range);return t!==e.range?{newText:e.newText,range:t}:e}X3e=n(()=>{"use strict";Zx=class t{static{e(this,"FullTextDocument")}constructor(e,t,n,s){this._uri=e,this._languageId=t,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,n){for(let n of e)if(t.isIncremental(n)){{let o=Jx(n.range),i=this.offsetAt(o.start),r=this.offsetAt(o.end);this._content=this._content.substring(0,i)+n.text+this._content.substring(r,this._content.length);let s=Math.max(o.start.line,0),a=Math.max(o.end.line,0),e=this._lineOffsets,t=tC(n.text,!1,i);if(a-s===t.length)for(let n=0,o=t.length;n<o;n++)e[n+s+1]=t[n];else t.length<1e4?e.splice(s+1,a-s,...t):this._lineOffsets=e=e.slice(0,s+1).concat(t,e.slice(a+1));let c=n.text.length-(r-i);if(c!==0)for(let n=s+1+t.length,o=e.length;n<o;n++)e[n]=e[n]+c}}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=tC(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,s=t.length;if(s===0)return{line:0,character:e};for(;n<s;){let o=Math.floor((n+s)/2);t[o]>e?s=o:n=o+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let s=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,s);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&eC(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}},function(t){function n(e,t,n,s){return new Zx(e,t,n,s)}e(n,"create"),t.create=n;function s(e,t,n){if(e instanceof Zx)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e(s,"update"),t.update=s;function o(e,t){let o=e.getText(),i=Tj(t.map(q3e),(e,t)=>{let n=e.range.start.line-t.range.start.line;return n===0?e.range.start.character-t.range.start.character:n}),n=0,s=[];for(let t of i){let a=e.offsetAt(t.range.start);if(a<n)throw new Error("Overlapping edit");a>n&&s.push(o.substring(n,a)),t.newText.length&&s.push(t.newText),n=e.offsetAt(t.range.end)}return s.push(o.substr(n)),s.join("")}e(o,"applyEdits"),t.applyEdits=o}(zj||(zj={})),e(Tj,"mergeSort"),e(tC,"computeLineOffsets"),e(eC,"isEOL"),e(Jx,"getWellformedRange"),e(q3e,"getWellformedEdit")}),Wx=n(()=>{"use strict";(()=>{"use strict";var n,o={470:t=>{function n(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}e(n,"e");function o(e,t){for(var r,c,n="",a=0,o=-1,i=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(r===47)break;r=47}if(r===47){if(o!==s-1&&i!==1)if(o!==s-1&&i===2){if(n.length<2||a!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46)if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c===-1?(n="",a=0):a=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=s,i=0;continue}}else if(n.length===2||n.length===1){n="",a=0,o=s,i=0;continue}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),a=s-o-1;o=s,i=0}else r===46&&i!==-1?++i:i=-1}return n}e(o,"r");var s={resolve:e(function(){for(var t,a,e="",s=!1,i=arguments.length-1;i>=-1&&!s;i--)i>=0?t=arguments[i]:(a===void 0&&(a=process.cwd()),t=a),n(t),t.length!==0&&(e=t+"/"+e,s=t.charCodeAt(0)===47);return e=o(e,!s),s?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:e(function(e){if(n(e),e.length===0)return".";var t=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return(e=o(e,!t)).length!==0||t||(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},"normalize"),isAbsolute:e(function(e){return n(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:e(function(){if(arguments.length===0)return".";for(var e,t,o=0;o<arguments.length;++o)t=arguments[o],n(t),t.length>0&&(e===void 0?e=t:e+="/"+t);return e===void 0?".":s.normalize(e)},"join"),relative:e(function(e,t){if(n(e),n(t),e===t||(e=s.resolve(e))===(t=s.resolve(t)))return"";for(a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var d=e.length,u=d-a,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var a,c,m,h=t.length-i,l=u<h?u:h,r=-1,o=0;o<=l;++o){if(o===l){if(h>l){{if(t.charCodeAt(i+o)===47)return t.slice(i+o+1);if(o===0)return t.slice(i+o)}}else u>l&&(e.charCodeAt(a+o)===47?r=o:o===0&&(r=0));break}if(m=e.charCodeAt(a+o),m!==t.charCodeAt(i+o))break;m===47&&(r=o)}c="";for(o=a+r+1;o<=d;++o)o!==d&&e.charCodeAt(o)!==47||(c.length===0?c+="..":c+="/..");return c.length>0?c+t.slice(i+r):(i+=r,t.charCodeAt(i)===47&&++i,t.slice(i))},"relative"),_makeLong:e(function(e){return e},"_makeLong"),dirname:e(function(e){if(n(e),e.length===0)return".";for(var o=e.charCodeAt(0),i=o===47,t=-1,a=!0,s=e.length-1;s>=1;--s)if((o=e.charCodeAt(s))===47){if(!a){t=s;break}}else a=!1;return t===-1?i?"/":".":i&&t===1?"//":e.slice(0,t)},"dirname"),basename:e(function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');n(e);var s,a,r,l,i=0,o=-1,c=!0;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";a=t.length-1,r=-1;for(s=e.length-1;s>=0;--s)if(l=e.charCodeAt(s),l===47){if(!c){i=s+1;break}}else r===-1&&(c=!1,r=s+1),a>=0&&(l===t.charCodeAt(a)?--a==-1&&(o=s):(a=-1,o=r));return i===o?o=r:o===-1&&(o=e.length),e.slice(i,o)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!c){i=s+1;break}}else o===-1&&(c=!1,o=s+1);return o===-1?"":e.slice(i,o)},"basename"),extname:e(function(e){n(e);for(var a,t=-1,r=0,o=-1,c=!0,i=0,s=e.length-1;s>=0;--s)if(a=e.charCodeAt(s),a!==47)o===-1&&(c=!1,o=s+1),a===46?t===-1?t=s:i!==1&&(i=1):t!==-1&&(i=-1);else if(!c){r=s+1;break}return t===-1||o===-1||i===0||i===1&&t===o-1&&t===r+1?"":e.slice(t,o)},"extname"),format:e(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,s=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+s:n+"/"+s:s}(0,e)},"format"),parse:e(function(e){if(n(e),t={root:"",dir:"",base:"",ext:"",name:""},e.length===0)return t;l=e.charCodeAt(0),r=l===47,r?(t.root="/",d=1):d=0;for(var t,r,l,d,o=-1,i=0,s=-1,u=!0,a=e.length-1,c=0;a>=d;--a)if((l=e.charCodeAt(a))!==47)s===-1&&(u=!1,s=a+1),l===46?o===-1?o=a:c!==1&&(c=1):o!==-1&&(c=-1);else if(!u){i=a+1;break}return o===-1||s===-1||c===0||c===1&&o===s-1&&o===i+1?s!==-1&&(t.base=t.name=i===0&&r?e.slice(1,s):e.slice(i,s)):(i===0&&r?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(i,o),t.base=e.slice(i,s)),t.ext=e.slice(o,s)),i>0?t.dir=e.slice(0,i-1):r&&(t.dir="/"),t},"parse"),sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s}},s={};function t(e){var n,i=s[e];return i!==void 0?i.exports:(n=s[e]={exports:{}},o[e](n,n.exports,t),n.exports)}e(t,"r"),t.d=(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n={},(()=>{let a;t.r(n),t.d(n,{URI:e(()=>l,"URI"),Utils:e(()=>m,"Utils")}),typeof process=="object"?a=process.platform==="win32":typeof navigator=="object"&&(a=navigator.userAgent.indexOf("Windows")>=0);let x=/^\w[\w\d+.-]*$/,O=/^\//,C=/^\/\//;function f(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!x.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!O.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(C.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}e(f,"s");let s="",o="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{static{e(this,"f")}static isUri(e){return e instanceof l||!!e&&typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function"}scheme;authority;path;query;fragment;constructor(e,t,n,i,a,r=!1){typeof e=="object"?(this.scheme=e.scheme||s,this.authority=e.authority||s,this.path=e.path||s,this.query=e.query||s,this.fragment=e.fragment||s):(this.scheme=function(e,t){return e||t?e:"file"}(e,r),this.authority=t||s,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==o&&(t=o+t):t=o}return t}(this.scheme,n||s),this.query=i||s,this.fragment=a||s,f(this,r))}get fsPath(){return h(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:o,query:a,fragment:r}=e;return t===void 0?t=this.scheme:t===null&&(t=s),n===void 0?n=this.authority:n===null&&(n=s),o===void 0?o=this.path:o===null&&(o=s),a===void 0?a=this.query:a===null&&(a=s),r===void 0?r=this.fragment:r===null&&(r=s),t===this.scheme&&n===this.authority&&o===this.path&&a===this.query&&r===this.fragment?this:new i(t,n,o,a,r)}static parse(e,t=!1){let n=w.exec(e);return n?new i(n[2]||s,c(n[4]||s),c(n[5]||s),c(n[7]||s),c(n[9]||s),t):new i(s,s,s,s,s)}static file(e){let t=s;if(a&&(e=e.replace(/\\/g,o)),e[0]===o&&e[1]===o){let n=e.indexOf(o,2);n===-1?(t=e.substring(2),e=o):(t=e.substring(2,n),e=e.substring(n)||o)}return new i("file",t,e,s,s)}static from(e){let t=new i(e.scheme,e.authority,e.path,e.query,e.fragment);return f(t,!0),t}toString(e=!1){return u(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof l)return e;{let t=new i(e);return t._formatted=e.external,t._fsPath=e._sep===_?e.fsPath:null,t}}return e}}let _=a?1:void 0;class i extends l{static{e(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=h(this,!1)),this._fsPath}toString(e=!1){return e?u(this,!0):(this._formatted||(this._formatted=u(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=_),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}let v={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(e,t,n){let s,o=-1;for(let a=0;a<e.length;a++){let i=e.charCodeAt(a);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||i===45||i===46||i===95||i===126||t&&i===47||n&&i===91||n&&i===93||n&&i===58)o!==-1&&(s+=encodeURIComponent(e.substring(o,a)),o=-1),s!==void 0&&(s+=e.charAt(a));else{s===void 0&&(s=e.substr(0,a));let t=v[i];t!==void 0?(o!==-1&&(s+=encodeURIComponent(e.substring(o,a)),o=-1),s+=t):o===-1&&(o=a)}}return o!==-1&&(s+=encodeURIComponent(e.substring(o))),s!==void 0?s:e}e(g,"d");function b(e){let t;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s===35||s===63?(t===void 0&&(t=e.substr(0,n)),t+=v[s]):t!==void 0&&(t+=e[n])}return t!==void 0?t:e}e(b,"p");function h(e,t){let n;return n=e.authority&&e.path.length>1&&e.scheme==="file"?`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,a&&(n=n.replace(/\//g,"\\")),n}e(h,"m");function u(e,t){let a=t?b:g,n="",{scheme:r,authority:i,path:s,query:l,fragment:c}=e;if(r&&(n+=r,n+=":"),(i||r==="file")&&(n+=o,n+=o),i){let e=i.indexOf("@");if(e!==-1){let t=i.substr(0,e);i=i.substr(e+1),e=t.lastIndexOf(":"),e===-1?n+=a(t,!1,!1):(n+=a(t.substr(0,e),!1,!1),n+=":",n+=a(t.substr(e+1),!1,!0)),n+="@"}i=i.toLowerCase(),e=i.lastIndexOf(":"),e===-1?n+=a(i,!1,!0):(n+=a(i.substr(0,e),!1,!0),n+=i.substr(e))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}n+=a(s,!0,!1)}return l&&(n+="?",n+=a(l,!1,!1)),c&&(n+="#",n+=t?c:g(c,!1,!1)),n}e(u,"y");function p(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+p(e.substr(3)):e}}e(p,"v");let j=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function c(e){return e.match(j)?e.replace(j,e=>p(e)):e}e(c,"C");var m,y=t(470);let r=y.posix||y,d="/";(function(e){e.joinPath=function(e,...t){return e.with({path:r.join(e.path,...t)})},e.resolvePath=function(n,...o){let e=n.path,s=!1;e[0]!==d&&(e=d+e,s=!0);let t=r.resolve(e,...o);return s&&t[0]===d&&!n.authority&&(t=t.substring(1)),n.with({path:t})},e.dirname=function(e){if(e.path.length===0||e.path===d)return e;let t=r.dirname(e.path);return t.length===1&&t.charCodeAt(0)===46&&(t=""),e.with({path:t})},e.basename=function(e){return r.basename(e.path)},e.extname=function(e){return r.extname(e.path)}})(m||(m={}))})(),Q3e=n})(),{URI:Li,Utils:G4}=Q3e}),Ai=n(()=>{"use strict";Wx(),function(t){t.basename=G4.basename,t.dirname=G4.dirname,t.extname=G4.extname,t.joinPath=G4.joinPath,t.resolvePath=G4.resolvePath;function n(e,t){return e?.toString()===t?.toString()}e(n,"equals"),t.equals=n;function s(e,t){let i=typeof e=="string"?e:e.path,a=typeof t=="string"?t:t.path,s=i.split("/").filter(e=>e.length>0),o=a.split("/").filter(e=>e.length>0),n=0;for(;n<s.length&&s[n]===o[n];n++);let r="../".repeat(s.length-n),c=o.slice(n).join("/");return r+c}e(s,"relative"),t.relative=s;function o(e){return Li.parse(e.toString()).toString()}e(o,"normalize"),t.normalize=o}(Mi||(Mi={}))}),c0=n(()=>{"use strict";X3e(),c0(),go(),Ms(),Ai(),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Ze||(Ze={})),Lx=class{static{e(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=We.CancellationToken.None){let n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,t)}fromTextDocument(e,t,n){return t=t??Li.parse(e.uri),We.CancellationToken.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromString(e,t,n){return We.CancellationToken.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,n){if(typeof t=="string"){let s=this.parse(e,t,n);return this.createLangiumDocument(s,e,void 0,t)}if("$model"in t){let n={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}let s=this.parse(e,t.getText(),n);return this.createLangiumDocument(s,e,t)}async createAsync(e,t,n){if(typeof t=="string"){let s=await this.parseAsync(e,t,n);return this.createLangiumDocument(s,e,void 0,t)}let s=await this.parseAsync(e,t.getText(),n);return this.createLangiumDocument(s,e,t)}createLangiumDocument(e,t,n,s){let o;if(n)o={parseResult:e,uri:t,state:Ze.Parsed,references:[],textDocument:n};else{let n=this.createTextDocumentGetter(t,s);o={parseResult:e,uri:t,state:Ze.Parsed,references:[],get textDocument(){return n()}}}return e.value.$document=o,o}async update(e,t){var s,o;let a=(s=e.parseResult.value.$cstNode)===null||s===void 0?void 0:s.root.fullText,n=(o=this.textDocuments)===null||o===void 0?void 0:o.get(e.uri.toString()),i=n?n.getText():await this.fileSystemProvider.readFile(e.uri);if(n)Object.defineProperty(e,"textDocument",{value:n});else{let t=this.createTextDocumentGetter(e.uri,i);Object.defineProperty(e,"textDocument",{get:t})}return a!==i&&(e.parseResult=await this.parseAsync(e.uri,i,t),e.parseResult.value.$document=e),e.state=Ze.Parsed,e}parse(e,t,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,n)}parseAsync(e,t,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,n)}createTextDocumentGetter(e,t){let s=this.serviceRegistry,n;return()=>n??(n=zj.create(e.toString(),s.getServices(e).LanguageMetaData.languageId,0,t??""))}},Tx=class{static{e(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return yt(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(n),n)}createDocument(e,t,n){if(n)return this.langiumDocumentFactory.fromString(t,e,n).then(e=>(this.addDocument(e),e));{let n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let n=e.toString(),t=this.documentMap.get(n);return t&&(this.serviceRegistry.getServices(e).references.Linker.unlink(t),t.state=Ze.Changed,t.precomputedScopes=void 0,t.diagnostics=void 0),t}deleteDocument(e){let n=e.toString(),t=this.documentMap.get(n);return t&&(t.state=Ze.Changed,this.documentMap.delete(n)),t}}}),Ox=n(()=>{"use strict";go(),di(),Xn(),Oo(),c0(),Kj=Symbol("ref_resolving"),xx=class{static{e(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=We.CancellationToken.None){for(let n of Aa(e.parseResult.value))await Fn(t),oh(n).forEach(t=>this.doLink(t,e))}doLink(e,t){var s;let n=e.reference;if(n._ref===void 0){n._ref=Kj;try{let t=this.getCandidate(e);if(C4(t))n._ref=t;else if(n._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){let s=this.loadAstNode(t);n._ref=s??this.createLinkingError(e,t)}else n._ref=void 0}catch(t){console.error(`An error occurred while resolving reference to '${n.$refText}':`,t);let o=(s=t.message)!==null&&s!==void 0?s:String(t);n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${o}`})}t.references.push(n)}}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){let t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return t??this.createLinkingError(e)}buildReference(e,t,n,s){let o=this,i={$refNode:n,$refText:s,get ref(){var n;if(zt(this._ref))return this._ref;if(BP(this._nodeDescription)){let n=o.loadAstNode(this._nodeDescription);this._ref=n??o.createLinkingError({reference:i,container:e,property:t},this._nodeDescription)}else if(this._ref===void 0){this._ref=Kj;let a=rh(e).$document,s=o.getLinkedNode({reference:i,container:e,property:t});if(s.error&&a&&a.state<Ze.ComputedScopes)return this._ref=void 0;this._ref=(n=s.node)!==null&&n!==void 0?n:s.error,this._nodeDescription=s.descr,a?.references.push(this)}else if(this._ref===Kj)throw new Error(`Cyclic reference resolution detected: ${o.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${s}')`);return zt(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return C4(this._ref)?this._ref:void 0}};return i}getLinkedNode(e){var t;try{let t=this.getCandidate(e);if(C4(t))return{error:t};let n=this.loadAstNode(t);return n?{node:n,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(n){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,n);let s=(t=n.message)!==null&&t!==void 0?t:String(n);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${s}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);if(t)return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let n=rh(e.container).$document;n&&n.state<Ze.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);let s=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${s} named '${e.reference.$refText}'.`,targetDescription:t})}}});function _x(e){return typeof e.name=="string"}jx=n(()=>{"use strict";ci(),e(_x,"isNamed"),yx=class{static{e(this,"DefaultNameProvider")}getName(e){if(_x(e))return e.name}getNameNode(e){return U7(e.$cstNode,"name")}}}),vx=n(()=>{"use strict";ci(),di(),Xn(),ni(),Ms(),Ai(),bx=class{static{e(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let n=tD(e),t=e.astNode;if(n&&t){let s=t[n.feature];if(Os(s))return s.ref;if(Array.isArray(s))for(let t of s)if(Os(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(t){let n=this.nameProvider.getNameNode(t);if(n&&(n===e||lP(e,n)))return t}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode){let e=this.nameProvider.getNameNode(t);return e??t.$cstNode}}findReferences(e,t){let n=[];if(t.includeDeclaration){let t=this.getReferenceToSelf(e);t&&n.push(t)}let s=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(s=s.filter(e=>Mi.equals(e.sourceUri,t.documentUri))),n.push(...s),yt(n)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let n=Oi(e),s=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:s,targetUri:n.uri,targetPath:s,segment:o0(t),local:!0}}}}}),j0=n(()=>{"use strict";Ms(),rl=class{static{e(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,n]of e)this.add(t,n)}get size(){return pm.sum(yt(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(t===void 0)return this.map.delete(e);{let n=this.map.get(e);if(n){let s=n.indexOf(t);if(s>=0)return n.length===1?this.map.delete(e):n.splice(s,1),!0}return!1}}get(e){var t;return(t=this.map.get(e))!==null&&t!==void 0?t:[]}has(e,t){if(t===void 0)return this.map.has(e);{let n=this.map.get(e);return!!n&&n.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,n)=>t.forEach(t=>e(t,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return yt(this.map.entries()).flatMap(([e,t])=>t.map(t=>[e,t]))}keys(){return yt(this.map.keys())}values(){return yt(this.map.values()).flat()}entriesGroupedByKey(){return yt(this.map.entries())}},Wh=class{static{e(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,n]of e)this.set(t,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return t!==void 0&&(this.map.delete(e),this.inverse.delete(t),!0)}}}),hx=n(()=>{"use strict";go(),Xn(),j0(),Oo(),mx=class{static{e(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=We.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,n=ih,s=We.CancellationToken.None){let o=[];this.exportNode(e,o,t);for(let i of n(e))await Fn(s),this.exportNode(i,o,t);return o}exportNode(e,t,n){let s=this.nameProvider.getName(e);s&&t.push(this.descriptions.createDescription(e,s,n))}async computeLocalScopes(e,t=We.CancellationToken.None){let s=e.parseResult.value,n=new rl;for(let o of Uc(s))await Fn(t),this.processNode(o,e,n);return n}processNode(e,t,n){let s=e.$container;if(s){let o=this.nameProvider.getName(e);o&&n.add(s,this.descriptions.createDescription(e,o,t))}}}}),lx=n(()=>{"use strict";Ms(),qj=class{static{e(this,"StreamScope")}constructor(e,t,n){var s;this.elements=e,this.outerScope=t,this.caseInsensitive=(s=n?.caseInsensitive)!==null&&s!==void 0&&s}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(t=>t.name.toLowerCase()===e.toLowerCase()):this.elements.find(t=>t.name===e);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}},dx=class{static{e(this,"MapScope")}constructor(e,t,n){var s;this.elements=new Map,this.caseInsensitive=(s=n?.caseInsensitive)!==null&&s!==void 0&&s;for(let t of e){let n=this.caseInsensitive?t.name.toLowerCase():t.name;this.elements.set(n,t)}this.outerScope=t}getElement(e){let n=this.caseInsensitive?e.toLowerCase():e,t=this.elements.get(n);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=yt(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},whe={getElement(){},getAllElements(){return wm}}}),Zj=n(()=>{"use strict";Ih=class{static{e(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},Xj=class extends Ih{static{e(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let n=t();return this.cache.set(e,n),n}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},Hh=class extends Ih{static{e(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(e=>e)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,n){this.throwIfDisposed(),this.cacheForContext(e).set(t,n)}get(e,t,n){this.throwIfDisposed();let s=this.cacheForContext(e);if(s.has(t))return s.get(t);if(n){let e=n();return s.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let n=this.converter(e),t=this.cache.get(n);return t||(t=new Map,this.cache.set(n,t)),t}},ix=class extends Hh{static{e(this,"DocumentCache")}constructor(e,t){super(e=>e.toString()),t?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(t,e=>{this.clear(e.uri.toString())})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{for(let e of t)this.clear(e)}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{let n=e.concat(t);for(let e of n)this.clear(e)}))}},Qj=class extends Xj{static{e(this,"WorkspaceCache")}constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{t.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}}),tx=n(()=>{"use strict";lx(),Xn(),Ms(),Zj(),nx=class{static{e(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new Qj(e.shared)}getScope(e){let t=[],s=this.reflection.getReferenceType(e),o=Oi(e.container).precomputedScopes;if(o){let n=e.container;do{let e=o.get(n);e.length>0&&t.push(yt(e).filter(e=>this.reflection.isSubtype(e.type,s))),n=n.$container}while(n)}let n=this.getGlobalScope(s,e);for(let e=t.length-1;e>=0;e--)n=this.createScope(t[e],n);return n}createScope(e,t,n){return new qj(yt(e),t,n)}createScopeForNodes(e,t,n){let s=yt(e).map(e=>{let t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)}).nonNullable();return new qj(s,t,n)}getGlobalScope(e){return this.globalScopeCache.get(e,()=>new dx(this.indexManager.allElements(e)))}}});function ex(e){return typeof e.$comment=="string"}function JO(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}Jj=n(()=>{"use strict";Wx(),di(),Xn(),ci(),e(ex,"isAstNodeWithComment"),e(JO,"isIntermediateReference"),ZO=class{static{e(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(t,n){let i=n??{},s=n?.replacer,o=e((e,t)=>this.replacer(e,t,i),"defaultReplacer"),a=s?(e,t)=>s(e,t,o):o;try{return this.currentDocument=Oi(t),JSON.stringify(t,a,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,t){let s=t??{},n=JSON.parse(e);return this.linkNode(n,n,s),n}replacer(e,t,{refText:n,sourceText:s,textRegions:o,comments:i,uriConverter:a}){var r,c,l,d;if(!this.ignoreProperties.has(e))if(Os(t)){let e=t.ref,s=n?t.$refText:void 0;if(e){let n=Oi(e),o="";this.currentDocument&&this.currentDocument!==n&&(a?o=a(n.uri,t):o=n.uri.toString());let i=this.astNodeLocator.getAstNodePath(e);return{$ref:`${o}#${i}`,$refText:s}}return{$error:(c=(r=t.error)===null||r===void 0?void 0:r.message)!==null&&c!==void 0?c:"Could not resolve reference",$refText:s}}else if(zt(t)){let n;if(o&&(n=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&n?.$textRegion&&(n.$textRegion.documentURI=(l=this.currentDocument)===null||l===void 0?void 0:l.uri.toString())),s&&!e&&(n??(n=Object.assign({},t)),n.$sourceText=(d=t.$cstNode)===null||d===void 0?void 0:d.text),i){n??(n=Object.assign({},t));let e=this.commentProvider.getComment(t);e&&(n.$comment=e.replace(/\r/g,""))}return n??t}else return t}addAstNodeRegionWithAssignmentsTo(t){let n=e(e=>({offset:e.offset,end:e.end,length:e.length,range:e.range}),"createDocumentSegment");if(t.$cstNode){let e=t.$textRegion=n(t.$cstNode),s=e.assignments={};return Object.keys(t).filter(e=>!e.startsWith("$")).forEach(e=>{let o=gD(t.$cstNode,e).map(n);o.length!==0&&(s[e]=o)}),t}}linkNode(e,t,n,s,o,i){for(let[o,s]of Object.entries(e))if(Array.isArray(s))for(let i=0;i<s.length;i++){let a=s[i];JO(a)?s[i]=this.reviveReference(e,o,t,a,n):zt(a)&&this.linkNode(a,t,n,e,o,i)}else JO(s)?e[o]=this.reviveReference(e,o,t,s,n):zt(s)&&this.linkNode(s,t,n,e,o);let a=e;a.$container=s,a.$containerProperty=o,a.$containerIndex=i}reviveReference(e,t,n,s,o){let i=s.$refText,a=s.$error;if(s.$ref){let e=this.getRefNode(n,s.$ref,o.uriConverter);if(zt(e))return i||(i=this.nameProvider.getName(e)),{$refText:i??"",ref:e};a=e}if(a){let n={$refText:i??""};return n.error={container:e,property:t,message:a,reference:n},n}}getRefNode(e,t,n){try{let s=t.indexOf("#");if(s===0){let n=this.astNodeLocator.getAstNode(e,t.substring(1));return n||"Could not resolve path: "+t}if(s<0){let s=n?n(t):Li.parse(t),e=this.langiumDocuments.getDocument(s);return e?e.parseResult.value:"Could not find document for URI: "+t}let i=n?n(t.substring(0,s)):Li.parse(t.substring(0,s)),o=this.langiumDocuments.getDocument(i);if(!o)return"Could not find document for URI: "+t;if(s===t.length-1)return o.parseResult.value;let a=this.astNodeLocator.getAstNode(o.parseResult.value,t.substring(s+1));return a||"Could not resolve URI: "+t}catch(e){return String(e)}}}}),GO=n(()=>{"use strict";Ai(),XO=class{static{e(this,"DefaultServiceRegistry")}get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){let t=e.LanguageMetaData;for(let n of t.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${t.languageId}'.`),this.fileExtensionMap.set(n,e);this.languageIdMap.set(t.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var n,s;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let t=(s=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e))===null||s===void 0?void 0:s.languageId;if(t!==void 0){let e=this.languageIdMap.get(t);if(e)return e}let o=Mi.extname(e),i=this.fileExtensionMap.get(o);if(!i)throw t?new Error(`The service registry contains no services for the extension '${o}' for language '${t}'.`):new Error(`The service registry contains no services for the extension '${o}'.`);return i}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}});function cl(e){return{code:e}}xh=n(()=>{"use strict";fo(),j0(),Oo(),Ms(),e(cl,"diagnosticData"),function(e){e.all=["fast","slow","built-in"]}(Fh||(Fh={})),UO=class{static{e(this,"ValidationRegistry")}constructor(e){this.entries=new rl,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[o,i]of Object.entries(e)){let s=i;if(Array.isArray(s))for(let e of s){let i={check:this.wrapValidationException(e,t),category:n};this.addEntry(o,i)}else if(typeof s=="function"){let e={check:this.wrapValidationException(s,t),category:n};this.addEntry(o,e)}else ec(s)}}wrapValidationException(e,t){return async(n,s,o)=>{await this.handleException(()=>e.call(t,n,s,o),"An error occurred during validation",s,n)}}async handleException(e,t,n,s){try{await e()}catch(e){if(Hl(e))throw e;console.error(`${t}:`,e),e instanceof Error&&e.stack&&console.error(e.stack);let o=e instanceof Error?e.message:String(e);n("error",`${t}: ${o}`,{node:s})}}addEntry(e,t){if(e==="AstNode"){this.entries.add("AstNode",t);return}for(let n of this.reflection.getAllSubTypes(e))this.entries.add(n,t)}getChecks(e,t){let n=yt(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(n=n.filter(e=>t.includes(e.category))),n.map(e=>e.check)}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,n){return async(s,o,i,a)=>{await this.handleException(()=>e.call(n,s,o,i,a),t,o,s)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}});function $O(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=U7(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=rD(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function wh(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function HO(e){switch(e){case"error":return cl(_o.LexingError);case"warning":return cl(_o.LexingWarning);case"info":return cl(_o.LexingInfo);case"hint":return cl(_o.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}zO=n(()=>{"use strict";go(),ci(),Xn(),ni(),Oo(),xh(),PO=class{static{e(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},n=We.CancellationToken.None){let o=e.parseResult,s=[];if(await Fn(n),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(o,s,t),t.stopAfterLexingErrors&&s.some(e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.code)===_o.LexingError})||(this.processParsingErrors(o,s,t),t.stopAfterParsingErrors&&s.some(e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.code)===_o.ParsingError}))||(this.processLinkingErrors(e,s,t),t.stopAfterLinkingErrors&&s.some(e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.code)===_o.LinkingError}))))return s;try{s.push(...await this.validateAst(o.value,t,n))}catch(e){if(Hl(e))throw e;console.error("An error occurred during validation:",e)}return await Fn(n),s}processLexingErrors(e,t){var s,o,i;let a=[...e.lexerErrors,...(o=(s=e.lexerReport)===null||s===void 0?void 0:s.diagnostics)!==null&&o!==void 0?o:[]];for(let e of a){let n=(i=e.severity)!==null&&i!==void 0?i:"error",s={severity:wh(n),range:{start:{line:e.line-1,character:e.column-1},end:{line:e.line-1,character:e.column+e.length-1}},message:e.message,data:HO(n),source:this.getSource()};t.push(s)}}processParsingErrors(e,t){for(let n of e.parserErrors){let s;if(isNaN(n.token.startOffset)){if("previousToken"in n){let e=n.previousToken;if(isNaN(e.startOffset)){let e={line:0,character:0};s={start:e,end:e}}else{let t={line:e.endLine-1,character:e.endColumn};s={start:t,end:t}}}}else s=mm(n.token);if(s){let e={severity:wh("error"),range:s,message:n.message,data:cl(_o.ParsingError),source:this.getSource()};t.push(e)}}}processLinkingErrors(e,t){for(let s of e.references){let n=s.error;if(n){let e={node:n.container,property:n.property,index:n.index,data:{code:_o.LinkingError,containerType:n.container.$type,property:n.property,refText:n.reference.$refText}};t.push(this.toDiagnostic("error",n.message,e))}}}async validateAst(t,n,s=We.CancellationToken.None){let i=[],o=e((e,t,n)=>{i.push(this.toDiagnostic(e,t,n))},"acceptor");return await this.validateAstBefore(t,n,o,s),await this.validateAstNodes(t,n,o,s),await this.validateAstAfter(t,n,o,s),i}async validateAstBefore(e,t,n,s=We.CancellationToken.None){var o;let i=this.validationRegistry.checksBefore;for(let a of i)await Fn(s),await a(e,n,(o=t.categories)!==null&&o!==void 0?o:[],s)}async validateAstNodes(e,t,n,s=We.CancellationToken.None){await Promise.all(Aa(e).map(async e=>{await Fn(s);let o=this.validationRegistry.getChecks(e.$type,t.categories);for(let t of o)await t(e,n,s)}))}async validateAstAfter(e,t,n,s=We.CancellationToken.None){var o;let i=this.validationRegistry.checksAfter;for(let a of i)await Fn(s),await a(e,n,(o=t.categories)!==null&&o!==void 0?o:[],s)}toDiagnostic(e,t,n){return{message:t,range:$O(n),severity:wh(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},e($O,"getDiagnosticRange"),e(wh,"toDiagnosticSeverity"),e(HO,"toDiagnosticData"),function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(_o||(_o={}))}),AO=n(()=>{"use strict";go(),di(),Xn(),ni(),Oo(),Ai(),TO=class{static{e(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(t,n,s){let a=s??Oi(t);n??(n=this.nameProvider.getName(t));let o=this.astNodeLocator.getAstNodePath(t);if(!n)throw new Error(`Node at path ${o} has no name.`);let i,r=e(()=>{var e;return i??(i=o0((e=this.nameProvider.getNameNode(t))!==null&&e!==void 0?e:t.$cstNode))},"nameSegmentGetter");return{node:t,name:n,get nameSegment(){return r()},selectionSegment:o0(t.$cstNode),type:t.$type,documentUri:a.uri,path:o}}},FO=class{static{e(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=We.CancellationToken.None){let n=[],s=e.parseResult.value;for(let e of Aa(s))await Fn(t),oh(e).filter(e=>!C4(e)).forEach(e=>{let t=this.createDescription(e);t&&n.push(t)});return n}createDescription(e){let t=e.reference.$nodeDescription,n=e.reference.$refNode;if(!t||!n)return;let s=Oi(e.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:o0(n),local:Mi.equals(t.documentUri,s)}}}}),wO=n(()=>{"use strict";CO=class{static{e(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return t+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return t!==void 0?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((e,t)=>{if(!e||t.length===0)return e;let n=t.indexOf(this.indexSeparator);if(n>0){let s=t.substring(0,n),o=parseInt(t.substring(n+1)),i=e[s];return i?.[o]}return e[t]},e)}}}),ch={},iy=n(()=>{"use strict";$6(ch,Sn(_C(),1))}),fO=n(()=>{"use strict";iy(),Oo(),pO=class{static{e(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new Bi,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new ch.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,n;this.workspaceConfig=(n=(t=e.capabilities.workspace)===null||t===void 0?void 0:t.configuration)!==null&&n!==void 0&&n}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map(e=>this.toSectionName(e.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map(e=>({section:this.toSectionName(e.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(t);t.forEach((e,t)=>{this.updateSectionConfiguration(e.section,n[t])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{let n=e.settings[t];this.updateSectionConfiguration(t,n),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:n})})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let n=this.toSectionName(e);if(this.settings[n])return this.settings[n][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}}),uO=n(()=>{"use strict";(function(t){function n(t){return{dispose:e(async()=>await t(),"dispose")}}e(n,"create"),t.create=n})(yl||(yl={}))}),cO=n(()=>{"use strict";go(),uO(),j0(),Oo(),Ms(),xh(),c0(),lO=class{static{e(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new rl,this.documentPhaseListeners=new rl,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Ze.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},n=We.CancellationToken.None){var s,o;for(let n of e){let i=n.uri.toString();if(n.state===Ze.Validated){if(typeof t.validation=="boolean"&&t.validation)n.state=Ze.IndexedReferences,n.diagnostics=void 0,this.buildState.delete(i);else if(typeof t.validation=="object"){let e=this.buildState.get(i),a=(s=e?.result)===null||s===void 0?void 0:s.validationChecks;if(a){let s=((o=t.validation.categories)!==null&&o!==void 0?o:Fh.all).filter(e=>!a.includes(e));s.length>0&&(this.buildState.set(i,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:s})},result:e.result}),n.state=Ze.IndexedReferences)}}}else this.buildState.delete(i)}this.currentState=Ze.Changed,await this.emitUpdate(e.map(e=>e.uri),[]),await this.buildDocuments(e,t,n)}async update(e,t,n=We.CancellationToken.None){this.currentState=Ze.Changed;for(let e of t)this.langiumDocuments.deleteDocument(e),this.buildState.delete(e.toString()),this.indexManager.remove(e);for(let t of e){if(!this.langiumDocuments.invalidateDocument(t)){let e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},t);e.state=Ze.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(t.toString())}let s=yt(e).concat(t).map(e=>e.toString()).toSet();this.langiumDocuments.all.filter(e=>!s.has(e.uri.toString())&&this.shouldRelink(e,s)).forEach(e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,Ze.ComputedScopes),e.diagnostics=void 0}),await this.emitUpdate(e,t),await Fn(n);let o=this.sortDocuments(this.langiumDocuments.all.filter(e=>{var t;return e.state<Ze.Linked||(t=this.buildState.get(e.uri.toString()))===null||t===void 0||!t.completed}).toArray());await this.buildDocuments(o,this.updateBuildOptions,n)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(n=>n(e,t)))}sortDocuments(e){let t=0,n=e.length-1;for(;t<n;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;t<n&&([e[t],e[n]]=[e[n],e[t]])}return e}hasTextDocument(e){var t;return!!((t=this.textDocuments)!==null&&t!==void 0&&t.get(e.uri))}shouldRelink(e,t){return!!e.references.some(e=>e.error!==void 0)||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),yl.create(()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,n){this.prepareBuild(e,t),await this.runCancelable(e,Ze.Parsed,n,e=>this.langiumDocumentFactory.update(e,n)),await this.runCancelable(e,Ze.IndexedContent,n,e=>this.indexManager.updateContent(e,n)),await this.runCancelable(e,Ze.ComputedScopes,n,async e=>{let t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,n)}),await this.runCancelable(e,Ze.Linked,n,e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,n)),await this.runCancelable(e,Ze.IndexedReferences,n,e=>this.indexManager.updateReferences(e,n));let s=e.filter(e=>this.shouldValidate(e));await this.runCancelable(s,Ze.Validated,n,e=>this.validate(e,n));for(let n of e){let t=this.buildState.get(n.uri.toString());t&&(t.completed=!0)}}prepareBuild(e,t){for(let o of e){let s=o.uri.toString(),n=this.buildState.get(s);(!n||n.completed)&&this.buildState.set(s,{completed:!1,options:t,result:n?.result})}}async runCancelable(e,t,n,s){let o=e.filter(e=>e.state<t);for(let e of o)await Fn(n),await s(e),e.state=t,await this.notifyDocumentPhase(e,t,n);let i=e.filter(e=>e.state===t);await this.notifyBuildPhase(i,t,n),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),yl.create(()=>{this.buildPhaseListeners.delete(e,t)})}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),yl.create(()=>{this.documentPhaseListeners.delete(e,t)})}waitUntil(e,t,n){let s;if(t&&"path"in t?s=t:n=t,n??(n=We.CancellationToken.None),s){let t=this.langiumDocuments.getDocument(s);if(t&&t.state>e)return Promise.resolve(s)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(Ua):new Promise((t,o)=>{let i=this.onBuildPhase(e,()=>{if(i.dispose(),a.dispose(),s){let e=this.langiumDocuments.getDocument(s);t(e?.uri)}else t(void 0)}),a=n.onCancellationRequested(()=>{i.dispose(),a.dispose(),o(Ua)})})}async notifyDocumentPhase(e,t,n){let s=this.documentPhaseListeners.get(t).slice();for(let t of s)try{await t(e,n)}catch(e){if(!Hl(e))throw e}}async notifyBuildPhase(e,t,n){if(e.length===0)return;let s=this.buildPhaseListeners.get(t).slice();for(let t of s)await Fn(n),await t(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var s,o;let c=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,i=this.getBuildOptions(e).validation,a=typeof i=="object"?i:void 0,r=await c.validateDocument(e,a,t);e.diagnostics?e.diagnostics.push(...r):e.diagnostics=r;let n=this.buildState.get(e.uri.toString());if(n){(o=n.result)!==null&&o!==void 0||(n.result={});let e=(s=a?.categories)!==null&&s!==void 0?s:Fh.all;n.result.validationChecks?n.result.validationChecks.push(...e):n.result.validationChecks=[...e]}}getBuildOptions(e){var t,n;return(n=(t=this.buildState.get(e.uri.toString()))===null||t===void 0?void 0:t.options)!==null&&n!==void 0?n:{}}}}),nO=n(()=>{"use strict";Xn(),Zj(),go(),Ms(),Ai(),iO=class{static{e(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Hh,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let s=Oi(e).uri,n=[];return this.referenceIndex.forEach(e=>{e.forEach(e=>{Mi.equals(e.targetUri,s)&&e.targetPath===t&&n.push(e)})}),yt(n)}allElements(e,t){let n=yt(this.symbolIndex.keys());return t&&(n=n.filter(e=>!t||t.has(e))),n.map(t=>this.getFileDescriptions(t,e)).flat()}getFileDescriptions(e,t){var n;return t?this.symbolByTypeIndex.get(e,t,()=>{var n;return((n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]).filter(e=>this.astReflection.isSubtype(e.type,t))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=We.CancellationToken.None){let s=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),n=e.uri.toString();this.symbolIndex.set(n,s),this.symbolByTypeIndex.clear(n)}async updateReferences(e,t=We.CancellationToken.None){let n=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),n)}isAffected(e,t){let n=this.referenceIndex.get(e.uri.toString());return!!n&&n.some(e=>!e.local&&t.has(e.targetUri.toString()))}}}),Zw=n(()=>{"use strict";go(),Oo(),Ai(),Jw=class{static{e(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new Bi,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=(t=e.workspaceFolders)!==null&&t!==void 0?t:void 0}initialized(){return this.mutex.write(e=>{var t;return this.initializeWorkspace((t=this.folders)!==null&&t!==void 0?t:[],e)})}async initializeWorkspace(e,t=We.CancellationToken.None){let n=await this.performStartup(e);await Fn(t),await this.documentBuilder.build(n,this.initialBuildOptions,t)}async performStartup(t){let o=this.serviceRegistry.all.flatMap(e=>e.LanguageMetaData.fileExtensions),n=[],s=e(e=>{n.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)},"collector");return await this.loadAdditionalDocuments(t,s),await Promise.all(t.map(e=>[e,this.getRootFolder(e)]).map(async e=>this.traverseFolder(...e,o,s))),this._ready.resolve(),n}loadAdditionalDocuments(){return Promise.resolve()}getRootFolder(e){return Li.parse(e.uri)}async traverseFolder(e,t,n,s){let o=await this.fileSystemProvider.readDirectory(t);await Promise.all(o.map(async t=>{if(this.includeEntry(e,t,n))if(t.isDirectory)await this.traverseFolder(e,t.uri,n,s);else if(t.isFile){let e=await this.langiumDocuments.getOrCreateDocument(t.uri);s(e)}}))}includeEntry(e,t,n){let s=Mi.basename(t.uri);if(s.startsWith("."))return!1;if(t.isDirectory)return s!=="node_modules"&&s!=="out";if(t.isFile){let e=Mi.extname(t.uri);return n.includes(e)}return!1}}});function ly(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function uy(e){return e&&"modes"in e&&"defaultMode"in e}function hy(e){return!ly(e)&&!uy(e)}py=n(()=>{"use strict";sl(),Ww=class{static{e(this,"DefaultLexerErrorMessageProvider")}buildUnexpectedCharactersMessage(e,t,n,s,o){return d9.buildUnexpectedCharactersMessage(e,t,n,s,o)}buildUnableToPopLexerModeMessage(e){return d9.buildUnableToPopLexerModeMessage(e)}},my={mode:"full"},fy=class{static{e(this,"DefaultLexer")}constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let n=hy(t)?Object.values(t):t,s=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new Tn(n,{positionTracking:"full",skipValidations:s,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e){var n,s,i;let o=this.chevrotainLexer.tokenize(e);return{tokens:o.tokens,errors:o.errors,hidden:(n=o.groups.hidden)!==null&&n!==void 0?n:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,e)}}toTokenTypeDictionary(e){if(hy(e))return e;let n=uy(e)?Object.values(e.modes).flat():e,t={};return n.forEach(e=>t[e.name]=e),t}},e(ly,"isTokenTypeArray"),e(uy,"isIMultiModeLexerDefinition"),e(hy,"isTokenTypeDictionary")});function zw(e,t,n){let o,s;typeof e=="string"?(s=t,o=n):(s=e.range.start,o=t),s||(s=Re.create(0,0));let i=Cw(e),a=wy(o),r=_me({lines:i,position:s,options:a});return Cme({index:0,tokens:r,position:s})}function Mw(e,t){let s=wy(t),n=Cw(e);if(n.length===0)return!1;let o=n[0],i=n[n.length-1],a=s.start,r=s.end;return!!a?.exec(o)&&!!r?.exec(i)}function Cw(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(mN)}function _me(e){var o,i,a;let t=[],n=e.position.line,s=e.position.character;for(let l=0;l<e.lines.length;l++){let d=l===0,u=l===e.lines.length-1,r=e.lines[l],c=0;if(d&&e.options.start){let t=(o=e.options.start)===null||o===void 0?void 0:o.exec(r);t&&(c=t.index+t[0].length)}else{let t=(i=e.options.line)===null||i===void 0?void 0:i.exec(r);t&&(c=t.index+t[0].length)}if(u){let t=(a=e.options.end)===null||a===void 0?void 0:a.exec(r);t&&(r=r.substring(0,t.index))}if(r=r.substring(0,xme(r)),jy(r,c)>=r.length){if(t.length>0){let e=Re.create(n,s);t.push({type:"break",content:"",range:xe.create(e,e)})}}else{rw.lastIndex=c;let e=rw.exec(r);if(e){let o=e[0],i=e[1],a=Re.create(n,s+c),l=Re.create(n,s+c+o.length);t.push({type:"tag",content:i,range:xe.create(a,l)}),c+=o.length,c=jy(r,c)}if(c<r.length){let e=r.substring(c),o=Array.from(e.matchAll(Pme));t.push(...wme(o,e,n,s+c))}}n++,s=0}return t.length>0&&t[t.length-1].type==="break"?t.slice(0,-1):t}function wme(e,t,n,s){let o=[];if(e.length===0){let e=Re.create(n,s),i=Re.create(n,s+t.length);o.push({type:"text",content:t,range:xe.create(e,i)})}else{let i=0;for(let r of e){let c=r.index,d=t.substring(i,c);d.length>0&&o.push({type:"text",content:t.substring(i,c),range:xe.create(Re.create(n,i+s),Re.create(n,c+s))});let a=d.length+1,l=r[1];if(o.push({type:"inline-tag",content:l,range:xe.create(Re.create(n,i+a+s),Re.create(n,i+a+l.length+s))}),a+=l.length,r.length===4){a+=r[2].length;let e=r[3];o.push({type:"text",content:e,range:xe.create(Re.create(n,i+a+s),Re.create(n,i+a+e.length+s))})}else o.push({type:"text",content:"",range:xe.create(Re.create(n,i+a+s),Re.create(n,i+a+s))});i=c+r[0].length}let a=t.substring(i);a.length>0&&o.push({type:"text",content:a,range:xe.create(Re.create(n,i+s),Re.create(n,i+s+a.length))})}return o}function jy(e,t){let n=e.substring(t).match(Hme);return n?t+n.index:e.length}function xme(e){let t=e.match(Ime);if(t&&typeof t.index=="number")return t.index}function Cme(e){let n=Re.create(e.position.line,e.position.character);if(e.tokens.length===0)return new sw([],xe.create(n,n));let t=[];for(var s,o,i,a;e.index<e.tokens.length;){let n=Eme(e,t[t.length-1]);n&&t.push(n)}let r=(o=(s=t[0])===null||s===void 0?void 0:s.range.start)!==null&&o!==void 0?o:n,c=(a=(i=t[t.length-1])===null||i===void 0?void 0:i.range.end)!==null&&a!==void 0?a:n;return new sw(t,xe.create(r,c))}function Eme(e,t){let n=e.tokens[e.index];if(n.type==="tag")return bw(e,!1);if(n.type==="text"||n.type==="inline-tag")return jw(e);kme(n,t),e.index++}function kme(e,t){if(t){let n=new ew("",e.range);"inlines"in t?t.inlines.push(n):t.content.inlines.push(n)}}function jw(e){let t=e.tokens[e.index],o=t,n=t,s=[];for(;t&&t.type!=="break"&&t.type!=="tag";)s.push(Sme(e)),n=t,t=e.tokens[e.index];return new Ay(s,xe.create(o.range.start,n.range.end))}function Sme(e){return e.tokens[e.index].type==="inline-tag"?bw(e,!0):vw(e)}function bw(e,t){let n=e.tokens[e.index++],s=n.content.substring(1),o=e.tokens[e.index];if(o?.type==="text")if(t){let o=vw(e);return new Ey(s,new Ay([o],o.range),t,xe.create(n.range.start,o.range.end))}else{let o=jw(e);return new Ey(s,o,t,xe.create(n.range.start,o.range.end))}else{let e=n.range;return new Ey(s,new Ay([],e),t,e)}}function vw(e){let t=e.tokens[e.index++];return new ew(t.content,t.range)}function wy(e){if(!e)return wy({start:"/**",end:"*/",line:"*"});let{start:t,end:n,line:s}=e;return{start:xy(t,!0),end:xy(n,!1),line:xy(s,!0)}}function xy(e,t){if(typeof e=="string"||typeof e=="object"){let n=typeof e=="string"?Q0(e):e.source;return t?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return e}function Dme(e,t,n){var s,o;if(e==="linkplain"||e==="linkcode"||e==="link"){let a=t.indexOf(" "),i=t;if(a>0){let e=jy(t,a);i=t.substring(e),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&n.link==="code")&&(i=`\`${i}\``),(o=(s=n.renderLink)===null||s===void 0?void 0:s.call(n,t,i))!==null&&o!==void 0?o:Nme(t,i)}}function Nme(e,t){try{return Li.parse(e,!0),`[${t}](${e})`}catch{return e}}function dw(e){return e.endsWith(`
`)?`
`:`

`}J_=n(()=>{"use strict";TE(),n2(),Ai(),e(zw,"parseJSDoc"),e(Mw,"isJSDoc"),e(Cw,"getLines"),rw=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Pme=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,e(_me,"tokenize"),e(wme,"buildInlineTokens"),Hme=/\S/,Ime=/\s*$/,e(jy,"skipWhitespace"),e(xme,"lastCharacter"),e(Cme,"parseJSDocComment"),e(Eme,"parseJSDocElement"),e(kme,"appendEmptyLine"),e(jw,"parseJSDocText"),e(Sme,"parseJSDocInline"),e(bw,"parseJSDocTag"),e(vw,"parseJSDocLine"),e(wy,"normalizeOptions"),e(xy,"normalizeOption"),sw=class{static{e(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let t of this.elements)if(e.length===0)e=t.toString();else{let n=t.toString();e+=dw(e)+n}return e.trim()}toMarkdown(e){let t="";for(let n of this.elements)if(t.length===0)t=n.toMarkdown(e);else{let s=n.toMarkdown(e);t+=dw(t)+s}return t.trim()}},Ey=class{static{e(this,"JSDocTagImpl")}constructor(e,t,n,s){this.name=e,this.content=t,this.inline=n,this.range=s}toString(){let e=`@${this.name}`,t=this.content.toString();return this.content.inlines.length===1?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}
${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,n;return(n=(t=e?.renderTag)===null||t===void 0?void 0:t.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){let s=this.content.toMarkdown(e);if(this.inline){let t=Dme(this.name,s,e??{});if(typeof t=="string")return t}let n="";e?.tag==="italic"||e?.tag===void 0?n="*":e?.tag==="bold"?n="**":e?.tag==="bold-italic"&&(n="***");let t=`${n}@${this.name}${n}`;return this.content.inlines.length===1?t=`${t} — ${s}`:this.content.inlines.length>1&&(t=`${t}
${s}`),this.inline?`{${t}}`:t}},e(Dme,"renderInlineTag"),e(Nme,"renderLinkDefault"),Ay=class{static{e(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let n=this.inlines[t],s=this.inlines[t+1];e+=n.toString(),s&&s.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let t="";for(let n=0;n<this.inlines.length;n++){let s=this.inlines[n],o=this.inlines[n+1];t+=s.toMarkdown(e),o&&o.range.start.line>s.range.start.line&&(t+=`
`)}return t}},ew=class{static{e(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}},e(dw,"fillNewlines")}),Q_=n(()=>{"use strict";Xn(),J_(),Z_=class{static{e(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(t){let n=this.commentProvider.getComment(t);if(n&&Mw(n))return zw(n).toMarkdown({renderLink:e((e,n)=>this.documentationLinkRenderer(t,e,n),"renderLink"),renderTag:e(e=>this.documentationTagRenderer(t,e),"renderTag")})}documentationLinkRenderer(e,t,n){var o;let s=(o=this.findNameInPrecomputedScopes(e,t))!==null&&o!==void 0?o:this.findNameInGlobalScope(e,t);if(s&&s.nameSegment){let e=s.nameSegment.range.start.line+1,t=s.nameSegment.range.start.character+1,o=s.documentUri.with({fragment:`L${e},${t}`});return`[${n}](${o.toString()})`}}documentationTagRenderer(){}findNameInPrecomputedScopes(e,t){let s=Oi(e).precomputedScopes;if(!s)return;let n=e;do{let e=s.get(n).find(e=>e.name===t);if(e)return e;n=n.$container}while(n)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(e=>e.name===t)}}}),G_=n(()=>{"use strict";Jj(),ni(),X_=class{static{e(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return ex(e)?e.$comment:(t=sP(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||t===void 0?void 0:t.text}}}),q_=n(()=>{"use strict";Oo(),iy(),Y_=class{static{e(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}},Qme=class{static{e(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}}),this.workerPool.push(e)}}async parse(e,t){let s=await this.acquireParserWorker(t),n=new Bi,o,i=t.onCancellationRequested(()=>{o=setTimeout(()=>{this.terminateWorker(s)},this.terminationDelay)});return s.parse(e).then(e=>{let t=this.hydrator.hydrate(e);n.resolve(t)}).catch(e=>{n.reject(e)}).finally(()=>{i.dispose(),clearTimeout(o)}),n.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let e of this.workerPool)if(e.ready)return e.lock(),e;let t=new Bi;return e.onCancellationRequested(()=>{let e=this.queue.indexOf(t);e>=0&&this.queue.splice(e,1),t.reject(Ua)}),this.queue.push(t),t.promise}},Zme=class{static{e(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,n,s){this.onReadyEmitter=new ch.Emitter,this.deferred=new Bi,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=s,t(e=>{let t=e;this.deferred.resolve(t),this.unlock()}),n(e=>{this.deferred.reject(e),this.unlock()})}terminate(){this.deferred.reject(Ua),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Bi,this.sendMessage(e),this.deferred.promise}}}),U_=n(()=>{"use strict";go(),Oo(),K_=class{static{e(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new We.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=xj();return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,n=We.CancellationToken.None){let s=new Bi,o={action:t,deferred:s,cancellationToken:n};return e.push(o),this.performNextOperation(),s.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:e,deferred:t,cancellationToken:n})=>{try{let s=await Promise.resolve().then(()=>e(n));t.resolve(s)}catch(e){Hl(e)?t.resolve(void 0):t.reject(e)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}}),$_=n(()=>{"use strict";cj(),zi(),di(),Xn(),j0(),ni(),W_=class{static{e(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new Wh,this.tokenTypeIdMap=new Wh,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(e=>Object.assign(Object.assign({},e),{message:e.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let t=new Map,n=new Map;for(let n of Aa(e))t.set(n,{});if(e.$cstNode)for(let t of Z4(e.$cstNode))n.set(t,{});return{astNodes:t,cstNodes:n}}dehydrateAstNode(e,t){let n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[o,s]of Object.entries(e))if(!o.startsWith("$"))if(Array.isArray(s)){let e=[];n[o]=e;for(let n of s)zt(n)?e.push(this.dehydrateAstNode(n,t)):Os(n)?e.push(this.dehydrateReference(n,t)):e.push(n)}else zt(s)?n[o]=this.dehydrateAstNode(s,t):Os(s)?n[o]=this.dehydrateReference(s,t):s!==void 0&&(n[o]=s);return n}dehydrateReference(e,t){let n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=t.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,t){let n=t.cstNodes.get(e);return o5(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=t.astNodes.get(e.astNode),Sa(e)?n.content=e.content.map(e=>this.dehydrateCstNode(e,t)):vl(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){let t=e.value,n=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,n)}}createHydrationContext(e){let t=new Map,n=new Map;for(let n of Aa(e))t.set(n,{});let s;if(e.$cstNode)for(let o of Z4(e.$cstNode)){let t;"fullText"in o?(t=new aj(o.fullText),s=t):"content"in o?t=new Sf:"tokenType"in o&&(t=this.hydrateCstLeafNode(o)),t&&(n.set(o,t),t.root=s)}return{astNodes:t,cstNodes:n}}hydrateAstNode(e,t){let n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=t.cstNodes.get(e.$cstNode));for(let[o,s]of Object.entries(e))if(!o.startsWith("$"))if(Array.isArray(s)){let e=[];n[o]=e;for(let i of s)zt(i)?e.push(this.setParent(this.hydrateAstNode(i,t),n)):Os(i)?e.push(this.hydrateReference(i,n,o,t)):e.push(i)}else zt(s)?n[o]=this.setParent(this.hydrateAstNode(s,t),n):Os(s)?n[o]=this.hydrateReference(s,n,o,t):s!==void 0&&(n[o]=s);return n}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,n,s){return this.linker.buildReference(t,n,s.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,n=0){let s=t.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(s.grammarSource=this.getGrammarElement(e.grammarSource)),s.astNode=t.astNodes.get(e.astNode),Sa(s))for(let o of e.content){let i=this.hydrateCstNode(o,t,n++);s.content.push(i)}return s}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),n=e.offset,s=e.length,o=e.startLine,i=e.startColumn,a=e.endLine,r=e.endColumn,c=e.hidden;return new zf(n,s,{start:{line:o,character:i},end:{line:a,character:r}},t,c)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let t of Aa(this.grammar))g5(t)&&this.grammarElementIdMap.set(t,e++)}}});function sr(t){return{documentation:{CommentProvider:e(e=>new X_(e),"CommentProvider"),DocumentationProvider:e(e=>new Z_(e),"DocumentationProvider")},parser:{AsyncParser:e(e=>new Y_(e),"AsyncParser"),GrammarConfig:e(e=>_z(e),"GrammarConfig"),LangiumParser:e(e=>zC(e),"LangiumParser"),CompletionParser:e(e=>NC(e),"CompletionParser"),ValueConverter:e(()=>new _j,"ValueConverter"),TokenBuilder:e(()=>new g8,"TokenBuilder"),Lexer:e(e=>new fy(e),"Lexer"),ParserErrorMessageProvider:e(()=>new hj,"ParserErrorMessageProvider"),LexerErrorMessageProvider:e(()=>new Ww,"LexerErrorMessageProvider")},workspace:{AstNodeLocator:e(()=>new CO,"AstNodeLocator"),AstNodeDescriptionProvider:e(e=>new TO(e),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:e(e=>new FO(e),"ReferenceDescriptionProvider")},references:{Linker:e(e=>new xx(e),"Linker"),NameProvider:e(()=>new yx,"NameProvider"),ScopeProvider:e(e=>new nx(e),"ScopeProvider"),ScopeComputation:e(e=>new mx(e),"ScopeComputation"),References:e(e=>new bx(e),"References")},serializer:{Hydrator:e(e=>new W_(e),"Hydrator"),JsonSerializer:e(e=>new ZO(e),"JsonSerializer")},validation:{DocumentValidator:e(e=>new PO(e),"DocumentValidator"),ValidationRegistry:e(e=>new UO(e),"ValidationRegistry")},shared:e(()=>t.shared,"shared")}}function ar(t){return{ServiceRegistry:e(e=>new XO(e),"ServiceRegistry"),workspace:{LangiumDocuments:e(e=>new Tx(e),"LangiumDocuments"),LangiumDocumentFactory:e(e=>new Lx(e),"LangiumDocumentFactory"),DocumentBuilder:e(e=>new lO(e),"DocumentBuilder"),IndexManager:e(e=>new iO(e),"IndexManager"),WorkspaceManager:e(e=>new Jw(e),"WorkspaceManager"),FileSystemProvider:e(e=>t.fileSystemProvider(e),"FileSystemProvider"),WorkspaceLock:e(()=>new K_,"WorkspaceLock"),ConfigurationProvider:e(e=>new pO(e),"ConfigurationProvider")}}}D_=n(()=>{"use strict";jz(),DC(),SC(),yj(),OC(),Ox(),jx(),vx(),hx(),tx(),Jj(),GO(),zO(),xh(),AO(),wO(),fO(),cO(),c0(),nO(),Zw(),py(),Q_(),G_(),q8(),q_(),U_(),$_(),e(sr,"createDefaultCoreModule"),e(ar,"createDefaultSharedCoreModule")});function Hn(e,t,n,s,o,i,a,r,c){let l=[e,t,n,s,o,i,a,r,c].reduce(Y2,{});return F_(l)}function T_(e){if(e&&e[k_])for(let t of Object.values(e))T_(t);return e}function F_(t,n){let s=new Proxy({},{deleteProperty:e(()=>!1,"deleteProperty"),set:e(()=>{throw new Error("Cannot set property on injected service container")},"set"),get:e((e,o)=>o===k_||M_(e,o,t,n||s),"get"),getOwnPropertyDescriptor:e((e,o)=>(M_(e,o,t,n||s),Object.getOwnPropertyDescriptor(e,o)),"getOwnPropertyDescriptor"),has:e((e,n)=>n in t,"has"),ownKeys:e(()=>[...Object.getOwnPropertyNames(t)],"ownKeys")});return s}function M_(e,t,n,s){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===E_)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in n){let o=n[t];e[t]=E_;try{e[t]=typeof o=="function"?o(s):F_(o,s)}catch(n){throw e[t]=n instanceof Error?n:void 0,n}return e[t]}}function Y2(e,t){if(t)for(let[s,n]of Object.entries(t))if(n!==void 0){let t=e[s];t!==null&&n!==null&&typeof t=="object"&&typeof n=="object"?e[s]=Y2(t,n):e[s]=n}return e}C_=n(()=>{"use strict";(function(e){e.merge=(e,t)=>Y2(Y2({},e),t)})(A_||(A_={})),e(Hn,"inject"),k_=Symbol("isProxy"),e(T_,"eagerLoad"),e(F_,"_inject"),E_=Symbol(),e(M_,"_resolve"),e(Y2,"_merge")}),g8e=n(()=>{"use strict"}),v8e=n(()=>{"use strict";G_(),Q_(),J_()}),b8e=n(()=>{"use strict"}),j8e=n(()=>{"use strict";jz(),b8e()}),x8e=n(()=>{"use strict";sl(),yj(),py(),Ly={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]},function(e){e.REGULAR="indentation-sensitive",e.IGNORE_INDENTATION="ignore-indentation"}(Zl||(Zl={})),y_=class extends g8{static{e(this,"IndentationAwareTokenBuilder")}constructor(e=Ly){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},Ly),e),this.indentTokenType=T4({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=T4({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,t){let a=super.buildTokens(e,t);if(!ly(a))throw new Error("Invalid tokens built by default builder");let{indentTokenName:c,dedentTokenName:l,whitespaceTokenName:d,ignoreIndentationDelimiters:r}=this.options,s,o,n,i=[];for(let e of a){for(let[t,n]of r)e.name===t?e.PUSH_MODE=Zl.IGNORE_INDENTATION:e.name===n&&(e.POP_MODE=!0);e.name===l?s=e:e.name===c?o=e:e.name===d?n=e:i.push(e)}if(!s||!o||!n)throw new Error("Some indentation/whitespace tokens not found!");return r.length>0?{modes:{[Zl.REGULAR]:[s,o,...i,n],[Zl.IGNORE_INDENTATION]:[...i,n]},defaultMode:Zl.REGULAR}:[s,o,n,...i]}flushLexingReport(e){let t=super.flushLexingReport(e);return Object.assign(Object.assign({},t),{remainingDedents:this.flushRemainingDedents(e)})}isStartOfLine(e,t){return t===0||`\r
`.includes(e[t-1])}matchWhitespace(e,t){var o;this.whitespaceRegExp.lastIndex=t;let i=this.whitespaceRegExp.exec(e);return{currIndentLevel:(o=i?.[0].length)!==null&&o!==void 0?o:0,prevIndentLevel:this.indentationStack.at(-1),match:i}}createIndentationTokenInstance(e,t,n,s){let o=this.getLineNumber(t,s);return Lm(e,n,s,s+n.length,o,o,1,n.length)}getLineNumber(e,t){return e.substring(0,t).split(/\r\n|\r|\n/).length}indentMatcher(e,t,n,s){if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:o,prevIndentLevel:i,match:a}=this.matchWhitespace(e,t,n,s);return o<=i?null:(this.indentationStack.push(o),a)}dedentMatcher(e,t,n,s){var o,i,a,r;if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:c,prevIndentLevel:d,match:u}=this.matchWhitespace(e,t,n,s);if(c>=d)return null;let l=this.indentationStack.lastIndexOf(c);if(l===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${c} at offset: ${t}. Current indentation stack: ${this.indentationStack}`,offset:t,length:(i=(o=u?.[0])===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0,line:this.getLineNumber(e,t),column:1}),null;let h=this.indentationStack.length-l-1,m=(r=(a=e.substring(0,t).match(/[\r\n]+$/))===null||a===void 0?void 0:a[0].length)!==null&&r!==void 0?r:1;for(let s=0;s<h;s++){let o=this.createIndentationTokenInstance(this.dedentTokenType,e,"",t-(m-1));n.push(o),this.indentationStack.pop()}return null}buildTerminalToken(e){let t=super.buildTerminalToken(e),{indentTokenName:s,dedentTokenName:o,whitespaceTokenName:n}=this.options;return t.name===s?this.indentTokenType:t.name===o?this.dedentTokenType:t.name===n?T4({name:n,pattern:this.whitespaceRegExp,group:Tn.SKIPPED}):t}flushRemainingDedents(e){let t=[];for(;this.indentationStack.length>1;)t.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],t}},O8e=class extends fy{static{e(this,"IndentationAwareLexer")}constructor(e){if(super(e),e.parser.TokenBuilder instanceof y_)this.indentationTokenBuilder=e.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(e,t=my){let n=super.tokenize(e),i=n.report;t?.mode==="full"&&n.tokens.push(...i.remainingDedents),i.remainingDedents=[];let{indentTokenType:a,dedentTokenType:r}=this.indentationTokenBuilder,c=a.tokenTypeIdx,l=r.tokenTypeIdx,s=[],o=n.tokens.length-1;for(let e=0;e<o;e++){let t=n.tokens[e],i=n.tokens[e+1];if(t.tokenTypeIdx===c&&i.tokenTypeIdx===l){e++;continue}s.push(t)}return o>=0&&s.push(n.tokens[o]),n.tokens=s,n}}}),C8e=n(()=>{"use strict"}),E8e=n(()=>{"use strict";q_(),DC(),cj(),x8e(),SC(),q8(),py(),vj(),C8e(),yj(),OC()}),k8e=n(()=>{"use strict";Ox(),jx(),vx(),lx(),hx(),tx()}),A8e=n(()=>{"use strict";$_(),Jj()}),v_=n(()=>{"use strict";j_=class{static{e(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},Fr={fileSystemProvider:e(()=>new j_,"fileSystemProvider")}});function T8e(){let e=Hn(ar(Fr),N8e),t=Hn(sr({shared:e}),D8e);return e.ServiceRegistry.register(t),t}function zr(e){var t;let s=T8e(),n=s.serializer.JsonSerializer.deserialize(e);return s.shared.workspace.LangiumDocumentFactory.fromModel(n,Li.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}L8e=n(()=>{"use strict";D_(),C_(),zi(),v_(),Ai(),D8e={Grammar:e(()=>{},"Grammar"),LanguageMetaData:e(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},N8e={AstReflection:e(()=>new Z5,"AstReflection")},e(T8e,"createMinimalGrammarServices"),e(zr,"loadGrammarFromJson")}),Hy={},de(Hy,{AstUtils:()=>J5,BiMap:()=>Wh,Cancellation:()=>We,ContextCache:()=>Hh,CstUtils:()=>a5,DONE_RESULT:()=>An,Deferred:()=>Bi,Disposable:()=>yl,DisposableCache:()=>Ih,DocumentCache:()=>ix,EMPTY_STREAM:()=>wm,ErrorWithLocation:()=>om,GrammarUtils:()=>y7,MultiMap:()=>rl,OperationCancelled:()=>Ua,Reduction:()=>pm,RegExpUtils:()=>f7,SimpleCache:()=>Xj,StreamImpl:()=>$o,TreeStreamImpl:()=>Vl,URI:()=>Li,UriUtils:()=>Mi,WorkspaceCache:()=>Qj,assertUnreachable:()=>ec,delayNextTick:()=>Oj,interruptAndCheck:()=>Fn,isOperationCancelled:()=>Hl,loadGrammarFromJson:()=>zr,setInterruptionPeriod:()=>fC,startCancelableOperation:()=>xj,stream:()=>yt}),P8e=n(()=>{"use strict";Zj(),iy(),$6(Hy,ch),j0(),uO(),p5(),L8e(),Oo(),Ms(),Ai(),Xn(),go(),ni(),ci(),n2()}),H8e=n(()=>{"use strict";zO(),xh()}),I8e=n(()=>{"use strict";AO(),wO(),fO(),cO(),c0(),v_(),nO(),U_(),Zw()}),f_={},de(f_,{AbstractAstReflection:()=>i5,AbstractCstNode:()=>ij,AbstractLangiumParser:()=>dj,AbstractParserErrorMessageProvider:()=>sE,AbstractThreadedAsyncParser:()=>Qme,AstUtils:()=>J5,BiMap:()=>Wh,Cancellation:()=>We,CompositeCstNodeImpl:()=>Sf,ContextCache:()=>Hh,CstNodeBuilder:()=>FE,CstUtils:()=>a5,DEFAULT_TOKENIZE_OPTIONS:()=>my,DONE_RESULT:()=>An,DatatypeSymbol:()=>bf,DefaultAstNodeDescriptionProvider:()=>TO,DefaultAstNodeLocator:()=>CO,DefaultAsyncParser:()=>Y_,DefaultCommentProvider:()=>X_,DefaultConfigurationProvider:()=>pO,DefaultDocumentBuilder:()=>lO,DefaultDocumentValidator:()=>PO,DefaultHydrator:()=>W_,DefaultIndexManager:()=>iO,DefaultJsonSerializer:()=>ZO,DefaultLangiumDocumentFactory:()=>Lx,DefaultLangiumDocuments:()=>Tx,DefaultLexer:()=>fy,DefaultLexerErrorMessageProvider:()=>Ww,DefaultLinker:()=>xx,DefaultNameProvider:()=>yx,DefaultReferenceDescriptionProvider:()=>FO,DefaultReferences:()=>bx,DefaultScopeComputation:()=>mx,DefaultScopeProvider:()=>nx,DefaultServiceRegistry:()=>XO,DefaultTokenBuilder:()=>g8,DefaultValueConverter:()=>_j,DefaultWorkspaceLock:()=>K_,DefaultWorkspaceManager:()=>Jw,Deferred:()=>Bi,Disposable:()=>yl,DisposableCache:()=>Ih,DocumentCache:()=>ix,DocumentState:()=>Ze,DocumentValidator:()=>_o,EMPTY_SCOPE:()=>whe,EMPTY_STREAM:()=>wm,EmptyFileSystem:()=>Fr,EmptyFileSystemProvider:()=>j_,ErrorWithLocation:()=>om,GrammarAST:()=>BR,GrammarUtils:()=>y7,IndentationAwareLexer:()=>O8e,IndentationAwareTokenBuilder:()=>y_,JSDocDocumentationProvider:()=>Z_,LangiumCompletionParser:()=>QC,LangiumParser:()=>aE,LangiumParserErrorMessageProvider:()=>hj,LeafCstNodeImpl:()=>zf,LexingMode:()=>Zl,MapScope:()=>dx,Module:()=>A_,MultiMap:()=>rl,OperationCancelled:()=>Ua,ParserWorker:()=>Zme,Reduction:()=>pm,RegExpUtils:()=>f7,RootCstNodeImpl:()=>aj,SimpleCache:()=>Xj,StreamImpl:()=>$o,StreamScope:()=>qj,TextDocument:()=>zj,TreeStreamImpl:()=>Vl,URI:()=>Li,UriUtils:()=>Mi,ValidationCategory:()=>Fh,ValidationRegistry:()=>UO,ValueConverter:()=>Zi,WorkspaceCache:()=>Qj,assertUnreachable:()=>ec,createCompletionParser:()=>NC,createDefaultCoreModule:()=>sr,createDefaultSharedCoreModule:()=>ar,createGrammarConfig:()=>_z,createLangiumParser:()=>zC,createParser:()=>fj,delayNextTick:()=>Oj,diagnosticData:()=>cl,eagerLoad:()=>T_,getDiagnosticRange:()=>$O,indentationBuilderDefaultOptions:()=>Ly,inject:()=>Hn,interruptAndCheck:()=>Fn,isAstNode:()=>zt,isAstNodeDescription:()=>BP,isAstNodeWithComment:()=>ex,isCompositeCstNode:()=>Sa,isIMultiModeLexerDefinition:()=>uy,isJSDoc:()=>Mw,isLeafCstNode:()=>vl,isLinkingError:()=>C4,isNamed:()=>_x,isOperationCancelled:()=>Hl,isReference:()=>Os,isRootCstNode:()=>o5,isTokenTypeArray:()=>ly,isTokenTypeDictionary:()=>hy,loadGrammarFromJson:()=>zr,parseJSDoc:()=>zw,prepareLangiumParser:()=>TC,setInterruptionPeriod:()=>fC,startCancelableOperation:()=>xj,stream:()=>yt,toDiagnosticData:()=>HO,toDiagnosticSeverity:()=>wh}),fo=n(()=>{"use strict";D_(),C_(),GO(),g8e(),di(),v8e(),j8e(),E8e(),k8e(),A8e(),P8e(),$6(f_,Hy),H8e(),I8e(),zi()});function $8e(e){return xo.isInstance(e,P2)}function W8e(e){return xo.isInstance(e,b2)}function U8e(e){return xo.isInstance(e,u2)}function K8e(e){return xo.isInstance(e,t3)}function q8e(e){return xo.isInstance(e,c2)}function Y8e(e){return xo.isInstance(e,f3)}function G8e(e){return xo.isInstance(e,i2)}function X8e(e){return xo.isInstance(e,x3)}function Q8e(e){return xo.isInstance(e,S3)}function Z8e(e){return xo.isInstance(e,T3)}function J8e(e){return xo.isInstance(e,z3)}Ds=n(()=>{"use strict";fo(),fo(),fo(),fo(),efe=Object.defineProperty,T=e((e,t)=>efe(e,"name",{value:t,configurable:!0}),"__name"),a_="Statement",P2="Architecture",e($8e,"isArchitecture"),T($8e,"isArchitecture"),H2="Axis",b2="Branch",e(W8e,"isBranch"),T(W8e,"isBranch"),G2="Checkout",X2="CherryPicking",u2="Commit",e(U8e,"isCommit"),T(U8e,"isCommit"),t3="Common",e(K8e,"isCommon"),T(K8e,"isCommon"),Gy="Curve",H6="Edge",Xy="Entry",c2="GitGraph",e(q8e,"isGitGraph"),T(q8e,"isGitGraph"),Yy="Group",f3="Info",e(Y8e,"isInfo"),T(Y8e,"isInfo"),Vy="Junction",i2="Merge",e(G8e,"isMerge"),T(G8e,"isMerge"),Iy="Option",x3="Packet",e(X8e,"isPacket"),T(X8e,"isPacket"),S3="PacketBlock",e(Q8e,"isPacketBlock"),T(Q8e,"isPacketBlock"),T3="Pie",e(Z8e,"isPie"),T(Z8e,"isPie"),z3="PieSection",e(J8e,"isPieSection"),T(J8e,"isPieSection"),zy="Radar",Ty="Service",D3="Direction",R_=class extends i5{static{e(this,"MermaidAstReflection")}static{T(this,"MermaidAstReflection")}getAllTypes(){return[P2,H2,b2,G2,X2,u2,t3,Gy,D3,H6,Xy,c2,Yy,f3,Vy,i2,Iy,x3,S3,T3,z3,zy,Ty,a_]}computeIsSubtype(e,t){switch(e){case b2:case G2:case X2:case u2:case i2:return this.isSubtype(a_,t);case D3:return this.isSubtype(c2,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Entry:axis":return H2;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case P2:return{name:P2,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case H2:return{name:H2,properties:[{name:"label"},{name:"name"}]};case b2:return{name:b2,properties:[{name:"name"},{name:"order"}]};case G2:return{name:G2,properties:[{name:"branch"}]};case X2:return{name:X2,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case u2:return{name:u2,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case t3:return{name:t3,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Gy:return{name:Gy,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case H6:return{name:H6,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case Xy:return{name:Xy,properties:[{name:"axis"},{name:"value"}]};case c2:return{name:c2,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case Yy:return{name:Yy,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case f3:return{name:f3,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Vy:return{name:Vy,properties:[{name:"id"},{name:"in"}]};case i2:return{name:i2,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case Iy:return{name:Iy,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case x3:return{name:x3,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case S3:return{name:S3,properties:[{name:"end"},{name:"label"},{name:"start"}]};case T3:return{name:T3,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case z3:return{name:z3,properties:[{name:"label"},{name:"value"}]};case zy:return{name:zy,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case Ty:return{name:Ty,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case D3:return{name:D3,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},xo=new R_,Sfe=T(()=>Afe??(Afe=zr(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),Ffe=T(()=>Mfe??(Mfe=zr(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),zfe=T(()=>Tfe??(Tfe=zr(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PieGrammar"),Nfe=T(()=>Dfe??(Dfe=zr(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),Rfe=T(()=>Lfe??(Lfe=zr(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),Hfe=T(()=>Pfe??(Pfe=zr(`{"$type":"Grammar","isDeclared":true,"name":"Radar","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@12"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@12"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9\\\\-_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),Ife={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Bfe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Vfe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$fe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Wfe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ufe={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ru={AstReflection:T(()=>new R_,"AstReflection")},qfe={Grammar:T(()=>Sfe(),"Grammar"),LanguageMetaData:T(()=>Ife,"LanguageMetaData"),parser:{}},Yfe={Grammar:T(()=>Ffe(),"Grammar"),LanguageMetaData:T(()=>Bfe,"LanguageMetaData"),parser:{}},Gfe={Grammar:T(()=>zfe(),"Grammar"),LanguageMetaData:T(()=>Vfe,"LanguageMetaData"),parser:{}},Xfe={Grammar:T(()=>Nfe(),"Grammar"),LanguageMetaData:T(()=>$fe,"LanguageMetaData"),parser:{}},Qfe={Grammar:T(()=>Rfe(),"Grammar"),LanguageMetaData:T(()=>Wfe,"LanguageMetaData"),parser:{}},Zfe={Grammar:T(()=>Hfe(),"Grammar"),LanguageMetaData:T(()=>Ufe,"LanguageMetaData"),parser:{}},Jfe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,e6e=/accTitle[\t ]*:([^\n\r]*)/,t6e=/title([\t ][^\n\r]*|)/,n6e={ACC_DESCR:Jfe,ACC_TITLE:e6e,TITLE:t6e},ky=class extends _j{static{e(this,"AbstractMermaidValueConverter")}static{T(this,"AbstractMermaidValueConverter")}runConverter(e,t,n){let s=this.runCommonConverter(e,t,n);return s===void 0&&(s=this.runCustomConverter(e,t,n)),s===void 0?super.runConverter(e,t,n):s}runCommonConverter(e,t){let o=n6e[e.name];if(o===void 0)return;let s=o.exec(t);if(s!==null){if(s[1]!==void 0)return s[1].trim().replace(/[\t ]{2,}/gm," ");if(s[2]!==void 0)return s[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},B3=class extends ky{static{e(this,"CommonValueConverter")}static{T(this,"CommonValueConverter")}runCustomConverter(){}},Zr=class extends g8{static{e(this,"AbstractMermaidTokenBuilder")}static{T(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,n){let s=super.buildKeywordTokens(e,t,n);return s.forEach(e=>{this.keywords.has(e.name)&&e.PATTERN!==void 0&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),s}},pZe=class extends Zr{static{e(this,"CommonTokenBuilder")}static{T(this,"CommonTokenBuilder")}}});function fw(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),Qfe,gw);return t.ServiceRegistry.register(n),{shared:t,GitGraph:n}}yw=n(()=>{"use strict";Ds(),fo(),l6e=class extends Zr{static{e(this,"GitGraphTokenBuilder")}static{T(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},gw={parser:{TokenBuilder:T(()=>new l6e,"TokenBuilder"),ValueConverter:T(()=>new B3,"ValueConverter")}},e(fw,"createGitGraphServices"),T(fw,"createGitGraphServices")});function _w(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),qfe,ww);return t.ServiceRegistry.register(n),{shared:t,Info:n}}Fw=n(()=>{"use strict";Ds(),fo(),m6e=class extends Zr{static{e(this,"InfoTokenBuilder")}static{T(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},ww={parser:{TokenBuilder:T(()=>new m6e,"TokenBuilder"),ValueConverter:T(()=>new B3,"ValueConverter")}},e(_w,"createInfoServices"),T(_w,"createInfoServices")});function Dw(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),Yfe,Nw);return t.ServiceRegistry.register(n),{shared:t,Packet:n}}Lw=n(()=>{"use strict";Ds(),fo(),v6e=class extends Zr{static{e(this,"PacketTokenBuilder")}static{T(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},Nw={parser:{TokenBuilder:T(()=>new v6e,"TokenBuilder"),ValueConverter:T(()=>new B3,"ValueConverter")}},e(Dw,"createPacketServices"),T(Dw,"createPacketServices")});function Uw(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),Gfe,Gw);return t.ServiceRegistry.register(n),{shared:t,Pie:n}}Xw=n(()=>{"use strict";Ds(),fo(),_6e=class extends Zr{static{e(this,"PieTokenBuilder")}static{T(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},w6e=class extends ky{static{e(this,"PieValueConverter")}static{T(this,"PieValueConverter")}runCustomConverter(e,t){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},Gw={parser:{TokenBuilder:T(()=>new _6e,"TokenBuilder"),ValueConverter:T(()=>new w6e,"ValueConverter")}},e(Uw,"createPieServices"),T(Uw,"createPieServices")});function Qw(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),Xfe,eO);return t.ServiceRegistry.register(n),{shared:t,Architecture:n}}bO=n(()=>{"use strict";Ds(),fo(),E6e=class extends Zr{static{e(this,"ArchitectureTokenBuilder")}static{T(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},k6e=class extends ky{static{e(this,"ArchitectureValueConverter")}static{T(this,"ArchitectureValueConverter")}runCustomConverter(e,t){if(e.name==="ARCH_ICON")return t.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return t.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return t.replace(/[[\]]/g,"").trim()}},eO={parser:{TokenBuilder:T(()=>new E6e,"TokenBuilder"),ValueConverter:T(()=>new k6e,"ValueConverter")}},e(Qw,"createArchitectureServices"),T(Qw,"createArchitectureServices")});function OO(e=Fr){let t=Hn(ar(e),Ru),n=Hn(sr({shared:t}),Zfe,xO);return t.ServiceRegistry.register(n),{shared:t,Radar:n}}MO=n(()=>{"use strict";Ds(),fo(),F6e=class extends Zr{static{e(this,"RadarTokenBuilder")}static{T(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},xO={parser:{TokenBuilder:T(()=>new F6e,"TokenBuilder"),ValueConverter:T(()=>new B3,"ValueConverter")}},e(OO,"createRadarServices"),T(OO,"createRadarServices")}),qO={},de(qO,{InfoModule:()=>ww,createInfoServices:()=>_w}),N6e=n(()=>{"use strict";Fw(),Ds()}),YO={},de(YO,{PacketModule:()=>Nw,createPacketServices:()=>Dw}),R6e=n(()=>{"use strict";Lw(),Ds()}),QO={},de(QO,{PieModule:()=>Gw,createPieServices:()=>Uw}),H6e=n(()=>{"use strict";Xw(),Ds()}),sx={},de(sx,{ArchitectureModule:()=>eO,createArchitectureServices:()=>Qw}),B6e=n(()=>{"use strict";bO(),Ds()}),ox={},de(ox,{GitGraphModule:()=>gw,createGitGraphServices:()=>fw}),$6e=n(()=>{"use strict";yw(),Ds()}),rx={},de(rx,{RadarModule:()=>xO,createRadarServices:()=>OO}),U6e=n(()=>{"use strict";MO(),Ds()});async function Jc(e,t){let s=Y6e[e];if(!s)throw new Error(`Unknown diagram type: ${e}`);Ca[e]||await s();let n=Ca[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new G6e(n);return n.value}Wu=n(()=>{"use strict";yw(),Fw(),Lw(),Xw(),bO(),MO(),Ds(),Ca={},Y6e={info:T(async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(N6e(),qO)),t=e().Info.parser.LangiumParser;Ca.info=t},"info"),packet:T(async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(R6e(),YO)),t=e().Packet.parser.LangiumParser;Ca.packet=t},"packet"),pie:T(async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(H6e(),QO)),t=e().Pie.parser.LangiumParser;Ca.pie=t},"pie"),architecture:T(async()=>{let{createArchitectureServices:e}=await Promise.resolve().then(()=>(B6e(),sx)),t=e().Architecture.parser.LangiumParser;Ca.architecture=t},"architecture"),gitGraph:T(async()=>{let{createGitGraphServices:e}=await Promise.resolve().then(()=>($6e(),ox)),t=e().GitGraph.parser.LangiumParser;Ca.gitGraph=t},"gitGraph"),radar:T(async()=>{let{createRadarServices:e}=await Promise.resolve().then(()=>(U6e(),rx)),t=e().Radar.parser.LangiumParser;Ca.radar=t},"radar")},e(Jc,"parse"),T(Jc,"parse"),G6e=class extends Error{static{e(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(e=>e.message).join(`
`),n=e.parserErrors.map(e=>e.message).join(`
`);super(`Parsing failed: ${t} ${n}`),this.result=e}static{T(this,"MermaidParseError")}}});function N0(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}T0=n(()=>{"use strict";e(N0,"populateCommonDb")}),Ij=n(()=>{"use strict";Ne={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),Nj=n(()=>{"use strict";Pj=class{constructor(e){this.init=e,this.records=this.init()}static{e(this,"ImperativeState")}reset(){this.records=this.init()}}});function Dj(){return HE({length:7})}function ope(e,t){let n=Object.create(null);return e.reduce((e,s)=>{let o=t(s);return n[o]||(n[o]=!0,e.push(s)),e},[])}function Qx(e,t,n){let s=e.indexOf(t);s===-1?e.push(n):e.splice(s,1,n)}function oC(e){let t=e.reduce((e,t)=>e.seq>t.seq?e:t,e[0]),n="";e.forEach(function(e){e===t?n+="	*":n+="	|"});let s=[n,t.id,t.seq];for(let e in A.records.branches)A.records.branches.get(e)===t.id&&s.push(e);if(a.debug(s.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let n=A.records.commits.get(t.parents[0]);Qx(e,t,n),t.parents[1]&&e.push(A.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let n=A.records.commits.get(t.parents[0]);Qx(e,t,n)}}e=ope(e,e=>e.id),oC(e)}CC=n(()=>{"use strict";x(),se(),sn(),me(),_t(),Ij(),Nj(),bs(),rpe=ye.gitGraph,Xc=e(()=>yo({...rpe,...De().gitGraph}),"getConfig"),A=new Pj(()=>{let t=Xc(),e=t.mainBranchName,n=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:n}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}}),e(Dj,"getID"),e(ope,"uniqBy"),dpe=e(function(e){A.records.direction=e},"setDirection"),upe=e(function(e){a.debug("options str",e),e=e?.trim(),e=e||"{}";try{A.records.options=JSON.parse(e)}catch(e){a.error("error while parsing gitGraph options",e.message)}},"setOptions"),hpe=e(function(){return A.records.options},"getOptions"),mpe=e(function(e){let t=e.msg,n=e.id,r=e.type,s=e.tags;a.info("commit",t,n,r,s),a.debug("Entering commit:",t,n,r,s);let i=Xc();n=w.sanitizeText(n,i),t=w.sanitizeText(t,i),s=s?.map(e=>w.sanitizeText(e,i));let o={id:n||A.records.seq+"-"+Dj(),message:t,seq:A.records.seq++,type:r??Ne.NORMAL,tags:s??[],parents:A.records.head==null?[]:[A.records.head.id],branch:A.records.currBranch};A.records.head=o,a.info("main branch",i.mainBranchName),A.records.commits.set(o.id,o),A.records.branches.set(A.records.currBranch,o.id),a.debug("in pushCommit "+o.id)},"commit"),fpe=e(function(e){let t=e.name,n=e.order;if(t=w.sanitizeText(t,Xc()),A.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);A.records.branches.set(t,A.records.head!=null?A.records.head.id:null),A.records.branchConfig.set(t,{name:t,order:n}),pC(t),a.debug("in createBranch")},"branch"),ppe=e(e=>{let t=e.branch,n=e.id,o=e.type,i=e.tags,d=Xc();t=w.sanitizeText(t,d),n&&(n=w.sanitizeText(n,d));let u=A.records.branches.get(A.records.currBranch),l=A.records.branches.get(t),s=u?A.records.commits.get(u):void 0,r=l?A.records.commits.get(l):void 0;if(s&&r&&s.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(A.records.currBranch===t){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(s===void 0||!s){let e=new Error(`Incorrect usage of "merge". Current branch (${A.records.currBranch})has no commits`);throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},e}if(!A.records.branches.has(t)){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},e}if(r===void 0||!r){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},e}if(s===r){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(n&&A.records.commits.has(n)){let e=new Error('Incorrect usage of "merge". Commit with id:'+n+" already exists, use different custom Id");throw e.hash={text:`merge ${t} ${n} ${o} ${i?.join(" ")}`,token:`merge ${t} ${n} ${o} ${i?.join(" ")}`,expected:[`merge ${t} ${n}_UNIQUE ${o} ${i?.join(" ")}`]},e}let h=l||"",c={id:n||`${A.records.seq}-${Dj()}`,message:`merged branch ${t} into ${A.records.currBranch}`,seq:A.records.seq++,parents:A.records.head==null?[]:[A.records.head.id,h],branch:A.records.currBranch,type:Ne.MERGE,customType:o,customId:!!n,tags:i??[]};A.records.head=c,A.records.commits.set(c.id,c),A.records.branches.set(A.records.currBranch,c.id),a.debug(A.records.branches),a.debug("in mergeBranch")},"merge"),gpe=e(function(e){let t=e.id,n=e.targetId,i=e.tags,o=e.parent;a.debug("Entering cherryPick:",t,n,i);let r=Xc();if(t=w.sanitizeText(t,r),n=w.sanitizeText(n,r),i=i?.map(e=>w.sanitizeText(e,r)),o=w.sanitizeText(o,r),!t||!A.records.commits.has(t)){let e=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw e.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},e}let s=A.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(o&&!(Array.isArray(s.parents)&&s.parents.includes(o)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let c=s.branch;if(s.type===Ne.MERGE&&!o)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!n||!A.records.commits.has(n)){if(c===A.records.currBranch){let e=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw e.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},e}let r=A.records.branches.get(A.records.currBranch);if(r===void 0||!r){let e=new Error(`Incorrect usage of "cherry-pick". Current branch (${A.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},e}let l=A.records.commits.get(r);if(l===void 0||!l){let e=new Error(`Incorrect usage of "cherry-pick". Current branch (${A.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},e}let e={id:A.records.seq+"-"+Dj(),message:`cherry-picked ${s?.message} into ${A.records.currBranch}`,seq:A.records.seq++,parents:A.records.head==null?[]:[A.records.head.id,s.id],branch:A.records.currBranch,type:Ne.CHERRY_PICK,tags:i?i.filter(Boolean):[`cherry-pick:${s.id}${s.type===Ne.MERGE?`|parent:${o}`:""}`]};A.records.head=e,A.records.commits.set(e.id,e),A.records.branches.set(A.records.currBranch,e.id),a.debug(A.records.branches),a.debug("in cherryPick")}},"cherryPick"),pC=e(function(e){if(e=w.sanitizeText(e,Xc()),A.records.branches.has(e)){A.records.currBranch=e;let t=A.records.branches.get(A.records.currBranch);t===void 0||!t?A.records.head=null:A.records.head=A.records.commits.get(t)??null}else{let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout"),e(Qx,"upsert"),e(oC,"prettyPrintCommitHistory"),bpe=e(function(){a.debug(A.records.commits);let e=gC()[0];oC([e])},"prettyPrint"),jpe=e(function(){A.reset(),Tt()},"clear"),ype=e(function(){return[...A.records.branchConfig.values()].map((e,t)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${t}`)}).sort((e,t)=>(e.order??0)-(t.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),_pe=e(function(){return A.records.branches},"getBranches"),wpe=e(function(){return A.records.commits},"getCommits"),gC=e(function(){let e=[...A.records.commits.values()];return e.forEach(function(e){a.debug(e.id)}),e.sort((e,t)=>e.seq-t.seq),e},"getCommitsArray"),xpe=e(function(){return A.records.currBranch},"getCurrentBranch"),Cpe=e(function(){return A.records.direction},"getDirection"),Epe=e(function(){return A.records.head},"getHead"),bC={commitType:Ne,getConfig:Xc,setDirection:dpe,setOptions:upe,getOptions:hpe,commit:mpe,branch:fpe,merge:ppe,cherryPick:gpe,checkout:pC,prettyPrint:bpe,clear:jpe,getBranchesAsObjArray:ype,getBranches:_pe,getCommits:wpe,getCommitsArray:gC,getCurrentBranch:xpe,getDirection:Cpe,getHead:Epe,setAccTitle:It,getAccTitle:Yt,getAccDescription:Qt,setAccDescription:Gt,setDiagramTitle:nn,getDiagramTitle:Ft}}),Rpe=n(()=>{"use strict";Wu(),x(),T0(),CC(),Ij(),Spe=e((e,t)=>{N0(e,t),e.dir&&t.setDirection(e.dir);for(let n of e.statements)Mpe(n,t)},"populate"),Mpe=e((t,n)=>{let s={Commit:e(e=>n.commit(Fpe(e)),"Commit"),Branch:e(e=>n.branch(Tpe(e)),"Branch"),Merge:e(e=>n.merge(zpe(e)),"Merge"),Checkout:e(e=>n.checkout(Dpe(e)),"Checkout"),CherryPicking:e(e=>n.cherryPick(Npe(e)),"CherryPicking")}[t.$type];s?s(t):a.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),Fpe=e(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?Ne[e.type]:Ne.NORMAL,tags:e.tags??void 0}),"parseCommit"),Tpe=e(e=>({name:e.name,order:e.order??0}),"parseBranch"),zpe=e(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?Ne[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),Dpe=e(e=>e.branch,"parseCheckout"),Npe=e(e=>({id:e.id,targetId:"",tags:e.tags?.length===0?void 0:e.tags,parent:e.parent}),"parseCherryPicking"),Lpe={parse:e(async e=>{let t=await Jc("gitGraph",e);a.debug(t),Spe(t,bC)},"parse")}}),wge=n(()=>{"use strict";he(),P(),x(),se(),Ij(),Ppe=u(),so=Ppe?.gitGraph,ir=10,rr=40,oi=4,na=2,Vr=8,ns=new Map,es=new Map,Uh=30,h0=new Map,em=[],vr=0,je="LR",Zpe=e(()=>{ns.clear(),es.clear(),h0.clear(),vr=0,em=[],je="LR"},"clear"),ek=e(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(e=>{let n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=e.trim(),t.appendChild(n)}),t},"drawText"),lk=e(t=>{let o,s,n;return je==="BT"?(s=e((e,t)=>e<=t,"comparisonFunc"),n=1/0):(s=e((e,t)=>e>=t,"comparisonFunc"),n=0),t.forEach(e=>{let t=je==="TB"||je=="BT"?es.get(e)?.y:es.get(e)?.x;t!==void 0&&s(t,n)&&(o=e,n=t)}),o},"findClosestParent"),tge=e(e=>{let t="",n=1/0;return e.forEach(e=>{let s=es.get(e).y;s<=n&&(t=e,n=s)}),t||void 0},"findClosestParentBT"),nge=e((e,t,n)=>{let s=n,o=n,i=[];e.forEach(e=>{let n=t.get(e);if(!n)throw new Error(`Commit not found for key ${e}`);n.parents.length?(s=oge(n),o=Math.max(s,o)):i.push(n),ige(n,s)}),s=o,i.forEach(e=>{age(e,s,n)}),e.forEach(e=>{let n=t.get(e);if(n?.parents.length){let e=tge(n.parents);s=es.get(e).y-rr,s<=o&&(o=s);let t=ns.get(n.branch).pos,i=s-ir;es.set(n.id,{x:t,y:i})}})},"setParallelBTPos"),sge=e(e=>{let t=lk(e.parents.filter(e=>e!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let n=es.get(t)?.y;if(n===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return n},"findClosestParentPos"),oge=e(e=>sge(e)+rr,"calculateCommitPosition"),ige=e((e,t)=>{let n=ns.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);let s=n.pos,o=t+ir;return es.set(e.id,{x:s,y:o}),{x:s,y:o}},"setCommitPosition"),age=e((e,t,n)=>{let s=ns.get(e.branch);if(!s)throw new Error(`Branch not found for commit ${e.id}`);let o=t+n,i=s.pos;es.set(e.id,{x:i,y:o})},"setRootPosition"),rge=e((e,t,n,s,o,i)=>{if(i===Ne.HIGHLIGHT)e.append("rect").attr("x",n.x-10).attr("y",n.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${o%Vr} ${s}-outer`),e.append("rect").attr("x",n.x-6).attr("y",n.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${o%Vr} ${s}-inner`);else if(i===Ne.CHERRY_PICK)e.append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",10).attr("class",`commit ${t.id} ${s}`),e.append("circle").attr("cx",n.x-3).attr("cy",n.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${s}`),e.append("circle").attr("cx",n.x+3).attr("cy",n.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${s}`),e.append("line").attr("x1",n.x+3).attr("y1",n.y+1).attr("x2",n.x).attr("y2",n.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${s}`),e.append("line").attr("x1",n.x-3).attr("y1",n.y+1).attr("x2",n.x).attr("y2",n.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${s}`);else{let a=e.append("circle");if(a.attr("cx",n.x),a.attr("cy",n.y),a.attr("r",t.type===Ne.MERGE?9:10),a.attr("class",`commit ${t.id} commit${o%Vr}`),i===Ne.MERGE){let i=e.append("circle");i.attr("cx",n.x),i.attr("cy",n.y),i.attr("r",6),i.attr("class",`commit ${s} ${t.id} commit${o%Vr}`)}i===Ne.REVERSE&&e.append("path").attr("d",`M ${n.x-5},${n.y-5}L${n.x+5},${n.y+5}M${n.x-5},${n.y+5}L${n.x+5},${n.y-5}`).attr("class",`commit ${s} ${t.id} commit${o%Vr}`)}},"drawCommitBullet"),cge=e((e,t,n,s)=>{if(t.type!==Ne.CHERRY_PICK&&(t.customId&&t.type===Ne.MERGE||t.type!==Ne.MERGE)&&so?.showCommitLabel){let a=e.append("g"),r=a.insert("rect").attr("class","commit-label-bkg"),i=a.append("text").attr("x",s).attr("y",n.y+25).attr("class","commit-label").text(t.id),o=i.node()?.getBBox();if(o&&(r.attr("x",n.posWithOffset-o.width/2-na).attr("y",n.y+13.5).attr("width",o.width+2*na).attr("height",o.height+2*na),je==="TB"||je==="BT"?(r.attr("x",n.x-(o.width+4*oi+5)).attr("y",n.y-12),i.attr("x",n.x-(o.width+4*oi)).attr("y",n.y+o.height-12)):i.attr("x",n.posWithOffset-o.width/2),so.rotateCommitLabel))if(je==="TB"||je==="BT")i.attr("transform","rotate(-45, "+n.x+", "+n.y+")"),r.attr("transform","rotate(-45, "+n.x+", "+n.y+")");else{let e=-7.5-(o.width+10)/25*9.5,t=10+o.width/25*8.5;a.attr("transform","translate("+e+", "+t+") rotate(-45, "+s+", "+n.y+")")}}},"drawCommitLabel"),lge=e((e,t,n,s)=>{if(t.tags.length>0){let i=0,o=0,a=0,r=[];for(let l of t.tags.reverse()){let d=e.insert("polygon"),u=e.append("circle"),c=e.append("text").attr("y",n.y-16-i).attr("class","tag-label").text(l),s=c.node()?.getBBox();if(!s)throw new Error("Tag bbox not found");o=Math.max(o,s.width),a=Math.max(a,s.height),c.attr("x",n.posWithOffset-s.width/2),r.push({tag:c,hole:u,rect:d,yOffset:i}),i+=20}for(let{tag:d,hole:i,rect:c,yOffset:l}of r){let e=a/2,t=n.y-19.2-l;if(c.attr("class","tag-label-bkg").attr("points",`
      ${s-o/2-oi/2},${t+na}  
      ${s-o/2-oi/2},${t-na}
      ${n.posWithOffset-o/2-oi},${t-e-na}
      ${n.posWithOffset+o/2+oi},${t-e-na}
      ${n.posWithOffset+o/2+oi},${t+e+na}
      ${n.posWithOffset-o/2-oi},${t+e+na}`),i.attr("cy",t).attr("cx",s-o/2+oi/2).attr("r",1.5).attr("class","tag-hole"),je==="TB"||je==="BT"){let t=s+l;c.attr("class","tag-label-bkg").attr("points",`
        ${n.x},${t+2}
        ${n.x},${t-2}
        ${n.x+ir},${t-e-2}
        ${n.x+ir+o+4},${t-e-2}
        ${n.x+ir+o+4},${t+e+2}
        ${n.x+ir},${t+e+2}`).attr("transform","translate(12,12) rotate(45, "+n.x+","+s+")"),i.attr("cx",n.x+oi/2).attr("cy",t).attr("transform","translate(12,12) rotate(45, "+n.x+","+s+")"),d.attr("x",n.x+5).attr("y",t+3).attr("transform","translate(14,14) rotate(45, "+n.x+","+s+")")}}}},"drawCommitTags"),dge=e(e=>{switch(e.customType??e.type){case Ne.NORMAL:return"commit-normal";case Ne.REVERSE:return"commit-reverse";case Ne.HIGHLIGHT:return"commit-highlight";case Ne.MERGE:return"commit-merge";case Ne.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),uge=e((e,t,n,s)=>{let o={x:0,y:0};if(e.parents.length>0){{let n=lk(e.parents);if(n){let i=s.get(n)??o;return t==="TB"?i.y+rr:t==="BT"?(s.get(e.id)??o).y-rr:i.x+rr}}}else return t==="TB"?Uh:t==="BT"?(s.get(e.id)??o).y-rr:0;return 0},"calculatePosition"),hge=e((e,t,n)=>{let s=je==="BT"&&n?t:t+ir,o=je==="TB"||je==="BT"?s:ns.get(e.branch)?.pos,i=je==="TB"||je==="BT"?ns.get(e.branch)?.pos:s;if(i===void 0||o===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:i,y:o,posWithOffset:s}},"getCommitPosition"),dk=e((t,n,s)=>{if(!so)throw new Error("GitGraph config not found");let c=t.append("g").attr("class","commit-bullets"),r=t.append("g").attr("class","commit-labels"),o=je==="TB"||je==="BT"?Uh:0,l=[...n.keys()],i=so?.parallelCommits??!1,d=e((e,t)=>{let s=n.get(e)?.seq,o=n.get(t)?.seq;return s!==void 0&&o!==void 0?s-o:0},"sortKeys"),a=l.sort(d);je==="BT"&&(i&&nge(a,n,o),a=a.reverse()),a.forEach(e=>{let t=n.get(e);if(!t)throw new Error(`Commit not found for key ${e}`);i&&(o=uge(t,je,o,es));let a=hge(t,o,i);if(s){let e=dge(t),n=t.customType??t.type,s=ns.get(t.branch)?.index??0;rge(c,t,a,e,s,n),cge(r,t,a,o),lge(r,t,a,o)}je==="TB"||je==="BT"?es.set(t.id,{x:a.x,y:a.posWithOffset}):es.set(t.id,{x:a.posWithOffset,y:a.y}),o=je==="BT"&&i?o+rr:o+rr+ir,o>vr&&(vr=o)})},"drawCommits"),fge=e((t,n,s,o,i)=>{let a=(je==="TB"||je==="BT"?s.x<o.x:s.y<o.y)?n.branch:t.branch,r=e(e=>e.branch===a,"isOnBranchToGetCurve"),c=e(e=>e.seq>t.seq&&e.seq<n.seq,"isBetweenCommits");return[...i.values()].some(e=>c(e)&&r(e))},"shouldRerouteArrow"),n0=e((e,t,n=0)=>{let s=e+Math.abs(e-t)/2;if(n>5)return s;if(em.every(e=>Math.abs(e-s)>=10))return em.push(s),s;let o=Math.abs(e-t);return n0(e,t-o/5,n+1)},"findLane"),gge=e((e,t,n,s)=>{let o=es.get(t.id),i=es.get(n.id);if(o===void 0||i===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${n.id}`);let h=fge(t,n,o,i,s),l="",d="",a=0,r=0,u=ns.get(n.branch)?.index;n.type===Ne.MERGE&&t.id!==n.parents[0]&&(u=ns.get(t.branch)?.index);let c;if(h){l="A 10 10, 0, 0, 0,",d="A 10 10, 0, 0, 1,",a=10,r=10;let n=o.y<i.y?n0(o.y,i.y):n0(i.y,o.y),e=o.x<i.x?n0(o.x,i.x):n0(i.x,o.x);je==="TB"?o.x<i.x?c=`M ${o.x} ${o.y} L ${e-a} ${o.y} ${d} ${e} ${o.y+r} L ${e} ${i.y-a} ${l} ${e+r} ${i.y} L ${i.x} ${i.y}`:(u=ns.get(t.branch)?.index,c=`M ${o.x} ${o.y} L ${e+a} ${o.y} ${l} ${e} ${o.y+r} L ${e} ${i.y-a} ${d} ${e-r} ${i.y} L ${i.x} ${i.y}`):je==="BT"?o.x<i.x?c=`M ${o.x} ${o.y} L ${e-a} ${o.y} ${l} ${e} ${o.y-r} L ${e} ${i.y+a} ${d} ${e+r} ${i.y} L ${i.x} ${i.y}`:(u=ns.get(t.branch)?.index,c=`M ${o.x} ${o.y} L ${e+a} ${o.y} ${d} ${e} ${o.y-r} L ${e} ${i.y+a} ${l} ${e-r} ${i.y} L ${i.x} ${i.y}`):o.y<i.y?c=`M ${o.x} ${o.y} L ${o.x} ${n-a} ${l} ${o.x+r} ${n} L ${i.x-a} ${n} ${d} ${i.x} ${n+r} L ${i.x} ${i.y}`:(u=ns.get(t.branch)?.index,c=`M ${o.x} ${o.y} L ${o.x} ${n+a} ${d} ${o.x+r} ${n} L ${i.x-a} ${n} ${l} ${i.x} ${n-r} L ${i.x} ${i.y}`)}else l="A 20 20, 0, 0, 0,",d="A 20 20, 0, 0, 1,",a=20,r=20,je==="TB"?(o.x<i.x&&(n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${l} ${o.x+r} ${i.y} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${d} ${i.x} ${o.y+r} L ${i.x} ${i.y}`),o.x>i.x&&(l="A 20 20, 0, 0, 0,",d="A 20 20, 0, 0, 1,",a=20,r=20,n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${d} ${o.x-r} ${i.y} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${i.x+a} ${o.y} ${l} ${i.x} ${o.y+r} L ${i.x} ${i.y}`),o.x===i.x&&(c=`M ${o.x} ${o.y} L ${i.x} ${i.y}`)):je==="BT"?(o.x<i.x&&(n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${o.x} ${i.y+a} ${d} ${o.x+r} ${i.y} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${l} ${i.x} ${o.y-r} L ${i.x} ${i.y}`),o.x>i.x&&(l="A 20 20, 0, 0, 0,",d="A 20 20, 0, 0, 1,",a=20,r=20,n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${o.x} ${i.y+a} ${l} ${o.x-r} ${i.y} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${l} ${i.x} ${o.y-r} L ${i.x} ${i.y}`),o.x===i.x&&(c=`M ${o.x} ${o.y} L ${i.x} ${i.y}`)):(o.y<i.y&&(n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${d} ${i.x} ${o.y+r} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${l} ${o.x+r} ${i.y} L ${i.x} ${i.y}`),o.y>i.y&&(n.type===Ne.MERGE&&t.id!==n.parents[0]?c=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${l} ${i.x} ${o.y-r} L ${i.x} ${i.y}`:c=`M ${o.x} ${o.y} L ${o.x} ${i.y+a} ${d} ${o.x+r} ${i.y} L ${i.x} ${i.y}`),o.y===i.y&&(c=`M ${o.x} ${o.y} L ${i.x} ${i.y}`));if(c===void 0)throw new Error("Line definition not found");e.append("path").attr("d",c).attr("class","arrow arrow"+u%Vr)},"drawArrow"),vge=e((e,t)=>{let n=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(e=>{let s=t.get(e);s.parents&&s.parents.length>0&&s.parents.forEach(e=>{gge(n,t.get(e),s,t)})})},"drawArrows"),bge=e((e,t)=>{let n=e.append("g");t.forEach((e,t)=>{let c=t%Vr,s=ns.get(e.name)?.pos;if(s===void 0)throw new Error(`Position not found for branch ${e.name}`);let o=n.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",vr),o.attr("y2",s),o.attr("class","branch branch"+c),je==="TB"?(o.attr("y1",Uh),o.attr("x1",s),o.attr("y2",vr),o.attr("x2",s)):je==="BT"&&(o.attr("y1",vr),o.attr("x1",s),o.attr("y2",Uh),o.attr("x2",s)),em.push(s);let d=e.name,l=ek(d),a=n.insert("rect"),r=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+c);r.node().appendChild(l);let i=l.getBBox();a.attr("class","branchLabelBkg label"+c).attr("rx",4).attr("ry",4).attr("x",-i.width-4-(so?.rotateCommitLabel===!0?30:0)).attr("y",-i.height/2+8).attr("width",i.width+18).attr("height",i.height+4),r.attr("transform","translate("+(-i.width-14-(so?.rotateCommitLabel===!0?30:0))+", "+(s-i.height/2-1)+")"),je==="TB"?(a.attr("x",s-i.width/2-10).attr("y",0),r.attr("transform","translate("+(s-i.width/2-5)+", 0)")):je==="BT"?(a.attr("x",s-i.width/2-10).attr("y",vr),r.attr("transform","translate("+(s-i.width/2-5)+", "+vr+")")):a.attr("transform","translate(-19, "+(s-i.height/2)+")")})},"drawBranches"),jge=e(function(e,t,n,s,o){return ns.set(e,{pos:t,index:n}),t+=50+(o?40:0)+(je==="TB"||je==="BT"?s.width/2:0),t},"setBranchPosition"),yge=e(function(e,t,n,s){if(Zpe(),a.debug("in gitgraph renderer",e+`
`,"id:",t,n),!so)throw new Error("GitGraph config not found");let l=so.rotateCommitLabel??!1,i=s.db;h0=i.getCommits();let r=i.getBranchesAsObjArray();je=i.getDirection();let o=y(`[id="${t}"]`),c=0;r.forEach((e,t)=>{let n=ek(e.name),s=o.append("g"),i=s.insert("g").attr("class","branchLabel"),a=i.insert("g").attr("class","label branch-label");a.node()?.appendChild(n);let r=n.getBBox();c=jge(e.name,c,t,r,l),a.remove(),i.remove(),s.remove()}),dk(o,h0,!1),so.showBranches&&bge(o,r),vge(o,h0),dk(o,h0,!0),le.insertTitle(o,"gitTitleText",so.titleTopMargin??0,i.getDiagramTitle()),uA(void 0,o,so.diagramPadding,so.useMaxWidth)},"draw"),_ge={draw:yge}}),Cge=n(()=>{"use strict";Oge=e(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),xge=Oge}),Mk={},de(Mk,{diagram:()=>kge}),Age=n(()=>{"use strict";Rpe(),CC(),wge(),Cge(),kge={parser:Lpe,db:bC,renderer:_ge,styles:xge}}),Fge=n(()=>{"use strict";Kb=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),n=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],A=[1,26],k=[1,27],p=[1,28],b=[1,29],r=[1,30],c=[1,31],l=[1,32],d=[1,33],u=[1,34],h=[1,9],m=[1,10],f=[1,11],i=[1,12],g=[1,13],v=[1,14],a=[1,15],j=[1,16],y=[1,19],_=[1,20],w=[1,21],O=[1,22],x=[1,23],C=[1,25],E=[1,35],o={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 1:return i[r-1];case 2:this.$=[];break;case 3:i[r-1].push(i[r]),this.$=i[r-1];break;case 4:case 5:this.$=i[r];break;case 6:case 7:this.$=[];break;case 8:s.setWeekday("monday");break;case 9:s.setWeekday("tuesday");break;case 10:s.setWeekday("wednesday");break;case 11:s.setWeekday("thursday");break;case 12:s.setWeekday("friday");break;case 13:s.setWeekday("saturday");break;case 14:s.setWeekday("sunday");break;case 15:s.setWeekend("friday");break;case 16:s.setWeekend("saturday");break;case 17:s.setDateFormat(i[r].substr(11)),this.$=i[r].substr(11);break;case 18:s.enableInclusiveEndDates(),this.$=i[r].substr(18);break;case 19:s.TopAxis(),this.$=i[r].substr(8);break;case 20:s.setAxisFormat(i[r].substr(11)),this.$=i[r].substr(11);break;case 21:s.setTickInterval(i[r].substr(13)),this.$=i[r].substr(13);break;case 22:s.setExcludes(i[r].substr(9)),this.$=i[r].substr(9);break;case 23:s.setIncludes(i[r].substr(9)),this.$=i[r].substr(9);break;case 24:s.setTodayMarker(i[r].substr(12)),this.$=i[r].substr(12);break;case 27:s.setDiagramTitle(i[r].substr(6)),this.$=i[r].substr(6);break;case 28:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 29:case 30:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 31:s.addSection(i[r].substr(8)),this.$=i[r].substr(8);break;case 33:s.addTask(i[r-1],i[r]),this.$="task";break;case 34:this.$=i[r-1],s.setClickEvent(i[r-1],i[r],null);break;case 35:this.$=i[r-2],s.setClickEvent(i[r-2],i[r-1],i[r]);break;case 36:this.$=i[r-2],s.setClickEvent(i[r-2],i[r-1],null),s.setLink(i[r-2],i[r]);break;case 37:this.$=i[r-3],s.setClickEvent(i[r-3],i[r-2],i[r-1]),s.setLink(i[r-3],i[r]);break;case 38:this.$=i[r-2],s.setClickEvent(i[r-2],i[r],null),s.setLink(i[r-2],i[r-1]);break;case 39:this.$=i[r-3],s.setClickEvent(i[r-3],i[r-1],i[r]),s.setLink(i[r-3],i[r-2]);break;case 40:this.$=i[r-1],s.setLink(i[r-1],i[r]);break;case 41:case 47:this.$=i[r-1]+" "+i[r];break;case 42:case 43:case 45:this.$=i[r-2]+" "+i[r-1]+" "+i[r];break;case 44:case 46:this.$=i[r-3]+" "+i[r-2]+" "+i[r-1]+" "+i[r];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:A,13:k,14:p,15:b,16:r,17:c,18:l,19:18,20:d,21:u,22:h,23:m,24:f,25:i,26:g,27:v,28:a,29:j,30:y,31:_,33:w,35:O,36:x,37:24,38:C,40:E},t(n,[2,7],{1:[2,1]}),t(n,[2,3]),{9:36,11:17,12:A,13:k,14:p,15:b,16:r,17:c,18:l,19:18,20:d,21:u,22:h,23:m,24:f,25:i,26:g,27:v,28:a,29:j,30:y,31:_,33:w,35:O,36:x,37:24,38:C,40:E},t(n,[2,5]),t(n,[2,6]),t(n,[2,17]),t(n,[2,18]),t(n,[2,19]),t(n,[2,20]),t(n,[2,21]),t(n,[2,22]),t(n,[2,23]),t(n,[2,24]),t(n,[2,25]),t(n,[2,26]),t(n,[2,27]),{32:[1,37]},{34:[1,38]},t(n,[2,30]),t(n,[2,31]),t(n,[2,32]),{39:[1,39]},t(n,[2,8]),t(n,[2,9]),t(n,[2,10]),t(n,[2,11]),t(n,[2,12]),t(n,[2,13]),t(n,[2,14]),t(n,[2,15]),t(n,[2,16]),{41:[1,40],43:[1,41]},t(n,[2,4]),t(n,[2,28]),t(n,[2,29]),t(n,[2,33]),t(n,[2,34],{42:[1,42],43:[1,43]}),t(n,[2,40],{41:[1,44]}),t(n,[2,35],{43:[1,45]}),t(n,[2,36]),t(n,[2,38],{42:[1,46]}),t(n,[2,37]),t(n,[2,39])],defaultActions:{},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},S=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return t}();o.lexer=S;function s(){this.yy={}}return e(s,"Parser"),s.prototype=o,o.Parser=s,new s}(),Kb.parser=Kb,Mge=Kb}),Tge=Ut((t,n)=>{"use strict";(function(e,s){typeof t=="object"&&typeof n<"u"?n.exports=s():typeof define=="function"&&define.amd?define(s):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_isoWeek=s()})(t,function(){"use strict";var t="day";return function(n,s,o){var r,a=e(function(e){return e.add(4-e.isoWeekday(),t)},"a"),i=s.prototype;i.isoWeekYear=function(){return a(this).year()},i.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var n,s,i,r,c=a(this),l=(i=this.isoWeekYear(),r=this.$u,n=(r?o.utc:o)().year(i).startOf("year"),s=4-n.isoWeekday(),n.isoWeekday()>4&&(s+=7),n.add(s,t));return c.diff(l,"week")+1},i.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)},r=i.startOf,i.startOf=function(e,t){var n=this.$utils(),s=!!n.u(t)||t;return n.p(e)==="isoweek"?s?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):r.bind(this)(e,t)}}})}),zge=Ut((t,n)=>{"use strict";(function(e,s){typeof t=="object"&&typeof n<"u"?n.exports=s():typeof define=="function"&&define.amd?define(s):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_customParseFormat=s()})(t,function(){"use strict";var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},m=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,o=/\d\d/,n=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},c=e(function(e){return(e=+e)+(e>68?1900:2e3)},"a"),t=e(function(e){return function(t){this[e]=+t}},"f"),l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e||e==="Z")return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return n===0?0:t[0]==="+"?-n:n}(e)}],a=e(function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},"u"),d=e(function(e,t){var n,o,i=s.meridiem;if(i){for(n=1;n<=24;n+=1)if(e.indexOf(i(n,0,t))>-1){o=n>12;break}}else o=e===(t?"pm":"PM");return o},"d"),f={A:[i,function(e){this.afternoon=d(e,!1)}],a:[i,function(e){this.afternoon=d(e,!0)}],Q:[r,function(e){this.month=3*(e-1)+1}],S:[r,function(e){this.milliseconds=100*+e}],SS:[o,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[n,t("seconds")],ss:[n,t("seconds")],m:[n,t("minutes")],mm:[n,t("minutes")],H:[n,t("hours")],h:[n,t("hours")],HH:[n,t("hours")],hh:[n,t("hours")],D:[n,t("day")],DD:[o,t("day")],Do:[i,function(e){var t,n=s.ordinal,o=e.match(/\d+/);if(this.day=o[0],n)for(t=1;t<=31;t+=1)n(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[n,t("week")],ww:[o,t("week")],M:[n,t("month")],MM:[o,t("month")],MMM:[i,function(e){var n=a("months"),t=(a("monthsShort")||n.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[i,function(e){var t=a("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,t("year")],YY:[o,function(e){this.year=c(e)}],YYYY:[/\d{4}/,t("year")],Z:l,ZZ:l};function u(e){for(var l=e,i=s&&s.formats,t=(e=l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var s=n&&n.toUpperCase();return t||i[n]||h[n]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(m),a=t.length,n=0;n<a;n+=1){var i,l,r=t[n],o=f[r],d=o&&o[0],c=o&&o[1];t[n]=c?{regex:d,parser:c}:r.replace(/^\[|\]$/g,"")}return function(e){for(var s={},o=0,i=0;o<a;o+=1)if(n=t[o],typeof n=="string")i+=n.length;else{var n,c=n.regex,l=n.parser,d=e.slice(i),r=c.exec(d)[0];l.call(s,r),e=e.replace(r,"")}return function(e){var t,n=e.afternoon;n!==void 0&&(t=e.hours,n?t<12&&(e.hours+=12):t===12&&(e.hours=0),delete e.afternoon)}(s),s}}return e(u,"l"),function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(c=e.parseTwoDigitYear);var o=t.prototype,i=o.parse;o.parse=function(e){var d=e.date,h=e.utc,t=e.args;if(this.$u=h,o=t[1],typeof o=="string"){var o,r,c,l,m=t[2]===!0,f=t[3]===!0,p=m||f,a=t[2];f&&(a=t[2]),s=this.$locale(),!m&&a&&(s=n.Ls[a]),this.$d=function(e,t,n,s){try{if(["x","X"].indexOf(t)>-1)return new Date((t==="X"?1e3:1)*e);var o=u(t)(e),l=o.year,i=o.month,O=o.day,w=o.hours,_=o.minutes,y=o.seconds,j=o.milliseconds,v=o.zone,b=o.week,p=new Date,g=O||(l||i?1:p.getDate()),c=l||p.getFullYear(),r=0;l&&!i||(r=i>0?i-1:p.getMonth());var a,f=w||0,m=_||0,h=y||0,d=j||0;return v?new Date(Date.UTC(c,r,g,f,m,h,d+60*v.offset*1e3)):n?new Date(Date.UTC(c,r,g,f,m,h,d)):(a=new Date(c,r,g,f,m,h,d),b&&(a=s(a).week(b).toDate()),a)}catch{return new Date("")}}(d,o,h,n),this.init(),a&&a!==!0&&(this.$L=this.locale(a).$L),p&&d!=this.format(o)&&(this.$d=new Date("")),s={}}else if(o instanceof Array)for(l=o.length,r=1;r<=l;r+=1){if(t[1]=o[r-1],c=n.apply(this,t),c.isValid()){this.$d=c.$d,this.$L=c.$L,this.init();break}r===l&&(this.$d=new Date(""))}else i.call(this,e)}}})}),Dge=Ut((e,t)=>{"use strict";(function(n,s){typeof e=="object"&&typeof t<"u"?t.exports=s():typeof define=="function"&&define.amd?define(s):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_advancedFormat=s()})(e,function(){"use strict";return function(e,t){var n=t.prototype,s=n.format;n.format=function(e){var n,i,t=this,o=this.$locale();return this.isValid()?(n=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return o.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return o.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),e==="w"?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),e==="W"?1:2,"0");case"k":case"kk":return n.s(String(t.$H===0?24:t.$H),e==="k"?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}),s.bind(this)(i)):s.bind(this)(e)}}})});function zk(e,t,n){let s=!0;for(;s;)s=!1,n.forEach(function(n){let o="^\\s*"+n+"\\s*$",i=new RegExp(o);e[0].match(i)&&(t[n]=!0,e.shift(1),s=!0)})}s7e=n(()=>{"use strict";Lge=Sn(W4(),1),no=Sn(G$(),1),Pge=Sn(Tge(),1),Hge=Sn(zge(),1),Ige=Sn(Dge(),1),x(),P(),se(),_t(),no.default.extend(Pge.default),no.default.extend(Hge.default),no.default.extend(Ige.default),Lk={friday:5,saturday:6},Xo="",Bb="",Hb="",Q4=[],K4=[],Fb=new Map,Mb=[],Om=[],Ll="",wb="",sA=["active","done","crit","milestone"],jb=[],P4=!1,gb=!1,pb="sunday",Sm="saturday",mb=0,a5e=e(function(){Mb=[],Om=[],Ll="",jb=[],Dm=0,MS=void 0,D9=void 0,Vt=[],Xo="",Bb="",wb="",Vk=void 0,Hb="",Q4=[],K4=[],P4=!1,gb=!1,mb=0,Fb=new Map,Tt(),pb="sunday",Sm="saturday"},"clear"),r5e=e(function(e){Bb=e},"setAxisFormat"),c5e=e(function(){return Bb},"getAxisFormat"),l5e=e(function(e){Vk=e},"setTickInterval"),d5e=e(function(){return Vk},"getTickInterval"),u5e=e(function(e){Hb=e},"setTodayMarker"),h5e=e(function(){return Hb},"getTodayMarker"),m5e=e(function(e){Xo=e},"setDateFormat"),f5e=e(function(){P4=!0},"enableInclusiveEndDates"),p5e=e(function(){return P4},"endDatesAreInclusive"),g5e=e(function(){gb=!0},"enableTopAxis"),v5e=e(function(){return gb},"topAxisEnabled"),b5e=e(function(e){wb=e},"setDisplayMode"),j5e=e(function(){return wb},"getDisplayMode"),y5e=e(function(){return Xo},"getDateFormat"),_5e=e(function(e){Q4=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),w5e=e(function(){return Q4},"getIncludes"),O5e=e(function(e){K4=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),x5e=e(function(){return K4},"getExcludes"),C5e=e(function(){return Fb},"getLinks"),E5e=e(function(e){Ll=e,Mb.push(e)},"addSection"),k5e=e(function(){return Mb},"getSections"),A5e=e(function(){let e=uM(),n=10,t=0;for(;!e&&t<n;)e=uM(),t++;return Om=Vt,Om},"getTasks"),vA=e(function(e,t,n,s){return!s.includes(e.format(t.trim()))&&(!!(n.includes("weekends")&&(e.isoWeekday()===Lk[Sm]||e.isoWeekday()===Lk[Sm]+1)||n.includes(e.format("dddd").toLowerCase()))||n.includes(e.format(t.trim())))},"isInvalidDate"),M5e=e(function(e){pb=e},"setWeekday"),F5e=e(function(){return pb},"getWeekday"),T5e=e(function(e){Sm=e},"setWeekend"),OA=e(function(e,t,n,s){if(!n.length||e.manualEndTime)return;let o;e.startTime instanceof Date?o=(0,no.default)(e.startTime):o=(0,no.default)(e.startTime,t,!0),o=o.add(1,"d");let i;e.endTime instanceof Date?i=(0,no.default)(e.endTime):i=(0,no.default)(e.endTime,t,!0);let[a,r]=D5e(o,i,t,n,s);e.endTime=a.toDate(),e.renderEndTime=r},"checkTaskDates"),D5e=e(function(e,t,n,s,o){let i=!1,a=null;for(;e<=t;)i||(a=t.toDate()),i=vA(e,n,s,o),i&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,a]},"fixTaskDates"),Y9=e(function(e,t,n){n=n.trim();let s=/^after\s+(?<ids>[\d\w- ]+)/.exec(n);if(s!==null){let e=null;for(let n of s.groups.ids.split(" ")){let t=Pc(n);t!==void 0&&(!e||t.endTime>e.endTime)&&(e=t)}if(e)return e.endTime;let t=new Date;return t.setHours(0,0,0,0),t}let o=(0,no.default)(n,t.trim(),!0);if(o.isValid())return o.toDate();{a.debug("Invalid date:"+n),a.debug("With date format:"+t.trim());let e=new Date(n);if(e===void 0||isNaN(e.getTime())||e.getFullYear()<-1e4||e.getFullYear()>1e4)throw new Error("Invalid date:"+n);return e}},"getStartDate"),rS=e(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),mS=e(function(e,t,n,s=!1){n=n.trim();let a=/^until\s+(?<ids>[\d\w- ]+)/.exec(n);if(a!==null){let e=null;for(let n of a.groups.ids.split(" ")){let t=Pc(n);t!==void 0&&(!e||t.startTime<e.startTime)&&(e=t)}if(e)return e.startTime;let t=new Date;return t.setHours(0,0,0,0),t}let o=(0,no.default)(n,t.trim(),!0);if(o.isValid())return s&&(o=o.add(1,"d")),o.toDate();let i=(0,no.default)(e),[r,c]=rS(n);if(!Number.isNaN(r)){let e=i.add(r,c);e.isValid()&&(i=e)}return i.toDate()},"getEndDate"),Dm=0,kl=e(function(e){return e===void 0?(Dm=Dm+1,"task"+Dm):e},"parseId"),I5e=e(function(e,t){let i;t.substr(0,1)===":"?i=t.substr(1,t.length):i=t;let s=i.split(","),n={};zk(s,n,sA);for(let e=0;e<s.length;e++)s[e]=s[e].trim();let o="";switch(s.length){case 1:n.id=kl(),n.startTime=e.endTime,o=s[0];break;case 2:n.id=kl(),n.startTime=Y9(void 0,Xo,s[0]),o=s[1];break;case 3:n.id=kl(s[0]),n.startTime=Y9(void 0,Xo,s[1]),o=s[2];break;default:}return o&&(n.endTime=mS(n.startTime,Xo,o,P4),n.manualEndTime=(0,no.default)(o,"YYYY-MM-DD",!0).isValid(),OA(n,Xo,K4,Q4)),n},"compileData"),B5e=e(function(e,t){let o;t.substr(0,1)===":"?o=t.substr(1,t.length):o=t;let n=o.split(","),s={};zk(n,s,sA);for(let e=0;e<n.length;e++)n[e]=n[e].trim();switch(n.length){case 1:s.id=kl(),s.startTime={type:"prevTaskEnd",id:e},s.endTime={data:n[0]};break;case 2:s.id=kl(),s.startTime={type:"getStartDate",startData:n[0]},s.endTime={data:n[1]};break;case 3:s.id=kl(n[0]),s.startTime={type:"getStartDate",startData:n[1]},s.endTime={data:n[2]};break;default:}return s},"parseData"),Vt=[],tM={},K5e=e(function(e,t){let n={section:Ll,type:Ll,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},s=B5e(D9,t);n.raw.startTime=s.startTime,n.raw.endTime=s.endTime,n.id=s.id,n.prevTaskId=D9,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,n.order=mb,mb++;let o=Vt.push(n);D9=n.id,tM[n.id]=o-1},"addTask"),Pc=e(function(e){let t=tM[e];return Vt[t]},"findTaskById"),Y5e=e(function(e,t){let n={section:Ll,type:Ll,description:e,task:e,classes:[]},s=I5e(MS,t);n.startTime=s.startTime,n.endTime=s.endTime,n.id=s.id,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,MS=n,Om.push(n)},"addTaskOrg"),uM=e(function(){let n=e(function(e){let n=Vt[e],t="";switch(Vt[e].raw.startTime.type){case"prevTaskEnd":{let e=Pc(n.prevTaskId);n.startTime=e.endTime;break}case"getStartDate":t=Y9(void 0,Xo,Vt[e].raw.startTime.startData),t&&(Vt[e].startTime=t);break}return Vt[e].startTime&&(Vt[e].endTime=mS(Vt[e].startTime,Xo,Vt[e].raw.endTime.data,P4),Vt[e].endTime&&(Vt[e].processed=!0,Vt[e].manualEndTime=(0,no.default)(Vt[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),OA(Vt[e],Xo,K4,Q4))),Vt[e].processed},"compileTask"),t=!0;for(let[e,s]of Vt.entries())n(e),t=t&&s.processed;return t},"compileTasks"),X5e=e(function(e,t){let n=t;u().securityLevel!=="loose"&&(n=(0,Lge.sanitizeUrl)(t)),e.split(",").forEach(function(e){Pc(e)!==void 0&&(OM(e,()=>{window.open(n,"_self")}),Fb.set(e,n))}),mM(e,"clickable")},"setLink"),mM=e(function(e,t){e.split(",").forEach(function(e){let n=Pc(e);n!==void 0&&n.classes.push(t)})},"setClass"),Z5e=e(function(e,t,n){if(u().securityLevel!=="loose"||t===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<s.length;t++){let e=s[t].trim();e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),s[t]=e}}s.length===0&&s.push(e),Pc(e)!==void 0&&OM(e,()=>{le.runFunc(t,...s)})},"setClickFun"),OM=e(function(e,t){jb.push(function(){let n=document.querySelector(`[id="${e}"]`);n!==null&&n.addEventListener("click",function(){t()})},function(){let n=document.querySelector(`[id="${e}-text"]`);n!==null&&n.addEventListener("click",function(){t()})})},"pushFun"),e7e=e(function(e,t,n){e.split(",").forEach(function(e){Z5e(e,t,n)}),mM(e,"clickable")},"setClickEvent"),t7e=e(function(e){jb.forEach(function(t){t(e)})},"bindFunctions"),n7e={getConfig:e(()=>u().gantt,"getConfig"),clear:a5e,setDateFormat:m5e,getDateFormat:y5e,enableInclusiveEndDates:f5e,endDatesAreInclusive:p5e,enableTopAxis:g5e,topAxisEnabled:v5e,setAxisFormat:r5e,getAxisFormat:c5e,setTickInterval:l5e,getTickInterval:d5e,setTodayMarker:u5e,getTodayMarker:h5e,setAccTitle:It,getAccTitle:Yt,setDiagramTitle:nn,getDiagramTitle:Ft,setDisplayMode:b5e,getDisplayMode:j5e,setAccDescription:Gt,getAccDescription:Qt,addSection:E5e,getSections:k5e,getTasks:A5e,addTask:K5e,findTaskById:Pc,addTaskOrg:Y5e,setIncludes:_5e,getIncludes:w5e,setExcludes:O5e,getExcludes:x5e,setClickEvent:e7e,setLink:X5e,getLinks:C5e,bindFunctions:t7e,parseDuration:rS,isInvalidDate:vA,setWeekday:M5e,getWeekday:F5e,setWeekend:T5e},e(zk,"getTaskTags")}),u7e=n(()=>{"use strict";b9=Sn(G$(),1),x(),he(),me(),P(),Ht(),i7e=e(function(){a.debug("Something is calling, setConf, remove the call")},"setConf"),sF={monday:T1,tuesday:hH,wednesday:dH,thursday:Lr,friday:nH,saturday:JP,sunday:F1},r7e=e((e,t)=>{let n=[...e].map(()=>-1/0),o=[...e].sort((e,t)=>e.startTime-t.startTime||e.order-t.order),s=0;for(let e of o)for(let o=0;o<n.length;o++)if(e.startTime>=n[o]){n[o]=e.endTime,e.order=o+t,o>s&&(s=o);break}return s},"getMaxIntersections"),l7e=e(function(t,n,s,o){let i=u().gantt,f=u().securityLevel,p;f==="sandbox"&&(p=y("#i"+n));let A=y(f==="sandbox"?p.nodes()[0].contentDocument.body:"body"),g=f==="sandbox"?p.nodes()[0].contentDocument:document,v=g.getElementById(n);_a=v.parentElement.offsetWidth,_a===void 0&&(_a=1200),i.useWidth!==void 0&&(_a=i.useWidth);let d=o.db.getTasks(),l=[];for(let e of d)l.push(e.type);l=k(l);let m={},h=2*i.topPadding;if(o.db.getDisplayMode()==="compact"||i.displayMode==="compact"){let e={};for(let t of d)e[t.section]===void 0?e[t.section]=[t]:e[t.section].push(t);let t=0;for(let s of Object.keys(e)){let n=r7e(e[s],t)+1;t+=n,h+=n*(i.barHeight+i.barGap),m[s]=n}}else{h+=d.length*(i.barHeight+i.barGap);for(let e of l)m[e]=d.filter(t=>t.type===e).length}v.setAttribute("viewBox","0 0 "+_a+" "+h);let c=A.select(`[id="${n}"]`),r=Xve().domain([NNe(d,function(e){return e.startTime}),HNe(d,function(e){return e.endTime})]).rangeRound([0,_a-i.leftPadding-i.rightPadding]);function b(e,t){let s=e.startTime,o=t.startTime,n=0;return s>o?n=1:s<o&&(n=-1),n}e(b,"taskCompare"),d.sort(b),j(d,_a,h),ls(c,h,_a,i.useMaxWidth),c.append("text").text(o.db.getDiagramTitle()).attr("x",_a/2).attr("y",i.titleTopMargin).attr("class","titleText");function j(e,t,n){let r=i.barHeight,c=r+i.barGap,s=i.topPadding,a=i.leftPadding,d=Mu().domain([0,l.length]).range(["#00B9FA","#F95002"]).interpolate($ke);O(c,s,a,t,n,e,o.db.getExcludes(),o.db.getIncludes()),x(a,s,t,n),_(e,c,s,a,r,d,t,n),C(c,s,a,r,d),E(a,s,t,n)}e(j,"makeGantt");function _(e,t,s,a,d,h,m){let g=[...new Set(e.map(e=>e.order))].map(t=>e.find(e=>e.order===t));c.append("g").selectAll("rect").data(g).enter().append("rect").attr("x",0).attr("y",function(e,n){return n=e.order,n*t+s-2}).attr("width",function(){return m-i.rightPadding/2}).attr("height",t).attr("class",function(e){for(let[t,n]of l.entries())if(e.type===n)return"section section"+t%i.numberSectionStyles;return"section section0"});let f=c.append("g").selectAll("rect").data(e).enter(),p=o.db.getLinks();if(f.append("rect").attr("id",function(e){return e.id}).attr("rx",3).attr("ry",3).attr("x",function(e){return e.milestone?r(e.startTime)+a+.5*(r(e.endTime)-r(e.startTime))-.5*d:r(e.startTime)+a}).attr("y",function(e,n){return n=e.order,n*t+s}).attr("width",function(e){return e.milestone?d:r(e.renderEndTime||e.endTime)-r(e.startTime)}).attr("height",d).attr("transform-origin",function(e,n){return n=e.order,(r(e.startTime)+a+.5*(r(e.endTime)-r(e.startTime))).toString()+"px "+(n*t+s+.5*d).toString()+"px"}).attr("class",function(e){let o="task",n="";e.classes.length>0&&(n=e.classes.join(" "));let s=0;for(let[t,n]of l.entries())e.type===n&&(s=t%i.numberSectionStyles);let t="";return e.active?e.crit?t+=" activeCrit":t=" active":e.done?e.crit?t=" doneCrit":t=" done":e.crit&&(t+=" crit"),t.length===0&&(t=" task"),e.milestone&&(t=" milestone "+t),t+=s,t+=" "+n,o+t}),f.append("text").attr("id",function(e){return e.id+"-text"}).text(function(e){return e.task}).attr("font-size",i.fontSize).attr("x",function(e){let t=r(e.startTime),n=r(e.renderEndTime||e.endTime);e.milestone&&(t+=.5*(r(e.endTime)-r(e.startTime))-.5*d),e.milestone&&(n=t+d);let s=this.getBBox().width;return s>n-t?n+s+1.5*i.leftPadding>m?t+a-5:n+a+5:(n-t)/2+t+a}).attr("y",function(e,n){return n=e.order,n*t+i.barHeight/2+(i.fontSize/2-2)+s}).attr("text-height",d).attr("class",function(e){let c=r(e.startTime),a=r(e.endTime);e.milestone&&(a=c+d);let s=this.getBBox().width,o="";e.classes.length>0&&(o=e.classes.join(" "));let n=0;for(let[t,s]of l.entries())e.type===s&&(n=t%i.numberSectionStyles);let t="";return e.active&&(e.crit?t="activeCritText"+n:t="activeText"+n),e.done?e.crit?t=t+" doneCritText"+n:t=t+" doneText"+n:e.crit&&(t=t+" critText"+n),e.milestone&&(t+=" milestoneText"),s>a-c?a+s+1.5*i.leftPadding>m?o+" taskTextOutsideLeft taskTextOutside"+n+" "+t:o+" taskTextOutsideRight taskTextOutside"+n+" "+t+" width-"+s:o+" taskText taskText"+n+" "+t+" width-"+s}),u().securityLevel==="sandbox"){let t;t=y("#i"+n);let e=t.nodes()[0].contentDocument;f.filter(function(e){return p.has(e.id)}).each(function(t){var n,s=e.querySelector("#"+t.id),o=e.querySelector("#"+t.id+"-text");let i=s.parentNode;n=e.createElement("a"),n.setAttribute("xlink:href",p.get(t.id)),n.setAttribute("target","_top"),i.appendChild(n),n.appendChild(s),n.appendChild(o)})}}e(_,"drawRects");function O(e,t,n,s,l,d,u,h){if(u.length===0&&h.length===0)return;let f,p;for(let{startTime:e,endTime:t}of d)(f===void 0||e<f)&&(f=e),(p===void 0||t>p)&&(p=t);if(!f||!p)return;if((0,b9.default)(p).diff((0,b9.default)(f),"year")>5){a.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let b=o.db.getDateFormat(),v=[],g=null,m=(0,b9.default)(f);for(;m.valueOf()<=p;)o.db.isInvalidDate(m,b,u,h)?g?g.end=m:g={start:m,end:m}:g&&(v.push(g),g=null),m=m.add(1,"d");c.append("g").selectAll("rect").data(v).enter().append("rect").attr("id",function(e){return"exclude-"+e.start.format("YYYY-MM-DD")}).attr("x",function(e){return r(e.start)+n}).attr("y",i.gridLineStartPadding).attr("width",function(e){let t=e.end.add(1,"day");return r(t)-r(e.start)}).attr("height",l-t-i.gridLineStartPadding).attr("transform-origin",function(t,s){return(r(t.start)+n+.5*(r(t.end)-r(t.start))).toString()+"px "+(s*e+.5*l).toString()+"px"}).attr("class","exclude-range")}e(O,"drawExcludeDays");function x(e,t,n,s){let a=jNe(r).tickSize(-s+t+i.gridLineStartPadding).tickFormat(ev(o.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d")),l=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(o.db.getTickInterval()||i.tickInterval);if(l!==null){let e=l[1],t=l[2],n=o.db.getWeekday()||i.weekday;switch(t){case"millisecond":a.ticks(yu.every(e));break;case"second":a.ticks(wa.every(e));break;case"minute":a.ticks(y1.every(e));break;case"hour":a.ticks(x1.every(e));break;case"day":a.ticks(xc.every(e));break;case"week":a.ticks(sF[n].every(e));break;case"month":a.ticks(I1.every(e));break}}if(c.append("g").attr("class","grid").attr("transform","translate("+e+", "+(s-50)+")").call(a).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),o.db.topAxisEnabled()||i.topAxis){let n=yNe(r).tickSize(-s+t+i.gridLineStartPadding).tickFormat(ev(o.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(l!==null){let e=l[1],t=l[2],s=o.db.getWeekday()||i.weekday;switch(t){case"millisecond":n.ticks(yu.every(e));break;case"second":n.ticks(wa.every(e));break;case"minute":n.ticks(y1.every(e));break;case"hour":n.ticks(x1.every(e));break;case"day":n.ticks(xc.every(e));break;case"week":n.ticks(sF[s].every(e));break;case"month":n.ticks(I1.every(e));break}}c.append("g").attr("class","grid").attr("transform","translate("+e+", "+t+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}e(x,"makeGrid");function C(e,t){let n=0,s=Object.keys(m).map(e=>[e,m[e]]);c.append("g").selectAll("text").data(s).enter().append(function(e){let n=e[0].split(w.lineBreakRegex),s=-(n.length-1)/2,t=g.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("dy",s+"em");for(let[s,o]of n.entries()){let e=g.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","central"),e.setAttribute("x","10"),s>0&&e.setAttribute("dy","1em"),e.textContent=o,t.appendChild(e)}return t}).attr("x",10).attr("y",function(o,i){if(i>0)for(let a=0;a<i;a++)return n+=s[i-1][1],o[1]*e/2+n*e+t;else return o[1]*e/2+t}).attr("font-size",i.sectionFontSize).attr("class",function(e){for(let[t,n]of l.entries())if(e[0]===n)return"sectionTitle sectionTitle"+t%i.numberSectionStyles;return"sectionTitle"})}e(C,"vertLabels");function E(e,t,n,s){let a=o.db.getTodayMarker();if(a==="off")return;let u=c.append("g").attr("class","today"),l=new Date,d=u.append("line");d.attr("x1",r(l)+e).attr("x2",r(l)+e).attr("y1",i.titleTopMargin).attr("y2",s-i.titleTopMargin).attr("class","today"),a!==""&&d.attr("style",a.replace(/,/g,";"))}e(E,"drawToday");function k(e){let t={},n=[];for(let s=0,o=e.length;s<o;++s)Object.prototype.hasOwnProperty.call(t,e[s])||(t[e[s]]=!0,n.push(e[s]));return n}e(k,"checkUnique")},"draw"),d7e={setConf:i7e,draw:l7e}}),f7e=n(()=>{"use strict";h7e=e(e=>`
  .mermaid-main-font {
        font-family: ${e.fontFamily};
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${e.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: ${e.fontFamily};
  }
`,"getStyles"),m7e=h7e}),MF={},de(MF,{diagram:()=>g7e}),v7e=n(()=>{"use strict";Fge(),s7e(),u7e(),f7e(),g7e={parser:Mge,db:n7e,renderer:d7e,styles:m7e}}),j7e=n(()=>{"use strict";Wu(),x(),b7e={parse:e(async e=>{let t=await Jc("info",e);a.debug(t)},"parse")}}),FF=n(()=>{o9={name:"mermaid",version:"11.6.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.4",katex:"^0.16.9",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",chokidar:"^4.0.3",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.0.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}}),C7e=n(()=>{"use strict";FF(),w7e={version:o9.version},O7e=e(()=>w7e.version,"getVersion"),x7e={getVersion:O7e}}),xi=n(()=>{"use strict";he(),P(),Ei=e(e=>{let{securityLevel:n}=u(),t=y("body");if(n==="sandbox"){let n=y(`#i${e}`).node()?.contentDocument??document;t=y(n.body)}return t.select(`#${e}`)},"selectSvgElement")}),M7e=n(()=>{"use strict";x(),xi(),Ht(),A7e=e((e,t,n)=>{a.debug(`rendering info diagram
`+e);let s=Ei(t);ls(s,100,400,!0),s.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${n}`)},"draw"),S7e={draw:A7e}}),RF={},de(RF,{diagram:()=>T7e}),z7e=n(()=>{"use strict";j7e(),C7e(),M7e(),T7e={parser:b7e,db:x7e,renderer:S7e}}),mT=n(()=>{"use strict";x(),_t(),bs(),qF=ye.pie,Qv={sections:new Map,showData:!1,config:qF},b8=Qv.sections,Uv=Qv.showData,P7e=structuredClone(qF),H7e=e(()=>structuredClone(P7e),"getConfig"),I7e=e(()=>{b8=new Map,Uv=Qv.showData,Tt()},"clear"),B7e=e(({label:e,value:t})=>{b8.has(e)||(b8.set(e,t),a.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),V7e=e(()=>b8,"getSections"),$7e=e(e=>{Uv=e},"setShowData"),W7e=e(()=>Uv,"getShowData"),dT={getConfig:H7e,clear:I7e,setDiagramTitle:nn,getDiagramTitle:Ft,setAccTitle:It,getAccTitle:Yt,setAccDescription:Gt,getAccDescription:Qt,addSection:B7e,getSections:V7e,setShowData:$7e,getShowData:W7e}}),G7e=n(()=>{"use strict";Wu(),x(),T0(),mT(),q7e=e((e,t)=>{N0(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),Y7e={parse:e(async e=>{let t=await Jc("pie",e);a.debug(t),q7e(t,dT)},"parse")}}),Z7e=n(()=>{"use strict";X7e=e(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),Q7e=X7e}),nve=n(()=>{"use strict";he(),P(),x(),xi(),Ht(),se(),J7e=e(e=>{let t=[...e.entries()].map(e=>({label:e[0],value:e[1]})).sort((e,t)=>t.value-e.value);return p7e().value(e=>e.value)(t)},"createPieArcs"),eve=e((e,t,n,s)=>{a.debug(`rendering pie chart
`+e);let d=s.db,x=u(),w=yo(d.getConfig(),x.pie),_=40,i=18,h=4,r=450,g=r,v=Ei(t),c=v.append("g");c.attr("transform","translate("+g/2+","+r/2+")");let{themeVariables:o}=x,[j]=Ka(o.pieOuterStrokeWidth);j??=2;let b=w.textPosition,m=Math.min(g,r)/2-_,E=ll().innerRadius(0).outerRadius(m),k=ll().innerRadius(m*b).outerRadius(m*b);c.append("circle").attr("cx",0).attr("cy",0).attr("r",m+j/2).attr("class","pieOuterCircle");let y=d.getSections(),p=J7e(y),A=[o.pie1,o.pie2,o.pie3,o.pie4,o.pie5,o.pie6,o.pie7,o.pie8,o.pie9,o.pie10,o.pie11,o.pie12],l=v6(A);c.selectAll("mySlices").data(p).enter().append("path").attr("d",E).attr("fill",e=>l(e.data.label)).attr("class","pieCircle");let O=0;y.forEach(e=>{O+=e}),c.selectAll("mySlices").data(p).enter().append("text").text(e=>(e.data.value/O*100).toFixed(0)+"%").attr("transform",e=>"translate("+k.centroid(e)+")").style("text-anchor","middle").attr("class","slice"),c.append("text").text(d.getDiagramTitle()).attr("x",0).attr("y",-(r-50)/2).attr("class","pieTitleText");let f=c.selectAll(".legend").data(l.domain()).enter().append("g").attr("class","legend").attr("transform",(e,t)=>{let n=i+h,s=n*l.domain().length/2,o=12*i,a=t*n-s;return"translate("+o+","+a+")"});f.append("rect").attr("width",i).attr("height",i).style("fill",l).style("stroke",l),f.data(p).append("text").attr("x",i+h).attr("y",i-h).text(e=>{let{label:t,value:n}=e.data;return d.getShowData()?`${t} [${n}]`:t});let S=Math.max(...f.selectAll("text").nodes().map(e=>e?.getBoundingClientRect().width??0)),C=g+_+i+h+S;v.attr("viewBox",`0 0 ${C} ${r}`),ls(v,r,C,w.useMaxWidth)},"draw"),tve={draw:eve}}),pT={},de(pT,{diagram:()=>ove}),ive=n(()=>{"use strict";G7e(),mT(),Z7e(),nve(),ove={parser:Y7e,db:dT,renderer:tve,styles:Q7e}}),cve=n(()=>{"use strict";Pv=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),L=[1,3],I=[1,4],F=[1,5],D=[1,6],z=[1,7],H=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],P=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],n=[55,56,57],V=[2,36],u=[1,37],o=[1,36],m=[1,38],h=[1,35],l=[1,43],s=[1,41],te=[1,14],B=[1,23],se=[1,18],oe=[1,19],ie=[1,20],ne=[1,21],me=[1,22],he=[1,24],ue=[1,25],le=[1,26],ce=[1,27],re=[1,28],ae=[1,29],v=[1,32],b=[1,33],i=[1,34],a=[1,39],r=[1,40],d=[1,42],c=[1,44],j=[1,62],y=[1,61],f=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],J=[1,65],Z=[1,66],ee=[1,67],$=[1,68],W=[1,69],U=[1,70],K=[1,71],q=[1,72],Y=[1,73],G=[1,74],X=[1,75],Q=[1,76],p=[4,5,6,7,8,9,10,11,12,13,14,15,18],_=[1,90],O=[1,91],w=[1,92],x=[1,99],C=[1,93],E=[1,96],M=[1,94],S=[1,95],A=[1,97],k=[1,98],N=[1,102],de=[10,55,56,57],g=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],R={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 23:this.$=i[r];break;case 24:this.$=i[r-1]+""+i[r];break;case 26:this.$=i[r-1]+i[r];break;case 27:this.$=[i[r].trim()];break;case 28:i[r-2].push(i[r].trim()),this.$=i[r-2];break;case 29:this.$=i[r-4],s.addClass(i[r-2],i[r]);break;case 37:this.$=[];break;case 42:this.$=i[r].trim(),s.setDiagramTitle(this.$);break;case 43:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 44:case 45:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 46:s.addSection(i[r].substr(8)),this.$=i[r].substr(8);break;case 47:s.addPoint(i[r-3],"",i[r-1],i[r],[]);break;case 48:s.addPoint(i[r-4],i[r-3],i[r-1],i[r],[]);break;case 49:s.addPoint(i[r-4],"",i[r-2],i[r-1],i[r]);break;case 50:s.addPoint(i[r-5],i[r-4],i[r-2],i[r-1],i[r]);break;case 51:s.setXAxisLeftText(i[r-2]),s.setXAxisRightText(i[r]);break;case 52:i[r-1].text+=" ⟶ ",s.setXAxisLeftText(i[r-1]);break;case 53:s.setXAxisLeftText(i[r]);break;case 54:s.setYAxisBottomText(i[r-2]),s.setYAxisTopText(i[r]);break;case 55:i[r-1].text+=" ⟶ ",s.setYAxisBottomText(i[r-1]);break;case 56:s.setYAxisBottomText(i[r]);break;case 57:s.setQuadrant1Text(i[r]);break;case 58:s.setQuadrant2Text(i[r]);break;case 59:s.setQuadrant3Text(i[r]);break;case 60:s.setQuadrant4Text(i[r]);break;case 64:this.$={text:i[r],type:"text"};break;case 65:this.$={text:i[r-1].text+""+i[r],type:i[r-1].type};break;case 66:this.$={text:i[r],type:"text"};break;case 67:this.$={text:i[r],type:"markdown"};break;case 68:this.$=i[r];break;case 69:this.$=i[r-1]+""+i[r];break}},"anonymous"),table:[{18:L,26:1,27:2,28:I,55:F,56:D,57:z},{1:[3]},{18:L,26:8,27:2,28:I,55:F,56:D,57:z},{18:L,26:9,27:2,28:I,55:F,56:D,57:z},t(H,[2,33],{29:10}),t(P,[2,61]),t(P,[2,62]),t(P,[2,63]),{1:[2,30]},{1:[2,31]},t(n,V,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:u,5:o,10:m,12:h,13:l,14:s,18:te,25:B,35:se,37:oe,39:ie,41:ne,42:me,48:he,50:ue,51:le,52:ce,53:re,54:ae,60:v,61:b,63:i,64:a,65:r,66:d,67:c}),t(H,[2,34]),{27:45,55:F,56:D,57:z},t(n,[2,37]),t(n,V,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:u,5:o,10:m,12:h,13:l,14:s,18:te,25:B,35:se,37:oe,39:ie,41:ne,42:me,48:he,50:ue,51:le,52:ce,53:re,54:ae,60:v,61:b,63:i,64:a,65:r,66:d,67:c}),t(n,[2,39]),t(n,[2,40]),t(n,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(n,[2,45]),t(n,[2,46]),{18:[1,50]},{4:u,5:o,10:m,12:h,13:l,14:s,43:51,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,10:m,12:h,13:l,14:s,43:52,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,10:m,12:h,13:l,14:s,43:53,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,10:m,12:h,13:l,14:s,43:54,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,10:m,12:h,13:l,14:s,43:55,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,10:m,12:h,13:l,14:s,43:56,58:31,60:v,61:b,63:i,64:a,65:r,66:d,67:c},{4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,44:[1,57],47:[1,58],58:60,59:59,63:i,64:a,65:r,66:d,67:c},t(f,[2,64]),t(f,[2,66]),t(f,[2,67]),t(f,[2,70]),t(f,[2,71]),t(f,[2,72]),t(f,[2,73]),t(f,[2,74]),t(f,[2,75]),t(f,[2,76]),t(f,[2,77]),t(f,[2,78]),t(f,[2,79]),t(f,[2,80]),t(H,[2,35]),t(n,[2,38]),t(n,[2,42]),t(n,[2,43]),t(n,[2,44]),{3:64,4:J,5:Z,6:ee,7:$,8:W,9:U,10:K,11:q,12:Y,13:G,14:X,15:Q,21:63},t(n,[2,53],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,49:[1,77],63:i,64:a,65:r,66:d,67:c}),t(n,[2,56],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,49:[1,78],63:i,64:a,65:r,66:d,67:c}),t(n,[2,57],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),t(n,[2,58],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),t(n,[2,59],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),t(n,[2,60],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),{45:[1,79]},{44:[1,80]},t(f,[2,65]),t(f,[2,81]),t(f,[2,82]),t(f,[2,83]),{3:82,4:J,5:Z,6:ee,7:$,8:W,9:U,10:K,11:q,12:Y,13:G,14:X,15:Q,18:[1,81]},t(p,[2,23]),t(p,[2,1]),t(p,[2,2]),t(p,[2,3]),t(p,[2,4]),t(p,[2,5]),t(p,[2,6]),t(p,[2,7]),t(p,[2,8]),t(p,[2,9]),t(p,[2,10]),t(p,[2,11]),t(p,[2,12]),t(n,[2,52],{58:31,43:83,4:u,5:o,10:m,12:h,13:l,14:s,60:v,61:b,63:i,64:a,65:r,66:d,67:c}),t(n,[2,55],{58:31,43:84,4:u,5:o,10:m,12:h,13:l,14:s,60:v,61:b,63:i,64:a,65:r,66:d,67:c}),{46:[1,85]},{45:[1,86]},{4:_,5:O,6:w,8:x,11:C,13:E,16:89,17:M,18:S,19:A,20:k,22:88,23:87},t(p,[2,24]),t(n,[2,51],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),t(n,[2,54],{59:59,58:60,4:u,5:o,8:j,10:m,12:h,13:l,14:s,18:y,63:i,64:a,65:r,66:d,67:c}),t(n,[2,47],{22:88,16:89,23:100,4:_,5:O,6:w,8:x,11:C,13:E,17:M,18:S,19:A,20:k}),{46:[1,101]},t(n,[2,29],{10:N}),t(de,[2,27],{16:103,4:_,5:O,6:w,8:x,11:C,13:E,17:M,18:S,19:A,20:k}),t(g,[2,25]),t(g,[2,13]),t(g,[2,14]),t(g,[2,15]),t(g,[2,16]),t(g,[2,17]),t(g,[2,18]),t(g,[2,19]),t(g,[2,20]),t(g,[2,21]),t(g,[2,22]),t(n,[2,49],{10:N}),t(n,[2,48],{22:88,16:89,23:104,4:_,5:O,6:w,8:x,11:C,13:E,17:M,18:S,19:A,20:k}),{4:_,5:O,6:w,8:x,11:C,13:E,16:89,17:M,18:S,19:A,20:k,22:105},t(g,[2,26]),t(n,[2,50],{10:N}),t(de,[2,28],{16:103,4:_,5:O,6:w,8:x,11:C,13:E,17:M,18:S,19:A,20:k})],defaultActions:{8:[2,30],9:[2,31]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},fe=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return t}();R.lexer=fe;function T(){this.yy={}}return e(T,"Parser"),T.prototype=R,R.Parser=T,new T}(),Pv.parser=Pv,rve=Pv}),uve=n(()=>{"use strict";he(),bs(),x(),Gm(),Vn=n8(),dve=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{e(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:ye.quadrantChart?.chartWidth||500,chartWidth:ye.quadrantChart?.chartHeight||500,titlePadding:ye.quadrantChart?.titlePadding||10,titleFontSize:ye.quadrantChart?.titleFontSize||20,quadrantPadding:ye.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:ye.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:ye.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:ye.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:ye.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:ye.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:ye.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:ye.quadrantChart?.pointTextPadding||5,pointLabelFontSize:ye.quadrantChart?.pointLabelFontSize||12,pointRadius:ye.quadrantChart?.pointRadius||5,xAxisPosition:ye.quadrantChart?.xAxisPosition||"top",yAxisPosition:ye.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:ye.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:ye.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:Vn.quadrant1Fill,quadrant2Fill:Vn.quadrant2Fill,quadrant3Fill:Vn.quadrant3Fill,quadrant4Fill:Vn.quadrant4Fill,quadrant1TextFill:Vn.quadrant1TextFill,quadrant2TextFill:Vn.quadrant2TextFill,quadrant3TextFill:Vn.quadrant3TextFill,quadrant4TextFill:Vn.quadrant4TextFill,quadrantPointFill:Vn.quadrantPointFill,quadrantPointTextFill:Vn.quadrantPointTextFill,quadrantXAxisTextFill:Vn.quadrantXAxisTextFill,quadrantYAxisTextFill:Vn.quadrantYAxisTextFill,quadrantTitleFill:Vn.quadrantTitleFill,quadrantInternalBorderStrokeFill:Vn.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Vn.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,a.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){a.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){a.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,n,s){let r=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,o={top:e==="top"&&t?r:0,bottom:e==="bottom"&&t?r:0},c=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,i={left:this.config.yAxisPosition==="left"&&n?c:0,right:this.config.yAxisPosition==="right"&&n?c:0},u=this.config.titleFontSize+this.config.titlePadding*2,a={top:s?u:0},h=this.config.quadrantPadding+i.left,m=this.config.quadrantPadding+o.top+a.top,l=this.config.chartWidth-this.config.quadrantPadding*2-i.left-i.right,d=this.config.chartHeight-this.config.quadrantPadding*2-o.top-o.bottom-a.top,f=l/2,p=d/2;return{xAxisSpace:o,yAxisSpace:i,titleSpace:a,quadrantSpace:{quadrantLeft:h,quadrantTop:m,quadrantWidth:l,quadrantHalfWidth:f,quadrantHeight:d,quadrantHalfHeight:p}}}getAxisLabels(e,t,n,s){let{quadrantSpace:f,titleSpace:h}=s,{quadrantHalfHeight:l,quadrantHeight:d,quadrantLeft:i,quadrantHalfWidth:u,quadrantTop:a,quadrantWidth:m}=f,r=!!this.data.xAxisRightText,c=!!this.data.yAxisTopText,o=[];return this.data.xAxisLeftText&&t&&o.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:i+(r?u/2:0),y:e==="top"?this.config.xAxisLabelPadding+h.top:this.config.xAxisLabelPadding+a+d+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:r?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&o.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:i+u+(r?u/2:0),y:e==="top"?this.config.xAxisLabelPadding+h.top:this.config.xAxisLabelPadding+a+d+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:r?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&o.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+i+m+this.config.quadrantPadding,y:a+d-(c?l/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:c?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&o.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+i+m+this.config.quadrantPadding,y:a+l-(c?l/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:c?"center":"left",horizontalPos:"top",rotation:-90}),o}getQuadrants(e){let{quadrantSpace:a}=e,{quadrantHalfHeight:t,quadrantLeft:s,quadrantHalfWidth:n,quadrantTop:o}=a,i=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:s+n,y:o,width:n,height:t,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:s,y:o,width:n,height:t,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:s,y:o+t,width:n,height:t,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:s+n,y:o+t,width:n,height:t,fill:this.themeConfig.quadrant4Fill}];for(let e of i)e.text.x=e.x+e.width/2,this.data.points.length===0?(e.text.y=e.y+e.height/2,e.text.horizontalPos="middle"):(e.text.y=e.y+this.config.quadrantTextTopPadding,e.text.horizontalPos="top");return i}getQuadrantPoints(e){let{quadrantSpace:i}=e,{quadrantHeight:a,quadrantLeft:t,quadrantTop:n,quadrantWidth:r}=i,s=Mu().domain([0,1]).range([t,r+t]),o=Mu().domain([0,1]).range([a+n,n]);return this.data.points.map(e=>{let t=this.classes.get(e.className);return t&&(e={...t,...e}),{x:s(e.x),y:o(e.y),fill:e.color??this.themeConfig.quadrantPointFill,radius:e.radius??this.config.pointRadius,text:{text:e.text,fill:this.themeConfig.quadrantPointTextFill,x:s(e.x),y:o(e.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:e.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:e.strokeWidth??"0px"}})}getBorders(e){let t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:c}=e,{quadrantHalfHeight:a,quadrantHeight:o,quadrantLeft:n,quadrantHalfWidth:r,quadrantTop:s,quadrantWidth:i}=c;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:n-t,y1:s,x2:n+i+t,y2:s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:n+i,y1:s+t,x2:n+i,y2:s+o-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:n-t,y1:s+o,x2:n+i+t,y2:s+o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:n,y1:s+t,x2:n,y2:s+o-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:n+r,y1:s+t,x2:n+r,y2:s+o-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:n+t,y1:s+a,x2:n+i-t,y2:s+a}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),n=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),s=this.config.showTitle&&!!this.data.titleText,o=this.data.points.length>0?"bottom":this.config.xAxisPosition,e=this.calculateSpace(o,t,n,s);return{points:this.getQuadrantPoints(e),quadrants:this.getQuadrants(e),axisLabels:this.getAxisLabels(o,t,n,e),borderLines:this.getBorders(e),title:this.getTitle(s)}}}});function jT(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function mve(e){return!/^\d+$/.test(e)}function fve(e){return!/^\d+px$/.test(e)}gve=n(()=>{"use strict";E8=class extends Error{static{e(this,"InvalidStyleError")}constructor(e,t,n){super(`value for ${e} ${t} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},e(jT,"validateHexCode"),e(mve,"validateNumber"),e(fve,"validateSizeInPixels")});function Fi(e){return Ie(e.trim(),Tve)}function bve(e){ln.setData({quadrant1Text:Fi(e.text)})}function jve(e){ln.setData({quadrant2Text:Fi(e.text)})}function yve(e){ln.setData({quadrant3Text:Fi(e.text)})}function _ve(e){ln.setData({quadrant4Text:Fi(e.text)})}function wve(e){ln.setData({xAxisLeftText:Fi(e.text)})}function Ove(e){ln.setData({xAxisRightText:Fi(e.text)})}function xve(e){ln.setData({yAxisTopText:Fi(e.text)})}function Cve(e){ln.setData({yAxisBottomText:Fi(e.text)})}function jv(e){let t={};for(let o of e){let[s,n]=o.trim().split(/\s*:\s*/);if(s==="radius"){if(mve(n))throw new E8(s,n,"number");t.radius=parseInt(n)}else if(s==="color"){if(jT(n))throw new E8(s,n,"hex code");t.color=n}else if(s==="stroke-color"){if(jT(n))throw new E8(s,n,"hex code");t.strokeColor=n}else if(s==="stroke-width"){if(fve(n))throw new E8(s,n,"number of pixels (eg. 10px)");t.strokeWidth=n}else throw new Error(`style named ${s} is not supported.`)}return t}function kve(e,t,n,s,o){let i=jv(o);ln.addPoints([{x:n,y:s,text:Fi(e.text),className:t,...i}])}function Ave(e,t){ln.addClass(e,jv(t))}function Sve(e){ln.setConfig({chartWidth:e})}function Mve(e){ln.setConfig({chartHeight:e})}function Fve(){let n=u(),{themeVariables:e,quadrantChart:t}=n;return t&&ln.setConfig(t),ln.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),ln.setData({titleText:Ft()}),ln.build()}Lve=n(()=>{"use strict";P(),me(),_t(),uve(),gve(),Tve=u(),e(Fi,"textSanitizer"),ln=new dve,e(bve,"setQuadrant1Text"),e(jve,"setQuadrant2Text"),e(yve,"setQuadrant3Text"),e(_ve,"setQuadrant4Text"),e(wve,"setXAxisLeftText"),e(Ove,"setXAxisRightText"),e(xve,"setYAxisTopText"),e(Cve,"setYAxisBottomText"),e(jv,"parseStyles"),e(kve,"addPoint"),e(Ave,"addClass"),e(Sve,"setWidth"),e(Mve,"setHeight"),e(Fve,"getQuadrantData"),Dve=e(function(){ln.clear(),Tt()},"clear"),Nve={setWidth:Sve,setHeight:Mve,setQuadrant1Text:bve,setQuadrant2Text:jve,setQuadrant3Text:yve,setQuadrant4Text:_ve,setXAxisLeftText:wve,setXAxisRightText:Ove,setYAxisTopText:xve,setYAxisBottomText:Cve,parseStyles:jv,addPoint:kve,addClass:Ave,getQuadrantData:Fve,clear:Dve,setAccTitle:It,getAccTitle:Yt,setDiagramTitle:nn,getDiagramTitle:Ft,getAccDescription:Qt,setAccDescription:Gt}}),Hve=n(()=>{"use strict";he(),P(),x(),Ht(),Rve=e((t,n,s,o)=>{function l(e){return e==="top"?"hanging":"middle"}e(l,"getDominantBaseLine");function r(e){return e==="left"?"start":"middle"}e(r,"getTextAnchor");function c(e){return`translate(${e.x}, ${e.y}) rotate(${e.rotation||0})`}e(c,"getTransformation");let h=u();a.debug(`Rendering quadrant chart
`+t);let g=h.securityLevel,v;g==="sandbox"&&(v=y("#i"+n));let f=y(g==="sandbox"?v.nodes()[0].contentDocument.body:"body").select(`[id="${n}"]`),d=f.append("g").attr("class","main"),p=h.quadrantChart?.chartWidth??500,m=h.quadrantChart?.chartHeight??500;ls(f,m,p,h.quadrantChart?.useMaxWidth??!0),f.attr("viewBox","0 0 "+p+" "+m),o.db.setHeight(m),o.db.setWidth(p);let i=o.db.getQuadrantData(),_=d.append("g").attr("class","quadrants"),w=d.append("g").attr("class","border"),O=d.append("g").attr("class","data-points"),x=d.append("g").attr("class","labels"),C=d.append("g").attr("class","title");i.title&&C.append("text").attr("x",0).attr("y",0).attr("fill",i.title.fill).attr("font-size",i.title.fontSize).attr("dominant-baseline",l(i.title.horizontalPos)).attr("text-anchor",r(i.title.verticalPos)).attr("transform",c(i.title)).text(i.title.text),i.borderLines&&w.selectAll("line").data(i.borderLines).enter().append("line").attr("x1",e=>e.x1).attr("y1",e=>e.y1).attr("x2",e=>e.x2).attr("y2",e=>e.y2).style("stroke",e=>e.strokeFill).style("stroke-width",e=>e.strokeWidth);let b=_.selectAll("g.quadrant").data(i.quadrants).enter().append("g").attr("class","quadrant");b.append("rect").attr("x",e=>e.x).attr("y",e=>e.y).attr("width",e=>e.width).attr("height",e=>e.height).attr("fill",e=>e.fill),b.append("text").attr("x",0).attr("y",0).attr("fill",e=>e.text.fill).attr("font-size",e=>e.text.fontSize).attr("dominant-baseline",e=>l(e.text.horizontalPos)).attr("text-anchor",e=>r(e.text.verticalPos)).attr("transform",e=>c(e.text)).text(e=>e.text.text),x.selectAll("g.label").data(i.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(e=>e.text).attr("fill",e=>e.fill).attr("font-size",e=>e.fontSize).attr("dominant-baseline",e=>l(e.horizontalPos)).attr("text-anchor",e=>r(e.verticalPos)).attr("transform",e=>c(e));let j=O.selectAll("g.data-point").data(i.points).enter().append("g").attr("class","data-point");j.append("circle").attr("cx",e=>e.x).attr("cy",e=>e.y).attr("r",e=>e.radius).attr("fill",e=>e.fill).attr("stroke",e=>e.strokeColor).attr("stroke-width",e=>e.strokeWidth),j.append("text").attr("x",0).attr("y",0).text(e=>e.text.text).attr("fill",e=>e.text.fill).attr("font-size",e=>e.text.fontSize).attr("dominant-baseline",e=>l(e.text.horizontalPos)).attr("text-anchor",e=>r(e.text.verticalPos)).attr("transform",e=>c(e.text))},"draw"),Pve={draw:Rve}}),gz={},de(gz,{diagram:()=>OW}),Vve=n(()=>{"use strict";cve(),Lve(),Hve(),OW={parser:rve,db:Nve,renderer:Pve,styles:e(()=>"","styles")}}),Uve=n(()=>{"use strict";fv=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),j=[1,10,12,14,16,18,19,21,23],O=[2,6],w=[1,3],b=[1,5],v=[1,6],g=[1,7],y=[1,5,10,12,14,16,18,19,21,23,34,35,36],f=[1,25],p=[1,26],u=[1,28],h=[1,29],m=[1,30],r=[1,31],d=[1,32],o=[1,33],a=[1,34],i=[1,35],c=[1,36],l=[1,37],k=[1,43],A=[1,42],S=[1,47],_=[1,50],n=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],s=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],M=[1,64],E={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 5:s.setOrientation(i[r]);break;case 9:s.setDiagramTitle(i[r].text.trim());break;case 12:s.setLineData({text:"",type:"text"},i[r]);break;case 13:s.setLineData(i[r-1],i[r]);break;case 14:s.setBarData({text:"",type:"text"},i[r]);break;case 15:s.setBarData(i[r-1],i[r]);break;case 16:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 17:case 18:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 19:this.$=i[r-1];break;case 20:this.$=[Number(i[r-2]),...i[r]];break;case 21:this.$=[Number(i[r])];break;case 22:s.setXAxisTitle(i[r]);break;case 23:s.setXAxisTitle(i[r-1]);break;case 24:s.setXAxisTitle({type:"text",text:""});break;case 25:s.setXAxisBand(i[r]);break;case 26:s.setXAxisRangeData(Number(i[r-2]),Number(i[r]));break;case 27:this.$=i[r-1];break;case 28:this.$=[i[r-2],...i[r]];break;case 29:this.$=[i[r]];break;case 30:s.setYAxisTitle(i[r]);break;case 31:s.setYAxisTitle(i[r-1]);break;case 32:s.setYAxisTitle({type:"text",text:""});break;case 33:s.setYAxisRangeData(Number(i[r-2]),Number(i[r]));break;case 37:this.$={text:i[r],type:"text"};break;case 38:this.$={text:i[r],type:"text"};break;case 39:this.$={text:i[r],type:"markdown"};break;case 40:this.$=i[r];break;case 41:this.$=i[r-1]+""+i[r];break}},"anonymous"),table:[t(j,O,{3:1,4:2,7:4,5:w,34:b,35:v,36:g}),{1:[3]},t(j,O,{4:2,7:4,3:8,5:w,34:b,35:v,36:g}),t(j,O,{4:2,7:4,6:9,3:10,5:w,8:[1,11],34:b,35:v,36:g}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(y,[2,34]),t(y,[2,35]),t(y,[2,36]),{1:[2,1]},t(j,O,{4:2,7:4,3:21,5:w,34:b,35:v,36:g}),{1:[2,3]},t(y,[2,5]),t(j,[2,7],{4:22,34:b,35:v,36:g}),{11:23,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},{11:39,13:38,24:k,27:A,29:40,30:41,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},{11:45,15:44,27:S,33:46,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},{11:49,17:48,24:_,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},{11:52,17:51,24:_,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},{20:[1,53]},{22:[1,54]},t(n,[2,18]),{1:[2,2]},t(n,[2,8]),t(n,[2,9]),t(C,[2,37],{40:55,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l}),t(C,[2,38]),t(C,[2,39]),t(s,[2,40]),t(s,[2,42]),t(s,[2,43]),t(s,[2,44]),t(s,[2,45]),t(s,[2,46]),t(s,[2,47]),t(s,[2,48]),t(s,[2,49]),t(s,[2,50]),t(s,[2,51]),t(n,[2,10]),t(n,[2,22],{30:41,29:56,24:k,27:A}),t(n,[2,24]),t(n,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},t(n,[2,11]),t(n,[2,30],{33:60,27:S}),t(n,[2,32]),{31:[1,61]},t(n,[2,12]),{17:62,24:_},{25:63,27:M},t(n,[2,14]),{17:65,24:_},t(n,[2,16]),t(n,[2,17]),t(s,[2,41]),t(n,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(n,[2,31]),{27:[1,69]},t(n,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(n,[2,15]),t(n,[2,26]),t(n,[2,27]),{11:59,32:72,37:24,38:f,39:p,40:27,41:u,42:h,43:m,44:r,45:d,46:o,47:a,48:i,49:c,50:l},t(n,[2,33]),t(n,[2,19]),{25:73,27:M},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},F=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";break;case 17:return this.pushState("axis_data"),"Y_AXIS";break;case 18:return this.pushState("axis_band_data"),24;break;case 19:return 31;case 20:return this.pushState("data"),16;break;case 21:return this.pushState("data"),18;break;case 22:return this.pushState("data_inner"),24;break;case 23:return 27;case 24:return this.popState(),26;break;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return t}();E.lexer=F;function x(){this.yy={}}return e(x,"Parser"),x.prototype=E,E.Parser=x,new x}(),fv.parser=fv,Wve=fv});function yz(e){return e.type==="bar"}function Oz(e){return e.type==="band"}function l4(e){return e.type==="linear"}dv=n(()=>{"use strict";e(yz,"isBarPlot"),e(Oz,"isBandAxisData"),e(l4,"isLinearAxisData")}),kz=n(()=>{"use strict";Rs(),xz=class{constructor(e){this.parentGroup=e}static{e(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce((e,t)=>Math.max(t.length,e),0)*t,height:t};let n={width:0,height:0},s=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(let i of e){let o=_re(s,1,i),a=o?o.width:i.length*t,r=o?o.height:t;n.width=Math.max(n.width,a),n.height=Math.max(n.height,r)}return s.remove(),n}}}),Lz=n(()=>{"use strict";Az=class{constructor(e,t,n,s){this.axisConfig=e,this.title=t,this.textDimensionCalculator=n,this.axisThemeConfig=s,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{e(this,"BaseAxis")}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),o=.2*e.width;this.outerPadding=Math.min(n.width/2,o);let s=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,s<=t&&(t-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let e=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=e.height+this.axisConfig.titlePadding*2;this.titleTextHeight=e.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),o=.2*e.height;this.outerPadding=Math.min(n.height/2,o);let s=n.width+this.axisConfig.labelPadding*2;s<=t&&(t-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let e=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=e.height+this.axisConfig.titlePadding*2;this.titleTextHeight=e.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(e=>({text:e.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(e),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(e=>({path:`M ${t},${this.getScaleValue(e)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(e)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(e=>({text:e.toString(),x:this.getScaleValue(e),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(e=>({path:`M ${this.getScaleValue(e)},${t} L ${this.getScaleValue(e)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(e=>({text:e.toString(),x:this.getScaleValue(e),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(e=>({path:`M ${this.getScaleValue(e)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(e)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}}),t9e=n(()=>{"use strict";he(),x(),Lz(),e9e=class extends Az{static{e(this,"BandAxis")}constructor(e,t,n,s,o){super(e,s,o,t),this.categories=n,this.scale=Ip().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=Ip().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),a.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}}}),s9e=n(()=>{"use strict";he(),Lz(),n9e=class extends Az{static{e(this,"LinearAxis")}constructor(e,t,n,s,o){super(e,s,o,t),this.domain=n,this.scale=Mu().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=Mu().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}}});function Pz(e,t,n,s){let o=new xz(s);return Oz(e)?new e9e(t,n,e.categories,e.title,o):new n9e(t,n,[e.min,e.max],e.title,o)}i9e=n(()=>{"use strict";dv(),kz(),t9e(),s9e(),e(Pz,"getAxis")});function a9e(e,t,n,s){let o=new xz(s);return new r9e(o,e,t,n)}c9e=n(()=>{"use strict";kz(),r9e=class{constructor(e,t,n,s){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=n,this.chartThemeConfig=s,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{e(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(t.width,e.width),s=t.height+2*this.chartConfig.titlePadding;return t.width<=n&&t.height<=s&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=s,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},e(a9e,"getChartTitleComponent")}),d9e=n(()=>{"use strict";he(),l9e=class{constructor(e,t,n,s,o){this.plotData=e,this.xAxis=t,this.yAxis=n,this.orientation=s,this.plotIndex=o}static{e(this,"LinePlot")}getDrawableElement(){let t=this.plotData.data.map(e=>[this.xAxis.getScaleValue(e[0]),this.yAxis.getScaleValue(e[1])]),e;return this.orientation==="horizontal"?e=v4().y(e=>e[0]).x(e=>e[1])(t):e=v4().x(e=>e[0]).y(e=>e[1])(t),e?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:e,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}}),h9e=n(()=>{"use strict";u9e=class{constructor(e,t,n,s,o,i){this.barData=e,this.boundingRect=t,this.xAxis=n,this.yAxis=s,this.orientation=o,this.plotIndex=i}static{e(this,"BarPlot")}getDrawableElement(){let t=this.barData.data.map(e=>[this.xAxis.getScaleValue(e[0]),this.yAxis.getScaleValue(e[1])]),e=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),n=e/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(t=>({x:this.boundingRect.x,y:t[0]-n,height:e,width:t[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(t=>({x:t[0]-n,y:t[1],width:e,height:this.boundingRect.y+this.boundingRect.height-t[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function m9e(e,t,n){return new f9e(e,t,n)}p9e=n(()=>{"use strict";d9e(),h9e(),f9e=class{constructor(e,t,n){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}static{e(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");let e=[];for(let[n,t]of this.chartData.plots.entries())switch(t.type){case"line":{let s=new l9e(t,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,n);e.push(...s.getDrawableElement())}break;case"bar":{let s=new u9e(t,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,n);e.push(...s.getDrawableElement())}break}return e}},e(m9e,"getPlotComponent")}),v9e=n(()=>{"use strict";i9e(),c9e(),p9e(),dv(),g9e=class{constructor(e,t,n,s){this.chartConfig=e,this.chartData=t,this.componentStore={title:a9e(e,t,n,s),plot:m9e(e,t,n),xAxis:Pz(t.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},s),yAxis:Pz(t.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},s)}}static{e(this,"Orchestrator")}calculateVerticalSpace(){let n=this.chartConfig.width,e=this.chartConfig.height,o=0,s=0,a=Math.floor(n*this.chartConfig.plotReservedSpacePercent/100),i=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),t=this.componentStore.plot.calculateSpace({width:a,height:i});n-=t.width,e-=t.height,t=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:e}),s=t.height,e-=t.height,this.componentStore.xAxis.setAxisPosition("bottom"),t=this.componentStore.xAxis.calculateSpace({width:n,height:e}),e-=t.height,this.componentStore.yAxis.setAxisPosition("left"),t=this.componentStore.yAxis.calculateSpace({width:n,height:e}),o=t.width,n-=t.width,n>0&&(a+=n,n=0),e>0&&(i+=e,e=0),this.componentStore.plot.calculateSpace({width:a,height:i}),this.componentStore.plot.setBoundingBoxXY({x:o,y:s}),this.componentStore.xAxis.setRange([o,o+a]),this.componentStore.xAxis.setBoundingBoxXY({x:o,y:s+i}),this.componentStore.yAxis.setRange([s,s+i]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:s}),this.chartData.plots.some(e=>yz(e))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let n=this.chartConfig.width,t=this.chartConfig.height,r=0,s=0,o=0,i=Math.floor(n*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),e=this.componentStore.plot.calculateSpace({width:i,height:a});n-=e.width,t-=e.height,e=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=e.height,t-=e.height,this.componentStore.xAxis.setAxisPosition("left"),e=this.componentStore.xAxis.calculateSpace({width:n,height:t}),n-=e.width,s=e.width,this.componentStore.yAxis.setAxisPosition("top"),e=this.componentStore.yAxis.calculateSpace({width:n,height:t}),t-=e.height,o=r+e.height,n>0&&(i+=n,n=0),t>0&&(a+=t,t=0),this.componentStore.plot.calculateSpace({width:i,height:a}),this.componentStore.plot.setBoundingBoxXY({x:s,y:o}),this.componentStore.yAxis.setRange([s,s+i]),this.componentStore.yAxis.setBoundingBoxXY({x:s,y:r}),this.componentStore.xAxis.setRange([o,o+a]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:o}),this.chartData.plots.some(e=>yz(e))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}}}),j9e=n(()=>{"use strict";v9e(),b9e=class{static{e(this,"XYChartBuilder")}static build(e,t,n,s){return new g9e(e,t,n,s).getDrawableElement()}}});function Hz(){let e=n8(),t=De();return yo(e.xyChart,t.themeVariables.xyChart)}function Bz(){let e=De();return yo(ye.xyChart,e.xyChart)}function eD(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function Q7(e){let t=De();return Ie(e.trim(),t)}function x9e(e){I9e=e}function C9e(e){e==="horizontal"?Z1.chartOrientation="horizontal":Z1.chartOrientation="vertical"}function E9e(e){Le.xAxis.title=Q7(e.text)}function nD(e,t){Le.xAxis={type:"linear",title:Le.xAxis.title,min:e,max:t},Z8=!0}function A9e(e){Le.xAxis={type:"band",title:Le.xAxis.title,categories:e.map(e=>Q7(e.text))},Z8=!0}function S9e(e){Le.yAxis.title=Q7(e.text)}function M9e(e,t){Le.yAxis={type:"linear",title:Le.yAxis.title,min:e,max:t},L7=!0}function F9e(e){let t=Math.min(...e),n=Math.max(...e),s=l4(Le.yAxis)?Le.yAxis.min:1/0,o=l4(Le.yAxis)?Le.yAxis.max:-1/0;Le.yAxis={type:"linear",title:Le.yAxis.title,min:Math.min(s,t),max:Math.max(o,n)}}function iD(e){let t=[];if(e.length===0)return t;if(!Z8){let t=l4(Le.xAxis)?Le.xAxis.min:1/0,n=l4(Le.xAxis)?Le.xAxis.max:-1/0;nD(Math.min(t,1),Math.max(n,e.length))}if(L7||F9e(e),Oz(Le.xAxis)&&(t=Le.xAxis.categories.map((t,n)=>[t,e[n]])),l4(Le.xAxis)){let n=Le.xAxis.min,s=Le.xAxis.max,i=(s-n)/(e.length-1),o=[];for(let e=n;e<=s;e+=i)o.push(`${e}`);t=o.map((t,n)=>[t,e[n]])}return t}function yD(e){return P7[e===0?0:e%P7.length]}function D9e(e,t){let n=iD(t);Le.plots.push({type:"line",strokeFill:yD(J1),strokeWidth:2,data:n}),J1++}function N9e(e,t){let n=iD(t);Le.plots.push({type:"bar",fill:yD(J1),data:n}),J1++}function L9e(){if(Le.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Le.title=Ft(),b9e.build(Z1,Le,Y1,I9e)}function R9e(){return Y1}function P9e(){return Z1}G9e=n(()=>{"use strict";sn(),bs(),Gm(),se(),me(),_t(),j9e(),dv(),J1=0,Z1=Bz(),Y1=Hz(),Le=eD(),P7=Y1.plotColorPalette.split(",").map(e=>e.trim()),Z8=!1,L7=!1,e(Hz,"getChartDefaultThemeConfig"),e(Bz,"getChartDefaultConfig"),e(eD,"getChartDefaultData"),e(Q7,"textSanitizer"),e(x9e,"setTmpSVGG"),e(C9e,"setOrientation"),e(E9e,"setXAxisTitle"),e(nD,"setXAxisRangeData"),e(A9e,"setXAxisBand"),e(S9e,"setYAxisTitle"),e(M9e,"setYAxisRangeData"),e(F9e,"setYAxisRangeFromPlotData"),e(iD,"transformDataWithoutCategory"),e(yD,"getPlotColorFromPalette"),e(D9e,"setLineData"),e(N9e,"setBarData"),e(L9e,"getDrawableElem"),e(R9e,"getChartThemeConfig"),e(P9e,"getChartConfig"),q9e=e(function(){Tt(),J1=0,Z1=Bz(),Le=eD(),Y1=Hz(),P7=Y1.plotColorPalette.split(",").map(e=>e.trim()),Z8=!1,L7=!1},"clear"),Y9e={getDrawableElem:L9e,clear:q9e,setAccTitle:It,getAccTitle:Yt,setDiagramTitle:nn,getDiagramTitle:Ft,getAccDescription:Qt,setAccDescription:Gt,setOrientation:C9e,setXAxisTitle:E9e,setXAxisRangeData:nD,setXAxisBand:A9e,setYAxisTitle:S9e,setYAxisRangeData:M9e,setLineData:D9e,setBarData:N9e,setTmpSVGG:x9e,getChartThemeConfig:R9e,getChartConfig:P9e}}),Z9e=n(()=>{"use strict";x(),xi(),Ht(),X9e=e((t,n,s,o)=>{let r=o.db,p=r.getChartThemeConfig(),i=r.getChartConfig();function u(e){return e==="top"?"text-before-edge":"middle"}e(u,"getDominantBaseLine");function h(e){return e==="left"?"start":e==="right"?"end":"middle"}e(h,"getTextAnchor");function m(e){return`translate(${e.x}, ${e.y}) rotate(${e.rotation||0})`}e(m,"getTextTransformation"),a.debug(`Rendering xychart chart
`+t);let c=Ei(n),d=c.append("g").attr("class","main"),g=d.append("rect").attr("width",i.width).attr("height",i.height).attr("class","background");ls(c,i.height,i.width,!0),c.attr("viewBox",`0 0 ${i.width} ${i.height}`),g.attr("fill",p.backgroundColor),r.setTmpSVGG(c.append("g").attr("class","mermaid-tmp-group"));let v=r.getDrawableElem(),l={};function f(e){let n=d,t="";for(let[s]of e.entries()){let o=d;s>0&&l[t]&&(o=l[t]),t+=e[s],n=l[t],n||(n=l[t]=o.append("g").attr("class",e[s]))}return n}e(f,"getGroup");for(let e of v){if(e.data.length===0)continue;let t=f(e.groupTexts);switch(e.type){case"rect":t.selectAll("rect").data(e.data).enter().append("rect").attr("x",e=>e.x).attr("y",e=>e.y).attr("width",e=>e.width).attr("height",e=>e.height).attr("fill",e=>e.fill).attr("stroke",e=>e.strokeFill).attr("stroke-width",e=>e.strokeWidth);break;case"text":t.selectAll("text").data(e.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",e=>e.fill).attr("font-size",e=>e.fontSize).attr("dominant-baseline",e=>u(e.verticalPos)).attr("text-anchor",e=>h(e.horizontalPos)).attr("transform",e=>m(e)).text(e=>e.text);break;case"path":t.selectAll("path").data(e.data).enter().append("path").attr("d",e=>e.path).attr("fill",e=>e.fill?e.fill:"none").attr("stroke",e=>e.strokeFill).attr("stroke-width",e=>e.strokeWidth);break}}},"draw"),Q9e={draw:X9e}}),ID={},de(ID,{diagram:()=>ebe}),tbe=n(()=>{"use strict";Uve(),G9e(),Z9e(),ebe={parser:Wve,db:Y9e,renderer:Q9e}}),obe=n(()=>{"use strict";z7=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),J=[1,3],i=[1,4],a=[1,5],r=[1,6],ee=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],w=[1,22],x=[2,7],O=[1,26],m=[1,27],u=[1,28],h=[1,29],l=[1,33],f=[1,34],p=[1,35],g=[1,36],v=[1,37],b=[1,38],j=[1,24],y=[1,31],_=[1,32],d=[1,30],s=[1,39],o=[1,40],n=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],E=[1,61],D=[89,90],ae=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],X=[27,29],oe=[1,70],se=[1,71],ne=[1,72],ie=[1,73],te=[1,74],ce=[1,75],le=[1,76],R=[1,83],A=[1,80],H=[1,84],I=[1,85],B=[1,86],V=[1,87],$=[1,88],W=[1,89],U=[1,90],K=[1,91],q=[1,92],G=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],k=[63,64],re=[1,101],de=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],c=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],C=[1,110],z=[1,106],T=[1,107],F=[1,108],M=[1,109],S=[1,111],P=[1,116],N=[1,117],L=[1,114],Y=[1,115],Z={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 4:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 5:case 6:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:s.setDirection("TB");break;case 18:s.setDirection("BT");break;case 19:s.setDirection("RL");break;case 20:s.setDirection("LR");break;case 21:s.addRequirement(i[r-3],i[r-4]);break;case 22:s.addRequirement(i[r-5],i[r-6]),s.setClass([i[r-5]],i[r-3]);break;case 23:s.setNewReqId(i[r-2]);break;case 24:s.setNewReqText(i[r-2]);break;case 25:s.setNewReqRisk(i[r-2]);break;case 26:s.setNewReqVerifyMethod(i[r-2]);break;case 29:this.$=s.RequirementType.REQUIREMENT;break;case 30:this.$=s.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=s.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=s.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=s.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=s.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=s.RiskLevel.LOW_RISK;break;case 36:this.$=s.RiskLevel.MED_RISK;break;case 37:this.$=s.RiskLevel.HIGH_RISK;break;case 38:this.$=s.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=s.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=s.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=s.VerifyType.VERIFY_TEST;break;case 42:s.addElement(i[r-3]);break;case 43:s.addElement(i[r-5]),s.setClass([i[r-5]],i[r-3]);break;case 44:s.setNewElementType(i[r-2]);break;case 45:s.setNewElementDocRef(i[r-2]);break;case 48:s.addRelationship(i[r-2],i[r],i[r-4]);break;case 49:s.addRelationship(i[r-2],i[r-4],i[r]);break;case 50:this.$=s.Relationships.CONTAINS;break;case 51:this.$=s.Relationships.COPIES;break;case 52:this.$=s.Relationships.DERIVES;break;case 53:this.$=s.Relationships.SATISFIES;break;case 54:this.$=s.Relationships.VERIFIES;break;case 55:this.$=s.Relationships.REFINES;break;case 56:this.$=s.Relationships.TRACES;break;case 57:this.$=i[r-2],s.defineClass(i[r-1],i[r]);break;case 58:s.setClass(i[r-1],i[r]);break;case 59:s.setClass([i[r-2]],i[r]);break;case 60:case 62:this.$=[i[r]];break;case 61:case 63:this.$=i[r-2].concat([i[r]]);break;case 64:this.$=i[r-2],s.setCssStyle(i[r-1],i[r]);break;case 65:this.$=[i[r]];break;case 66:i[r-2].push(i[r]),this.$=i[r-2];break;case 68:this.$=i[r-1]+i[r];break}},"anonymous"),table:[{3:1,4:2,6:J,9:i,11:a,13:r},{1:[3]},{3:8,4:2,5:[1,7],6:J,9:i,11:a,13:r},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(ee,[2,6]),{3:12,4:2,6:J,9:i,11:a,13:r},{1:[2,2]},{4:17,5:w,7:13,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},t(ee,[2,4]),t(ee,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:w,7:42,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:43,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:44,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:45,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:46,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:47,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:48,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:49,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{4:17,5:w,7:50,8:x,9:i,11:a,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:O,22:m,23:u,24:h,25:23,33:25,41:l,42:f,43:p,44:g,45:v,46:b,54:j,72:y,74:_,77:d,89:s,90:o},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},t(n,[2,17]),t(n,[2,18]),t(n,[2,19]),t(n,[2,20]),{30:60,33:62,75:E,89:s,90:o},{30:63,33:62,75:E,89:s,90:o},{30:64,33:62,75:E,89:s,90:o},t(D,[2,29]),t(D,[2,30]),t(D,[2,31]),t(D,[2,32]),t(D,[2,33]),t(D,[2,34]),t(ae,[2,81]),t(ae,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},t(X,[2,79]),t(X,[2,80]),{27:[1,67],29:[1,68]},t(X,[2,85]),t(X,[2,86]),{62:69,65:oe,66:se,67:ne,68:ie,69:te,70:ce,71:le},{62:77,65:oe,66:se,67:ne,68:ie,69:te,70:ce,71:le},{30:78,33:62,75:E,89:s,90:o},{73:79,75:R,76:A,78:81,79:82,80:H,81:I,82:B,83:V,84:$,85:W,86:U,87:K,88:q},t(G,[2,60]),t(G,[2,62]),{73:93,75:R,76:A,78:81,79:82,80:H,81:I,82:B,83:V,84:$,85:W,86:U,87:K,88:q},{30:94,33:62,75:E,76:A,89:s,90:o},{5:[1,95]},{30:96,33:62,75:E,89:s,90:o},{5:[1,97]},{30:98,33:62,75:E,89:s,90:o},{63:[1,99]},t(k,[2,50]),t(k,[2,51]),t(k,[2,52]),t(k,[2,53]),t(k,[2,54]),t(k,[2,55]),t(k,[2,56]),{64:[1,100]},t(n,[2,59],{76:A}),t(n,[2,64],{76:re}),{33:103,75:[1,102],89:s,90:o},t(de,[2,65],{79:104,75:R,80:H,81:I,82:B,83:V,84:$,85:W,86:U,87:K,88:q}),t(c,[2,67]),t(c,[2,69]),t(c,[2,70]),t(c,[2,71]),t(c,[2,72]),t(c,[2,73]),t(c,[2,74]),t(c,[2,75]),t(c,[2,76]),t(c,[2,77]),t(c,[2,78]),t(n,[2,57],{76:re}),t(n,[2,58],{76:A}),{5:C,28:105,31:z,34:T,36:F,38:M,40:S},{27:[1,112],76:A},{5:P,40:N,56:113,57:L,59:Y},{27:[1,118],76:A},{33:119,89:s,90:o},{33:120,89:s,90:o},{75:R,78:121,79:82,80:H,81:I,82:B,83:V,84:$,85:W,86:U,87:K,88:q},t(G,[2,61]),t(G,[2,63]),t(c,[2,68]),t(n,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:C,28:126,31:z,34:T,36:F,38:M,40:S},t(n,[2,28]),{5:[1,127]},t(n,[2,42]),{32:[1,128]},{32:[1,129]},{5:P,40:N,56:130,57:L,59:Y},t(n,[2,47]),{5:[1,131]},t(n,[2,48]),t(n,[2,49]),t(de,[2,66],{79:104,75:R,80:H,81:I,82:B,83:V,84:$,85:W,86:U,87:K,88:q}),{33:132,89:s,90:o},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},t(n,[2,27]),{5:C,28:145,31:z,34:T,36:F,38:M,40:S},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},t(n,[2,46]),{5:P,40:N,56:152,57:L,59:Y},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},t(n,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},t(n,[2,43]),{5:C,28:159,31:z,34:T,36:F,38:M,40:S},{5:C,28:160,31:z,34:T,36:F,38:M,40:S},{5:C,28:161,31:z,34:T,36:F,38:M,40:S},{5:C,28:162,31:z,34:T,36:F,38:M,40:S},{5:P,40:N,56:163,57:L,59:Y},{5:P,40:N,56:164,57:L,59:Y},t(n,[2,23]),t(n,[2,24]),t(n,[2,25]),t(n,[2,26]),t(n,[2,44]),t(n,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},ue=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return t.yytext=t.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n{<>\-=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return t}();Z.lexer=ue;function Q(){this.yy={}}return e(Q,"Parser"),Q.prototype=Z,Z.Parser=Q,new Q}(),z7.parser=z7,sbe=z7}),abe=n(()=>{"use strict";P(),x(),_t(),ibe=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=It,this.getAccTitle=Yt,this.setAccDescription=Gt,this.getAccDescription=Qt,this.setDiagramTitle=nn,this.getDiagramTitle=Ft,this.getConfig=e(()=>u().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{e(this,"RequirementDB")}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,t){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:t,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=e)}setNewReqText(e){this.latestRequirement!==void 0&&(this.latestRequirement.text=e)}setNewReqRisk(e){this.latestRequirement!==void 0&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),a.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){this.latestElement!==void 0&&(this.latestElement.type=e)}setNewElementDocRef(e){this.latestElement!==void 0&&(this.latestElement.docRef=e)}addRelationship(e,t,n){this.relations.push({type:e,src:t,dst:n})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,Tt()}setCssStyle(e,t){for(let s of e){let n=this.requirements.get(s)??this.elements.get(s);if(!t||!n)return;for(let e of t)e.includes(",")?n.cssStyles.push(...e.split(",")):n.cssStyles.push(e)}}setClass(e,t){for(let s of e){let n=this.requirements.get(s)??this.elements.get(s);if(n)for(let e of t){n.classes.push(e);let s=this.classes.get(e)?.styles;s&&n.cssStyles.push(...s)}}}defineClass(e,t){for(let n of e){let s=this.classes.get(n);s===void 0&&(s={id:n,styles:[],textStyles:[]},this.classes.set(n,s)),t&&t.forEach(function(e){if(/color/.exec(e)){let t=e.replace("fill","bgFill");s.textStyles.push(t)}s.styles.push(e)}),this.requirements.forEach(e=>{e.classes.includes(n)&&e.cssStyles.push(...t.flatMap(e=>e.split(",")))}),this.elements.forEach(e=>{e.classes.includes(n)&&e.cssStyles.push(...t.flatMap(e=>e.split(",")))})}}getClasses(){return this.classes}getData(){let e=u(),t=[],n=[];for(let s of this.requirements.values()){let n=s;n.id=s.name,n.cssStyles=s.cssStyles,n.cssClasses=s.classes.join(" "),n.shape="requirementBox",n.look=e.look,t.push(n)}for(let s of this.elements.values()){let n=s;n.shape="requirementBox",n.look=e.look,n.id=s.name,n.cssStyles=s.cssStyles,n.cssClasses=s.classes.join(" "),t.push(n)}for(let t of this.relations){let o=0,s=t.type===this.Relationships.CONTAINS,i={id:`${t.src}-${t.dst}-${o}`,start:this.requirements.get(t.src)?.name??this.elements.get(t.src)?.name,end:this.requirements.get(t.dst)?.name??this.elements.get(t.dst)?.name,label:`&lt;&lt;${t.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",s?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:s?"normal":"dashed",arrowTypeStart:s?"requirement_contains":"",arrowTypeEnd:s?"":"requirement_arrow",look:e.look};n.push(i),o++}return{nodes:t,edges:n,other:{},config:e,direction:this.getDirection()}}}}),lbe=n(()=>{"use strict";rbe=e(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),cbe=rbe}),BD={},de(BD,{draw:()=>ube}),hbe=n(()=>{"use strict";P(),x(),H4(),ul(),p4(),se(),ube=e(async function(e,t,n,s){a.info("REF0:"),a.info("Drawing requirement diagram (unified)",t);let{securityLevel:c,state:i,layout:l}=u(),o=s.db.getData(),r=I4(t,c);o.type=s.type,o.layoutAlgorithm=T8(l),o.nodeSpacing=i?.nodeSpacing??50,o.rankSpacing=i?.rankSpacing??50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=t,await h4(o,r);let d=8;le.insertTitle(r,"requirementDiagramTitleText",i?.titleTopMargin??25,s.db.getDiagramTitle()),f4(r,d,"requirementDiagram",i?.useMaxWidth??!0)},"draw")}),KD={},de(KD,{diagram:()=>fbe}),pbe=n(()=>{"use strict";obe(),abe(),lbe(),hbe(),fbe={parser:sbe,get db(){return new ibe},renderer:BD,styles:cbe}}),bbe=n(()=>{"use strict";M7=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),B=[1,2],H=[1,3],P=[1,4],o=[2,4],z=[1,9],D=[1,11],E=[1,13],h=[1,14],A=[1,16],u=[1,17],l=[1,18],m=[1,24],f=[1,25],p=[1,26],g=[1,27],v=[1,28],b=[1,29],j=[1,30],d=[1,31],_=[1,32],w=[1,33],O=[1,34],x=[1,35],C=[1,36],r=[1,37],a=[1,38],i=[1,39],S=[1,41],M=[1,42],F=[1,43],T=[1,44],y=[1,45],s=[1,46],n=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],N=[4,5,16,50,52,53],L=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],I=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],c=[68,69,70],k=[1,122],V={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 3:return s.apply(i[r]),i[r];break;case 4:case 9:this.$=[];break;case 5:case 10:i[r-1].push(i[r]),this.$=i[r-1];break;case 6:case 7:case 11:case 12:this.$=i[r];break;case 8:case 13:this.$=[];break;case 15:i[r].type="createParticipant",this.$=i[r];break;case 16:i[r-1].unshift({type:"boxStart",boxData:s.parseBoxData(i[r-2])}),i[r-1].push({type:"boxEnd",boxText:i[r-2]}),this.$=i[r-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(i[r-2]),sequenceIndexStep:Number(i[r-1]),sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(i[r-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:s.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:s.LINETYPE.ACTIVE_START,actor:i[r-1].actor};break;case 23:this.$={type:"activeEnd",signalType:s.LINETYPE.ACTIVE_END,actor:i[r-1].actor};break;case 29:s.setDiagramTitle(i[r].substring(6)),this.$=i[r].substring(6);break;case 30:s.setDiagramTitle(i[r].substring(7)),this.$=i[r].substring(7);break;case 31:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 32:case 33:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 34:i[r-1].unshift({type:"loopStart",loopText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.LOOP_START}),i[r-1].push({type:"loopEnd",loopText:i[r-2],signalType:s.LINETYPE.LOOP_END}),this.$=i[r-1];break;case 35:i[r-1].unshift({type:"rectStart",color:s.parseMessage(i[r-2]),signalType:s.LINETYPE.RECT_START}),i[r-1].push({type:"rectEnd",color:s.parseMessage(i[r-2]),signalType:s.LINETYPE.RECT_END}),this.$=i[r-1];break;case 36:i[r-1].unshift({type:"optStart",optText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.OPT_START}),i[r-1].push({type:"optEnd",optText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.OPT_END}),this.$=i[r-1];break;case 37:i[r-1].unshift({type:"altStart",altText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.ALT_START}),i[r-1].push({type:"altEnd",signalType:s.LINETYPE.ALT_END}),this.$=i[r-1];break;case 38:i[r-1].unshift({type:"parStart",parText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.PAR_START}),i[r-1].push({type:"parEnd",signalType:s.LINETYPE.PAR_END}),this.$=i[r-1];break;case 39:i[r-1].unshift({type:"parStart",parText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.PAR_OVER_START}),i[r-1].push({type:"parEnd",signalType:s.LINETYPE.PAR_END}),this.$=i[r-1];break;case 40:i[r-1].unshift({type:"criticalStart",criticalText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.CRITICAL_START}),i[r-1].push({type:"criticalEnd",signalType:s.LINETYPE.CRITICAL_END}),this.$=i[r-1];break;case 41:i[r-1].unshift({type:"breakStart",breakText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.BREAK_START}),i[r-1].push({type:"breakEnd",optText:s.parseMessage(i[r-2]),signalType:s.LINETYPE.BREAK_END}),this.$=i[r-1];break;case 43:this.$=i[r-3].concat([{type:"option",optionText:s.parseMessage(i[r-1]),signalType:s.LINETYPE.CRITICAL_OPTION},i[r]]);break;case 45:this.$=i[r-3].concat([{type:"and",parText:s.parseMessage(i[r-1]),signalType:s.LINETYPE.PAR_AND},i[r]]);break;case 47:this.$=i[r-3].concat([{type:"else",altText:s.parseMessage(i[r-1]),signalType:s.LINETYPE.ALT_ELSE},i[r]]);break;case 48:i[r-3].draw="participant",i[r-3].type="addParticipant",i[r-3].description=s.parseMessage(i[r-1]),this.$=i[r-3];break;case 49:i[r-1].draw="participant",i[r-1].type="addParticipant",this.$=i[r-1];break;case 50:i[r-3].draw="actor",i[r-3].type="addParticipant",i[r-3].description=s.parseMessage(i[r-1]),this.$=i[r-3];break;case 51:i[r-1].draw="actor",i[r-1].type="addParticipant",this.$=i[r-1];break;case 52:i[r-1].type="destroyParticipant",this.$=i[r-1];break;case 53:this.$=[i[r-1],{type:"addNote",placement:i[r-2],actor:i[r-1].actor,text:i[r]}];break;case 54:i[r-2]=[].concat(i[r-1],i[r-1]).slice(0,2),i[r-2][0]=i[r-2][0].actor,i[r-2][1]=i[r-2][1].actor,this.$=[i[r-1],{type:"addNote",placement:s.PLACEMENT.OVER,actor:i[r-2].slice(0,2),text:i[r]}];break;case 55:this.$=[i[r-1],{type:"addLinks",actor:i[r-1].actor,text:i[r]}];break;case 56:this.$=[i[r-1],{type:"addALink",actor:i[r-1].actor,text:i[r]}];break;case 57:this.$=[i[r-1],{type:"addProperties",actor:i[r-1].actor,text:i[r]}];break;case 58:this.$=[i[r-1],{type:"addDetails",actor:i[r-1].actor,text:i[r]}];break;case 61:this.$=[i[r-2],i[r]];break;case 62:this.$=i[r];break;case 63:this.$=s.PLACEMENT.LEFTOF;break;case 64:this.$=s.PLACEMENT.RIGHTOF;break;case 65:this.$=[i[r-4],i[r-1],{type:"addMessage",from:i[r-4].actor,to:i[r-1].actor,signalType:i[r-3],msg:i[r],activate:!0},{type:"activeStart",signalType:s.LINETYPE.ACTIVE_START,actor:i[r-1].actor}];break;case 66:this.$=[i[r-4],i[r-1],{type:"addMessage",from:i[r-4].actor,to:i[r-1].actor,signalType:i[r-3],msg:i[r]},{type:"activeEnd",signalType:s.LINETYPE.ACTIVE_END,actor:i[r-4].actor}];break;case 67:this.$=[i[r-3],i[r-1],{type:"addMessage",from:i[r-3].actor,to:i[r-1].actor,signalType:i[r-2],msg:i[r]}];break;case 68:this.$={type:"addParticipant",actor:i[r]};break;case 69:this.$=s.LINETYPE.SOLID_OPEN;break;case 70:this.$=s.LINETYPE.DOTTED_OPEN;break;case 71:this.$=s.LINETYPE.SOLID;break;case 72:this.$=s.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=s.LINETYPE.DOTTED;break;case 74:this.$=s.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=s.LINETYPE.SOLID_CROSS;break;case 76:this.$=s.LINETYPE.DOTTED_CROSS;break;case 77:this.$=s.LINETYPE.SOLID_POINT;break;case 78:this.$=s.LINETYPE.DOTTED_POINT;break;case 79:this.$=s.parseMessage(i[r].trim().substring(1));break}},"anonymous"),table:[{3:1,4:B,5:H,6:P},{1:[3]},{3:5,4:B,5:H,6:P},{3:6,4:B,5:H,6:P},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],o,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:z,5:D,8:8,9:10,12:12,13:E,14:h,17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},t(n,[2,5]),{9:47,12:12,13:E,14:h,17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},t(n,[2,7]),t(n,[2,8]),t(n,[2,14]),{12:48,50:r,52:a,53:i},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:s},{22:55,70:s},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(n,[2,29]),t(n,[2,30]),{32:[1,61]},{34:[1,62]},t(n,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:s},{22:72,70:s},{22:73,70:s},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:s},{22:90,70:s},{22:91,70:s},{22:92,70:s},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(n,[2,6]),t(n,[2,15]),t(N,[2,9],{10:93}),t(n,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(n,[2,21]),{5:[1,97]},{5:[1,98]},t(n,[2,24]),t(n,[2,25]),t(n,[2,26]),t(n,[2,27]),t(n,[2,28]),t(n,[2,31]),t(n,[2,32]),t(L,o,{7:99}),t(L,o,{7:100}),t(L,o,{7:101}),t($,o,{40:102,7:103}),t(I,o,{42:104,7:105}),t(I,o,{7:105,42:106}),t(W,o,{45:107,7:108}),t(L,o,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:s},t(c,[2,69]),t(c,[2,70]),t(c,[2,71]),t(c,[2,72]),t(c,[2,73]),t(c,[2,74]),t(c,[2,75]),t(c,[2,76]),t(c,[2,77]),t(c,[2,78]),{22:118,70:s},{22:120,58:119,70:s},{70:[2,63]},{70:[2,64]},{56:121,81:k},{56:123,81:k},{56:124,81:k},{56:125,81:k},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:r,52:a,53:i},{5:[1,131]},t(n,[2,19]),t(n,[2,20]),t(n,[2,22]),t(n,[2,23]),{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[1,132],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[1,133],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[1,134],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{16:[1,135]},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[2,46],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,49:[1,136],50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{16:[1,137]},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[2,44],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,48:[1,138],50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{16:[1,139]},{16:[1,140]},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[2,42],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,47:[1,141],50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{4:z,5:D,8:8,9:10,12:12,13:E,14:h,16:[1,142],17:15,18:A,21:u,22:40,23:l,24:19,25:20,26:21,27:22,28:23,29:m,30:f,31:p,33:g,35:v,36:b,37:j,38:d,39:_,41:w,43:O,44:x,46:C,50:r,52:a,53:i,54:S,59:M,60:F,61:T,62:y,70:s},{15:[1,143]},t(n,[2,49]),{15:[1,144]},t(n,[2,51]),t(n,[2,52]),{22:145,70:s},{22:146,70:s},{56:147,81:k},{56:148,81:k},{56:149,81:k},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(n,[2,16]),t(N,[2,10]),{12:151,50:r,52:a,53:i},t(N,[2,12]),t(N,[2,13]),t(n,[2,18]),t(n,[2,34]),t(n,[2,35]),t(n,[2,36]),t(n,[2,37]),{15:[1,152]},t(n,[2,38]),{15:[1,153]},t(n,[2,39]),t(n,[2,40]),{15:[1,154]},t(n,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:k},{56:158,81:k},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:s},t(N,[2,11]),t($,o,{7:103,40:160}),t(I,o,{7:105,42:161}),t(W,o,{7:108,45:162}),t(n,[2,48]),t(n,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},U=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;break;case 8:return this.begin("ID"),50;break;case 9:return this.begin("ID"),52;break;case 10:return 13;case 11:return this.begin("ID"),53;break;case 12:return t.yytext=t.yytext.trim(),this.begin("ALIAS"),70;break;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 14:return this.popState(),this.popState(),5;break;case 15:return this.begin("LINE"),36;break;case 16:return this.begin("LINE"),37;break;case 17:return this.begin("LINE"),38;break;case 18:return this.begin("LINE"),39;break;case 19:return this.begin("LINE"),49;break;case 20:return this.begin("LINE"),41;break;case 21:return this.begin("LINE"),43;break;case 22:return this.begin("LINE"),48;break;case 23:return this.begin("LINE"),44;break;case 24:return this.begin("LINE"),47;break;case 25:return this.begin("LINE"),46;break;case 26:return this.popState(),15;break;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;break;case 37:return this.begin("ID"),23;break;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;break;case 41:return this.popState(),"acc_title_value";break;case 42:return this.begin("acc_descr"),33;break;case 43:return this.popState(),"acc_descr_value";break;case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return t.yytext=t.yytext.trim(),70;break;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<->->:\n,;]+?([-]*[^<->->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<->->:\n,;]+((?!(-x|--x|-\)|--\)))[-]*[^+<->->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[)])/i,/^(?:--[)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return t}();V.lexer=U;function R(){this.yy={}}return e(R,"Parser"),R.prototype=V,V.Parser=R,new R}(),M7.parser=M7,vbe=M7}),Obe=n(()=>{"use strict";P(),x(),Nj(),me(),_t(),jbe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},ybe={FILLED:0,OPEN:1},_be={LEFTOF:0,RIGHTOF:1,OVER:2},wbe=class{constructor(){this.state=new Pj(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=It,this.setAccDescription=Gt,this.setDiagramTitle=nn,this.getAccTitle=Yt,this.getAccDescription=Qt,this.getDiagramTitle=Ft,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(u().wrap),this.LINETYPE=jbe,this.ARROWTYPE=ybe,this.PLACEMENT=_be}static{e(this,"SequenceDB")}addBox(e){this.state.records.boxes.push({name:e.text,wrap:e.wrap??this.autoWrap(),fill:e.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(e,t,n,s){let i=this.state.records.currentBox,o=this.state.records.actors.get(e);if(o){if(this.state.records.currentBox&&o.box&&this.state.records.currentBox!==o.box)throw new Error(`A same participant should only be defined in one Box: ${o.name} can't be in '${o.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(i=o.box?o.box:this.state.records.currentBox,o.box=i,o&&t===o.name&&n==null)return}if(n?.text==null&&(n={text:t,type:s}),(s==null||n.text==null)&&(n={text:t,type:s}),this.state.records.actors.set(e,{box:i,name:t,description:n.text,wrap:n.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:s??"participant"}),this.state.records.prevActor){let t=this.state.records.actors.get(this.state.records.prevActor);t&&(t.nextActor=e)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(e),this.state.records.prevActor=e}activationCount(e){let t,n=0;if(!e)return 0;for(t=0;t<this.state.records.messages.length;t++)this.state.records.messages[t].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[t].from===e&&n++,this.state.records.messages[t].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[t].from===e&&n--;return n}addMessage(e,t,n,s){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:n.text,wrap:n.wrap??this.autoWrap(),answer:s})}addSignal(e,t,n,s,o=!1){if(s===this.LINETYPE.ACTIVE_END&&this.activationCount(e??"")<1){let t=new Error("Trying to inactivate an inactive participant ("+e+")");throw t.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},t}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:n?.text??"",wrap:n?.wrap??this.autoWrap(),type:s,activate:o}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(e=>e.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(e){return this.state.records.actors.get(e)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(e){this.state.records.wrapEnabled=e}extractWrap(e){if(e===void 0)return{};e=e.trim();let t=/^:?wrap:/.exec(e)!==null||/^:?nowrap:/.exec(e)===null&&void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}}autoWrap(){return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:u().sequence?.wrap??!1}clear(){this.state.reset(),Tt()}parseMessage(e){let n=e.trim(),{wrap:s,cleanedText:o}=this.extractWrap(n),t={text:o,wrap:s};return a.debug(`parseMessage: ${JSON.stringify(t)}`),t}parseBoxData(e){let n=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),t=n?.[1]?n[1].trim():"transparent",s=n?.[2]?n[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",t)||(t="transparent",s=e.trim());else{let n=(new Option).style;n.color=t,n.color!==t&&(t="transparent",s=e.trim())}let{wrap:i,cleanedText:o}=this.extractWrap(s);return{text:o?Ie(o,u()):void 0,color:t,wrap:i}}addNote(e,t,n){let o={actor:e,placement:t,message:n.text,wrap:n.wrap??this.autoWrap()},s=[].concat(e,e);this.state.records.notes.push(o),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:s[0],to:s[1],message:n.text,wrap:n.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:t})}addLinks(e,t){let n=this.getActor(e);try{let e=Ie(t.text,u());e=e.replace(/&equals;/g,"="),e=e.replace(/&amp;/g,"&");let s=JSON.parse(e);this.insertLinks(n,s)}catch(e){a.error("error while parsing actor link text",e)}}addALink(e,t){let n=this.getActor(e);try{let s={},e=Ie(t.text,u()),o=e.indexOf("@");e=e.replace(/&equals;/g,"="),e=e.replace(/&amp;/g,"&");let i=e.slice(0,o-1).trim(),a=e.slice(o+1).trim();s[i]=a,this.insertLinks(n,s)}catch(e){a.error("error while parsing actor link text",e)}}insertLinks(e,t){if(e.links==null)e.links=t;else for(let n in t)e.links[n]=t[n]}addProperties(e,t){let n=this.getActor(e);try{let e=Ie(t.text,u()),s=JSON.parse(e);this.insertProperties(n,s)}catch(e){a.error("error while parsing actor properties text",e)}}insertProperties(e,t){if(e.properties==null)e.properties=t;else for(let n in t)e.properties[n]=t[n]}boxEnd(){this.state.records.currentBox=void 0}addDetails(e,t){let n=this.getActor(e),s=document.getElementById(t.text);try{let t=s.innerHTML,e=JSON.parse(t);e.properties&&this.insertProperties(n,e.properties),e.links&&this.insertLinks(n,e.links)}catch(e){a.error("error while parsing actor details text",e)}}getActorProperty(e,t){if(e?.properties!==void 0)return e.properties[t]}apply(e){if(Array.isArray(e))e.forEach(e=>{this.apply(e)});else switch(e.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":this.addActor(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(this.state.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=e.actor,this.addActor(e.actor,e.actor,e.description,e.draw),this.state.records.createdActors.set(e.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=e.actor,this.state.records.destroyedActors.set(e.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":this.addNote(e.actor,e.placement,e.text);break;case"addLinks":this.addLinks(e.actor,e.text);break;case"addALink":this.addALink(e.actor,e.text);break;case"addProperties":this.addProperties(e.actor,e.text);break;case"addDetails":this.addDetails(e.actor,e.text);break;case"addMessage":if(this.state.records.lastCreated){if(e.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(e.to!==this.state.records.lastDestroyed&&e.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":this.addBox(e.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":this.addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":this.addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":It(e.text);break;case"parStart":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":this.addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":this.addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break}}getConfig(){return u().sequence}}}),Ebe=n(()=>{"use strict";xbe=e(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),Cbe=xbe}),rje=n(()=>{"use strict";me(),vm(),se(),YD=Sn(W4(),1),sn(),_c=18*2,QD="actor-top",ZD="actor-bottom",Fbe="actor-box",eN="actor-man",w7=e(function(e,t){return ym(e,t)},"drawRect"),Dbe=e(function(e,t,n,s,o){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let l=t.links,f=t.actorCnt,i=t.rectData;d="none",o&&(d="block !important");let r=e.append("g");r.attr("id","actor"+f+"_popup"),r.attr("class","actorPopupMenu"),r.attr("display",d),u="",i.class!==void 0&&(u=" "+i.class);let h=i.width>n?i.width:n,a=r.append("rect");if(a.attr("class","actorPopupMenuPanel"+u),a.attr("x",i.x),a.attr("y",i.height),a.attr("fill",i.fill),a.attr("stroke",i.stroke),a.attr("width",h),a.attr("height",i.height),a.attr("rx",i.rx),a.attr("ry",i.ry),l!=null){c=20;for(let e in l){var c,d,u,m=r.append("a"),p=(0,YD.sanitizeUrl)(l[e]);m.attr("xlink:href",p),m.attr("target","_blank"),ije(s)(e,m,i.x+10,i.height+c,h,20,{class:"actor"},s),c+=30}}return a.attr("height",c),{height:i.height+c,width:h}},"drawPopup"),Nbe=e(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),ef=e(async function(e,t,n=null){let s=e.append("foreignObject"),i=await z1(t.text,De()),o=s.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(s.attr("height",Math.round(o.height)).attr("width",Math.round(o.width)),t.class==="noteText"){let i=e.node().firstChild;i.setAttribute("height",o.height+2*t.textMargin);let n=i.getBBox();s.attr("x",Math.round(n.x+n.width/2-o.width/2)).attr("y",Math.round(n.y+n.height/2-o.height/2))}else if(n){let{startx:e,stopx:i,starty:a}=n;if(e>i){let t=e;e=i,i=t}s.attr("x",Math.round(e+Math.abs(e-i)/2-o.width/2)),t.class==="loopText"?s.attr("y",Math.round(a)):s.attr("y",Math.round(a-o.height))}return[s]},"drawKatex"),Il=e(function(t,n){let i=0,s=0,d=n.text.split(w.lineBreakRegex),[r,c]=Ka(n.fontSize),l=[],a=0,o=e(()=>n.y,"yfunc");if(n.valign!==void 0&&n.textMargin!==void 0&&n.textMargin>0)switch(n.valign){case"top":case"start":o=e(()=>Math.round(n.y+n.textMargin),"yfunc");break;case"middle":case"center":o=e(()=>Math.round(n.y+(i+s+n.textMargin)/2),"yfunc");break;case"bottom":case"end":o=e(()=>Math.round(n.y+(i+s+2*n.textMargin)-n.textMargin),"yfunc");break}if(n.anchor!==void 0&&n.textMargin!==void 0&&n.width!==void 0)switch(n.anchor){case"left":case"start":n.x=Math.round(n.x+n.textMargin),n.anchor="start",n.dominantBaseline="middle",n.alignmentBaseline="middle";break;case"middle":case"center":n.x=Math.round(n.x+n.width/2),n.anchor="middle",n.dominantBaseline="middle",n.alignmentBaseline="middle";break;case"right":case"end":n.x=Math.round(n.x+n.width-n.textMargin),n.anchor="end",n.dominantBaseline="middle",n.alignmentBaseline="middle";break}for(let[h,m]of d.entries()){n.textMargin!==void 0&&n.textMargin===0&&r!==void 0&&(a=h*r);let e=t.append("text");e.attr("x",n.x),e.attr("y",o()),n.anchor!==void 0&&e.attr("text-anchor",n.anchor).attr("dominant-baseline",n.dominantBaseline).attr("alignment-baseline",n.alignmentBaseline),n.fontFamily!==void 0&&e.style("font-family",n.fontFamily),c!==void 0&&e.style("font-size",c),n.fontWeight!==void 0&&e.style("font-weight",n.fontWeight),n.fill!==void 0&&e.attr("fill",n.fill),n.class!==void 0&&e.attr("class",n.class),n.dy!==void 0?e.attr("dy",n.dy):a!==0&&e.attr("dy",a);let u=m||EE;if(n.tspan){let t=e.append("tspan");t.attr("x",n.x),n.fill!==void 0&&t.attr("fill",n.fill),t.text(u)}else e.text(u);n.valign!==void 0&&n.textMargin!==void 0&&n.textMargin>0&&(s+=(e._groups||e)[0][0].getBBox().height,i=s),l.push(e)}return l},"drawText"),cN=e(function(t,n){function o(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}e(o,"genPoints");let s=t.append("polygon");return s.attr("points",o(n.x,n.y,n.width,n.height,7)),s.attr("class","labelBox"),n.y=n.y+n.height/2,Il(t,n),s},"drawLabel"),Ho=-1,dN=e((e,t,n,s)=>{e.select&&n.forEach(n=>{let o=t.get(n),i=e.select("#actor"+o.actorCnt);!s.mirrorActors&&o.stopy?i.attr("y2",o.stopy+o.height/2):s.mirrorActors&&i.attr("y2",o.stopy)})},"fixLifeLineHeights"),Bbe=e(function(e,t,n,s){let r=s?t.stopy:t.starty,c=t.x+t.width/2,h=r+t.height,l=e.append("g").lower();var a,i=l;s||(Ho++,Object.keys(t.links||{}).length&&!n.forceMenus&&i.attr("onclick",Nbe(`actor${Ho}_popup`)).attr("cursor","pointer"),i.append("line").attr("id","actor"+Ho).attr("x1",c).attr("y1",h).attr("x2",c).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),i=l.append("g"),t.actorCnt=Ho,t.links!=null&&i.attr("id","root-"+Ho));let o=yc();a="actor",t.properties?.class?a=t.properties.class:o.fill="#eaeaea",s?a+=` ${ZD}`:a+=` ${QD}`,o.x=t.x,o.y=r,o.width=t.width,o.height=t.height,o.class=a,o.rx=3,o.ry=3,o.name=t.name;let d=w7(i,o);if(t.rectData=o,t.properties?.icon){let e=t.properties.icon.trim();e.charAt(0)==="@"?qge(i,o.x+o.width-20,o.y+10,e.substr(1)):Yge(i,o.x+o.width-20,o.y+10,e)}m7(n,_n(t.description))(t.description,i,o.x,o.y,o.width,o.height,{class:`actor ${Fbe}`},n);let u=t.height;if(d.node){let e=d.node().getBBox();t.height=e.height,u=e.height}return u},"drawActorTypeParticipant"),Vbe=e(function(e,t,n,s){let i=s?t.stopy:t.starty,a=t.x+t.width/2,d=i+80,u=e.append("g").lower();s||(Ho++,u.append("line").attr("id","actor"+Ho).attr("x1",a).attr("y1",d).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ho);let r=e.append("g"),l=eN;s?l+=` ${ZD}`:l+=` ${QD}`,r.attr("class",l),r.attr("name",t.name);let o=yc();o.x=t.x,o.y=i,o.fill="#eaeaea",o.width=t.width,o.height=t.height,o.class="actor",o.rx=3,o.ry=3,r.append("line").attr("id","actor-man-torso"+Ho).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),r.append("line").attr("id","actor-man-arms"+Ho).attr("x1",a-_c/2).attr("y1",i+33).attr("x2",a+_c/2).attr("y2",i+33),r.append("line").attr("x1",a-_c/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),r.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+_c/2-2).attr("y2",i+60);let c=r.append("circle");c.attr("cx",t.x+t.width/2),c.attr("cy",i+10),c.attr("r",15),c.attr("width",t.width),c.attr("height",t.height);let h=r.node().getBBox();return t.height=h.height,m7(n,_n(t.description))(t.description,r,o.x,o.y+35,o.width,o.height,{class:`actor ${eN}`},n),t.height},"drawActorTypeActor"),$be=e(async function(e,t,n,s){switch(t.type){case"actor":return await Vbe(e,t,n,s);case"participant":return await Bbe(e,t,n,s)}},"drawActor"),Wbe=e(function(e,t,n){let s=e.append("g");jN(s,t),t.name&&m7(n)(t.name,s,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},n),s.lower()},"drawBox"),Ube=e(function(e){return e.append("g")},"anchorElement"),Kbe=e(function(e,t,n,s,o){let i=yc(),a=t.anchored;i.x=t.startx,i.y=t.starty,i.class="activation"+o%3,i.width=t.stopx-t.startx,i.height=n-t.starty,w7(a,i)},"drawActivation"),qbe=e(async function(t,n,s,o){let{boxMargin:l,boxTextMargin:r,labelBoxHeight:f,labelBoxWidth:m,messageFontFamily:d,messageFontSize:u,messageFontWeight:h}=o,a=t.append("g"),c=e(function(e,t,n,s){return a.append("line").attr("x1",e).attr("y1",t).attr("x2",n).attr("y2",s).attr("class","loopLine")},"drawLoopLine");c(n.startx,n.starty,n.stopx,n.starty),c(n.stopx,n.starty,n.stopx,n.stopy),c(n.startx,n.stopy,n.stopx,n.stopy),c(n.startx,n.starty,n.startx,n.stopy),n.sections!==void 0&&n.sections.forEach(function(e){c(n.startx,e.y,n.stopx,e.y).style("stroke-dasharray","3, 3")});let i=Db();i.text=s,i.x=n.startx,i.y=n.starty,i.fontFamily=d,i.fontSize=u,i.fontWeight=h,i.anchor="middle",i.valign="middle",i.tspan=!1,i.width=m||50,i.height=f||20,i.textMargin=r,i.class="labelText",cN(a,i),i=AN(),i.text=n.title,i.x=n.startx+m/2+(n.stopx-n.startx)/2,i.y=n.starty+l+r,i.anchor="middle",i.valign="middle",i.textMargin=r,i.class="loopText",i.fontFamily=d,i.fontSize=u,i.fontWeight=h,i.wrap=!0;let p=_n(i.text)?await ef(a,i,n):Il(a,i);if(n.sectionTitles!==void 0)for(let[e,t]of Object.entries(n.sectionTitles))if(t.message){i.text=t.message,i.x=n.startx+(n.stopx-n.startx)/2,i.y=n.sections[e].y+l+r,i.class="loopText",i.anchor="middle",i.valign="middle",i.tspan=!1,i.fontFamily=d,i.fontSize=u,i.fontWeight=h,i.wrap=n.wrap,_n(i.text)?(n.starty=n.sections[e].y,await ef(a,i,n)):Il(a,i);let s=Math.round(p.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));n.sections[e].height+=s-(l+r)}return n.height=Math.round(n.stopy-n.starty),a},"drawLoop"),jN=e(function(e,t){Gk(e,t)},"drawBackgroundRect"),Gbe=e(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Xbe=e(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Qbe=e(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Zbe=e(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),Jbe=e(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),eje=e(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),tje=e(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),AN=e(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),sje=e(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),m7=function(){function s(e,n,s,o,i,a,r){let c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(e);t(c,r)}e(s,"byText");function n(e,n,s,o,i,a,r,c){let{actorFontSize:u,actorFontFamily:h,actorFontWeight:m}=c,[d,f]=Ka(u),l=e.split(w.lineBreakRegex);for(let e=0;e<l.length;e++){let u=e*d-d*(l.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").style("font-size",f).style("font-weight",m).style("font-family",h);c.append("tspan").attr("x",s+i/2).attr("dy",u).text(l[e]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),t(c,r)}}e(n,"byTspan");function o(e,s,o,i,a,r,c,l){let d=s.append("switch"),u=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),n(e,d,o,i,a,r,c,l),t(u,c)}e(o,"byFo");async function i(e,s,o,i,a,r,c,l){let d=await D1(e,De()),u=s.append("switch"),h=u.append("foreignObject").attr("x",o+a/2-d.width/2).attr("y",i+r/2-d.height/2).attr("width",d.width).attr("height",d.height).append("xhtml:div").style("height","100%").style("width","100%");h.append("div").style("text-align","center").style("vertical-align","middle").html(await z1(e,De())),n(e,u,o,i,a,r,c,l),t(h,c)}e(i,"byKatex");function t(e,t){for(let n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return e(t,"_setTextAttrs"),function(e,t=!1){return t?i:e.textPlacement==="fo"?o:e.textPlacement==="old"?s:n}}(),ije=function(){function s(e,n,s,o,i,a,r){let c=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(e);t(c,r)}e(s,"byText");function n(e,n,s,o,i,a,r,c){let{actorFontSize:l,actorFontFamily:u,actorFontWeight:h}=c,d=e.split(w.lineBreakRegex);for(let e=0;e<d.length;e++){let c=e*l-l*(d.length-1)/2,i=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",l).style("font-weight",h).style("font-family",u);i.append("tspan").attr("x",s).attr("dy",c).text(d[e]),i.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),t(i,r)}}e(n,"byTspan");function o(e,s,o,i,a,r,c,l){let d=s.append("switch"),u=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),n(e,d,o,i,a,r,c,l),t(u,c)}e(o,"byFo");function t(e,t){for(let n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return e(t,"_setTextAttrs"),function(e){return e.textPlacement==="fo"?o:e.textPlacement==="old"?s:n}}(),gt={drawRect:w7,drawText:Il,drawLabel:cN,drawActor:$be,drawBox:Wbe,drawPopup:Dbe,anchorElement:Ube,drawActivation:Kbe,drawLoop:qbe,drawBackgroundRect:jN,insertArrowHead:Zbe,insertArrowFilledHead:Jbe,insertSequenceNumber:eje,insertArrowCrossHead:tje,insertDatabaseIcon:Gbe,insertComputerIcon:Xbe,insertClockIcon:Qbe,getTextObj:AN,getNoteRect:sje,fixLifeLineHeights:dN,sanitizeUrl:YD.sanitizeUrl}});async function cje(e,t){b.bumpVerticalPos(10);let{startx:i,stopx:a,message:o}=t,l=w.splitBreaks(o).length,c=_n(o),r=c?await D1(o,u()):le.calculateTextDimensions(o,mc(m));if(!c){let e=r.height/l;t.height+=e,b.bumpVerticalPos(e)}let s,n=r.height-10,d=r.width;if(i===a){s=b.getVerticalPos()+n,m.rightAngles||(n+=m.boxMargin,s=b.getVerticalPos()+n),n+=30;let e=w.getMax(d/2,m.width/2);b.insert(i-e,b.getVerticalPos()-10+n,a+e,b.getVerticalPos()+30+n)}else n+=m.boxMargin,s=b.getVerticalPos()+n,b.insert(i,s-10,a,s);return b.bumpVerticalPos(n),t.height+=n,t.stopy=t.starty+t.height,b.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),s}function ti(e,t,n,s,o){b.bumpVerticalPos(n);let i=s;if(t.id&&t.message&&e[t.id]){let n=e[t.id].width,o=mc(m);t.message=le.wrapLabel(`[${t.message}]`,n-2*m.wrapPadding,o),t.width=n,t.wrap=!0;let c=le.calculateTextDimensions(t.message,o),r=w.getMax(c.height,m.labelBoxHeight);i=s+r,a.debug(`${r} - ${t.message}`)}o(t),b.bumpVerticalPos(i)}function dje(t,n,s,o,i,a,r){function c(e,s){e.x<i.get(t.from).x?(b.insert(n.stopx-s,n.starty,n.startx,n.stopy+e.height/2+m.noteMargin),n.stopx=n.stopx+s):(b.insert(n.startx,n.starty,n.stopx+s,n.stopy+e.height/2+m.noteMargin),n.stopx=n.stopx-s)}e(c,"receiverAdjustment");function l(e,s){e.x<i.get(t.to).x?(b.insert(n.startx-s,n.starty,n.stopx,n.stopy+e.height/2+m.noteMargin),n.startx=n.startx+s):(b.insert(n.stopx,n.starty,n.startx+s,n.stopy+e.height/2+m.noteMargin),n.startx=n.startx-s)}if(e(l,"senderAdjustment"),a.get(t.to)==o){let e=i.get(t.to),n=e.type=="actor"?_c/2+3:e.width/2+3;c(e,n),e.starty=s-e.height/2,b.bumpVerticalPos(e.height/2)}else if(r.get(t.from)==o){let e=i.get(t.from);if(m.mirrorActors){let t=e.type=="actor"?_c/2:e.width/2;l(e,t)}e.stopy=s-e.height/2,b.bumpVerticalPos(e.height/2)}else if(r.get(t.to)==o){let e=i.get(t.to);if(m.mirrorActors){let t=e.type=="actor"?_c/2+3:e.width/2+3;c(e,t)}e.stopy=s-e.height/2,b.bumpVerticalPos(e.height/2)}}async function uje(e,t,n){let s={};for(let o of t)if(e.get(o.to)&&e.get(o.from)){let t=e.get(o.to);if(o.placement===n.db.PLACEMENT.LEFTOF&&!t.prevActor||o.placement===n.db.PLACEMENT.RIGHTOF&&!t.nextActor)continue;let r=o.placement!==void 0,a=!r,c=r?od(m):mc(m),l=o.wrap?le.wrapLabel(o.message,m.width-2*m.wrapPadding,c):o.message,i=(_n(l)?await D1(o.message,u()):le.calculateTextDimensions(l,c)).width+2*m.wrapPadding;a&&o.from===t.nextActor?s[o.to]=w.getMax(s[o.to]||0,i):a&&o.from===t.prevActor?s[o.from]=w.getMax(s[o.from]||0,i):a&&o.from===o.to?(s[o.from]=w.getMax(s[o.from]||0,i/2),s[o.to]=w.getMax(s[o.to]||0,i/2)):o.placement===n.db.PLACEMENT.RIGHTOF?s[o.from]=w.getMax(s[o.from]||0,i):o.placement===n.db.PLACEMENT.LEFTOF?s[t.prevActor]=w.getMax(s[t.prevActor]||0,i):o.placement===n.db.PLACEMENT.OVER&&(t.prevActor&&(s[t.prevActor]=w.getMax(s[t.prevActor]||0,i/2)),t.nextActor&&(s[o.from]=w.getMax(s[o.from]||0,i/2)))}return a.debug("maxMessageWidthPerActor:",s),s}async function hje(e,t,n){let s=0;for(let o of e.keys()){let t=e.get(o);t.wrap&&(t.description=le.wrapLabel(t.description,m.width-2*m.wrapPadding,i7(m)));let n=_n(t.description)?await D1(t.description,u()):le.calculateTextDimensions(t.description,i7(m));t.width=t.wrap?m.width:w.getMax(m.width,n.width+2*m.wrapPadding),t.height=t.wrap?w.getMax(n.height,m.height):m.height,s=w.getMax(s,t.height)}for(let s in t){let n=e.get(s);if(!n)continue;let o=e.get(n.nextActor);if(!o){let e=t[s]+m.actorMargin-n.width/2;n.margin=w.getMax(e,m.actorMargin);continue}let i=t[s]+m.actorMargin-n.width/2-o.width/2;n.margin=w.getMax(i,m.actorMargin)}let o=0;return n.forEach(t=>{let s=mc(m),n=t.actorKeys.reduce((t,n)=>t+=e.get(n).width+(e.get(n).margin||0),0);n-=2*m.boxTextMargin,t.wrap&&(t.name=le.wrapLabel(t.name,n-2*m.wrapPadding,s));let i=le.calculateTextDimensions(t.name,s);o=w.getMax(i.height,o);let a=w.getMax(n,i.width+2*m.wrapPadding);if(t.margin=m.boxTextMargin,n<a){let e=(a-n)/2;t.margin+=e}}),n.forEach(e=>e.textMaxHeight=o),w.getMax(s,m.height)}Tje=n(()=>{"use strict";he(),rje(),x(),me(),vm(),P(),S1(),se(),Ht(),m={},b={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:e(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:e(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:e(function(e){this.boxes.push(e)},"addBox"),addActor:e(function(e){this.actors.push(e)},"addActor"),addLoop:e(function(e){this.loops.push(e)},"addLoop"),addMessage:e(function(e){this.messages.push(e)},"addMessage"),addNote:e(function(e){this.notes.push(e)},"addNote"),lastActor:e(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:e(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:e(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:e(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:e(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,tL(u())},"init"),updateVal:e(function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},"updateVal"),updateBounds:e(function(t,n,s,o){let i=this,r=0;function a(a){return e(function(e){r++;let c=i.sequenceItems.length-r+1;i.updateVal(e,"starty",n-c*m.boxMargin,Math.min),i.updateVal(e,"stopy",o+c*m.boxMargin,Math.max),i.updateVal(b.data,"startx",t-c*m.boxMargin,Math.min),i.updateVal(b.data,"stopx",s+c*m.boxMargin,Math.max),a!=="activation"&&(i.updateVal(e,"startx",t-c*m.boxMargin,Math.min),i.updateVal(e,"stopx",s+c*m.boxMargin,Math.max),i.updateVal(b.data,"starty",n-c*m.boxMargin,Math.min),i.updateVal(b.data,"stopy",o+c*m.boxMargin,Math.max))},"updateItemBounds")}e(a,"updateFn"),this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},"updateBounds"),insert:e(function(e,t,n,s){let o=w.getMin(e,n),i=w.getMax(e,n),a=w.getMin(t,s),r=w.getMax(t,s);this.updateVal(b.data,"startx",o,Math.min),this.updateVal(b.data,"starty",a,Math.min),this.updateVal(b.data,"stopx",i,Math.max),this.updateVal(b.data,"stopy",r,Math.max),this.updateBounds(o,a,i,r)},"insert"),newActivation:e(function(e,t,n){let s=n.get(e.from),i=hf(e.from).length||0,o=s.x+s.width/2+(i-1)*m.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+m.activationWidth,stopy:void 0,actor:e.from,anchored:gt.anchorElement(t)})},"newActivation"),endActivation:e(function(e){let t=this.activations.map(function(e){return e.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:e(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:e(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:e(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:e(function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap},"isLoopOverlap"),addSectionToLoop:e(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:b.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:e(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:e(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:e(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=w.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:e(function(){return this.verticalPos},"getVerticalPos"),getBounds:e(function(){return{bounds:this.data,models:this.models}},"getBounds")},pje=e(async function(e,t){b.bumpVerticalPos(m.boxMargin),t.height=m.boxMargin,t.starty=b.getVerticalPos();let s=yc();s.x=t.startx,s.y=t.starty,s.width=t.width||m.width,s.class="note";let i=e.append("g"),a=gt.drawRect(i,s),n=Db();n.x=t.startx,n.y=t.starty,n.width=s.width,n.dy="1em",n.text=t.message,n.class="noteText",n.fontFamily=m.noteFontFamily,n.fontSize=m.noteFontSize,n.fontWeight=m.noteFontWeight,n.anchor=m.noteAlign,n.textMargin=m.noteMargin,n.valign="center";let r=_n(n.text)?await ef(i,n):Il(i,n),o=Math.round(r.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));a.attr("height",o+2*m.noteMargin),t.height+=o+2*m.noteMargin,b.bumpVerticalPos(o+2*m.noteMargin),t.stopy=t.starty+o+2*m.noteMargin,t.stopx=t.startx+s.width,b.insert(t.startx,t.starty,t.stopx,t.stopy),b.models.addNote(t)},"drawNote"),mc=e(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),od=e(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),i7=e(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),e(cje,"boundMessage"),jje=e(async function(e,t,n,s){let{startx:a,stopx:l,starty:u,message:d,type:r,sequenceIndex:h,sequenceVisible:f}=t,p=le.calculateTextDimensions(d,mc(m)),i=Db();i.x=a,i.y=u+10,i.width=l-a,i.class="messageText",i.dy="1em",i.text=d,i.fontFamily=m.messageFontFamily,i.fontSize=m.messageFontSize,i.fontWeight=m.messageFontWeight,i.anchor=m.messageAlign,i.valign="center",i.textMargin=m.wrapPadding,i.tspan=!1,_n(i.text)?await ef(e,i,{startx:a,stopx:l,starty:n}):Il(e,i);let g=p.width,o;a===l?m.rightAngles?o=e.append("path").attr("d",`M  ${a},${n} H ${a+w.getMax(m.width/2,g/2)} V ${n+25} H ${a}`):o=e.append("path").attr("d","M "+a+","+n+" C "+(a+60)+","+(n-10)+" "+(a+60)+","+(n+30)+" "+a+","+(n+20)):(o=e.append("line"),o.attr("x1",a),o.attr("y1",n),o.attr("x2",l),o.attr("y2",n)),r===s.db.LINETYPE.DOTTED||r===s.db.LINETYPE.DOTTED_CROSS||r===s.db.LINETYPE.DOTTED_POINT||r===s.db.LINETYPE.DOTTED_OPEN||r===s.db.LINETYPE.BIDIRECTIONAL_DOTTED?(o.style("stroke-dasharray","3, 3"),o.attr("class","messageLine1")):o.attr("class","messageLine0");let c="";m.arrowMarkerAbsolute&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),o.attr("stroke-width",2),o.attr("stroke","none"),o.style("fill","none"),(r===s.db.LINETYPE.SOLID||r===s.db.LINETYPE.DOTTED)&&o.attr("marker-end","url("+c+"#arrowhead)"),(r===s.db.LINETYPE.BIDIRECTIONAL_SOLID||r===s.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(o.attr("marker-start","url("+c+"#arrowhead)"),o.attr("marker-end","url("+c+"#arrowhead)")),(r===s.db.LINETYPE.SOLID_POINT||r===s.db.LINETYPE.DOTTED_POINT)&&o.attr("marker-end","url("+c+"#filled-head)"),(r===s.db.LINETYPE.SOLID_CROSS||r===s.db.LINETYPE.DOTTED_CROSS)&&o.attr("marker-end","url("+c+"#crosshead)"),(f||m.showSequenceNumbers)&&(o.attr("marker-start","url("+c+"#sequencenumber)"),e.append("text").attr("x",a).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),yje=e(function(e,t,n,s,o,i,a){let l=0,c=0,r,d=0;for(let u of s){let e=t.get(u),i=e.box;r&&r!=i&&(a||b.models.addBox(r),c+=m.boxMargin+r.margin),i&&i!=r&&(a||(i.x=l+c,i.y=o),c+=i.margin),e.width=e.width||m.width,e.height=w.getMax(e.height||m.height,m.height),e.margin=e.margin||m.actorMargin,d=w.getMax(d,e.height),n.get(e.name)&&(c+=e.width/2),e.x=l+c,e.starty=b.getVerticalPos(),b.insert(e.x,o,e.x+e.width,e.height),l+=e.width+c,e.box&&(e.box.width=l+i.margin-e.box.x),c=e.margin,r=e.box,b.models.addActor(e)}r&&!a&&b.models.addBox(r),b.bumpVerticalPos(d)},"addActorRenderingData"),s7=e(async function(e,t,n,s){if(s){let s=0;b.bumpVerticalPos(m.boxMargin*2);for(let i of n){let o=t.get(i);o.stopy||(o.stopy=b.getVerticalPos());let a=await gt.drawActor(e,o,m,!0);s=w.getMax(s,a)}b.bumpVerticalPos(s+m.boxMargin)}else for(let s of n){let o=t.get(s);await gt.drawActor(e,o,m,!1)}},"drawActors"),JN=e(function(e,t,n,s){let o=0,i=0;for(let c of n){let a=t.get(c),l=kje(a),r=gt.drawPopup(e,a,l,m,m.forceMenus,s);r.height>o&&(o=r.height),r.width+a.x>i&&(i=r.width+a.x)}return{maxHeight:o,maxWidth:i}},"drawActorsPopup"),tL=e(function(e){kt(m,e),e.fontFamily&&(m.actorFontFamily=m.noteFontFamily=m.messageFontFamily=e.fontFamily),e.fontSize&&(m.actorFontSize=m.noteFontSize=m.messageFontSize=e.fontSize),e.fontWeight&&(m.actorFontWeight=m.noteFontWeight=m.messageFontWeight=e.fontWeight)},"setConf"),hf=e(function(e){return b.activations.filter(function(t){return t.actor===e})},"actorActivations"),iL=e(function(e,t){let n=t.get(e),s=hf(e),o=s.reduce(function(e,t){return w.getMin(e,t.startx)},n.x+n.width/2-1),i=s.reduce(function(e,t){return w.getMax(e,t.stopx)},n.x+n.width/2+1);return[o,i]},"activationBounds"),e(ti,"adjustLoopHeightForWrap"),e(dje,"adjustCreatedDestroyedData"),Eje=e(async function(t,n,s,o){let{securityLevel:p,sequence:R}=u();m=R;let O;p==="sandbox"&&(O=y("#i"+n));let L=y(p==="sandbox"?O.nodes()[0].contentDocument.body:"body"),P=p==="sandbox"?O.nodes()[0].contentDocument:document;b.init(),a.debug(o.db);let i=p==="sandbox"?L.select(`[id="${n}"]`):y(`[id="${n}"]`),l=o.db.getActors(),_=o.db.getCreatedActors(),D=o.db.getDestroyedActors(),k=o.db.getBoxes(),d=o.db.getActorKeys(),f=o.db.getMessages(),w=o.db.getDiagramTitle(),F=o.db.hasAtLeastOneBox(),H=o.db.hasAtLeastOneBoxWithTitle(),A=await uje(l,f,o);if(m.height=await hje(l,A,k),gt.insertComputerIcon(i),gt.insertDatabaseIcon(i),gt.insertClockIcon(i),F&&(b.bumpVerticalPos(m.boxMargin),H&&b.bumpVerticalPos(k[0].textMaxHeight)),m.hideUnusedParticipants===!0){let e=new Set;f.forEach(t=>{e.add(t.from),e.add(t.to)}),d=d.filter(t=>e.has(t))}yje(i,l,_,d,0,f,!1);let c=await Mje(f,l,A,o);gt.insertArrowHead(i),gt.insertArrowCrossHead(i),gt.insertArrowFilledHead(i),gt.insertSequenceNumber(i);function z(e,t){let n=b.endActivation(e);n.starty+18>t&&(n.starty=t-6,t+=12),gt.drawActivation(i,n,t,m,hf(e.from).length),b.insert(n.startx,t-10,n.stopx,t)}e(z,"activeEnd");let h=1,x=1,M=[],E=[],T=0;for(let t of f){let e,s,n;switch(t.type){case o.db.LINETYPE.NOTE:b.resetVerticalPos(),s=t.noteModel,await pje(i,s);break;case o.db.LINETYPE.ACTIVE_START:b.newActivation(t,i,l);break;case o.db.LINETYPE.ACTIVE_END:z(t,b.getVerticalPos());break;case o.db.LINETYPE.LOOP_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e));break;case o.db.LINETYPE.LOOP_END:e=b.endLoop(),await gt.drawLoop(i,e,"loop",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;case o.db.LINETYPE.RECT_START:ti(c,t,m.boxMargin,m.boxMargin,e=>b.newLoop(void 0,e.message));break;case o.db.LINETYPE.RECT_END:e=b.endLoop(),E.push(e),b.models.addLoop(e),b.bumpVerticalPos(e.stopy-b.getVerticalPos());break;case o.db.LINETYPE.OPT_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e));break;case o.db.LINETYPE.OPT_END:e=b.endLoop(),await gt.drawLoop(i,e,"opt",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;case o.db.LINETYPE.ALT_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e));break;case o.db.LINETYPE.ALT_ELSE:ti(c,t,m.boxMargin+m.boxTextMargin,m.boxMargin,e=>b.addSectionToLoop(e));break;case o.db.LINETYPE.ALT_END:e=b.endLoop(),await gt.drawLoop(i,e,"alt",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;case o.db.LINETYPE.PAR_START:case o.db.LINETYPE.PAR_OVER_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e)),b.saveVerticalPos();break;case o.db.LINETYPE.PAR_AND:ti(c,t,m.boxMargin+m.boxTextMargin,m.boxMargin,e=>b.addSectionToLoop(e));break;case o.db.LINETYPE.PAR_END:e=b.endLoop(),await gt.drawLoop(i,e,"par",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;case o.db.LINETYPE.AUTONUMBER:h=t.message.start||h,x=t.message.step||x,t.message.visible?o.db.enableSequenceNumbers():o.db.disableSequenceNumbers();break;case o.db.LINETYPE.CRITICAL_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e));break;case o.db.LINETYPE.CRITICAL_OPTION:ti(c,t,m.boxMargin+m.boxTextMargin,m.boxMargin,e=>b.addSectionToLoop(e));break;case o.db.LINETYPE.CRITICAL_END:e=b.endLoop(),await gt.drawLoop(i,e,"critical",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;case o.db.LINETYPE.BREAK_START:ti(c,t,m.boxMargin,m.boxMargin+m.boxTextMargin,e=>b.newLoop(e));break;case o.db.LINETYPE.BREAK_END:e=b.endLoop(),await gt.drawLoop(i,e,"break",m),b.bumpVerticalPos(e.stopy-b.getVerticalPos()),b.models.addLoop(e);break;default:try{n=t.msgModel,n.starty=b.getVerticalPos(),n.sequenceIndex=h,n.sequenceVisible=o.db.showSequenceNumbers();let e=await cje(i,n);dje(t,n,e,T,l,_,D),M.push({messageModel:n,lineStartY:e}),b.models.addMessage(n)}catch(e){a.error("error while drawing message",e)}}[o.db.LINETYPE.SOLID_OPEN,o.db.LINETYPE.DOTTED_OPEN,o.db.LINETYPE.SOLID,o.db.LINETYPE.DOTTED,o.db.LINETYPE.SOLID_CROSS,o.db.LINETYPE.DOTTED_CROSS,o.db.LINETYPE.SOLID_POINT,o.db.LINETYPE.DOTTED_POINT,o.db.LINETYPE.BIDIRECTIONAL_SOLID,o.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(h=h+x),T++}a.debug("createdActors",_),a.debug("destroyedActors",D),await s7(i,l,d,!1);for(let e of M)await jje(i,e.messageModel,e.lineStartY,o);m.mirrorActors&&await s7(i,l,d,!0),E.forEach(e=>gt.drawBackgroundRect(i,e)),dN(i,l,d,m);for(let e of b.models.boxes)e.height=b.getVerticalPos()-e.y,b.insert(e.x,e.y,e.x+e.width,e.height),e.startx=e.x,e.starty=e.y,e.stopx=e.startx+e.width,e.stopy=e.starty+e.height,e.stroke="rgb(0,0,0, 0.5)",gt.drawBox(i,e,m);F&&b.bumpVerticalPos(m.boxMargin);let v=JN(i,l,d,P),{bounds:r}=b.getBounds();r.startx===void 0&&(r.startx=0),r.starty===void 0&&(r.starty=0),r.stopx===void 0&&(r.stopx=0),r.stopy===void 0&&(r.stopy=0);let j=r.stopy-r.starty;j<v.maxHeight&&(j=v.maxHeight);let g=j+2*m.diagramMarginY;m.mirrorActors&&(g=g-m.boxMargin+m.bottomMarginAdj);let C=r.stopx-r.startx;C<v.maxWidth&&(C=v.maxWidth);let N=C+2*m.diagramMarginX;w&&i.append("text").text(w).attr("x",(r.stopx-r.startx)/2-2*m.diagramMarginX).attr("y",-25),ls(i,g,N,m.useMaxWidth);let S=w?40:0;i.attr("viewBox",r.startx-m.diagramMarginX+" -"+(m.diagramMarginY+S)+" "+N+" "+(g+S)),a.debug("models:",b.models)},"draw"),e(uje,"getMaxMessageWidthPerActor"),kje=e(function(e){let t=0,n=i7(m);for(let o in e.links){let s=le.calculateTextDimensions(o,n).width+2*m.wrapPadding+2*m.boxMargin;t<s&&(t=s)}return t},"getRequiredPopupWidth"),e(hje,"calculateActorMargins"),Aje=e(async function(e,t,n){let o=t.get(e.from),l=t.get(e.to),c=o.x,d=l.x,i=e.wrap&&e.message,r=_n(e.message)?await D1(e.message,u()):le.calculateTextDimensions(i?le.wrapLabel(e.message,m.width,od(m)):e.message,od(m)),s={width:i?m.width:w.getMax(m.width,r.width+2*m.noteMargin),height:0,startx:o.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===n.db.PLACEMENT.RIGHTOF?(s.width=i?w.getMax(m.width,r.width):w.getMax(o.width/2+l.width/2,r.width+2*m.noteMargin),s.startx=c+(o.width+m.actorMargin)/2):e.placement===n.db.PLACEMENT.LEFTOF?(s.width=i?w.getMax(m.width,r.width+2*m.noteMargin):w.getMax(o.width/2+l.width/2,r.width+2*m.noteMargin),s.startx=c-s.width+(o.width-m.actorMargin)/2):e.to===e.from?(r=le.calculateTextDimensions(i?le.wrapLabel(e.message,w.getMax(m.width,o.width),od(m)):e.message,od(m)),s.width=i?w.getMax(m.width,o.width):w.getMax(o.width,m.width,r.width+2*m.noteMargin),s.startx=c+(o.width-s.width)/2):(s.width=Math.abs(c+o.width/2-(d+l.width/2))+m.actorMargin,s.startx=c<d?c+o.width/2-m.actorMargin/2:d+l.width/2-m.actorMargin/2),i&&(s.message=le.wrapLabel(e.message,s.width-2*m.wrapPadding,od(m))),a.debug(`NM:[${s.startx},${s.stopx},${s.starty},${s.stopy}:${s.width},${s.height}=${e.message}]`),s},"buildNoteModel"),Sje=e(function(t,n,s){if(![s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN,s.db.LINETYPE.SOLID,s.db.LINETYPE.DOTTED,s.db.LINETYPE.SOLID_CROSS,s.db.LINETYPE.DOTTED_CROSS,s.db.LINETYPE.SOLID_POINT,s.db.LINETYPE.DOTTED_POINT,s.db.LINETYPE.BIDIRECTIONAL_SOLID,s.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};let[r,u]=iL(t.from,n),[i,c]=iL(t.to,n),l=r<=i,a=l?u:r,o=l?i:c,p=Math.abs(i-c)>2,d=e(e=>l?-e:e,"adjustValue");t.from===t.to?o=a:(t.activate&&!p&&(o+=d(m.activationWidth/2-1)),[s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(o+=d(3)),[s.db.LINETYPE.BIDIRECTIONAL_SOLID,s.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(a-=d(3)));let h=[r,u,i,c],f=Math.abs(a-o);t.wrap&&t.message&&(t.message=le.wrapLabel(t.message,w.getMax(f+2*m.wrapPadding,m.width),mc(m)));let g=le.calculateTextDimensions(t.message,mc(m));return{width:w.getMax(t.wrap?0:g.width+2*m.wrapPadding,f+2*m.wrapPadding,m.width),height:0,startx:a,stopx:o,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,h),toBounds:Math.max.apply(null,h)}},"buildMessageModel"),Mje=e(async function(e,t,n,s){let c={},r=[],o,l,i;for(let n of e){switch(n.type){case s.db.LINETYPE.LOOP_START:case s.db.LINETYPE.ALT_START:case s.db.LINETYPE.OPT_START:case s.db.LINETYPE.PAR_START:case s.db.LINETYPE.PAR_OVER_START:case s.db.LINETYPE.CRITICAL_START:case s.db.LINETYPE.BREAK_START:r.push({id:n.id,msg:n.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case s.db.LINETYPE.ALT_ELSE:case s.db.LINETYPE.PAR_AND:case s.db.LINETYPE.CRITICAL_OPTION:n.message&&(o=r.pop(),c[o.id]=o,c[n.id]=o,r.push(o));break;case s.db.LINETYPE.LOOP_END:case s.db.LINETYPE.ALT_END:case s.db.LINETYPE.OPT_END:case s.db.LINETYPE.PAR_END:case s.db.LINETYPE.CRITICAL_END:case s.db.LINETYPE.BREAK_END:o=r.pop(),c[o.id]=o;break;case s.db.LINETYPE.ACTIVE_START:{let e=t.get(n.from?n.from:n.to.actor),o=hf(n.from?n.from:n.to.actor).length,s=e.x+e.width/2+(o-1)*m.activationWidth/2,i={startx:s,stopx:s+m.activationWidth,actor:n.from,enabled:!0};b.activations.push(i)}break;case s.db.LINETYPE.ACTIVE_END:{let e=b.activations.map(e=>e.actor).lastIndexOf(n.from);b.activations.splice(e,1).splice(0,1)}break}n.placement!==void 0?(l=await Aje(n,t,s),n.noteModel=l,r.forEach(e=>{o=e,o.from=w.getMin(o.from,l.startx),o.to=w.getMax(o.to,l.startx+l.width),o.width=w.getMax(o.width,Math.abs(o.from-o.to))-m.labelBoxWidth})):(i=Sje(n,t,s),n.msgModel=i,i.startx&&i.stopx&&r.length>0&&r.forEach(e=>{if(o=e,i.startx===i.stopx){let e=t.get(n.from),s=t.get(n.to);o.from=w.getMin(e.x-i.width/2,e.x-e.width/2,o.from),o.to=w.getMax(s.x+i.width/2,s.x+e.width/2,o.to),o.width=w.getMax(o.width,Math.abs(o.to-o.from))-m.labelBoxWidth}else o.from=w.getMin(i.startx,o.from),o.to=w.getMax(i.stopx,o.to),o.width=w.getMax(o.width,i.width)-m.labelBoxWidth}))}return b.activations=[],a.debug("Loop type widths:",c),c},"calculateLoopBounds"),Fje={bounds:b,drawActors:s7,drawActorsPopup:JN,setConf:tL,draw:Eje}}),cL={},de(cL,{diagram:()=>Dje}),Nje=n(()=>{"use strict";bbe(),Obe(),Ebe(),P(),Tje(),Dje={parser:vbe,get db(){return new wbe},renderer:Fje,styles:Cbe,init:e(e=>{e.sequence||(e.sequence={}),e.wrap&&(e.sequence.wrap=e.wrap,cb({sequence:{wrap:e.wrap}}))},"init")}}),pL=n(()=>{"use strict";Q5=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),J=[1,18],F=[1,19],Q=[1,20],X=[1,41],l=[1,42],G=[1,26],Y=[1,24],q=[1,25],T=[1,32],U=[1,33],W=[1,34],s=[1,45],B=[1,35],P=[1,36],K=[1,37],z=[1,38],H=[1,27],I=[1,28],te=[1,29],R=[1,30],Z=[1,31],a=[1,44],o=[1,46],i=[1,43],r=[1,47],L=[1,9],n=[1,8,9],S=[1,58],M=[1,59],_=[1,60],w=[1,61],A=[1,62],D=[1,63],N=[1,64],k=[1,8,9,41],ae=[1,76],d=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],E=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],C=[13,58,84,99,101,102],p=[13,58,71,72,84,99,101,102],ie=[13,58,66,67,68,69,70,84,99,101,102],$=[1,98],m=[1,115],h=[1,107],u=[1,113],f=[1,108],g=[1,109],v=[1,110],b=[1,111],j=[1,112],y=[1,114],oe=[22,58,59,80,84,85,86,87,88,89],ee=[1,8,9,39,41,44],x=[1,8,9,22],ne=[1,143],se=[1,8,9,59],c=[1,8,9,22,58,59,80,84,85,86,87,88,89],V={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 8:this.$=i[r-1];break;case 9:case 12:case 14:this.$=i[r];break;case 10:case 13:this.$=i[r-2]+"."+i[r];break;case 11:case 15:this.$=i[r-1]+i[r];break;case 16:case 17:this.$=i[r-1]+"~"+i[r]+"~";break;case 18:s.addRelation(i[r]);break;case 19:i[r-1].title=s.cleanupLabel(i[r]),s.addRelation(i[r-1]);break;case 30:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 31:case 32:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 33:s.addClassesToNamespace(i[r-3],i[r-1]);break;case 34:s.addClassesToNamespace(i[r-4],i[r-1]);break;case 35:this.$=i[r],s.addNamespace(i[r]);break;case 36:this.$=[i[r]];break;case 37:this.$=[i[r-1]];break;case 38:i[r].unshift(i[r-2]),this.$=i[r];break;case 40:s.setCssClass(i[r-2],i[r]);break;case 41:s.addMembers(i[r-3],i[r-1]);break;case 42:s.setCssClass(i[r-5],i[r-3]),s.addMembers(i[r-5],i[r-1]);break;case 43:this.$=i[r],s.addClass(i[r]);break;case 44:this.$=i[r-1],s.addClass(i[r-1]),s.setClassLabel(i[r-1],i[r]);break;case 45:s.addAnnotation(i[r],i[r-2]);break;case 46:case 59:this.$=[i[r]];break;case 47:i[r].push(i[r-1]),this.$=i[r];break;case 48:break;case 49:s.addMember(i[r-1],s.cleanupLabel(i[r]));break;case 50:break;case 51:break;case 52:this.$={id1:i[r-2],id2:i[r],relation:i[r-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:i[r-3],id2:i[r],relation:i[r-1],relationTitle1:i[r-2],relationTitle2:"none"};break;case 54:this.$={id1:i[r-3],id2:i[r],relation:i[r-2],relationTitle1:"none",relationTitle2:i[r-1]};break;case 55:this.$={id1:i[r-4],id2:i[r],relation:i[r-2],relationTitle1:i[r-3],relationTitle2:i[r-1]};break;case 56:s.addNote(i[r],i[r-1]);break;case 57:s.addNote(i[r]);break;case 58:this.$=i[r-2],s.defineClass(i[r-1],i[r]);break;case 60:this.$=i[r-2].concat([i[r]]);break;case 61:s.setDirection("TB");break;case 62:s.setDirection("BT");break;case 63:s.setDirection("RL");break;case 64:s.setDirection("LR");break;case 65:this.$={type1:i[r-2],type2:i[r],lineType:i[r-1]};break;case 66:this.$={type1:"none",type2:i[r],lineType:i[r-1]};break;case 67:this.$={type1:i[r-1],type2:"none",lineType:i[r]};break;case 68:this.$={type1:"none",type2:"none",lineType:i[r]};break;case 69:this.$=s.relationType.AGGREGATION;break;case 70:this.$=s.relationType.EXTENSION;break;case 71:this.$=s.relationType.COMPOSITION;break;case 72:this.$=s.relationType.DEPENDENCY;break;case 73:this.$=s.relationType.LOLLIPOP;break;case 74:this.$=s.lineType.LINE;break;case 75:this.$=s.lineType.DOTTED_LINE;break;case 76:case 82:this.$=i[r-2],s.setClickEvent(i[r-1],i[r]);break;case 77:case 83:this.$=i[r-3],s.setClickEvent(i[r-2],i[r-1]),s.setTooltip(i[r-2],i[r]);break;case 78:this.$=i[r-2],s.setLink(i[r-1],i[r]);break;case 79:this.$=i[r-3],s.setLink(i[r-2],i[r-1],i[r]);break;case 80:this.$=i[r-3],s.setLink(i[r-2],i[r-1]),s.setTooltip(i[r-2],i[r]);break;case 81:this.$=i[r-4],s.setLink(i[r-3],i[r-2],i[r]),s.setTooltip(i[r-3],i[r-1]);break;case 84:this.$=i[r-3],s.setClickEvent(i[r-2],i[r-1],i[r]);break;case 85:this.$=i[r-4],s.setClickEvent(i[r-3],i[r-2],i[r-1]),s.setTooltip(i[r-3],i[r]);break;case 86:this.$=i[r-3],s.setLink(i[r-2],i[r]);break;case 87:this.$=i[r-4],s.setLink(i[r-3],i[r-1],i[r]);break;case 88:this.$=i[r-4],s.setLink(i[r-3],i[r-1]),s.setTooltip(i[r-3],i[r]);break;case 89:this.$=i[r-5],s.setLink(i[r-4],i[r-2],i[r]),s.setTooltip(i[r-4],i[r-1]);break;case 90:this.$=i[r-2],s.setCssStyle(i[r-1],i[r]);break;case 91:s.setCssClass(i[r-1],i[r]);break;case 92:this.$=[i[r]];break;case 93:i[r-2].push(i[r]),this.$=i[r-2];break;case 95:this.$=i[r-1]+i[r];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:F,37:Q,38:22,42:X,43:23,46:l,47:G,49:Y,50:q,52:T,54:U,55:W,58:s,60:B,61:P,62:K,63:z,73:H,74:I,76:te,80:R,81:Z,84:a,99:o,101:i,102:r},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(L,[2,5],{8:[1,48]}),{8:[1,49]},t(n,[2,18],{22:[1,50]}),t(n,[2,20]),t(n,[2,21]),t(n,[2,22]),t(n,[2,23]),t(n,[2,24]),t(n,[2,25]),t(n,[2,26]),t(n,[2,27]),t(n,[2,28]),t(n,[2,29]),{34:[1,51]},{36:[1,52]},t(n,[2,32]),t(n,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:S,67:M,68:_,69:w,70:A,71:D,72:N}),{39:[1,65]},t(k,[2,39],{39:[1,67],44:[1,66]}),t(n,[2,50]),t(n,[2,51]),{16:68,58:s,84:a,99:o,101:i},{16:39,18:69,19:40,58:s,84:a,99:o,101:i,102:r},{16:39,18:70,19:40,58:s,84:a,99:o,101:i,102:r},{16:39,18:71,19:40,58:s,84:a,99:o,101:i,102:r},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:s,84:a,99:o,101:i,102:r},{13:ae,53:75},{56:77,58:[1,78]},t(n,[2,61]),t(n,[2,62]),t(n,[2,63]),t(n,[2,64]),t(d,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:s,84:a,99:o,101:i,102:r}),t(d,[2,14],{20:[1,82]}),{15:83,16:84,58:s,84:a,99:o,101:i},{16:39,18:85,19:40,58:s,84:a,99:o,101:i,102:r},t(E,[2,118]),t(E,[2,119]),t(E,[2,120]),t(E,[2,121]),t([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),t(L,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:J,35:F,37:Q,42:X,46:l,47:G,49:Y,50:q,52:T,54:U,55:W,58:s,60:B,61:P,62:K,63:z,73:H,74:I,76:te,80:R,81:Z,84:a,99:o,101:i,102:r}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:J,35:F,37:Q,38:22,42:X,43:23,46:l,47:G,49:Y,50:q,52:T,54:U,55:W,58:s,60:B,61:P,62:K,63:z,73:H,74:I,76:te,80:R,81:Z,84:a,99:o,101:i,102:r},t(n,[2,19]),t(n,[2,30]),t(n,[2,31]),{13:[1,89],16:39,18:88,19:40,58:s,84:a,99:o,101:i,102:r},{51:90,64:56,65:57,66:S,67:M,68:_,69:w,70:A,71:D,72:N},t(n,[2,49]),{65:91,71:D,72:N},t(C,[2,68],{64:92,66:S,67:M,68:_,69:w,70:A}),t(p,[2,69]),t(p,[2,70]),t(p,[2,71]),t(p,[2,72]),t(p,[2,73]),t(ie,[2,74]),t(ie,[2,75]),{8:[1,94],24:95,40:93,43:23,46:l},{16:96,58:s,84:a,99:o,101:i},{45:97,49:$},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:m,57:104,58:h,80:u,82:105,83:106,84:f,85:g,86:v,87:b,88:j,89:y},{58:[1,116]},{13:ae,53:117},t(n,[2,57]),t(n,[2,123]),{22:m,57:118,58:h,59:[1,119],80:u,82:105,83:106,84:f,85:g,86:v,87:b,88:j,89:y},t(oe,[2,59]),{16:39,18:120,19:40,58:s,84:a,99:o,101:i,102:r},t(d,[2,15]),t(d,[2,16]),t(d,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:s,84:a,99:o,101:i},t(ee,[2,43],{11:123,12:[1,124]}),t(L,[2,7]),{9:[1,125]},t(x,[2,52]),{16:39,18:126,19:40,58:s,84:a,99:o,101:i,102:r},{13:[1,128],16:39,18:127,19:40,58:s,84:a,99:o,101:i,102:r},t(C,[2,67],{64:129,66:S,67:M,68:_,69:w,70:A}),t(C,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:l},{8:[1,132],41:[2,36]},t(k,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:$},{16:39,18:136,19:40,58:s,84:a,99:o,101:i,102:r},t(n,[2,76],{13:[1,137]}),t(n,[2,78],{13:[1,139],75:[1,138]}),t(n,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},t(n,[2,90],{59:ne}),t(se,[2,92],{83:144,22:m,58:h,80:u,84:f,85:g,86:v,87:b,88:j,89:y}),t(c,[2,94]),t(c,[2,96]),t(c,[2,97]),t(c,[2,98]),t(c,[2,99]),t(c,[2,100]),t(c,[2,101]),t(c,[2,102]),t(c,[2,103]),t(c,[2,104]),t(n,[2,91]),t(n,[2,56]),t(n,[2,58],{59:ne}),{58:[1,145]},t(d,[2,13]),{15:146,16:84,58:s,84:a,99:o,101:i},{39:[2,11]},t(ee,[2,44]),{13:[1,147]},{1:[2,4]},t(x,[2,54]),t(x,[2,53]),{16:39,18:148,19:40,58:s,84:a,99:o,101:i,102:r},t(C,[2,65]),t(n,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:l},{45:151,49:$},t(k,[2,41]),{41:[2,47]},t(n,[2,45]),t(n,[2,77]),t(n,[2,79]),t(n,[2,80],{75:[1,152]}),t(n,[2,83]),t(n,[2,84],{13:[1,153]}),t(n,[2,86],{13:[1,155],75:[1,154]}),{22:m,58:h,80:u,82:156,83:106,84:f,85:g,86:v,87:b,88:j,89:y},t(c,[2,95]),t(oe,[2,60]),{39:[2,10]},{14:[1,157]},t(x,[2,55]),t(n,[2,34]),{41:[2,38]},{41:[1,158]},t(n,[2,81]),t(n,[2,85]),t(n,[2,87]),t(n,[2,88],{75:[1,159]}),t(se,[2,93],{83:144,22:m,58:h,80:u,84:f,85:g,86:v,87:b,88:j,89:y}),t(ee,[2,8]),t(k,[2,42]),t(n,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},re=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),35;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;break;case 30:return this.popState(),8;break;case 31:break;case 32:return this.begin("namespace-body"),39;break;case 33:return this.popState(),41;break;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;break;case 39:return this.popState(),8;break;case 40:break;case 41:return this.popState(),this.popState(),41;break;case 42:return this.begin("class-body"),39;break;case 43:return this.popState(),41;break;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return t}();V.lexer=re;function O(){this.yy={}}return e(O,"Parser"),O.prototype=V,V.Parser=O,new O}(),Q5.parser=Q5,uL=Q5}),Bje=n(()=>{"use strict";P(),me(),gL=["#","+","~","-",""],vL=class{static{e(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";let n=Ie(e,u());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+er(this.id);this.memberType==="method"&&(e+=`(${er(this.parameters.trim())})`,this.returnType&&(e+=" : "+er(this.returnType))),e=e.trim();let t=this.parseClassifier();return{displayText:e,cssStyle:t}}parseMember(e){let t="";if(this.memberType==="method"){{let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(n){let e=n[1]?n[1].trim():"";if(gL.includes(e)&&(this.visibility=e),this.id=n[2],this.parameters=n[3]?n[3].trim():"",t=n[4]?n[4].trim():"",this.returnType=n[5]?n[5].trim():"",t===""){let e=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(e)&&(t=e,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}}else{let n=e.length,s=e.substring(0,1),o=e.substring(n-1);gL.includes(s)&&(this.visibility=s),/[$*]/.exec(o)&&(t=o),this.id=e.substring(this.visibility===""?0:1,t===""?n:n-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let n=`${this.visibility?"\\"+this.visibility:""}${er(this.id)}${this.memberType==="method"?`(${er(this.parameters)})${this.returnType?" : "+er(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}}),RL=n(()=>{"use strict";he(),x(),P(),me(),se(),_t(),Bje(),mf="classId-",AL=0,Br=e(e=>w.sanitizeText(e,u()),"sanitizeText"),zL=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=e(e=>{let t=y(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=y("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),y(e).select("svg").selectAll("g.node").on("mouseover",e=>{let s=y(e.currentTarget);if(s.attr("title")===null)return;let n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(s.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",e=>{t.transition().duration(500).style("opacity",0),y(e.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=It,this.getAccTitle=Yt,this.setAccDescription=Gt,this.getAccDescription=Qt,this.setDiagramTitle=nn,this.getDiagramTitle=Ft,this.getConfig=e(()=>u().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{e(this,"ClassDB")}splitClassNameAndType(e){let t=w.sanitizeText(e,u()),n="",s=t;if(t.indexOf("~")>0){let e=t.split("~");s=Br(e[0]),n=Br(e[1])}return{className:s,type:n}}setClassLabel(e,t){let s=w.sanitizeText(e,u());t&&(t=Br(t));let{className:n}=this.splitClassNameAndType(s);this.classes.get(n).label=t,this.classes.get(n).text=`${t}${this.classes.get(n).type?`<${this.classes.get(n).type}>`:""}`}addClass(e){let o=w.sanitizeText(e,u()),{className:s,type:n}=this.splitClassNameAndType(o);if(this.classes.has(s))return;let t=w.sanitizeText(s,u());this.classes.set(t,{id:t,type:n,label:t,text:`${t}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:mf+t+"-"+AL}),AL++}addInterface(e,t){let n={id:`interface${this.interfaces.length}`,label:e,classId:t};this.interfaces.push(n)}lookUpDomId(e){let t=w.sanitizeText(e,u());if(this.classes.has(t))return this.classes.get(t).domId;throw new Error("Class not found: "+t)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",Tt()}getClass(e){return this.classes.get(e)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(e){a.debug("Adding relation: "+JSON.stringify(e));let t=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];e.relation.type1===this.relationType.LOLLIPOP&&!t.includes(e.relation.type2)?(this.addClass(e.id2),this.addInterface(e.id1,e.id2),e.id1=`interface${this.interfaces.length-1}`):e.relation.type2===this.relationType.LOLLIPOP&&!t.includes(e.relation.type1)?(this.addClass(e.id1),this.addInterface(e.id2,e.id1),e.id2=`interface${this.interfaces.length-1}`):(this.addClass(e.id1),this.addClass(e.id2)),e.id1=this.splitClassNameAndType(e.id1).className,e.id2=this.splitClassNameAndType(e.id2).className,e.relationTitle1=w.sanitizeText(e.relationTitle1.trim(),u()),e.relationTitle2=w.sanitizeText(e.relationTitle2.trim(),u()),this.relations.push(e)}addAnnotation(e,t){let n=this.splitClassNameAndType(e).className;this.classes.get(n).annotations.push(t)}addMember(e,t){this.addClass(e);let s=this.splitClassNameAndType(e).className,n=this.classes.get(s);if(typeof t=="string"){let e=t.trim();e.startsWith("<<")&&e.endsWith(">>")?n.annotations.push(Br(e.substring(2,e.length-2))):e.indexOf(")")>0?n.methods.push(new vL(e,"method")):e&&n.members.push(new vL(e,"attribute"))}}addMembers(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(t=>this.addMember(e,t)))}addNote(e,t){let n={id:`note${this.notes.length}`,class:t,text:e};this.notes.push(n)}cleanupLabel(e){return e.startsWith(":")&&(e=e.substring(1)),Br(e.trim())}setCssClass(e,t){e.split(",").forEach(e=>{let n=e;/\d/.exec(e[0])&&(n=mf+n);let s=this.classes.get(n);s&&(s.cssClasses+=" "+t)})}defineClass(e,t){for(let s of e){let n=this.styleClasses.get(s);n===void 0&&(n={id:s,styles:[],textStyles:[]},this.styleClasses.set(s,n)),t&&t.forEach(e=>{if(/color/.exec(e)){let t=e.replace("fill","bgFill");n.textStyles.push(t)}n.styles.push(e)}),this.classes.forEach(e=>{e.cssClasses.includes(s)&&e.styles.push(...t.flatMap(e=>e.split(",")))})}}setTooltip(e,t){e.split(",").forEach(e=>{t!==void 0&&(this.classes.get(e).tooltip=Br(t))})}getTooltip(e,t){return t&&this.namespaces.has(t)?this.namespaces.get(t).classes.get(e).tooltip:this.classes.get(e).tooltip}setLink(e,t,n){let s=u();e.split(",").forEach(e=>{let i=e;/\d/.exec(e[0])&&(i=mf+i);let o=this.classes.get(i);o&&(o.link=le.formatUrl(t,s),s.securityLevel==="sandbox"?o.linkTarget="_top":typeof n=="string"?o.linkTarget=Br(n):o.linkTarget="_blank")}),this.setCssClass(e,"clickable")}setClickEvent(e,t,n){e.split(",").forEach(e=>{this.setClickFunc(e,t,n),this.classes.get(e).haveCallback=!0}),this.setCssClass(e,"clickable")}setClickFunc(e,t,n){let o=w.sanitizeText(e,u());if(u().securityLevel!=="loose"||t===void 0)return;let s=o;if(this.classes.has(s)){let o=this.lookUpDomId(s),e=[];if(typeof n=="string"){e=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<e.length;n++){let t=e[n].trim();t.startsWith('"')&&t.endsWith('"')&&(t=t.substr(1,t.length-2)),e[n]=t}}e.length===0&&e.push(o),this.functions.push(()=>{let n=document.querySelector(`[id="${o}"]`);n!==null&&n.addEventListener("click",()=>{le.runFunc(t,...e)},!1)})}}bindFunctions(e){this.functions.forEach(t=>{t(e)})}getDirection(){return this.direction}setDirection(e){this.direction=e}addNamespace(e){this.namespaces.has(e)||(this.namespaces.set(e,{id:e,classes:new Map,children:{},domId:mf+e+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(e){return this.namespaces.get(e)}getNamespaces(){return this.namespaces}addClassesToNamespace(e,t){if(this.namespaces.has(e))for(let s of t){let{className:n}=this.splitClassNameAndType(s);this.classes.get(n).parent=e,this.namespaces.get(e).classes.set(n,this.classes.get(n))}}setCssStyle(e,t){let n=this.classes.get(e);if(!!t&&!!n)for(let e of t)e.includes(",")?n.styles.push(...e.split(",")):n.styles.push(e)}getArrowMarker(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}getData(){let t=[],s=[],e=u();for(let s of this.namespaces.keys()){let n=this.namespaces.get(s);if(n){let s={id:n.id,label:n.id,isGroup:!0,padding:e.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:e.look};t.push(s)}}for(let s of this.classes.keys()){let n=this.classes.get(s);if(n){let s=n;s.parentId=n.parent,s.look=e.look,t.push(s)}}let n=0;for(let o of this.notes){n++;let a={id:o.id,label:o.text,isGroup:!1,shape:"note",padding:e.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${e.themeVariables.noteBkgColor}`,`stroke: ${e.themeVariables.noteBorderColor}`],look:e.look};t.push(a);let i=this.classes.get(o.class)?.id??"";if(i){let t={id:`edgeNote${n}`,start:o.id,end:i,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:e.look};s.push(t)}}for(let n of this.interfaces){let s={id:n.id,label:n.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:e.look};t.push(s)}n=0;for(let t of this.relations){n++;let o={id:M1(t.id1,t.id2,{prefix:"id",counter:n}),start:t.id1,end:t.id2,type:"normal",label:t.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(t.relation.type1),arrowTypeEnd:this.getArrowMarker(t.relation.type2),startLabelRight:t.relationTitle1==="none"?"":t.relationTitle1,endLabelLeft:t.relationTitle2==="none"?"":t.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:t.style||"",pattern:t.relation.lineType==1?"dashed":"solid",look:e.look};s.push(o)}return{nodes:t,edges:s,other:{},config:e,direction:this.getDirection()}}}}),rR=n(()=>{"use strict";qje=e(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),nR=qje}),dR=n(()=>{"use strict";P(),x(),H4(),ul(),p4(),se(),Xje=e((e,t="TB")=>{if(!e.doc)return t;let n=t;for(let t of e.doc)t.stmt==="dir"&&(n=t.value);return n},"getDir"),Qje=e(function(e,t){return t.db.getClasses()},"getClasses"),Zje=e(async function(e,t,n,s){a.info("REF0:"),a.info("Drawing class diagram (v3)",t);let{securityLevel:c,state:i,layout:l}=u(),o=s.db.getData(),r=I4(t,c);o.type=s.type,o.layoutAlgorithm=T8(l),o.nodeSpacing=i?.nodeSpacing||50,o.rankSpacing=i?.rankSpacing||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=t,await h4(o,r);let d=8;le.insertTitle(r,"classDiagramTitleText",i?.titleTopMargin??25,s.db.getDiagramTitle()),f4(r,d,"classDiagram",i?.useMaxWidth??!0)},"draw"),lR={getClasses:Qje,draw:Zje,getDir:Xje}}),mR={},de(mR,{diagram:()=>nye}),sye=n(()=>{"use strict";pL(),RL(),rR(),dR(),nye={parser:uL,get db(){return new zL},renderer:lR,styles:nR,init:e(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),vR={},de(vR,{diagram:()=>iye}),aye=n(()=>{"use strict";pL(),RL(),rR(),dR(),iye={parser:uL,get db(){return new zL},renderer:lR,styles:nR,init:e(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),MR=n(()=>{"use strict";x5=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),S=[1,2],A=[1,3],k=[1,4],M=[2,4],E=[1,9],T=[1,11],c=[1,16],l=[1,17],d=[1,18],u=[1,19],s=[1,32],m=[1,20],f=[1,21],p=[1,22],g=[1,23],i=[1,24],b=[1,26],j=[1,27],a=[1,28],_=[1,29],w=[1,30],O=[1,31],x=[1,34],C=[1,35],y=[1,36],v=[1,37],o=[1,33],n=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],h=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],z=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],F={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:e(function(e,t,n,s,o,i){switch(r=i.length-1,o){case 3:return s.setRootDoc(i[r]),i[r];break;case 4:this.$=[];break;case 5:i[r]!="nl"&&(i[r-1].push(i[r]),this.$=i[r-1]);break;case 6:case 7:this.$=i[r];break;case 8:this.$="nl";break;case 12:this.$=i[r];break;case 13:let e=i[r-1];e.description=s.trimColon(i[r]),this.$=e;break;case 14:this.$={stmt:"relation",state1:i[r-2],state2:i[r]};break;case 15:let t=s.trimColon(i[r]);this.$={stmt:"relation",state1:i[r-3],state2:i[r-1],description:t};break;case 19:this.$={stmt:"state",id:i[r-3],type:"default",description:"",doc:i[r-1]};break;case 20:var r,l,d=i[r],c=i[r-2].trim();i[r].match(":")&&(l=i[r].split(":"),d=l[0],c=[c,l[1]]),this.$={stmt:"state",id:d,type:"default",description:c};break;case 21:this.$={stmt:"state",id:i[r-3],type:"default",description:i[r-5],doc:i[r-1]};break;case 22:this.$={stmt:"state",id:i[r],type:"fork"};break;case 23:this.$={stmt:"state",id:i[r],type:"join"};break;case 24:this.$={stmt:"state",id:i[r],type:"choice"};break;case 25:this.$={stmt:"state",id:s.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:i[r-1].trim(),note:{position:i[r-2].trim(),text:i[r].trim()}};break;case 29:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 30:case 31:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:i[r-1].trim(),classes:i[r].trim()};break;case 34:this.$={stmt:"style",id:i[r-1].trim(),styleClass:i[r].trim()};break;case 35:this.$={stmt:"applyClass",id:i[r-1].trim(),styleClass:i[r].trim()};break;case 36:s.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:s.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:s.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:s.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:i[r].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:i[r-2].trim(),classes:[i[r].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:i[r-2].trim(),classes:[i[r].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:S,5:A,6:k},{1:[3]},{3:5,4:S,5:A,6:k},{3:6,4:S,5:A,6:k},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],M,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:E,5:T,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:d,22:u,24:s,25:m,26:f,27:p,28:g,29:i,32:25,33:b,35:j,37:a,38:_,42:w,45:O,48:x,49:C,50:y,51:v,54:o},t(n,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:c,17:l,19:d,22:u,24:s,25:m,26:f,27:p,28:g,29:i,32:25,33:b,35:j,37:a,38:_,42:w,45:O,48:x,49:C,50:y,51:v,54:o},t(n,[2,7]),t(n,[2,8]),t(n,[2,9]),t(n,[2,10]),t(n,[2,11]),t(n,[2,12],{14:[1,39],15:[1,40]}),t(n,[2,16]),{18:[1,41]},t(n,[2,18],{20:[1,42]}),{23:[1,43]},t(n,[2,22]),t(n,[2,23]),t(n,[2,24]),t(n,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},t(n,[2,28]),{34:[1,48]},{36:[1,49]},t(n,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},t(h,[2,42],{55:[1,54]}),t(h,[2,43],{55:[1,55]}),t(n,[2,36]),t(n,[2,37]),t(n,[2,38]),t(n,[2,39]),t(n,[2,6]),t(n,[2,13]),{13:56,24:s,54:o},t(n,[2,17]),t(z,M,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},t(n,[2,29]),t(n,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},t(n,[2,14],{14:[1,67]}),{4:E,5:T,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:d,21:[1,68],22:u,24:s,25:m,26:f,27:p,28:g,29:i,32:25,33:b,35:j,37:a,38:_,42:w,45:O,48:x,49:C,50:y,51:v,54:o},t(n,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},t(n,[2,32]),t(n,[2,33]),t(n,[2,34]),t(n,[2,35]),t(h,[2,44]),t(h,[2,45]),t(n,[2,15]),t(n,[2,19]),t(z,M,{7:72}),t(n,[2,26]),t(n,[2,27]),{4:E,5:T,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:d,21:[1,73],22:u,24:s,25:m,26:f,27:p,28:g,29:i,32:25,33:b,35:j,37:a,38:_,42:w,45:O,48:x,49:C,50:y,51:v,54:o},t(n,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},D=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;break;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;break;case 16:return this.popState(),"acc_title_value";break;case 17:return this.begin("acc_descr"),35;break;case 18:return this.popState(),"acc_descr_value";break;case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;break;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 24:return this.popState(),this.pushState("CLASSDEFID"),39;break;case 25:return this.popState(),40;break;case 26:return this.pushState("CLASS"),45;break;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;break;case 28:return this.popState(),47;break;case 29:return this.pushState("STYLE"),42;break;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;break;case 31:return this.popState(),44;break;case 32:return this.pushState("SCALE"),17;break;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),25;break;case 37:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),26;break;case 38:return this.popState(),t.yytext=t.yytext.slice(0,-10).trim(),27;break;case 39:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),t.yytext=t.yytext.slice(0,-10).trim(),27;break;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";break;case 48:return this.popState(),"ID";break;case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;break;case 54:break;case 55:return this.popState(),21;break;case 56:break;case 57:return this.begin("NOTE"),29;break;case 58:return this.popState(),this.pushState("NOTE_ID"),56;break;case 59:return this.popState(),this.pushState("NOTE_ID"),57;break;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";break;case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 66:return this.popState(),t.yytext=t.yytext.substr(2).trim(),31;break;case 67:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),31;break;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return t.yytext=t.yytext.trim(),14;break;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return t}();F.lexer=D;function r(){this.yy={}}return e(r,"Parser"),r.prototype=F,F.Parser=r,new r}(),x5.parser=x5,OR=x5}),Tg=n(()=>{"use strict";dye="TB",HR="TB",$R="dir",Cf="state",d5="relation",pye="classDef",gye="style",vye="applyClass",H1="default",tP="divider",cP="fill:none",uP="fill: #333",AP="c",SP="text",MP="normal",t5="rect",e5="rectWithTitle",kye="stateStart",Aye="stateEnd",DP="divider",NP="roundedWithTitle",Fye="note",Tye="noteGroup",N1="statediagram",Dye="state",Nye=`${N1}-${Dye}`,LP="transition",Rye="note",Pye="note-edge",Hye=`${LP} ${Pye}`,Iye=`${N1}-${Rye}`,Bye="cluster",Vye=`${N1}-${Bye}`,$ye="cluster-alt",Wye=`${N1}-${$ye}`,UP="parent",qP="note",qye="state",Ug="----",Gye=`${Ug}${qP}`,NH=`${Ug}${UP}`});function Mg(e="",t=0,n="",s=Ug){let o=n!==null&&n.length>0?`${s}${n}`:"";return`${qye}-${e}${o}-${t}`}function qf(e,t,n){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(e=>{if(n.get(e)){let s=n.get(e);t.cssCompiledStyles=[...t.cssCompiledStyles,...s.styles]}}));let s=e.find(e=>e.id===t.id);s?Object.assign(s,t):e.push(t)}function e_e(e){return e?.classes?.join(" ")??""}function t_e(e){return e?.styles??[]}c_e=n(()=>{"use strict";P(),x(),me(),Tg(),Yf=new Map,Ba=0,e(Mg,"stateDomId"),o_e=e((e,t,n,s,o,i,r,c)=>{a.trace("items",t),t.forEach(t=>{switch(t.stmt){case Cf:v1(e,t,n,s,o,i,r,c);break;case H1:v1(e,t,n,s,o,i,r,c);break;case d5:{v1(e,t.state1,n,s,o,i,r,c),v1(e,t.state2,n,s,o,i,r,c);let a={id:"edge"+Ba,start:t.state1.id,end:t.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:cP,labelStyle:"",label:w.sanitizeText(t.description,u()),arrowheadStyle:uP,labelpos:AP,labelType:SP,thickness:MP,classes:LP,look:r};o.push(a),Ba++}break}})},"setupDoc"),NI=e((e,t=HR)=>{let n=t;if(e.doc)for(let t of e.doc)t.stmt==="dir"&&(n=t.value);return n},"getDir"),e(qf,"insertOrUpdateNode"),e(e_e,"getClassesFromDbInfo"),e(t_e,"getStylesFromDbInfo"),v1=e((e,t,n,s,o,i,r,c)=>{let l=t.id,d=n.get(l),m=e_e(d),h=t_e(d);if(a.info("dataFetcher parsedItem",t,d,h),l!=="root"){let f=t5;t.start===!0?f=kye:t.start===!1&&(f=Aye),t.type!==H1&&(f=t.type),Yf.get(l)||Yf.set(l,{id:l,shape:f,description:w.sanitizeText(l,u()),cssClasses:`${m} ${Nye}`,cssStyles:h});let n=Yf.get(l);t.description&&(Array.isArray(n.description)?(n.shape=e5,n.description.push(t.description)):n.description?.length>0?(n.shape=e5,n.description===l?n.description=[t.description]:n.description=[n.description,t.description]):(n.shape=t5,n.description=t.description),n.description=w.sanitizeTextOrArray(n.description,u())),n.description?.length===1&&n.shape===e5&&(n.type==="group"?n.shape=NP:n.shape=t5),!n.type&&t.doc&&(a.info("Setting cluster for XCX",l,NI(t)),n.type="group",n.isGroup=!0,n.dir=NI(t),n.shape=t.type===tP?DP:NP,n.cssClasses=`${n.cssClasses} ${Vye} ${i?Wye:""}`);let d={labelStyle:"",shape:n.shape,label:n.description,cssClasses:n.cssClasses,cssCompiledStyles:[],cssStyles:n.cssStyles,id:l,dir:n.dir,domId:Mg(l,Ba),type:n.type,isGroup:n.type==="group",padding:8,rx:10,ry:10,look:r};if(d.shape===DP&&(d.label=""),e&&e.id!=="root"&&(a.trace("Setting node ",l," to be child of its parent ",e.id),d.parentId=e.id),d.centerLabel=!0,t.note){let e={labelStyle:"",shape:Fye,label:t.note.text,cssClasses:Iye,cssStyles:[],cssCompilesStyles:[],id:l+Gye+"-"+Ba,domId:Mg(l,Ba,qP),type:n.type,isGroup:n.type==="group",padding:u().flowchart.padding,look:r,position:t.note.position},h=l+NH,m={labelStyle:"",shape:Tye,label:t.note.text,cssClasses:n.cssClasses,cssStyles:[],id:l+NH,domId:Mg(l,Ba,UP),type:"group",isGroup:!0,padding:16,look:r,position:t.note.position};Ba++,m.id=h,e.parentId=h,qf(s,m,c),qf(s,e,c),qf(s,d,c);let i=l,a=e.id;t.note.position==="left of"&&(i=e.id,a=l),o.push({id:i+"-"+a,start:i,end:a,arrowhead:"none",arrowTypeEnd:"",style:cP,labelStyle:"",classes:Hye,arrowheadStyle:uP,labelpos:AP,labelType:SP,thickness:MP,look:r})}else qf(s,d,c)}t.doc&&(a.trace("Adding nodes children "),o_e(t,t.doc,n,s,o,!i,r,c))},"dataFetcher"),r_e=e(()=>{Yf.clear(),Ba=0},"reset")}),iB=n(()=>{"use strict";P(),x(),H4(),ul(),p4(),se(),Tg(),KI=e((e,t=HR)=>{if(!e.doc)return t;let n=t;for(let t of e.doc)t.stmt==="dir"&&(n=t.value);return n},"getDir"),d_e=e(function(e,t){return t.db.getClasses()},"getClasses"),u_e=e(async function(e,t,n,s){a.info("REF0:"),a.info("Drawing state diagram (v2)",t);let{securityLevel:c,state:i,layout:l}=u();s.db.extract(s.db.getRootDocV2());let o=s.db.getData(),r=I4(t,c);o.type=s.type,o.layoutAlgorithm=l,o.nodeSpacing=i?.nodeSpacing||50,o.rankSpacing=i?.rankSpacing||50,o.markers=["barb"],o.diagramId=t,await h4(o,r);let d=8;le.insertTitle(r,"statediagramTitleText",i?.titleTopMargin??25,s.db.getDiagramTitle()),f4(r,d,N1,i?.useMaxWidth??!0)},"draw"),h_e={getClasses:d_e,draw:u_e,getDir:KI}});function rB(){return new Map}Wp=n(()=>{"use strict";P(),x(),se(),me(),_t(),c_e(),iB(),Tg(),ag="[*]",uB="start",pB=ag,bB="end",kB="color",SB="fill",__e="bgFill",w_e=",",e(rB,"newClassesList"),MB=e(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),m6=e(e=>JSON.parse(JSON.stringify(e)),"clone"),$r=class{static{e(this,"StateDB")}constructor(e){this.clear(),this.version=e,this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}version;nodes=[];edges=[];rootDoc=[];classes=rB();documents={root:MB()};currentDocument=this.documents.root;startEndCount=0;dividerCnt=0;static relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3};setRootDoc(e){a.info("Setting root doc",e),this.rootDoc=e,this.version===1?this.extract(e):this.extract(this.getRootDocV2())}getRootDoc(){return this.rootDoc}docTranslator(e,t,n){if(t.stmt===d5)this.docTranslator(e,t.state1,!0),this.docTranslator(e,t.state2,!1);else if(t.stmt===Cf&&(t.id==="[*]"?(t.id=n?e.id+"_start":e.id+"_end",t.start=n):t.id=t.id.trim()),t.doc){let s=[],n=[],e;for(e=0;e<t.doc.length;e++)if(t.doc[e].type===tP){let o=m6(t.doc[e]);o.doc=m6(n),s.push(o),n=[]}else n.push(t.doc[e]);if(s.length>0&&n.length>0){let e={stmt:Cf,id:PE(),type:"divider",doc:m6(n)};s.push(m6(e)),t.doc=s}t.doc.forEach(e=>this.docTranslator(t,e,!0))}}getRootDocV2(){return this.docTranslator({id:"root"},{id:"root",doc:this.rootDoc},!0),{id:"root",doc:this.rootDoc}}extract(e){let t;e.doc?t=e.doc:t=e,a.info(t),this.clear(!0),a.info("Extract initial document:",t),t.forEach(e=>{switch(a.warn("Statement",e.stmt),e.stmt){case Cf:this.addState(e.id.trim(),e.type,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles);break;case d5:this.addRelation(e.state1,e.state2,e.description);break;case pye:this.addStyleClass(e.id.trim(),e.classes);break;case gye:{let t=e.id.trim().split(","),n=e.styleClass.split(",");t.forEach(e=>{let t=this.getState(e);if(t===void 0){let n=e.trim();this.addState(n),t=this.getState(n)}t.styles=n.map(e=>e.replace(/;/g,"")?.trim())})}break;case vye:this.setCssClass(e.id.trim(),e.styleClass);break}});let n=this.getStates(),s=u().look;r_e(),v1(void 0,this.getRootDocV2(),n,this.nodes,this.edges,!0,s,this.classes),this.nodes.forEach(e=>{if(Array.isArray(e.label)){if(e.description=e.label.slice(1),e.isGroup&&e.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+e.id+"]");e.label=e.label[0]}})}addState(e,t=H1,n=null,s=null,o=null,i=null,r=null,c=null){let l=e?.trim();if(this.currentDocument.states.has(l)?(this.currentDocument.states.get(l).doc||(this.currentDocument.states.get(l).doc=n),this.currentDocument.states.get(l).type||(this.currentDocument.states.get(l).type=t)):(a.info("Adding state ",l,s),this.currentDocument.states.set(l,{id:l,descriptions:[],type:t,doc:n,note:o,classes:[],styles:[],textStyles:[]})),s&&(a.info("Setting state description",l,s),typeof s=="string"&&this.addDescription(l,s.trim()),typeof s=="object"&&s.forEach(e=>this.addDescription(l,e.trim()))),o){let e=this.currentDocument.states.get(l);e.note=o,e.note.text=w.sanitizeText(e.note.text,u())}i&&(a.info("Setting state classes",l,i),(typeof i=="string"?[i]:i).forEach(e=>this.setCssClass(l,e.trim()))),r&&(a.info("Setting state styles",l,r),(typeof r=="string"?[r]:r).forEach(e=>this.setStyle(l,e.trim()))),c&&(a.info("Setting state styles",l,r),(typeof c=="string"?[c]:c).forEach(e=>this.setTextStyle(l,e.trim())))}clear(e){this.nodes=[],this.edges=[],this.documents={root:MB()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=rB(),e||Tt()}getState(e){return this.currentDocument.states.get(e)}getStates(){return this.currentDocument.states}logDocuments(){a.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}startIdIfNeeded(e=""){let t=e;return e===ag&&(this.startEndCount++,t=`${uB}${this.startEndCount}`),t}startTypeIfNeeded(e="",t=H1){return e===ag?uB:t}endIdIfNeeded(e=""){let t=e;return e===pB&&(this.startEndCount++,t=`${bB}${this.startEndCount}`),t}endTypeIfNeeded(e="",t=H1){return e===pB?bB:t}addRelationObjs(e,t,n){let s=this.startIdIfNeeded(e.id.trim()),i=this.startTypeIfNeeded(e.id.trim(),e.type),o=this.startIdIfNeeded(t.id.trim()),a=this.startTypeIfNeeded(t.id.trim(),t.type);this.addState(s,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.addState(o,a,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),this.currentDocument.relations.push({id1:s,id2:o,relationTitle:w.sanitizeText(n,u())})}addRelation(e,t,n){if(typeof e=="object")this.addRelationObjs(e,t,n);else{let s=this.startIdIfNeeded(e.trim()),i=this.startTypeIfNeeded(e),o=this.endIdIfNeeded(t.trim()),a=this.endTypeIfNeeded(t);this.addState(s,i),this.addState(o,a),this.currentDocument.relations.push({id1:s,id2:o,title:w.sanitizeText(n,u())})}}addDescription(e,t){let n=this.currentDocument.states.get(e),s=t.startsWith(":")?t.replace(":","").trim():t;n.descriptions.push(w.sanitizeText(s,u()))}cleanupLabel(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()}getDividerId(){return this.dividerCnt++,"divider-id-"+this.dividerCnt}addStyleClass(e,t=""){this.classes.has(e)||this.classes.set(e,{id:e,styles:[],textStyles:[]});let n=this.classes.get(e);t?.split(w_e).forEach(e=>{let t=e.replace(/([^;]*);/,"$1").trim();if(RegExp(kB).exec(e)){let e=t.replace(SB,__e).replace(kB,SB);n.textStyles.push(e)}n.styles.push(t)})}getClasses(){return this.classes}setCssClass(e,t){e.split(",").forEach(e=>{let n=this.getState(e);if(n===void 0){let t=e.trim();this.addState(t),n=this.getState(t)}n.classes.push(t)})}setStyle(e,t){let n=this.getState(e);n!==void 0&&n.styles.push(t)}setTextStyle(e,t){let n=this.getState(e);n!==void 0&&n.textStyles.push(t)}getDirectionStatement(){return this.rootDoc.find(e=>e.stmt===$R)}getDirection(){return this.getDirectionStatement()?.value??dye}setDirection(e){let t=this.getDirectionStatement();t?t.value=e:this.rootDoc.unshift({stmt:$R,value:e})}trimColon(e){return e&&e[0]===":"?e.substr(1).trim():e.trim()}getData(){let e=u();return{nodes:this.nodes,edges:this.edges,other:{},config:e,direction:KI(this.getRootDocV2())}}getConfig(){return u().state}getAccTitle=Yt;setAccTitle=It;getAccDescription=Qt;setAccDescription=Gt;setDiagramTitle=nn;getDiagramTitle=Ft}}),zB=n(()=>{"use strict";k_e=e(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),TB=k_e}),L_e=n(()=>{"use strict";Bp={},F_e=e((e,t)=>{Bp[e]=t},"set"),T_e=e(e=>Bp[e],"get"),nV=e(()=>Object.keys(Bp),"keys"),D_e=e(()=>nV().length,"size"),N_e={get:T_e,set:F_e,keys:nV,size:D_e}}),G_e=n(()=>{"use strict";he(),L_e(),Wp(),se(),me(),P(),x(),R_e=e(e=>e.append("circle").attr("class","start-state").attr("r",u().state.sizeUnit).attr("cx",u().state.padding+u().state.sizeUnit).attr("cy",u().state.padding+u().state.sizeUnit),"drawStartState"),P_e=e(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",u().state.textHeight).attr("class","divider").attr("x2",u().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),H_e=e((e,t)=>{let n=e.append("text").attr("x",2*u().state.padding).attr("y",u().state.textHeight+2*u().state.padding).attr("font-size",u().state.fontSize).attr("class","state-title").text(t.id),s=n.node().getBBox();return e.insert("rect",":first-child").attr("x",u().state.padding).attr("y",u().state.padding).attr("width",s.width+2*u().state.padding).attr("height",s.height+2*u().state.padding).attr("rx",u().state.radius),n},"drawSimpleState"),I_e=e((t,n)=>{let d=e(function(e,t,n){let s=e.append("tspan").attr("x",2*u().state.padding).text(t);n||s.attr("dy",u().state.textHeight)},"addTspan"),o=t.append("text").attr("x",2*u().state.padding).attr("y",u().state.textHeight+1.3*u().state.padding).attr("font-size",u().state.fontSize).attr("class","state-title").text(n.descriptions[0]).node().getBBox(),s=o.height,i=t.append("text").attr("x",u().state.padding).attr("y",s+u().state.padding*.4+u().state.dividerMargin+u().state.textHeight).attr("class","state-description"),a=!0,r=!0;n.descriptions.forEach(function(e){a||(d(i,e,r),r=!1),a=!1});let h=t.append("line").attr("x1",u().state.padding).attr("y1",u().state.padding+s+u().state.dividerMargin/2).attr("y2",u().state.padding+s+u().state.dividerMargin/2).attr("class","descr-divider"),c=i.node().getBBox(),l=Math.max(c.width,o.width);return h.attr("x2",l+3*u().state.padding),t.insert("rect",":first-child").attr("x",u().state.padding).attr("y",u().state.padding).attr("width",l+2*u().state.padding).attr("height",c.height+s+2*u().state.padding).attr("rx",u().state.radius),t},"drawDescrState"),B_e=e((e,t,n)=>{let r=u().state.padding,l=2*u().state.padding,m=e.node().getBBox(),o=m.width,c=m.x,d=e.append("text").attr("x",0).attr("y",u().state.titleShift).attr("font-size",u().state.fontSize).attr("class","state-title").text(t.id),a=d.node().getBBox().width+l,s=Math.max(a,o);s===o&&(s=s+l);let i,h=e.node().getBBox();t.doc,i=c-r,a>o&&(i=(o-s)/2+r),Math.abs(c-h.x)<r&&a>o&&(i=c-(a-o)/2);let f=1-u().state.textHeight;return e.insert("rect",":first-child").attr("x",i).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",s).attr("height",h.height+u().state.textHeight+u().state.titleShift+1).attr("rx","0"),d.attr("x",i+r),a<=o&&d.attr("x",c+(s-l)/2-a/2+r),e.insert("rect",":first-child").attr("x",i).attr("y",u().state.titleShift-u().state.textHeight-u().state.padding).attr("width",s).attr("height",u().state.textHeight*3).attr("rx",u().state.radius),e.insert("rect",":first-child").attr("x",i).attr("y",u().state.titleShift-u().state.textHeight-u().state.padding).attr("width",s).attr("height",h.height+3+2*u().state.textHeight).attr("rx",u().state.radius),e},"addTitleAndBox"),V_e=e(e=>(e.append("circle").attr("class","end-state-outer").attr("r",u().state.sizeUnit+u().state.miniPadding).attr("cx",u().state.padding+u().state.sizeUnit+u().state.miniPadding).attr("cy",u().state.padding+u().state.sizeUnit+u().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",u().state.sizeUnit).attr("cx",u().state.padding+u().state.sizeUnit+2).attr("cy",u().state.padding+u().state.sizeUnit+2)),"drawEndState"),$_e=e((e,t)=>{let n=u().state.forkWidth,s=u().state.forkHeight;if(t.parentId){let e=n;n=s,s=e}return e.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",s).attr("x",u().state.padding).attr("y",u().state.padding)},"drawForkJoinState"),W_e=e((e,t,n,s)=>{let i=0,o=s.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let a=e.replace(/\r\n/g,"<br/>");a=a.replace(/\n/g,"<br/>");let c=a.split(w.lineBreakRegex),r=1.25*u().state.noteMargin;for(let s of c){let e=s.trim();if(e.length>0){let s=o.append("tspan");if(s.text(e),r===0){let e=s.node().getBBox();r+=e.height}i+=r,s.attr("x",t+u().state.noteMargin),s.attr("y",n+i+1.25*u().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:i}},"_drawLongText"),U_e=e((e,t)=>{t.attr("class","state-note");let n=t.append("rect").attr("x",0).attr("y",u().state.padding),s=t.append("g"),{textWidth:o,textHeight:i}=W_e(e,0,0,s);return n.attr("height",i+2*u().state.noteMargin),n.attr("width",o+u().state.noteMargin*2),n},"drawNote"),rV=e(function(e,t){let o=t.id,s={id:o,label:t.id,width:0,height:0},n=e.append("g").attr("id",o).attr("class","stateGroup");t.type==="start"&&R_e(n),t.type==="end"&&V_e(n),(t.type==="fork"||t.type==="join")&&$_e(n,t),t.type==="note"&&U_e(t.note.text,n),t.type==="divider"&&P_e(n),t.type==="default"&&t.descriptions.length===0&&H_e(n,t),t.type==="default"&&t.descriptions.length>0&&I_e(n,t);let i=n.node().getBBox();return s.width=i.width+2*u().state.padding,s.height=i.height+2*u().state.padding,N_e.set(o,s),s},"drawState"),uV=0,Y_e=e(function(t,n,s){let i=e(function(e){switch(e){case $r.relationType.AGGREGATION:return"aggregation";case $r.relationType.EXTENSION:return"extension";case $r.relationType.COMPOSITION:return"composition";case $r.relationType.DEPENDENCY:return"dependency"}},"getRelationType");n.points=n.points.filter(e=>!Number.isNaN(e.y));let r=n.points,c=v4().x(function(e){return e.x}).y(function(e){return e.y}).curve(pl),l=t.append("path").attr("d",c(r)).attr("id","edge"+uV).attr("class","transition"),o="";if(u().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),l.attr("marker-end","url("+o+"#"+i($r.relationType.DEPENDENCY)+"End)"),s.title!==void 0){let c=t.append("g").attr("class","stateLabel"),{x:l,y:i}=le.calcLabelPosition(n.points),o=w.getRows(s.title),e=0,h=[],r=0,m=0;for(let t=0;t<=o.length;t++){let n=c.append("text").attr("text-anchor","middle").text(o[t]).attr("x",l).attr("y",i+e),s=n.node().getBBox();r=Math.max(r,s.width),m=Math.min(m,s.x),a.info(s.x,l,i+e),e===0&&(e=n.node().getBBox().height,a.info("Title height",e,i)),h.push(n)}let d=e*o.length;if(o.length>1){let t=(o.length-1)*e*.5;h.forEach((n,s)=>n.attr("y",i+s*e-t)),d=e*o.length}let f=c.node().getBBox();c.insert("rect",":first-child").attr("class","box").attr("x",l-r/2-u().state.padding/2).attr("y",i-d/2-u().state.padding/2-3.5).attr("width",r+u().state.padding).attr("height",d+u().state.padding),a.info(f)}uV++},"drawEdge")}),owe=n(()=>{"use strict";he(),$H(),Lo(),x(),me(),G_e(),P(),Ht(),Sp={},Z_e=e(function(){},"setConf"),J_e=e(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),ewe=e(function(e,t,n,s){Ks=u().state;let r=u().securityLevel,c;r==="sandbox"&&(c=y("#i"+t));let l=y(r==="sandbox"?c.nodes()[0].contentDocument.body:"body"),f=r==="sandbox"?c.nodes()[0].contentDocument:document;a.debug("Rendering diagram "+e);let o=l.select(`[id='${t}']`);J_e(o);let p=s.db.getRootDoc();vV(p,o,void 0,!1,l,f,s);let d=Ks.padding,i=o.node().getBBox(),h=i.width+d*2,m=i.height+d*2,g=h*1.75;ls(o,m,g,Ks.useMaxWidth),o.attr("viewBox",`${i.x-Ks.padding}  ${i.y-Ks.padding} `+h+" "+m)},"draw"),twe=e(e=>e?e.length*Ks.fontSizeFactor:1,"getLabelWidth"),vV=e((e,t,n,s,o,i,r)=>{let c=new ds({compound:!0,multigraph:!0}),u,l=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){l=!1;break}n?c.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:l?1:Ks.edgeLengthFactor,nodeSep:l?1:50,isMultiGraph:!0}):c.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:l?1:Ks.edgeLengthFactor,nodeSep:l?1:50,ranker:"tight-tree",isMultiGraph:!0}),c.setDefaultEdgeLabel(function(){return{}});let f=r.db.getStates(),g=r.db.getRelations(),v=Object.keys(f),b=!0;for(let l of v){let a=f[l];n&&(a.parentId=n);let e;if(a.doc){let n=t.append("g").attr("id",a.id).attr("class","stateGroup");if(e=vV(a.doc,n,a.id,!s,o,i,r),b){n=B_e(n,a,s);let t=n.node().getBBox();e.width=t.width,e.height=t.height+Ks.padding/2,Sp[a.id]={y:Ks.compositTitleSize}}else{let t=n.node().getBBox();e.width=t.width,e.height=t.height}}else e=rV(t,a,c);if(a.note){let s={descriptions:[],id:a.id+"-note",note:a.note,type:"note"},n=rV(t,s,c);a.note.position==="left of"?(c.setNode(e.id+"-note",n),c.setNode(e.id,e)):(c.setNode(e.id,e),c.setNode(e.id+"-note",n)),c.setParent(e.id,e.id+"-group"),c.setParent(e.id+"-note",e.id+"-group")}else c.setNode(e.id,e)}a.debug("Count=",c.nodeCount(),c);let p=0;g.forEach(function(e){p++,a.debug("Setting edge",e),c.setEdge(e.id1,e.id2,{relation:e,width:twe(e.title),height:Ks.labelHeight*w.getRows(e.title).length,labelpos:"c"},"id"+p)}),KH(c),a.debug("Graph after layout",c.nodes());let d=t.node();c.nodes().forEach(function(e){e!==void 0&&c.node(e)!==void 0?(a.warn("Node "+e+": "+JSON.stringify(c.node(e))),o.select("#"+d.id+" #"+e).attr("transform","translate("+(c.node(e).x-c.node(e).width/2)+","+(c.node(e).y+(Sp[e]?Sp[e].y:0)-c.node(e).height/2)+" )"),o.select("#"+d.id+" #"+e).attr("data-x-shift",c.node(e).x-c.node(e).width/2),i.querySelectorAll("#"+d.id+" #"+e+" .divider").forEach(e=>{let n=e.parentElement,s=0,t=0;n&&(n.parentElement&&(s=n.parentElement.getBBox().width),t=parseInt(n.getAttribute("data-x-shift"),10),Number.isNaN(t)&&(t=0)),e.setAttribute("x1",0-t+8),e.setAttribute("x2",s-t-8)})):a.debug("No Node "+e+": "+JSON.stringify(c.node(e)))});let m=d.getBBox();c.edges().forEach(function(e){e!==void 0&&c.edge(e)!==void 0&&(a.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(c.edge(e))),Y_e(t,c.edge(e),c.edge(e).relation))}),m=d.getBBox();let h={id:n||"root",label:n||"root",width:0,height:0};return h.width=m.width+2*Ks.padding,h.height=m.height+2*Ks.padding,a.debug("Doc rendered",h,c),h},"renderDoc"),swe={setConf:Z_e,draw:ewe}}),bV={},de(bV,{diagram:()=>awe}),rwe=n(()=>{"use strict";MR(),Wp(),zB(),owe(),awe={parser:OR,get db(){return new $r(1)},renderer:swe,styles:TB,init:e(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),OV={},de(OV,{diagram:()=>lwe}),dwe=n(()=>{"use strict";MR(),Wp(),zB(),iB(),lwe={parser:OR,get db(){return new $r(2)},renderer:h_e,styles:TB,init:e(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),mwe=n(()=>{"use strict";Cp=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),n=[6,8,10,11,12,14,16,17,18],i=[1,9],a=[1,10],r=[1,11],c=[1,12],l=[1,13],d=[1,14],o={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 1:return i[r-1];case 2:this.$=[];break;case 3:i[r-1].push(i[r]),this.$=i[r-1];break;case 4:case 5:this.$=i[r];break;case 6:case 7:this.$=[];break;case 8:s.setDiagramTitle(i[r].substr(6)),this.$=i[r].substr(6);break;case 9:this.$=i[r].trim(),s.setAccTitle(this.$);break;case 10:case 11:this.$=i[r].trim(),s.setAccDescription(this.$);break;case 12:s.addSection(i[r].substr(8)),this.$=i[r].substr(8);break;case 13:s.addTask(i[r-1],i[r]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:i,12:a,14:r,16:c,17:l,18:d},t(n,[2,7],{1:[2,1]}),t(n,[2,3]),{9:15,11:i,12:a,14:r,16:c,17:l,18:d},t(n,[2,5]),t(n,[2,6]),t(n,[2,8]),{13:[1,16]},{15:[1,17]},t(n,[2,11]),t(n,[2,12]),{19:[1,18]},t(n,[2,4]),t(n,[2,9]),t(n,[2,10]),t(n,[2,13])],defaultActions:{},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},u=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return t}();o.lexer=u;function s(){this.yy={}}return e(s,"Parser"),s.prototype=o,o.Parser=s,new s}(),Cp.parser=Cp,hwe=Cp}),Awe=n(()=>{"use strict";P(),_t(),Pu="",Op=[],i1=[],o1=[],bwe=e(function(){Op.length=0,i1.length=0,Pu="",o1.length=0,Tt()},"clear"),jwe=e(function(e){Pu=e,Op.push(e)},"addSection"),ywe=e(function(){return Op},"getSections"),_we=e(function(){let e=VV(),n=100,t=0;for(;!e&&t<n;)e=VV(),t++;return i1.push(...o1),i1},"getTasks"),wwe=e(function(){let e=[];return i1.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),Owe=e(function(e,t){let n=t.substr(1).split(":"),s=0,o=[];n.length===1?(s=Number(n[0]),o=[]):(s=Number(n[0]),o=n[1].split(","));let i=o.map(e=>e.trim()),a={section:Pu,type:Pu,people:i,task:e,score:s};o1.push(a)},"addTask"),xwe=e(function(e){let t={section:Pu,type:Pu,description:e,task:e,classes:[]};i1.push(t)},"addTaskOrg"),VV=e(function(){let n=e(function(e){return o1[e].processed},"compileTask"),t=!0;for(let[e,s]of o1.entries())n(e),t=t&&s.processed;return t},"compileTasks"),Ewe=e(function(){return wwe()},"getActors"),WV={getConfig:e(()=>u().journey,"getConfig"),clear:bwe,setDiagramTitle:nn,getDiagramTitle:Ft,setAccTitle:It,getAccTitle:Yt,setAccDescription:Gt,getAccDescription:Qt,addSection:jwe,getSections:ywe,getTasks:_we,addTask:Owe,addTaskOrg:xwe,getActors:Ewe}}),Fwe=n(()=>{"use strict";Swe=e(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
    font-family: ${e.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),Mwe=Swe}),Wwe=n(()=>{"use strict";he(),vm(),pp=e(function(e,t){return ym(e,t)},"drawRect"),zwe=e(function(t,n){let r=t.append("circle").attr("cx",n.cx).attr("cy",n.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),s=t.append("g");s.append("circle").attr("cx",n.cx-15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",n.cx+15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(e){let t=ll().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);e.append("path").attr("class","mouth").attr("d",t).attr("transform","translate("+n.cx+","+(n.cy+2)+")")}e(o,"smile");function i(e){let t=ll().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);e.append("path").attr("class","mouth").attr("d",t).attr("transform","translate("+n.cx+","+(n.cy+7)+")")}e(i,"sad");function a(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",n.cx-5).attr("y1",n.cy+7).attr("x2",n.cx+5).attr("y2",n.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e(a,"ambivalent"),n.score>3?o(s):n.score<3?i(s):a(s),r},"drawFace"),QV=e(function(e,t){let n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},"drawCircle"),u$=e(function(e,t){return Gge(e,t)},"drawText"),Lwe=e(function(t,n){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}e(s,"genPoints");let o=t.append("polygon");o.attr("points",s(n.x,n.y,50,20,7)),o.attr("class","labelBox"),n.y=n.y+n.labelMargin,n.x=n.x+.5*n.labelMargin,u$(t,n)},"drawLabel"),Rwe=e(function(e,t,n){let o=e.append("g"),s=yc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width*t.taskCount+n.diagramMarginX*(t.taskCount-1),s.height=n.height,s.class="journey-section section-type-"+t.num,s.rx=3,s.ry=3,pp(o,s),b$(n)(t.text,o,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+t.num},n,t.colour)},"drawSection"),f$=-1,Hwe=e(function(e,t,n){let i=t.x+n.width/2,o=e.append("g");f$++;let r=300+5*30;o.append("line").attr("id","task"+f$).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",r).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),zwe(o,{cx:i,cy:300+(5-t.score)*30,score:t.score});let s=yc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,pp(o,s);let a=t.x+14;t.people.forEach(e=>{let n=t.actors[e].color,s={cx:a,cy:t.y,r:7,fill:n,stroke:"#000",title:e,pos:t.actors[e].position};QV(o,s),a+=10}),b$(n)(t.task,o,s.x,s.y,s.width,s.height,{class:"task"},n,t.colour)},"drawTask"),Iwe=e(function(e,t){Gk(e,t)},"drawBackgroundRect"),b$=function(){function s(e,n,s,o,i,a,r,c){let l=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("font-color",c).style("text-anchor","middle").text(e);t(l,r)}e(s,"byText");function n(e,n,s,o,i,a,r,c,l){let{taskFontSize:d,taskFontFamily:h}=c,u=e.split(/<br\s*\/?>/gi);for(let e=0;e<u.length;e++){let m=e*d-d*(u.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).attr("fill",l).style("text-anchor","middle").style("font-size",d).style("font-family",h);c.append("tspan").attr("x",s+i/2).attr("dy",m).text(u[e]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),t(c,r)}}e(n,"byTspan");function o(e,s,o,i,a,r,c,l){let d=s.append("switch"),u=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),n(e,d,o,i,a,r,c,l),t(u,c)}e(o,"byFo");function t(e,t){for(let n in t)n in t&&e.attr(n,t[n])}return e(t,"_setTextAttrs"),function(e){return e.textPlacement==="fo"?o:e.textPlacement==="old"?s:n}}(),Vwe=e(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),s1={drawRect:pp,drawCircle:QV,drawSection:Rwe,drawText:u$,drawLabel:Lwe,drawTask:Hwe,drawBackgroundRect:Iwe,initGraphics:Vwe}});function Uwe(e){let n=u().journey,t=60;Object.keys($i).forEach(s=>{let o=$i[s].color,i={cx:20,cy:t,r:7,fill:o,stroke:"#000",pos:$i[s].position};s1.drawCircle(e,i);let a={x:40,y:t+7,fill:"#666",text:s,textMargin:n.boxTextMargin|5};s1.drawText(e,a),t+=20})}nOe=n(()=>{"use strict";he(),Wwe(),P(),Ht(),Kwe=e(function(e){Object.keys(e).forEach(function(t){k6[t]=e[t]})},"setConf"),$i={},e(Uwe,"drawActorLegend"),k6=u().journey,Dc=k6.leftMargin,Xwe=e(function(e,t,n,s){let i=u().journey,m=u().securityLevel,h;m==="sandbox"&&(h=y("#i"+t));let p=y(m==="sandbox"?h.nodes()[0].contentDocument.body:"body");Hs.init();let o=p.select("#"+t);s1.initGraphics(o);let g=s.db.getTasks(),r=s.db.getDiagramTitle(),v=s.db.getActors();for(let e in $i)delete $i[e];let c=0;v.forEach(e=>{$i[e]={color:i.actorColours[c%i.actorColours.length],position:c},c++}),Uwe(o),Hs.insert(0,0,Dc,Object.keys($i).length*50),eOe(o,g,0);let a=Hs.getBounds();r&&o.append("text").text(r).attr("x",Dc).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let l=a.stopy-a.starty+2*i.diagramMarginY,d=Dc+a.stopx+2*i.diagramMarginX;ls(o,l,d,i.useMaxWidth),o.append("line").attr("x1",Dc).attr("y1",i.height*4).attr("x2",d-Dc-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let f=r?70:0;o.attr("viewBox",`${a.startx} -25 ${d} ${l+f}`),o.attr("preserveAspectRatio","xMinYMin meet"),o.attr("height",l+f+25)},"draw"),Hs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:e(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:e(function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},"updateVal"),updateBounds:e(function(t,n,s,o){let a=u().journey,i=this,r=0;function c(c){return e(function(e){r++;let l=i.sequenceItems.length-r+1;i.updateVal(e,"starty",n-l*a.boxMargin,Math.min),i.updateVal(e,"stopy",o+l*a.boxMargin,Math.max),i.updateVal(Hs.data,"startx",t-l*a.boxMargin,Math.min),i.updateVal(Hs.data,"stopx",s+l*a.boxMargin,Math.max),c!=="activation"&&(i.updateVal(e,"startx",t-l*a.boxMargin,Math.min),i.updateVal(e,"stopx",s+l*a.boxMargin,Math.max),i.updateVal(Hs.data,"starty",n-l*a.boxMargin,Math.min),i.updateVal(Hs.data,"stopy",o+l*a.boxMargin,Math.max))},"updateItemBounds")}e(c,"updateFn"),this.sequenceItems.forEach(c())},"updateBounds"),insert:e(function(e,t,n,s){let o=Math.min(e,n),i=Math.max(e,n),a=Math.min(t,s),r=Math.max(t,s);this.updateVal(Hs.data,"startx",o,Math.min),this.updateVal(Hs.data,"starty",a,Math.min),this.updateVal(Hs.data,"stopx",i,Math.max),this.updateVal(Hs.data,"stopy",r,Math.max),this.updateBounds(o,a,i,r)},"insert"),bumpVerticalPos:e(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:e(function(){return this.verticalPos},"getVerticalPos"),getBounds:e(function(){return this.data},"getBounds")},Z6=k6.sectionFills,oW=k6.sectionColours,eOe=e(function(e,t,n){let s=u().journey,c="",l=s.height*2+s.diagramMarginY,d=n+l,o=0,i="#CCC",a="black",r=0;for(let[l,n]of t.entries()){if(c!==n.section){i=Z6[o%Z6.length],r=o%Z6.length,a=oW[o%oW.length];let d=0,u=n.section;for(let e=l;e<t.length&&t[e].section==u;e++)d=d+1;let h={x:l*s.taskMargin+l*s.width+Dc,y:50,text:n.section,fill:i,num:r,colour:a,taskCount:d};s1.drawSection(e,h,s),c=n.section,o++}let u=n.people.reduce((e,t)=>($i[t]&&(e[t]=$i[t]),e),{});n.x=l*s.taskMargin+l*s.width+Dc,n.y=d,n.width=s.diagramMarginX,n.height=s.diagramMarginY,n.colour=a,n.fill=i,n.num=r,n.actors=u,s1.drawTask(e,n,s),Hs.insert(n.x,n.y,n.x+n.width+s.taskMargin,300+5*30)}},"drawTasks"),aW={setConf:Kwe,draw:Xwe}}),dW={},de(dW,{diagram:()=>oOe}),iOe=n(()=>{"use strict";mwe(),Awe(),Fwe(),nOe(),oOe={parser:hwe,db:WV,renderer:aW,styles:Mwe,init:e(e=>{aW.setConf(e.journey),WV.clear()},"init")}}),cOe=n(()=>{"use strict";W6=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),n=[6,8,10,11,12,14,16,17,20,21],i=[1,9],a=[1,10],r=[1,11],c=[1,12],l=[1,13],d=[1,16],u=[1,17],o={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 1:return i[r-1];case 2:this.$=[];break;case 3:i[r-1].push(i[r]),this.$=i[r-1];break;case 4:case 5:this.$=i[r];break;case 6:case 7:this.$=[];break;case 8:s.getCommonDb().setDiagramTitle(i[r].substr(6)),this.$=i[r].substr(6);break;case 9:this.$=i[r].trim(),s.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=i[r].trim(),s.getCommonDb().setAccDescription(this.$);break;case 12:s.addSection(i[r].substr(8)),this.$=i[r].substr(8);break;case 15:s.addTask(i[r],0,""),this.$=i[r];break;case 16:s.addEvent(i[r].substr(2)),this.$=i[r];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:i,12:a,14:r,16:c,17:l,18:14,19:15,20:d,21:u},t(n,[2,7],{1:[2,1]}),t(n,[2,3]),{9:18,11:i,12:a,14:r,16:c,17:l,18:14,19:15,20:d,21:u},t(n,[2,5]),t(n,[2,6]),t(n,[2,8]),{13:[1,19]},{15:[1,20]},t(n,[2,11]),t(n,[2,12]),t(n,[2,13]),t(n,[2,14]),t(n,[2,15]),t(n,[2,16]),t(n,[2,4]),t(n,[2,9]),t(n,[2,10])],defaultActions:{},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},h=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return t}();o.lexer=h;function s(){this.yy={}}return e(s,"Parser"),s.prototype=o,o.Parser=s,new s}(),W6.parser=W6,rOe=W6}),hW={},de(hW,{addEvent:()=>j$,addSection:()=>tW,addTask:()=>F$,addTaskOrg:()=>TV,clear:()=>lW,default:()=>xOe,getCommonDb:()=>pW,getSections:()=>eW,getTasks:()=>T$}),COe=n(()=>{"use strict";_t(),Zu="",vW=0,I6=[],R6=[],yd=[],pW=e(()=>sb,"getCommonDb"),lW=e(function(){I6.length=0,R6.length=0,Zu="",yd.length=0,Tt()},"clear"),tW=e(function(e){Zu=e,I6.push(e)},"addSection"),eW=e(function(){return I6},"getSections"),T$=e(function(){let e=kV(),n=100,t=0;for(;!e&&t<n;)e=kV(),t++;return R6.push(...yd),R6},"getTasks"),F$=e(function(e,t,n){let s={id:vW++,section:Zu,type:Zu,task:e,score:t||0,events:n?[n]:[]};yd.push(s)},"addTask"),j$=e(function(e){yd.find(e=>e.id===vW-1).events.push(e)},"addEvent"),TV=e(function(e){let t={section:Zu,type:Zu,description:e,task:e,classes:[]};R6.push(t)},"addTaskOrg"),kV=e(function(){let n=e(function(e){return yd[e].processed},"compileTask"),t=!0;for(let[e,s]of yd.entries())n(e),t=t&&s.processed;return t},"compileTasks"),xOe={clear:lW,getCommonDb:pW,addSection:tW,getSections:eW,getTasks:T$,addTask:F$,addTaskOrg:TV,addEvent:j$}});function EV(e,t){e.each(function(){var e,s=y(this),i=s.text().split(/(\s+|<br>)/).reverse(),n=[],r=1.1,a=s.attr("y"),c=parseFloat(s.attr("dy")),o=s.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",c+"em");for(let c=0;c<i.length;c++)e=i[i.length-1-c],n.push(e),o.text(n.join(" ").trim()),(o.node().getComputedTextLength()>t||e==="<br>")&&(n.pop(),o.text(n.join(" ").trim()),e==="<br>"?n=[""]:n=[e],o=s.append("tspan").attr("x",0).attr("y",a).attr("dy",r+"em").text(e))})}UOe=n(()=>{"use strict";he(),kOe=12,_6=e(function(e,t){let n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},"drawRect"),SOe=e(function(t,n){let r=t.append("circle").attr("cx",n.cx).attr("cy",n.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),s=t.append("g");s.append("circle").attr("cx",n.cx-15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",n.cx+15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(e){let t=ll().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);e.append("path").attr("class","mouth").attr("d",t).attr("transform","translate("+n.cx+","+(n.cy+2)+")")}e(o,"smile");function i(e){let t=ll().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);e.append("path").attr("class","mouth").attr("d",t).attr("transform","translate("+n.cx+","+(n.cy+7)+")")}e(i,"sad");function a(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",n.cx-5).attr("y1",n.cy+7).attr("x2",n.cx+5).attr("y2",n.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e(a,"ambivalent"),n.score>3?o(s):n.score<3?i(s):a(s),r},"drawFace"),MOe=e(function(e,t){let n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},"drawCircle"),hV=e(function(e,t){let o=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.text(o),n},"drawText"),TOe=e(function(t,n){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}e(s,"genPoints");let o=t.append("polygon");o.attr("points",s(n.x,n.y,50,20,7)),o.attr("class","labelBox"),n.y=n.y+n.labelMargin,n.x=n.x+.5*n.labelMargin,hV(t,n)},"drawLabel"),zOe=e(function(e,t,n){let o=e.append("g"),s=Up();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+t.num,s.rx=3,s.ry=3,_6(o,s),FB(n)(t.text,o,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+t.num},n,t.colour)},"drawSection"),tV=-1,NOe=e(function(e,t,n){let i=t.x+n.width/2,o=e.append("g");tV++;let a=300+5*30;o.append("line").attr("id","task"+tV).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),SOe(o,{cx:i,cy:300+(5-t.score)*30,score:t.score});let s=Up();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,_6(o,s),FB(n)(t.task,o,s.x,s.y,s.width,s.height,{class:"task"},n,t.colour)},"drawTask"),LOe=e(function(e,t){_6(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),ROe=e(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),Up=e(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),FB=function(){function s(e,n,s,o,i,a,r,c){let l=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("font-color",c).style("text-anchor","middle").text(e);t(l,r)}e(s,"byText");function n(e,n,s,o,i,a,r,c,l){let{taskFontSize:d,taskFontFamily:h}=c,u=e.split(/<br\s*\/?>/gi);for(let e=0;e<u.length;e++){let m=e*d-d*(u.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).attr("fill",l).style("text-anchor","middle").style("font-size",d).style("font-family",h);c.append("tspan").attr("x",s+i/2).attr("dy",m).text(u[e]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),t(c,r)}}e(n,"byTspan");function o(e,s,o,i,a,r,c,l){let d=s.append("switch"),u=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),n(e,d,o,i,a,r,c,l),t(u,c)}e(o,"byFo");function t(e,t){for(let n in t)n in t&&e.attr(n,t[n])}return e(t,"_setTextAttrs"),function(e){return e.textPlacement==="fo"?o:e.textPlacement==="old"?s:n}}(),IOe=e(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),e(EV,"wrap"),BOe=e(function(e,t,n,s){let o=n%kOe-1,i=e.append("g");t.section=o,i.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+o));let r=i.append("g"),a=i.append("g"),c=a.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(EV,t.width).node().getBBox(),l=s.fontSize?.replace?s.fontSize.replace("px",""):s.fontSize;return t.height=c.height+l*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,a.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),$Oe(r,t,o,s),t},"drawNode"),VOe=e(function(e,t,n){let s=e.append("g"),o=s.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(EV,t.width).node().getBBox(),i=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return s.remove(),o.height+i*1.1*.5+t.padding},"getVirtualNodeHeight"),$Oe=e(function(e,t,n){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),Qr={drawRect:_6,drawCircle:MOe,drawSection:zOe,drawText:hV,drawLabel:TOe,drawTask:NOe,drawBackgroundRect:LOe,getTextObj:ROe,getNoteRect:Up,initGraphics:IOe,drawNode:BOe,getVirtualNodeHeight:VOe}}),XOe=n(()=>{"use strict";he(),UOe(),x(),P(),Ht(),KOe=e(function(e,t,n,s){let i=u(),g=i.leftMargin??50;a.debug("timeline",s.db);let C=i.securityLevel,w;C==="sandbox"&&(w=y("#i"+t));let o=y(C==="sandbox"?w.nodes()[0].contentDocument.body:"body").select("#"+t);o.append("g");let d=s.db.getTasks(),x=s.db.getCommonDb().getDiagramTitle();a.debug("task",d),Qr.initGraphics(o);let h=s.db.getSections();a.debug("sections",h);let r=0,c=0,j=0,b=0,m=50+g,v=50;b=50;let l=0,O=!0;h.forEach(function(e){let n={number:l,descr:e,section:l,width:150,padding:20,maxHeight:r},t=Qr.getVirtualNodeHeight(o,n,i);a.debug("sectionHeight before draw",t),r=Math.max(r,t+20)});let p=0,f=0;a.debug("tasks.length",d.length);for(let[s,e]of d.entries()){let r={number:s,descr:e,section:e.section,width:150,padding:20,maxHeight:c},t=Qr.getVirtualNodeHeight(o,r,i);a.debug("taskHeight before draw",t),c=Math.max(c,t+20),p=Math.max(p,e.events.length);let n=0;for(let t of e.events){let s={descr:t,section:e.section,number:e.section,width:150,padding:20,maxHeight:50};n+=Qr.getVirtualNodeHeight(o,s,i)}f=Math.max(f,n)}a.debug("maxSectionHeight before draw",r),a.debug("maxTaskHeight before draw",c),h&&h.length>0?h.forEach(e=>{let t=d.filter(t=>t.section===e),n={number:l,descr:e,section:l,width:200*Math.max(t.length,1)-50,padding:20,maxHeight:r};a.debug("sectionNode",n);let s=o.append("g"),u=Qr.drawNode(s,n,l,i);a.debug("sectionNode output",u),s.attr("transform",`translate(${m}, ${b})`),v+=r+50,t.length>0&&cB(o,t,l,m,v,c,i,p,f,r,!1),m+=200*Math.max(t.length,1),v=b,l++}):(O=!1,cB(o,d,l,m,v,c,i,p,f,r,!0));let _=o.node().getBBox();a.debug("bounds",_),x&&o.append("text").text(x).attr("x",_.width/2-g).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),j=O?r+c+150:c+100,o.append("g").attr("class","lineWrapper").append("line").attr("x1",g).attr("y1",j).attr("x2",_.width+3*g).attr("y2",j).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),tu(void 0,o,i.timeline?.padding??50,i.timeline?.useMaxWidth??!1)},"draw"),cB=e(function(e,t,n,s,o,i,r,c,l,d,u){for(let c of t){let h={descr:c.task,section:n,number:n,width:150,padding:20,maxHeight:i};a.debug("taskNode",h);let m=e.append("g").attr("class","taskWrapper"),f=Qr.drawNode(m,h,n,r).height;if(a.debug("taskHeight after draw",f),m.attr("transform",`translate(${s}, ${o})`),i=Math.max(i,f),c.events){let a=e.append("g").attr("class","lineWrapper"),t=i;o+=100,t=t+YOe(e,c.events,n,s,o,r),o-=100,a.append("line").attr("x1",s+190/2).attr("y1",o+i).attr("x2",s+190/2).attr("y2",o+i+(u?i:d)+l+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}s=s+200,u&&!r.timeline?.disableMulticolor&&n++}o=o-10},"drawTasks"),YOe=e(function(e,t,n,s,o,i){let r=0,c=o;o=o+100;for(let u of t){let c={descr:u,section:n,number:n,width:150,padding:20,maxHeight:50};a.debug("eventNode",c);let l=e.append("g").attr("class","eventWrapper"),d=Qr.drawNode(l,c,n,i).height;r=r+d,l.attr("transform",`translate(${s}, ${o})`),o=o+10+d}return o=c,r},"drawEvents"),GOe={setConf:e(()=>{},"setConf"),draw:KOe}}),exe=n(()=>{"use strict";Js(),QOe=e(e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++)e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t],za(e["lineColor"+t])?e["lineColor"+t]=z(e["lineColor"+t],20):e["lineColor"+t]=V(e["lineColor"+t],20);for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let s=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} path  {
      fill: ${e["cScale"+n]};
    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${s};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+n]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),ZOe=e(e=>`
  .edge {
    stroke-width: 3;
  }
  ${QOe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),JOe=ZOe}),oB={},de(oB,{diagram:()=>nxe}),sxe=n(()=>{"use strict";cOe(),COe(),XOe(),exe(),nxe={db:hW,renderer:GOe,parser:rOe,styles:JOe}}),axe=n(()=>{"use strict";hg=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),j=[1,4],r=[1,13],c=[1,12],l=[1,15],d=[1,16],s=[1,20],o=[1,19],u=[6,7,8],b=[1,26],m=[1,24],v=[1,25],n=[6,7,11],f=[1,6,13,15,16,19,22],p=[1,33],g=[1,34],i=[1,6,7,11,13,15,16,19,22],h={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 6:case 7:return s;case 8:s.getLogger().trace("Stop NL ");break;case 9:s.getLogger().trace("Stop EOF ");break;case 11:s.getLogger().trace("Stop NL2 ");break;case 12:s.getLogger().trace("Stop EOF2 ");break;case 15:s.getLogger().info("Node: ",i[r].id),s.addNode(i[r-1].length,i[r].id,i[r].descr,i[r].type);break;case 16:s.getLogger().trace("Icon: ",i[r]),s.decorateNode({icon:i[r]});break;case 17:case 21:s.decorateNode({class:i[r]});break;case 18:s.getLogger().trace("SPACELIST");break;case 19:s.getLogger().trace("Node: ",i[r].id),s.addNode(0,i[r].id,i[r].descr,i[r].type);break;case 20:s.decorateNode({icon:i[r]});break;case 25:s.getLogger().trace("node found ..",i[r-2]),this.$={id:i[r-1],descr:i[r-1],type:s.getType(i[r-2],i[r])};break;case 26:this.$={id:i[r],descr:i[r],type:s.nodeType.DEFAULT};break;case 27:s.getLogger().trace("node found ..",i[r-3]),this.$={id:i[r-3],descr:i[r-1],type:s.getType(i[r-2],i[r])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:j},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:j},{6:r,7:[1,10],9:9,12:11,13:c,14:14,15:l,16:d,17:17,18:18,19:s,22:o},t(u,[2,3]),{1:[2,2]},t(u,[2,4]),t(u,[2,5]),{1:[2,6],6:r,12:21,13:c,14:14,15:l,16:d,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:c,14:14,15:l,16:d,17:17,18:18,19:s,22:o},{6:b,7:m,10:23,11:v},t(n,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(n,[2,18]),t(n,[2,19]),t(n,[2,20]),t(n,[2,21]),t(n,[2,23]),t(n,[2,24]),t(n,[2,26],{19:[1,30]}),{20:[1,31]},{6:b,7:m,10:32,11:v},{1:[2,7],6:r,12:21,13:c,14:14,15:l,16:d,17:17,18:18,19:s,22:o},t(f,[2,14],{7:p,11:g}),t(i,[2,8]),t(i,[2,9]),t(i,[2,10]),t(n,[2,15]),t(n,[2,16]),t(n,[2,17]),{20:[1,35]},{21:[1,36]},t(f,[2,13],{7:p,11:g}),t(i,[2,11]),t(i,[2,12]),{21:[1,37]},t(n,[2,25]),t(n,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},y=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return e.getLogger().trace("Found comment",t.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:e.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return e.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:e.getLogger().trace("end icon"),this.popState();break;case 10:return e.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return e.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return e.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return e.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:e.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return e.getLogger().trace("description:",t.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),e.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),e.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),e.getLogger().trace("node end ...",t.yytext),"NODE_DEND";break;case 30:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return e.getLogger().trace("Long description:",t.yytext),20;break;case 36:return e.getLogger().trace("Long description:",t.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^([\n){}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[)]\))/i,/^(?:[)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^)\](}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return t}();h.lexer=y;function a(){this.yy={}}return e(a,"Parser"),a.prototype=h,h.Parser=a,new a}(),hg.parser=hg,ixe=hg}),Oxe=n(()=>{"use strict";P(),me(),x(),bs(),Do=[],eB=0,vg={},dxe=e(()=>{Do=[],eB=0,vg={}},"clear"),uxe=e(function(e){for(let t=Do.length-1;t>=0;t--)if(Do[t].level<e)return Do[t];return null},"getParent"),hxe=e(()=>Do.length>0?Do[0]:null,"getMindmap"),mxe=e((e,t,n,s)=>{a.info("addNode",e,t,n,s);let o=u(),r=o.mindmap?.padding??ye.mindmap.padding;switch(s){case Rt.ROUNDED_RECT:case Rt.RECT:case Rt.HEXAGON:r*=2}let i={id:eB++,nodeId:Ie(t,o),level:e,descr:Ie(n,o),type:s,children:[],width:o.mindmap?.maxNodeWidth??ye.mindmap.maxNodeWidth,padding:r},c=uxe(e);if(c)c.children.push(i),Do.push(i);else if(Do.length===0)Do.push(i);else throw new Error('There can be only one root. No parent could be found for ("'+i.descr+'")')},"addNode"),Rt={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},pxe=e((e,t)=>{switch(a.debug("In get type",e,t),e){case"[":return Rt.RECT;case"(":return t===")"?Rt.ROUNDED_RECT:Rt.CLOUD;case"((":return Rt.CIRCLE;case")":return Rt.CLOUD;case"))":return Rt.BANG;case"{{":return Rt.HEXAGON;default:return Rt.DEFAULT}},"getType"),gxe=e((e,t)=>{vg[e]=t},"setElementForId"),vxe=e(e=>{if(!e)return;let t=u(),n=Do[Do.length-1];e.icon&&(n.icon=Ie(e.icon,t)),e.class&&(n.class=Ie(e.class,t))},"decorateNode"),bxe=e(e=>{switch(e){case Rt.DEFAULT:return"no-border";case Rt.RECT:return"rect";case Rt.ROUNDED_RECT:return"rounded-rect";case Rt.CIRCLE:return"circle";case Rt.CLOUD:return"cloud";case Rt.BANG:return"bang";case Rt.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),jxe=e(()=>a,"getLogger"),yxe=e(e=>vg[e],"getElementById"),_xe={clear:dxe,addNode:mxe,getMindmap:hxe,nodeType:Rt,getType:pxe,setElementForId:gxe,decorateNode:vxe,type2Str:bxe,getLogger:jxe,getElementById:yxe},wxe=_xe});function Wt(e){return"@babel/helpers - typeof",Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function Va(e,t,n){return t&&zI(e.prototype,t),n&&zI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){return Txe(e)||Dxe(e,t)||kg(e,t)||Pxe()}function rI(e){return Fxe(e)||zxe(e)||kg(e)||Rxe()}function Fxe(e){if(Array.isArray(e))return Sg(e)}function Txe(e){if(Array.isArray(e))return e}function zxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dxe(e,t){if(n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"],n!=null){var n,a,r,s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}}function kg(e,t){if(e){if(typeof e=="string")return Sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(e,t)}}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cs(t,n){if(s=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"],!s){if(Array.isArray(t)||(s=kg(t))||n&&t&&typeof t.length=="number"){s&&(t=s);var s,o,i,c,a=0,r=e(function(){},"F");return{s:r,n:e(function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},"n"),e:e(function(e){throw e},"e"),f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return o=!0,i=!1,{s:e(function(){s=s.call(t)},"s"),n:e(function(){var e=s.next();return o=e.done,e},"n"),e:e(function(e){i=!0,c=e},"e"),f:e(function(){try{!o&&s.return!=null&&s.return()}finally{if(i)throw c}},"f")}}function Ixe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Bxe(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Vxe(e){for(var t=e.length;t--&&SAe.test(e.charAt(t)););return t}function $xe(e){return e&&e.slice(0,MAe(e)+1).replace(FAe,"")}function Wxe(e){var t,n,s=LAe.call(e,d0),o=e[d0];try{e[d0]=void 0,t=!0}catch{}return n=RAe.call(e),t&&(s?e[d0]=o:delete e[d0]),n}function Uxe(e){return BAe.call(e)}function Kxe(e){return e==null?e===void 0?WAe:$Ae:NE&&NE in Object(e)?HAe(e):VAe(e)}function qxe(e){return e!=null&&typeof e=="object"}function Yxe(e){return typeof e=="symbol"||qAe(e)&&SE(e)==YAe}function Gxe(e){if(typeof e=="number")return e;if(f0(e))return jE;if(oc(e)){var n,t=typeof e.valueOf=="function"?e.valueOf():e;e=oc(t)?t+"":t}return typeof e!="string"?e===0?e:+e:(e=TAe(e),n=ZAe.test(e),n||JAe.test(e)?eSe(e.slice(2),n?2:8):QAe.test(e)?jE:+e)}function Xxe(t,n,s){var o,i,a,r,u,m,d=0,b=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(nSe);n=vE(n)||0,oc(s)&&(b=!!s.leading,c="maxWait"in s,m=c?sSe(vE(s.maxWait)||0,n):m,p="trailing"in s?!!s.trailing:p);function h(e){var n=a,s=u;return a=u=void 0,d=e,r=t.apply(s,n),r}e(h,"invokeFunc");function j(e){return d=e,o=setTimeout(l,n),b?h(e):r}e(j,"leadingEdge");function y(e){var s=e-i,o=e-d,t=n-s;return c?oSe(t,m-o):t}e(y,"remainingWait");function g(e){var t=e-i,s=e-d;return i===void 0||t>=n||t<0||c&&s>=m}e(g,"shouldInvoke");function l(){var e=Zb();if(g(e))return v(e);o=setTimeout(l,y(e))}e(l,"timerExpired");function v(e){return o=void 0,p&&a?h(e):(a=u=void 0,r)}e(v,"trailingEdge");function _(){o!==void 0&&clearTimeout(o),d=0,a=i=u=o=void 0}e(_,"cancel");function w(){return o===void 0?r:v(Zb())}e(w,"flush");function f(){var e=Zb(),t=g(e);if(a=arguments,u=this,i=e,t){if(o===void 0)return j(i);if(c)return clearTimeout(o),o=setTimeout(l,n),h(i)}return o===void 0&&(o=setTimeout(l,n)),r}return e(f,"debounced"),f.cancel=_,f.flush=w,f}function Wf(e,t,n,s,o,i){var a;return st(e)?a=e:a=Sl[e]||Sl.euclidean,t===0&&st(e)?a(o,i):a(t,n,s,o,i)}function Zxe(e,t){if(Dh(e))return!1;var n=typeof e;return!!(n=="number"||n=="symbol"||n=="boolean"||e==null||f0(e))||sze.test(e)||!nze.test(e)||t!=null&&e in Object(t)}function Jxe(e){if(!oc(e))return!1;var t=SE(e);return t==aze||t==rze||t==ize||t==cze}function eCe(e){return!!ax&&ax in e}function tCe(e){if(e!=null){try{return pze.call(e)}catch{}try{return e+""}catch{}}return""}function nCe(e){if(!oc(e)||mze(e))return!1;var t=lze(e)?Oze:bze;return t.test(gze(e))}function sCe(e,t){return e?.[t]}function oCe(e,t){var n=Cze(e,t);return xze(n)?n:void 0}function iCe(){this.__data__=v0?v0(null):{},this.size=0}function aCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function rCe(e){var n,t=this.__data__;return v0?(n=t[e],n===Fze?void 0:n):zze.call(t,e)?t[e]:void 0}function cCe(e){var t=this.__data__;return v0?t[e]!==void 0:Lze.call(t,e)}function lCe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=v0&&t===void 0?Pze:t,this}function Xd(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}function uCe(){this.__data__=[],this.size=0}function hCe(e,t){return e===t||e!==e&&t!==t}function mCe(e,t){for(var n=e.length;n--;)if(Ex(e[n][0],t))return n;return-1}function fCe(e){var s,t=this.__data__,n=Xh(t,e);return!(n<0)&&(s=t.length-1,n==s?t.pop():Uze.call(t,n,1),--this.size,!0)}function pCe(e){var t=this.__data__,n=Xh(t,e);return n<0?void 0:t[n][1]}function gCe(e){return Xh(this.__data__,e)>-1}function vCe(e,t){var n=this.__data__,s=Xh(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}function Kd(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}function jCe(){this.size=0,this.__data__={hash:new wx,map:new(Zze||Xze),string:new wx}}function yCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _Ce(e,t){var n=e.__data__;return eDe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function wCe(e){var t=Jh(this,e).delete(e);return this.size-=t?1:0,t}function OCe(e){return Jh(this,e).get(e)}function xCe(e){return Jh(this,e).has(e)}function CCe(e,t){var n=Jh(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}function Wd(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}function Lg(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(rDe);var s=e(function(){var a,o=arguments,i=n?n.apply(this,o):o[0],e=s.cache;return e.has(i)?e.get(i):(a=t.apply(this,o),s.cache=e.set(i,a)||e,a)},"memoized");return s.cache=new(Lg.Cache||kx),s}function ACe(e){var t=cDe(e,function(e){return n.size===lDe&&n.clear(),e}),n=t.cache;return t}function SCe(e,t){for(var n=-1,s=e==null?0:e.length,o=Array(s);++n<s;)o[n]=t(e[n],n,e);return o}function AH(e){if(typeof e=="string")return e;if(Dh(e))return Mx(e,AH)+"";if(f0(e))return Dx?Dx.call(e):"";var t=e+"";return t=="0"&&1/e==-gDe?"-0":t}function FCe(e){return e==null?"":jDe(e)}function TCe(e,t){return Dh(e)?e:oze(e,t)?[e]:Sx(Rx(e))}function zCe(e){if(typeof e=="string"||f0(e))return e;var t=e+"";return t=="0"&&1/e==-wDe?"-0":t}function DCe(e,t){t=Px(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Wj(t[n++])];return n&&n==s?e:void 0}function NCe(e,t,n){var s=e==null?void 0:xDe(e,t);return s===void 0?n:s}function LCe(e,t,n){t=="__proto__"&&Ux?Ux(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function RCe(e,t,n){var s=e[t];(!MDe.call(e,t)||!Ex(s,n)||n===void 0&&!(t in e))&&ADe(e,t,n)}function PCe(e,t){var n=typeof e;return t=t??TDe,!!t&&(n=="number"||n!="symbol"&&zDe.test(e))&&e>-1&&e%1==0&&e<t}function HCe(e,t,n,s){if(!oc(e))return e;t=Px(t,e);for(var o,a,c,r=-1,l=t.length,d=l-1,i=e;i!=null&&++r<l;){if(o=Wj(t[r]),a=n,o==="__proto__"||o==="constructor"||o==="prototype")return e;r!=d&&(c=i[o],a=s?s(c,o,i):void 0,a===void 0&&(a=oc(c)?c:DDe(t[r+1])?[]:{})),FDe(i,o,a),i=i[o]}return e}function ICe(e,t,n){return e==null?e:NDe(e,t,n)}function BCe(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}function VCe(e){return Dh(e)?Mx(e,Wj):f0(e)?[e]:RDe(Sx(Rx(e)))}function Pg(e,t,n,s){for(var i,c,o=[],a=new Id,d=e.cy(),l=d.hasCompoundNodes(),r=0;r<e.length;r++)c=e[r],n?o.push(c):l&&s(o,a,c);for(;o.length>0;)i=o.shift(),t(i),a.add(i.id()),l&&s(o,a,i);return e}function xH(e,t,n){if(n.isParent())for(var o,i=n._private.children,s=0;s<i.length;s++)o=i[s],t.has(o.id())||e.push(o)}function cH(e,t,n){if(n.isChild()){var s=n._private.parent;t.has(s.id())||e.push(s)}}function KCe(e,t,n){cH(e,t,n),xH(e,t,n)}function Gg(e){return function(t){if(n=this,t===void 0&&(t=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var n,o,i=0,a=n[0],r=a._private.edges,s=0;s<r.length;s++)o=r[s],!t&&o.isLoop()||(i+=e(a,o));return i}else return}}function Rd(e,t){return function(n){for(var s,o,r,a=this.nodes(),i=0;i<a.length;i++)r=a[i],o=r[e](n),o!==void 0&&(s===void 0||t(o,s))&&(s=o);return s}}function R1(){return!1}function Tf(){return!0}function Mf(){for(var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mLe,s=arguments.length>1?arguments[1]:void 0,t=0;t<UE.length;t++)e=UE[t],this[e]=n[e]||zE[e];this.context=s||this.context,this.listeners=[],this.emitting=0}function TP(e,t,n){var s,o=n._private,i=o.styleCache=o.styleCache||[];return(s=i[e])!=null||(s=i[e]=t(n)),s}function Af(t,n){return t=Fa(t),e(function(e){return TP(t,n,e)},"cachedStyleFunction")}function kf(t,n){t=Fa(t);var s=e(function(e){return n.call(e)},"selfFn");return e(function(){var e=this[0];if(e)return TP(t,s,e)},"cachedPrototypeStyleFunction")}function l5(e,t){var n,o,i=e._private,s=i.data.parent?e.parents():null;if(s)for(n=0;n<s.length;n++)if(o=s[n],!t(o))return!1;return!0}function u5(e){var n=e.ok,t=e.edgeOkViaNode||e.ok,s=e.parentOk||e.ok;return function(){if(a=this.cy(),!a.styleEnabled())return!0;var o,i,a,c,e=this[0],r=a.hasCompoundNodes();if(e)return c=e._private,!!n(e)&&(e.isNode()?!r||l5(e,s):(o=c.source,i=c.target,t(o)&&(!r||l5(o,t))&&(o===i||t(i)&&(!r||l5(i,t)))))}}function KR(e){return function(){if(t=arguments,a=[],t.length===2)c=t[0],l=t[1],this.on(e.event,c,l);else if(t.length===1&&st(t[0]))d=t[0],this.on(e.event,d);else if(t.length===0||t.length===1&&$e(t[0])){for(r=t.length===1?t[0]:null,s=0;s<this.length;s++){var t,s,o,i,a,r,c,l,d,n=this[s],u=!e.ableField||n._private[e.ableField],h=n._private[e.field]!=e.value;if(e.overrideAble&&(o=e.overrideAble(n),o!==void 0&&(u=o,!o)))return this;u&&(n._private[e.field]=e.value,h&&a.push(n))}i=this.spawn(a),i.updateStyle(),i.emit(e.event),r&&i.emit(r)}return this}}function kd(e){Za[e.field]=function(){var n,t=this[0];if(t)return e.overrideField&&(n=e.overrideField(t),n!==void 0)?n:t._private[e.field]},Za[e.on]=KR({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Za[e.off]=KR({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function zR(t){return e(function(e){for(var s,i,o=[],n=0;n<this.length;n++)i=this[n],s=i._private[t.attr],s&&o.push(s);return this.spawn(o,!0).filter(e)},"sourceImpl")}function kR(t){return e(function(e){var r=[],u=this._private.cy,n=t||{};Y(e)&&(e=u.$(e));for(s=0;s<e.length;s++)for(a=e[s]._private.edges,o=0;o<a.length;o++){var s,o,a,c=a[o],i=c._private.data,l=this.hasElementWithId(i.source)&&e.hasElementWithId(i.target),d=e.hasElementWithId(i.source)&&this.hasElementWithId(i.target),h=l||d;h&&((n.thisIsSrc||n.thisIsTgt)&&(n.thisIsSrc&&!l||n.thisIsTgt&&!d)||r.push(c))}return this.spawn(r,!0)},"edgesWithImpl")}function cR(t){var n={codirected:!1};return t=ee({},n,t),e(function(e){for(var f=[],h=this.edges(),u=t,n=0;n<h.length;n++)for(var v=h[n],r=v._private,c=r.source,l=c._private.data.id,d=r.data.target,i=c._private.edges,s=0;s<i.length;s++){var m=i[s],o=m._private.data,p=o.target,g=o.source,a=p===d&&g===l,b=l===p&&d===g;(u.codirected&&a||!u.codirected&&(a||b))&&f.push(m)}return this.spawn(f,!0).filter(e)},"parallelEdgesImpl")}function cEe(t,n,s,o){var i,a,l,m,_,O=4,E=.001,w=1e-7,C=10,c=11,d=1/(c-1),x=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(i=0;i<4;++i)if(typeof arguments[i]!="number"||isNaN(arguments[i])||!isFinite(arguments[i]))return!1;t=Math.min(t,1),s=Math.min(s,1),t=Math.max(t,0),s=Math.max(s,0),a=x?new Float32Array(c):new Array(c);function f(e,t){return 1-3*t+3*e}e(f,"A");function u(e,t){return 3*t-6*e}e(u,"B");function h(e){return 3*e}e(h,"C");function r(e,t,n){return((f(t,n)*e+u(t,n))*e+h(t))*e}e(r,"calcBezier");function p(e,t,n){return 3*f(t,n)*e*e+2*u(t,n)*e+h(t)}e(p,"getSlope");function v(e,n){for(var o,a,i=0;i<O;++i){if(o=p(n,t,s),o===0)return n;a=r(n,t,s)-e,n-=a/o}return n}e(v,"newtonRaphsonIterate");function b(){for(var e=0;e<c;++e)a[e]=r(e*d,t,s)}e(b,"calcSampleValues");function g(e,n,o){var i,a,c=0;do i=n+(o-n)/2,a=r(i,t,s)-e,a>0?o=i:n=i;while(Math.abs(a)>w&&++c<C)return i}e(g,"binarySubdivide");function j(e){for(var o=0,n=1,l=c-1;n!==l&&a[n]<=e;++n)o+=d;--n;var u=(e-a[n])/(a[n+1]-a[n]),i=o+u*d,r=p(i,t,s);return r>=E?v(e,i):r===0?i:g(e,o,o+d)}e(j,"getTForX"),m=!1;function y(){m=!0,(t!==n||s!==o)&&b()}return e(y,"precompute"),l=e(function(e){return m||y(),t===n&&s===o?e:e===0?0:e===1?1:r(j(e),n,o)},"f"),l.getControlPoints=function(){return[{x:t,y:n},{x:s,y:o}]},_="generateBezier("+[t,n,s,o]+")",l.toString=function(){return _},l}function sR(e,t,n,s,o){if(s===1||t===n)return n;var i=o(t,n,s);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function JL(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function cd(e,t,n,s,o){d=o!=null?o.type:null,n<0?n=0:n>1&&(n=1);var a,c,l,d,u,h,r=JL(e,o),i=JL(t,o);if(k(r)&&k(i))return sR(d,r,i,n,s);if($e(r)&&$e(i)){for(c=[],a=0;a<i.length;a++)u=r[a],l=i[a],u!=null&&l!=null?(h=sR(d,u,l,n,s),c.push(h)):c.push(l);return c}}function hEe(e,t,n,s){var i,a,r,c,l,d,h,m,v,b,w,A=!s,p=e._private,o=t._private,g=o.easing,M=o.startTime,T=s?e:e.cy(),j=T.style();if(o.easingImpl||(g==null?o.easingImpl=x6.linear:(Y(g)?(w=j.parse("transition-timing-function",g),c=w.value):c=g,Y(c)?(m=c,l=[]):(m=c[1],l=c.slice(2).map(function(e){return+e})),l.length>0?(m==="spring"&&l.push(o.duration),o.easingImpl=x6[m].apply(null,l)):o.easingImpl=x6[m])),a=o.easingImpl,o.duration===0?i=1:i=(n-M)/o.duration,o.applying&&(i=o.progress),i<0?i=0:i>1&&(i=1),o.delay==null){h=o.startPosition,r=o.position,r&&A&&!e.locked()&&(b={},W1(h.x,r.x)&&(b.x=cd(h.x,r.x,i,a)),W1(h.y,r.y)&&(b.y=cd(h.y,r.y,i,a)),e.position(b));var f=o.startPan,u=o.pan,C=p.pan,O=u!=null&&s;O&&(W1(f.x,u.x)&&(C.x=cd(f.x,u.x,i,a)),W1(f.y,u.y)&&(C.y=cd(f.y,u.y,i,a)),e.emit("pan"));var x=o.startZoom,y=o.zoom,E=y!=null&&s;if(E&&(W1(x,y)&&(p.zoom=v2(p.minZoom,cd(x,y,i,a),p.maxZoom)),e.emit("zoom")),(O||E)&&e.emit("viewport"),d=o.style,d&&d.length>0&&A){for(v=0;v<d.length;v++){var S=d[v],_=S.name,F=S,k=o.startStyle[_],z=j.properties[k.name],D=cd(k,F,i,a,z);j.overrideBypass(e,_,D)}e.emit("style")}}return o.progress=i,i}function W1(e,t){return e!=null&&t!=null&&(!!(k(e)&&k(t))||!!(e&&t))}function fEe(e,t,n){var o=t._private;o.started=!0,o.startTime=n-o.progress*o.duration}function GL(t,n){var o,i,c,l,d,s=n._private.aniEles,r=[];function a(n,s){var o,a,c,l,d,u=n._private,i=u.animation.current,h=u.animation.queue,m=!1;i.length===0&&(d=h.shift(),d&&i.push(d));for(l=e(function(e){for(var n,t=e.length-1;t>=0;t--)n=e[t],n();e.splice(0,e.length)},"callbacks"),a=i.length-1;a>=0;a--){if(c=i[a],o=c._private,o.stopped){i.splice(a,1),o.hooked=!1,o.playing=!1,o.started=!1,l(o.frames);continue}!o.playing&&!o.applying||(o.playing&&o.applying&&(o.applying=!1),o.started||fEe(n,c,t),hEe(n,c,t,s),o.applying&&(o.applying=!1),l(o.frames),o.step!=null&&o.step(t),c.completed()&&(i.splice(a,1),o.hooked=!1,o.playing=!1,o.started=!1,l(o.completes)),m=!0)}return!s&&i.length===0&&h.length===0&&r.push(n),m}e(a,"stepOne");for(o=!1,i=0;i<s.length;i++)c=s[i],l=a(c),o=o||l;d=a(n,!0),(o||d)&&(s.length>0?n.notify("draw",s):n.notify("draw")),s.unmerge(r),n.emit("step")}function FL(e){this.options=ee({},yRe,_Re,e)}function CL(e){this.options=ee({},xRe,e)}function oL(e){this.options=ee({},CRe,e)}function uf(e){this.options=ee({},kRe,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges(),s=n.filter(function(e){var n=e.source().data("id"),s=e.target().data("id"),o=t.some(function(e){return e.data("id")===n}),i=t.some(function(e){return e.data("id")===s});return!o||!i});this.options.eles=this.options.eles.not(s)}function qN(e){this.options=ee({},YRe,e)}function r7(e){this.options=ee({},GRe,e)}function BN(e){this.options=ee({},XRe,e)}function IN(e){this.options=ee({},QRe,e)}function DN(e){this.options=e,this.notifications=0}function TN(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function b7(e,t,n,s){var o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];return s===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(CPe(e,t,n,s,o),{cx:cS,cy:lS,radius:td,startX:bPe,startY:jPe,stopX:pM,stopY:gM,startAngle:wi.ang+Math.PI/2*jd,endAngle:Ps.ang-Math.PI/2*jd,counterClockwise:V9})}function oN(e){if(n=[],e!=null){for(t=0;t<e.length;t+=2){var t,n,s=e[t],o=e[t+1];n.push({x:s,y:o})}return n}}function AEe(t,n,s){for(var i,a=e(function(e,t,n,s){return Jt(e,t,n,s)},"qbezierAt$1"),r=n._private,c=r.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++)i=t.bezierProjPcts[o],c.push({x:a(s[0],s[2],s[4],i),y:a(s[1],s[3],s[5],i)})}function SEe(e,t){for(var s,n=0;n<t.length;n++)s=t[n],e.lineTo(s.x,s.y)}function MEe(e,t,n){for(var o,i,s=0;s<t.length;s++)o=t[s],s===0&&(i=o),e.lineTo(o.x,o.y);e.quadraticCurveTo(n.x,n.y,i.x,i.y)}function tN(e,t,n){e.beginPath&&e.beginPath();for(var o,i,a,r=t,s=0;s<r.length;s++)o=r[s],e.lineTo(o.x,o.y);i=n,a=n[0],e.moveTo(a.x,a.y);for(s=1;s<i.length;s++)o=i[s],e.lineTo(o.x,o.y);e.closePath&&e.closePath()}function TEe(e,t,n,s,o){e.beginPath&&e.beginPath(),e.arc(n,s,o,0,Math.PI*2,!1);var i,r,a=t,c=a[0];e.moveTo(c.x,c.y);for(i=0;i<a.length;i++)r=a[i],e.lineTo(r.x,r.y);e.closePath&&e.closePath()}function zEe(e,t,n,s){e.arc(t,n,s,0,Math.PI*2,!1)}function k7(e,t,n,s,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,a=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+s-i,n),e.quadraticCurveTo(t+s,n,t+s,n+i),e.lineTo(t+s,n+o-i),e.quadraticCurveTo(t+s,n+o,t+s-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),a?e.stroke():e.fill()}function DD(e,t,n){var s=e.createShader(t);if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(s));return s}function LEe(e,t,n){var o=DD(e,e.VERTEX_SHADER,t),i=DD(e,e.FRAGMENT_SHADER,n),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,i),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new Error("Could not initialize shaders");return s}function REe(e,t,n){n===void 0&&(n=t);var s=e.makeOffscreenCanvas(t,n),o=s.context=s.getContext("2d");return s.clear=function(){return o.clearRect(0,0,s.width,s.height)},s.clear(),s}function H7(e){var t=e.pixelRatio,s=e.cy.zoom(),n=e.cy.pan();return{zoom:s*t,pan:{x:n.x*t,y:n.y*t}}}function I7(e,t,n,s,o){var a=s*n+t.x,i=o*n+t.y;return i=Math.round(e.canvasHeight-i),[a,i]}function G8(e,t,n){var i=e[0]/255,a=e[1]/255,r=e[2]/255,o=t,s=n||new Array(4);return s[0]=i*o,s[1]=a*o,s[2]=r*o,s[3]=o,s}function Y8(e,t){var n=t||new Array(4);return n[0]=(e>>0&255)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function VEe(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function $Ee(e){var n=e.createTexture();return n.buffer=function(t){e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},n.deleteTexture=function(){e.deleteTexture(n)},n}function zD(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function MD(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function KEe(e,t,n,s,o,i){switch(t){case e.FLOAT:return new Float32Array(n.buffer,i*s,o);case e.INT:return new Int32Array(n.buffer,i*s,o)}}function qEe(e,t,n,s){var c=zD(e,t),i=jt(c,2),a=i[0],o=i[1],l=MD(e,o,s),r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),o===e.FLOAT?e.vertexAttribPointer(n,a,o,!1,0,0):o===e.INT&&e.vertexAttribIPointer(n,a,o,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null),r}function Fs(e,t,n,s){var c,d,h=zD(e,n),u=jt(h,3),i=u[0],a=u[1],m=u[2],l=MD(e,a,t*i),r=i*m,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t*r,e.DYNAMIC_DRAW),e.enableVertexAttribArray(s),a===e.FLOAT?e.vertexAttribPointer(s,i,a,!1,r,0):a===e.INT&&e.vertexAttribIPointer(s,i,a,r,0),e.vertexAttribDivisor(s,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(d=new Array(t),c=0;c<t;c++)d[c]=KEe(e,a,l,r,i,c);return o.dataArray=l,o.stride=r,o.size=i,o.getView=function(e){return d[e]},o.setPoint=function(e,t,n){var s=d[e];s[0]=t,s[1]=n},o.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,o),t?e.bufferSubData(e.ARRAY_BUFFER,0,l,0,t*i):e.bufferSubData(e.ARRAY_BUFFER,0,l)},o}function GEe(e){var t,n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),t=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.bindFramebuffer(e.FRAMEBUFFER,null),n.setFramebufferAttachmentSizes=function(n,s){e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,s,0,e.RGBA,e.UNSIGNED_BYTE,null)},n}function s4(){var e=new OD(9);return OD!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function lD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ZEe(e,t,n){var s=t[0],o=t[1],i=t[2],a=t[3],r=t[4],c=t[5],l=t[6],d=t[7],u=t[8],h=n[0],m=n[1],f=n[2],p=n[3],g=n[4],v=n[5],b=n[6],j=n[7],y=n[8];return e[0]=h*s+m*a+f*l,e[1]=h*o+m*r+f*d,e[2]=h*i+m*c+f*u,e[3]=p*s+g*a+v*l,e[4]=p*o+g*r+v*d,e[5]=p*i+g*c+v*u,e[6]=b*s+j*a+y*l,e[7]=b*o+j*r+y*d,e[8]=b*i+j*c+y*u,e}function V8(e,t,n){var i=t[0],a=t[1],r=t[2],c=t[3],l=t[4],d=t[5],u=t[6],h=t[7],m=t[8],s=n[0],o=n[1];return e[0]=i,e[1]=a,e[2]=r,e[3]=c,e[4]=l,e[5]=d,e[6]=s*i+o*c+u,e[7]=s*a+o*l+h,e[8]=s*r+o*d+m,e}function Yz(e,t,n){var i=t[0],a=t[1],r=t[2],c=t[3],l=t[4],d=t[5],u=t[6],h=t[7],m=t[8],s=Math.sin(n),o=Math.cos(n);return e[0]=o*i+s*c,e[1]=o*a+s*l,e[2]=o*r+s*d,e[3]=o*c-s*i,e[4]=o*l-s*a,e[5]=o*d-s*r,e[6]=u,e[7]=h,e[8]=m,e}function uv(e,t,n){var s=n[0],o=n[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function nke(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function ske(e,t){return e.intersection?e.intersection(t):new Set(rI(e).filter(function(e){return t.has(e)}))}function rz(e,t){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(t,")")}function ike(e){var t=e&&e.style&&e.style.backgroundColor||"white";return Nk(t)}function ake(e){{var t,n,s,o=e.render;e.render=function(t){t=t||{};var n=e.cy;e.webgl&&(n.zoom()>Fz?(rke(e),o.call(e,t)):(cke(e),ZT(e,t,f2.SCREEN)))}}t=e.matchCanvasSize,e.matchCanvasSize=function(n){t.call(e,n),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,n){return pke(e,t,n)},n=e.invalidateCachedZSortedEles,e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0},s=e.notify,e.notify=function(t,n){s.call(e,t,n),t==="viewport"||t==="bounds"?e.pickingFrameBuffer.needsDraw=!0:t==="background"&&e.eleDrawing.invalidate(n,{type:"node-body"})}}function rke(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function cke(t){var n=e(function(e){e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.canvasWidth,t.canvasHeight),e.restore()},"clear");n(t.data.contexts[t.NODE]),n(t.data.contexts[t.DRAG])}function lke(e){var n,s,r=e.canvasWidth,c=e.canvasHeight,o=H7(e),i=o.pan,a=o.zoom,t=s4();return V8(t,t,[i.x,i.y]),uv(t,t,[a,a]),n=s4(),nke(n,r,c),s=s4(),ZEe(s,n,t),s}function sz(e,t){var i=e.canvasWidth,a=e.canvasHeight,n=H7(e),s=n.pan,o=n.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i,a),t.translate(s.x,s.y),t.scale(o,o)}function uke(e,t){e.drawSelectionRectangle(t,function(t){return sz(e,t)})}function hke(e){var t=e.data.contexts[e.NODE];t.save(),sz(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function mke(t){var n=e(function(e,n,s){for(var h=e.atlasManager.getRenderTypeOpts(n),o=t.data.contexts[t.NODE],r=.125,c=h.atlasCollection.atlases,i=0;i<c.length;i++){var m=c[i],a=m.canvas,l=a.width,f=a.height,d=l*i,u=a.height*s;o.save(),o.scale(r,r),o.drawImage(a,d,u),o.strokeStyle="black",o.rect(d,u,l,f),o.stroke(),o.restore()}},"draw"),s=0;n(t.eleDrawing,"node-body",s++),n(t.eleDrawing,"node-label",s++)}function fke(e,t,n,s,o){var a,r,g,v,y=H7(e),d=y.pan,p=y.zoom;if(s===void 0||o===void 0){var F=I7(e,d,p,t,n),O=jt(F,2),M=O[0],S=O[1],l=6;v=M-l/2,g=S-l/2,a=l,r=l}else{var i,c,u,h,m,f,_,C=I7(e,d,p,t,n),b=jt(C,2),j=b[0],A=b[1],k=I7(e,d,p,s,o),w=jt(k,2),E=w[0],x=w[1];v=j,g=x,a=Math.abs(E-j),r=Math.abs(x-A)}if(a===0||r===0)return[];i=e.data.contexts[e.WEBGL],i.bindFramebuffer(i.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(i.viewport(0,0,i.canvas.width,i.canvas.height),ZT(e,null,f2.PICKING),e.pickingFrameBuffer.needsDraw=!1),m=a*r,f=new Uint8Array(m*4),i.readPixels(v,g,a,r,i.RGBA,i.UNSIGNED_BYTE,f),i.bindFramebuffer(i.FRAMEBUFFER,null);for(u=new Set,c=0;c<m;c++)_=f.slice(c*4,c*4+4),h=VEe(_)-1,h>=0&&u.add(h);return u}function pke(e,t,n){var s,o,i,r,c,l=fke(e,t,n),d=e.getCachedZSortedEles(),a=Cs(l);try{for(a.s();!(r=a.n()).done;)if(c=r.value,s=d[c],!o&&s.isNode()&&(o=s),!i&&s.isEdge()&&(i=s),o&&i)break}catch(e){a.e(e)}finally{a.f()}return[o,i].filter(Boolean)}function ZT(t,n,s){if(t.webglDebug&&(p=[],w=performance.now()),i=t.eleDrawing,f=0,s.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&uke(t,n),t.data.canvasNeedsRedraw[t.NODE]||s.picking){if(h=e(function(e,t){t+=1,e.isNode()?(i.drawTexture(e,t,"node-underlay"),i.drawTexture(e,t,"node-body"),i.drawTexture(e,t,"node-label"),i.drawTexture(e,t,"node-overlay")):(i.drawEdgeLine(e,t),i.drawEdgeArrow(e,t,"source"),i.drawEdgeArrow(e,t,"target"),i.drawTexture(e,t,"edge-label"))},"draw"),o=t.data.contexts[t.WEBGL],s.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height),C=lke(t),a=t.getCachedZSortedEles(),f=a.length,i.startFrame(C,p,s),s.screen){for(l=0;l<a.nondrag.length;l++)h(a.nondrag[l],l);for(d=0;d<a.drag.length;d++)h(a.drag[d],-1)}else if(s.picking)for(c=0;c<a.length;c++)h(a[c],c);i.endFrame(),t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc()),s.screen&&t.webglDebugShowAtlases&&(hke(t),mke(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var o,i,a,r,c,l,d,u,h,f,p,g,v,y,_,w,O,x,C,k=performance.now(),E=!0,j=0,b=0,m=Cs(p);try{for(m.s();!(y=m.n()).done;)_=y.value,j++,b+=_.count}catch(e){m.e(e)}finally{m.f()}if(v=Math.ceil(k-w),g="".concat(f," elements, ").concat(b," rectangles, ").concat(j," batches"),E)console.log("WebGL (".concat(s.name,") - ").concat(g));else{console.log("WebGL render (".concat(s.name,") - frame time ").concat(v,"ms")),console.log("  ".concat(g)),console.log("Texture Atlases Used:"),O=i.getAtlasDebugInfo(),r=Cs(O);try{for(r.s();!(x=r.n()).done;)u=x.value,console.log("  ".concat(u.type,": ").concat(u.keyCount," keys, ").concat(u.atlasCount," atlases"))}catch(e){r.e(e)}finally{r.f()}console.log("")}}}function vke(e,t){for(var s=atob(e),o=new ArrayBuffer(s.length),i=new Uint8Array(o),n=0;n<s.length;n++)i[n]=s.charCodeAt(n);return new Blob([o],{type:t})}function QT(e){var t=e.indexOf(",");return e.substr(t+1)}function WT(t,n,s){var o=e(function(){return n.toDataURL(s,t.quality)},"getB64Uri");switch(t.output){case"blob-promise":return new dl(function(e,o){try{n.toBlob(function(t){t!=null?e(t):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,t.quality)}catch(e){o(e)}});case"blob":return vke(QT(o()),s);case"base64":return QT(o());case"base64uri":default:return o()}}function $T(t){var n=this,U=n.cy.window(),j=U.document;t.webgl&&(ge.CANVAS_LAYERS=n.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),n.data={canvases:new Array(ge.CANVAS_LAYERS),contexts:new Array(ge.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ge.CANVAS_LAYERS),bufferCanvases:new Array(ge.BUFFER_COUNT),bufferContexts:new Array(ge.CANVAS_LAYERS)},m="-webkit-tap-highlight-color",h="rgba(0,0,0,0)",n.data.canvasContainer=j.createElement("div"),c=n.data.canvasContainer.style,n.data.canvasContainer.style[m]=h,c.position="relative",c.zIndex="0",c.overflow="hidden",u=t.cy.container(),u.appendChild(n.data.canvasContainer),u.style[m]=h,i={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"},Xke()&&(i["-ms-touch-action"]="none",i["touch-action"]="none");for(s=0;s<ge.CANVAS_LAYERS;s++)o=n.data.canvases[s]=j.createElement("canvas"),f=ge.CANVAS_TYPES[s],n.data.contexts[s]=o.getContext(f),n.data.contexts[s]||it("Could not create canvas of type "+f),Object.keys(i).forEach(function(e){o.style[e]=i[e]}),o.style.position="absolute",o.setAttribute("data-id","layer"+s),o.style.zIndex=String(ge.CANVAS_LAYERS-s),n.data.canvasContainer.appendChild(o),n.data.canvasNeedsRedraw[s]=!1;n.data.topCanvas=n.data.canvases[0],n.data.canvases[ge.NODE].setAttribute("data-id","layer"+ge.NODE+"-node"),n.data.canvases[ge.SELECT_BOX].setAttribute("data-id","layer"+ge.SELECT_BOX+"-selectbox"),n.data.canvases[ge.DRAG].setAttribute("data-id","layer"+ge.DRAG+"-drag"),n.data.canvases[ge.WEBGL]&&n.data.canvases[ge.WEBGL].setAttribute("data-id","layer"+ge.WEBGL+"-webgl");for(s=0;s<ge.BUFFER_COUNT;s++)n.data.bufferCanvases[s]=j.createElement("canvas"),n.data.bufferContexts[s]=n.data.bufferCanvases[s].getContext("2d"),n.data.bufferCanvases[s].style.position="absolute",n.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),n.data.bufferCanvases[s].style.zIndex=String(-s-1),n.data.bufferCanvases[s].style.visibility="hidden";n.pathsEnabled=!0;var s,o,i,a,c,u,h,m,f,p=gs(),W=e(function(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}},"getBoxCenter"),l=e(function(e){return{x:-e.w/2,y:-e.h/2}},"getCenterOffset"),$=e(function(e){var t=e[0]._private,n=t.oldBackgroundTimestamp===t.backgroundTimestamp;return!n},"backgroundTimestampHasChanged"),S=e(function(e){return e[0]._private.nodeKey},"getStyleKey"),C=e(function(e){return e[0]._private.labelStyleKey},"getLabelKey"),V=e(function(e){return e[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),B=e(function(e){return e[0]._private.targetLabelStyleKey},"getTargetLabelKey"),k=e(function(e,t,s,o,i){return n.drawElement(e,t,s,!1,!1,i)},"drawElement"),w=e(function(e,t,s,o,i){return n.drawElementText(e,t,s,o,"main",i)},"drawLabel"),I=e(function(e,t,s,o,i){return n.drawElementText(e,t,s,o,"source",i)},"drawSourceLabel"),N=e(function(e,t,s,o,i){return n.drawElementText(e,t,s,o,"target",i)},"drawTargetLabel"),d=e(function(e){return e.boundingBox(),e[0]._private.bodyBounds},"getElementBox"),r=e(function(e){return e.boundingBox(),e[0]._private.labelBounds.main||p},"getLabelBox"),_=e(function(e){return e.boundingBox(),e[0]._private.labelBounds.source||p},"getSourceLabelBox"),A=e(function(e){return e.boundingBox(),e[0]._private.labelBounds.target||p},"getTargetLabelBox"),b=e(function(e,t){return t},"isLabelVisibleAtScale"),M=e(function(e){return W(d(e))},"getElementRotationPoint"),v=e(function(e,t,n){var s=e?e+"-":"";return{x:t.x+n.pstyle(s+"text-margin-x").pfValue,y:t.y+n.pstyle(s+"text-margin-y").pfValue}},"addTextMargin"),g=e(function(e,t,n){var s=e[0]._private.rscratch;return{x:s[t],y:s[n]}},"getRsPt"),z=e(function(e){return v("",g(e,"labelX","labelY"),e)},"getLabelRotationPoint"),H=e(function(e){return v("source",g(e,"sourceLabelX","sourceLabelY"),e)},"getSourceLabelRotationPoint"),L=e(function(e){return v("target",g(e,"targetLabelX","targetLabelY"),e)},"getTargetLabelRotationPoint"),E=e(function(e){return l(d(e))},"getElementRotationOffset"),R=e(function(e){return l(_(e))},"getSourceLabelRotationOffset"),P=e(function(e){return l(A(e))},"getTargetLabelRotationOffset"),D=e(function(e){var t=r(e),n=l(r(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0);break}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0);break}}return n},"getLabelRotationOffset"),O=n.data.eleTxrCache=new m2(n,{getKey:S,doesEleInvalidateKey:$,drawElement:k,getBoundingBox:d,getRotationPoint:M,getRotationOffset:E,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),y=n.data.lblTxrCache=new m2(n,{getKey:C,drawElement:w,getBoundingBox:r,getRotationPoint:z,getRotationOffset:D,isVisible:b}),x=n.data.slbTxrCache=new m2(n,{getKey:V,drawElement:I,getBoundingBox:_,getRotationPoint:H,getRotationOffset:R,isVisible:b}),F=n.data.tlbTxrCache=new m2(n,{getKey:B,drawElement:N,getBoundingBox:A,getRotationPoint:L,getRotationOffset:P,isVisible:b}),T=n.data.lyrTxrCache=new Iz(n);n.onUpdateEleCalcs(e(function(e,t){O.invalidateElements(t),y.invalidateElements(t),x.invalidateElements(t),F.invalidateElements(t),T.invalidateElements(t);for(var s,n=0;n<t.length;n++)s=t[n]._private,s.oldBackgroundTimestamp=s.backgroundTimestamp},"invalidateTextureCaches")),a=e(function(e){for(var t=0;t<e.length;t++)T.enqueueElementRefinement(e[t].ele)},"refineInLayers"),O.onDequeue(a),y.onDequeue(a),x.onDequeue(a),F.onDequeue(a),t.webgl&&n.initWebgl(t,{getStyleKey:S,getLabelKey:C,drawElement:k,drawLabel:w,getElementBox:d,getLabelBox:r,getElementRotationPoint:M,getElementRotationOffset:E,getLabelRotationPoint:z,getLabelRotationOffset:D})}function VT(t,n,s){if(i=s,a=e(function(e){ze("Can not register `"+n+"` for `"+t+"` since `"+e+"` already exists in the prototype and can not be overridden")},"overrideErr"),t==="core"){if(A1.prototype[n])return a(n);A1.prototype[n]=s}else if(t==="collection"){if(dn.prototype[n])return a(n);dn.prototype[n]=s}else if(t==="layout"){for(var j=e(function(e){this.options=e,s.call(this,e),Oe(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},"Layout"),o=j.prototype=Object.create(s.prototype),p=[],l=0;l<p.length;l++)m=p[l],o[m]=o[m]||function(){return this};o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this}),u=s.prototype.stop,o.stop=function(){var e,t,n=this.options;if(n&&n.animate&&(e=this.animations,e))for(t=0;t<e.length;t++)e[t].stop();return u?u.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy},h=e(function(e){return e._private.cy},"getCy"),b={addEventFields:e(function(e,t){t.layout=e,t.cy=h(e),t.target=e},"addEventFields"),bubble:e(function(){return!0},"bubble"),parent:e(function(e){return h(e)},"parent")},ee(o,{createEmitter:e(function(){return this._private.emitter=new Mf(b,this),this},"createEmitter"),emitter:e(function(){return this._private.emitter},"emitter"),on:e(function(e,t){return this.emitter().on(e,t),this},"on"),one:e(function(e,t){return this.emitter().one(e,t),this},"one"),once:e(function(e,t){return this.emitter().one(e,t),this},"once"),removeListener:e(function(e,t){return this.emitter().removeListener(e,t),this},"removeListener"),removeAllListeners:e(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:e(function(e,t){return this.emitter().emit(e,t),this},"emit")}),Me.eventAliasesOn(o),i=j}else if(t==="renderer"&&n!=="null"&&n!=="base"){var i,a,r,u,h,m,b,y,_,w,g=BT("renderer","base"),d=g.prototype,O=s,f=s.prototype,v=e(function(){g.apply(this,arguments),O.apply(this,arguments)},"Renderer"),c=v.prototype;for(r in d){if(y=d[r],_=f[r]!=null,_)return a(r);c[r]=y}for(w in f)c[w]=f[w];d.clientFunctions.forEach(function(e){c[e]=c[e]||function(){it("Renderer does not implement `renderer."+e+"()` on its prototype")}}),i=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return it(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Ek({map:XN,keys:[t,n],value:i})}function BT(e,t){return ak({map:XN,keys:[e,t]})}function Oke(e,t,n,s,o){return Ek({map:ZN,keys:[e,t,n,s],value:o})}function xke(e,t,n,s){return ak({map:ZN,keys:[e,t,n,s]})}nL=n(()=>{"use strict";e(Wt,"_typeof"),e(Ra,"_classCallCheck"),e(zI,"_defineProperties"),e(Va,"_createClass"),e(hI,"_defineProperty$1"),e(jt,"_slicedToArray"),e(rI,"_toConsumableArray"),e(Fxe,"_arrayWithoutHoles"),e(Txe,"_arrayWithHoles"),e(zxe,"_iterableToArray"),e(Dxe,"_iterableToArrayLimit"),e(kg,"_unsupportedIterableToArray"),e(Sg,"_arrayLikeToArray"),e(Rxe,"_nonIterableSpread"),e(Pxe,"_nonIterableRest"),e(Cs,"_createForOfIteratorHelper"),Dt=typeof window>"u"?null:window,_T=Dt?Dt.navigator:null,Dt&&Dt.document,kke=Wt(""),vT=Wt({}),Ske=Wt(function(){}),Mke=typeof HTMLElement>"u"?"undefined":Wt(HTMLElement),b4=e(function(e){return e&&e.instanceString&&st(e.instanceString)?e.instanceString():null},"instanceStr"),Y=e(function(e){return e!=null&&Wt(e)==kke},"string"),st=e(function(e){return e!=null&&Wt(e)===Ske},"fn"),$e=e(function(e){return!ys(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),Oe=e(function(e){return e!=null&&Wt(e)===vT&&!$e(e)&&e.constructor===Object},"plainObject"),Lke=e(function(e){return e!=null&&Wt(e)===vT},"object"),k=e(function(e){return e!=null&&Wt(e)===Wt(1)&&!isNaN(e)},"number"),Pke=e(function(e){return k(e)&&Math.floor(e)===e},"integer"),Wm=e(function(e){if(Mke!=="undefined")return e!=null&&e instanceof HTMLElement},"htmlElement"),ys=e(function(e){return S4(e)||GS(e)},"elementOrCollection"),S4=e(function(e){return b4(e)==="collection"&&e._private.single},"element"),GS=e(function(e){return b4(e)==="collection"&&!e._private.single},"collection"),F9=e(function(e){return b4(e)==="core"},"core"),fS=e(function(e){return b4(e)==="stylesheet"},"stylesheet"),Uke=e(function(e){return b4(e)==="event"},"event"),La=e(function(e){return e==null||!!(e===""||e.match(/^\s+$/))},"emptyString"),qke=e(function(e){return!(typeof HTMLElement>"u")&&e instanceof HTMLElement},"domElement"),Yke=e(function(e){return Oe(e)&&k(e.x1)&&k(e.x2)&&k(e.y1)&&k(e.y2)},"boundingBox"),Gke=e(function(e){return Lke(e)&&st(e.then)},"promise"),Xke=e(function(){return _T&&_T.userAgent.match(/msie|trident|edge/i)},"ms"),N4=e(function(t,n){n||(n=e(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")},"keyFn"));var s=e(function e(){var s,o=this,i=arguments,a=n.apply(o,i),r=e.cache;return(s=r[a])||(s=r[a]=t.apply(o,i)),s},"memoizedFn");return s.cache={},s},"memoize"),lb=N4(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Am=N4(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),cA=N4(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),rA=e(function(e){return La(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),Bt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",sAe="rgb[a]?\\(("+Bt+"[%]?)\\s*,\\s*("+Bt+"[%]?)\\s*,\\s*("+Bt+"[%]?)(?:\\s*,\\s*("+Bt+"))?\\)",oAe="rgb[a]?\\((?:"+Bt+"[%]?)\\s*,\\s*(?:"+Bt+"[%]?)\\s*,\\s*(?:"+Bt+"[%]?)(?:\\s*,\\s*(?:"+Bt+"))?\\)",iAe="hsl[a]?\\(("+Bt+")\\s*,\\s*("+Bt+"[%])\\s*,\\s*("+Bt+"[%])(?:\\s*,\\s*("+Bt+"))?\\)",aAe="hsl[a]?\\((?:"+Bt+")\\s*,\\s*(?:"+Bt+"[%])\\s*,\\s*(?:"+Bt+"[%])(?:\\s*,\\s*(?:"+Bt+"))?\\)",rAe="\\#[0-9a-fA-F]{3}",cAe="\\#[0-9a-fA-F]{6}",Zk=e(function(e,t){return e<t?-1:e>t?1:0},"ascending"),dAe=e(function(e,t){return-1*Zk(e,t)},"descending"),ee=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t,n,o,i,a=arguments,s=1;s<a.length;s++)if(t=a[s],t!=null)for(o=Object.keys(t),n=0;n<o.length;n++)i=o[n],e[i]=t[i];return e},hAe=e(function(e){if((e.length===4||e.length===7)&&e[0]==="#"){var n,s,o,i=e.length===4,t=16;return i?(n=parseInt(e[1]+e[1],t),s=parseInt(e[2]+e[2],t),o=parseInt(e[3]+e[3],t)):(n=parseInt(e[1]+e[2],t),s=parseInt(e[3]+e[4],t),o=parseInt(e[5]+e[6],t)),[n,s,o]}},"hex2tuple"),mAe=e(function(t){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e(r,"hue2rgb"),a=new RegExp("^"+iAe+"$").exec(t),a){if(n=parseInt(a[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,o=parseFloat(a[2]),o<0||o>100||(o=o/100,s=parseFloat(a[3]),s<0||s>100)||(s=s/100,i=a[4],i!==void 0&&(i=parseFloat(i),i<0||i>1)))return;if(o===0)l=d=u=Math.round(s*255);else{var n,s,o,i,a,l,d,u,m,c=s<.5?s*(1+o):s+o-s*o,h=2*s-c;l=Math.round(255*r(h,c,n+1/3)),d=Math.round(255*r(h,c,n)),u=Math.round(255*r(h,c,n-1/3))}m=[l,d,u,i]}return m},"hsl2tuple"),fAe=e(function(e){if(a=new RegExp("^"+sAe+"$").exec(e),a){i=[];for(var t,s,i,a,r,c,n=[],o=1;o<=3;o++){if(t=a[o],t[t.length-1]==="%"&&(n[o]=!0),t=parseFloat(t),n[o]&&(t=t/100*255),t<0||t>255)return;i.push(Math.floor(t))}if(r=n[1]||n[2]||n[3],c=n[1]&&n[2]&&n[3],r&&!c)return;if(s=a[4],s!==void 0){if(s=parseFloat(s),s<0||s>1)return;i.push(s)}}return i},"rgb2tuple"),pAe=e(function(e){return vAe[e.toLowerCase()]},"colorname2tuple"),Nk=e(function(e){return($e(e)?e:null)||pAe(e)||hAe(e)||fAe(e)||mAe(e)},"color2tuple"),vAe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ek=e(function(e){for(var t,n=e.map,o=e.keys,i=o.length,s=0;s<i;s++){if(t=o[s],Oe(t))throw Error("Tried to set map with object key");s<o.length-1?(n[t]==null&&(n[t]={}),n=n[t]):n[t]=e.value}},"setMap"),ak=e(function(e){for(var s,t=e.map,o=e.keys,i=o.length,n=0;n<i;n++){if(s=o[n],Oe(s))throw Error("Tried to get map with object key");if(t=t[s],t==null)return t}return t},"getMap"),e(Ixe,"isObject"),oc=Ixe,i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e(Bxe,"createCommonjsModule"),wAe=typeof i0=="object"&&i0&&i0.Object===Object&&i0,OAe=wAe,xAe=typeof self=="object"&&self&&self.Object===Object&&self,CAe=OAe||xAe||Function("return this")(),am=CAe,kAe=e(function(){return am.Date.now()},"now"),Zb=kAe,SAe=/\s/,e(Vxe,"trimmedEndIndex"),MAe=Vxe,FAe=/^\s+/,e($xe,"baseTrim"),TAe=$xe,zAe=am.Symbol,Jl=zAe,KE=Object.prototype,LAe=KE.hasOwnProperty,RAe=KE.toString,d0=Jl?Jl.toStringTag:void 0,e(Wxe,"getRawTag"),HAe=Wxe,IAe=Object.prototype,BAe=IAe.toString,e(Uxe,"objectToString"),VAe=Uxe,$Ae="[object Null]",WAe="[object Undefined]",NE=Jl?Jl.toStringTag:void 0,e(Kxe,"baseGetTag"),SE=Kxe,e(qxe,"isObjectLike"),qAe=qxe,YAe="[object Symbol]",e(Yxe,"isSymbol"),f0=Yxe,jE=NaN,QAe=/^[-+]0x[0-9a-f]+$/i,ZAe=/^0b[01]+$/i,JAe=/^0o[0-7]+$/i,eSe=parseInt,e(Gxe,"toNumber"),vE=Gxe,nSe="Expected a function",sSe=Math.max,oSe=Math.min,e(Xxe,"debounce"),b0=Xxe,mj=Dt?Dt.performance:null,qC=mj&&mj.now?function(){return mj.now()}:function(){return Date.now()},cSe=function(){if(Dt){if(Dt.requestAnimationFrame)return function(e){Dt.requestAnimationFrame(e)};if(Dt.mozRequestAnimationFrame)return function(e){Dt.mozRequestAnimationFrame(e)};if(Dt.webkitRequestAnimationFrame)return function(e){Dt.webkitRequestAnimationFrame(e)};if(Dt.msRequestAnimationFrame)return function(e){Dt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(qC())},1e3/60)}}(),Lh=e(function(e){return cSe(e)},"requestAnimationFrame"),ra=qC,ru=9261,Xx=65599,F0=5381,Ix=e(function(e){for(var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ru,t=s;n=e.next(),!n.done;)t=t*Xx+n.value|0;return t},"hashIterableInts"),z0=e(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ru;return t*Xx+e|0},"hashInt"),L0=e(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F0;return(t<<5)+t+e|0},"hashIntAlt"),vSe=e(function(e,t){return e*2097152+t},"combineHashes"),Pa=e(function(e){return e[0]*2097152+e[1]},"combineHashesArray"),lh=e(function(e,t){return[z0(e[0],t[0]),L0(e[1],t[1])]},"hashArrays"),ySe=e(function(t,n){var s={value:0,done:!1},o=0,i=t.length,a={next:e(function(){return o<i?s.value=t[o++]:s.done=!0,s},"next")};return Ix(a,n)},"hashIntsArray"),Fa=e(function(t,n){var s={value:0,done:!1},o=0,i=t.length,a={next:e(function(){return o<i?s.value=t.charCodeAt(o++):s.done=!0,s},"next")};return Ix(a,n)},"hashString"),Cx=e(function(){return OSe(arguments)},"hashStrings"),OSe=e(function(e){for(var t,s,n=0;n<e.length;n++)s=e[n],n===0?t=Fa(s):t=Fa(s,t);return t},"hashStringsArray"),Qy=!0,CSe=console.warn!=null,ESe=console.trace!=null,Yj=Number.MAX_SAFE_INTEGER||9007199254740991,$w=e(function(){return!0},"trueify"),V3=e(function(){return!1},"falsify"),S_=e(function(){return 0},"zeroify"),Ny=e(function(){},"noop"),it=e(function(e){throw new Error(e)},"error"),p_=e(function(e){if(e!==void 0)Qy=!!e;else return Qy},"warnings"),ze=e(function(e){p_()&&(CSe?console.warn(e):(console.log(e),ESe&&console.trace()))},"warn"),NSe=e(function(e){return ee({},e)},"clone"),gi=e(function(e){return e==null?e:$e(e)?e.slice():Oe(e)?NSe(e):e},"copy"),RSe=e(function(e){return e.slice()},"copyArray"),i_=e(function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},"uuid"),HSe={},t_=e(function(){return HSe},"staticEmptyObject"),Kt=e(function(e){var t=Object.keys(e);return function(n){for(var s,i,a={},o=0;o<t.length;o++)s=t[o],i=n?.[s],a[s]=i===void 0?e[s]:i;return a}},"defaults"),Ya=e(function(e,t,n){for(var s=e.length-1;s>=0&&!(e[s]===t&&(e.splice(s,1),n));s--);},"removeFromArray"),Ky=e(function(e){e.splice(0,e.length)},"clearArray"),WSe=e(function(e,t){for(var s,n=0;n<t.length;n++)s=t[n],e.push(s)},"push"),ho=e(function(e,t,n){return n&&(t=cA(n,t)),e[t]},"getPrefixedProperty"),Xa=e(function(e,t,n,s){n&&(t=cA(n,t)),e[t]=s},"setPrefixedProperty"),qSe=function(){function t(){Ra(this,t),this._obj={}}return e(t,"ObjectMap"),Va(t,[{key:"set",value:e(function(e,t){return this._obj[e]=t,this},"set")},{key:"delete",value:e(function(e){return this._obj[e]=void 0,this},"_delete")},{key:"clear",value:e(function(){this._obj={}},"clear")},{key:"has",value:e(function(e){return this._obj[e]!==void 0},"has")},{key:"get",value:e(function(e){return this._obj[e]},"get")}]),t}(),yi=typeof Map<"u"?Map:qSe,GSe="undefined",XSe=function(){function t(e){if(Ra(this,t),this._obj=Object.create(null),this.size=0,e!=null){e.instanceString!=null&&e.instanceString()===this.instanceString()?n=e.toArray():n=e;for(var n,s=0;s<n.length;s++)this.add(n[s])}}return e(t,"ObjectSet"),Va(t,[{key:"instanceString",value:e(function(){return"set"},"instanceString")},{key:"add",value:e(function(e){var t=this._obj;t[e]!==1&&(t[e]=1,this.size++)},"add")},{key:"delete",value:e(function(e){var t=this._obj;t[e]===1&&(t[e]=0,this.size--)},"_delete")},{key:"clear",value:e(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:e(function(e){return this._obj[e]===1},"has")},{key:"toArray",value:e(function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})},"toArray")},{key:"forEach",value:e(function(e,t){return this.toArray().forEach(e,t)},"forEach")}]),t}(),Id=(typeof Set>"u"?"undefined":Wt(Set))!==GSe?Set:XSe,i3=e(function(e,t){if(r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],e===void 0||t===void 0||!F9(e)){it("An element must have a core reference and parameters set");return}if(n=t.group,n==null&&(t.data&&t.data.source!=null&&t.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){it("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}if(this.length=1,this[0]=this,s=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0||!!t.grabbable,pannable:t.pannable===void 0?n==="edges":!!t.pannable,active:!1,classes:new Id,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}},s.position.x==null&&(s.position.x=0),s.position.y==null&&(s.position.y=0),t.renderedPosition){var n,s,o,i,a,r,c,h,l=t.renderedPosition,d=e.pan(),u=e.zoom();s.position={x:(l.x-d.x)/u,y:(l.y-d.y)/u}}o=[],$e(t.classes)?o=t.classes:Y(t.classes)&&(o=t.classes.split(/\s+/));for(i=0,h=o.length;i<h;i++)a=o[i],!a||a===""||s.classes.add(a);this.createEmitter(),c=t.style||t.css,c&&(ze("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(c)),(r===void 0||r)&&this.restore()},"Element"),LT=e(function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},e(function(n,s,o){Oe(n)&&!ys(n)&&(c=n,n=c.roots||c.root,s=c.visit,o=c.directed),o=arguments.length===2&&!st(s)?s:o,s=st(s)?s:function(){};for(var i,c,d,u,m,p,g,j,_,w,v=this._private.cy,y=n=Y(n)?this.filter(n):n,a=[],r=[],f={},h={},l={},x=0,O=this.byGroup(),E=O.nodes,C=O.edges,b=0;b<y.length;b++)i=y[b],m=i.id(),i.isNode()&&(a.unshift(i),t.bfs&&(l[m]=!0,r.push(i)),h[m]=0);for(_=e(function(){if(e=t.bfs?a.shift():a.pop(),n=e.id(),t.dfs){if(l[n])return"continue";l[n]=!0,r.push(e)}var e,n,d,p,y=h[n],c=f[n],g=c!=null?c.source():null,b=c!=null?c.target():null,j=c==null?void 0:e.same(g)?b[0]:g[0],m=void 0;if(m=s(e,c,j,x++,y),m===!0)return w=e,"break";if(m===!1)return"break";for(p=e.connectedEdges().filter(function(t){return(!o||t.source().same(e))&&C.has(t)}),d=0;d<p.length;d++){var v=p[d],i=v.connectedNodes().filter(function(t){return!t.same(e)&&E.has(t)}),u=i.id();i.length!==0&&!l[u]&&(i=i[0],a.push(i),t.bfs&&(l[u]=!0,r.push(i)),f[u]=v,h[u]=h[n]+1)}},"_loop");a.length!==0;)if(j=_(),j!=="continue"&&j==="break")break;for(u=v.collection(),d=0;d<r.length;d++)g=r[d],p=f[g.id()],p!=null&&u.push(p),u.push(g);return{path:v.collection(u),found:v.collection(w)}},"searchFn")},"defineSearch"),l2={breadthFirstSearch:LT({bfs:!0}),depthFirstSearch:LT({dfs:!0})},l2.bfs=l2.breadthFirstSearch,l2.dfs=l2.depthFirstSearch,tMe=Bxe(function(t){(function(){var u=Math.floor,f=Math.min,n=e(function(e,t){return e<t?-1:e>t?1:0},"defaultCmp"),m=e(function(e,t,s,o,i){var a;if(s==null&&(s=0),i==null&&(i=n),s<0)throw new Error("lo must be non-negative");for(o==null&&(o=e.length);s<o;)a=u((s+o)/2),i(t,e[a])<0?o=a:s=a+1;return[].splice.apply(e,[s,s-s].concat(t)),t},"insort"),c=e(function(e,t,s){return s==null&&(s=n),e.push(t),r(e,0,e.length-1,s)},"heappush"),a=e(function(e,t){var o,i;return t==null&&(t=n),o=e.pop(),e.length?(i=e[0],e[0]=o,s(e,0,t)):i=o,i},"heappop"),l=e(function(e,t,o){var i;return o==null&&(o=n),i=e[0],e[0]=t,s(e,0,o),i},"heapreplace"),i=e(function(e,t,o){var i;return o==null&&(o=n),e.length&&o(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],s(e,0,o)),t},"heappushpop"),o=e(function(e,t){var o,i,a,r,c,l;for(t==null&&(t=n),i=function(){r=[];for(var t=0,n=u(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)r.push(t);return r}.apply(this).reverse(),a=[],o=0,l=i.length;o<l;o++)c=i[o],a.push(s(e,c,t));return a},"heapify"),d=e(function(e,t,o){var i;if(o==null&&(o=n),i=e.indexOf(t),i!==-1)return r(e,0,i,o),s(e,i,o)},"updateItem"),p=e(function(e,t,s){var a,r,c,l,d;if(s==null&&(s=n),a=e.slice(0,t),!a.length)return a;for(o(a,s),c=e.slice(t),r=0,d=c.length;r<d;r++)l=c[r],i(a,l,s);return a.sort(s).reverse()},"nlargest"),g=e(function(e,t,s){var i,r,c,l,d,u,h,p,g;if(s==null&&(s=n),t*10<=e.length){if(i=e.slice(0,t).sort(s),!i.length)return i;for(u=i[i.length-1],h=e.slice(t),l=0,g=h.length;l<g;l++)d=h[l],s(d,u)<0&&(m(i,d,0,null,s),i.pop(),u=i[i.length-1]);return i}for(o(e,s),p=[],r=0,c=f(t,e.length);0<=c?r<c:r>c;0<=c?++r:--r)p.push(a(e,s));return p},"nsmallest"),r=e(function(e,t,s,o){var i,a,r;for(o==null&&(o=n),i=e[s];s>t;){if(r=s-1>>1,a=e[r],o(i,a)<0){e[s]=a,s=r;continue}break}return e[s]=i},"_siftdown"),s=e(function(e,t,s){var o,i,a,c,l;for(s==null&&(s=n),a=e.length,l=t,c=e[t],o=2*t+1;o<a;)i=o+1,i<a&&!(s(e[o],e[i])<0)&&(o=i),e[t]=e[o],t=o,o=2*t+1;return e[t]=c,r(e,l,t,s)},"_siftup"),h=function(){t.push=c,t.pop=a,t.replace=l,t.pushpop=i,t.heapify=o,t.updateItem=d,t.nlargest=p,t.nsmallest=g;function t(e){this.cmp=e??n,this.nodes=[]}return e(t,"Heap"),t.prototype.push=function(e){return c(this.nodes,e,this.cmp)},t.prototype.pop=function(){return a(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(e){return this.nodes.indexOf(e)!==-1},t.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},t.prototype.pushpop=function(e){return i(this.nodes,e,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(e){return d(this.nodes,e,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return this.nodes.length===0},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}();(function(e,n){return t.exports=n()})(this,function(){return h})}).call(i0)}),d2=tMe,sMe=Kt({root:null,weight:e(function(){return 1},"weight"),directed:!1}),oMe={dijkstra:e(function(t){Oe(t)||(a=arguments,t={root:a[0],weight:a[1],directed:a[2]});var i,a,r,p,v,h=sMe(t),m=h.root,C=h.weight,E=h.directed,S=this,k=C,O=Y(m)?this.filter(m)[0]:m[0],f={},g={},_={},w=this.byGroup(),n=w.nodes,b=w.edges;b.unmergeBy(function(e){return e.isLoop()});for(var l=e(function(e){return f[e.id()]},"getDist"),M=e(function(e,t){f[e.id()]=t,c.updateItem(e)},"setDist"),c=new d2(function(e,t){return l(e)-l(t)}),u=0;u<n.length;u++)r=n[u],f[r.id()]=r.same(O)?0:1/0,c.push(r);for(v=e(function(e,t){for(var s,i,a,r=(E?e.edgesTo(t):e.edgesWith(t)).intersect(b),n=1/0,o=0;o<r.length;o++)i=r[o],a=k(i),(a<n||!s)&&(n=a,s=i);return{edge:s,dist:n}},"distBetween");c.size()>0;){var s=c.pop(),d=l(s),x=s.id();if(_[x]=d,d!==1/0)for(p=s.neighborhood().intersect(n),i=0;i<p.length;i++){var o=p[i],A=o.id(),y=v(s,o),j=d+y.dist;j<l(o)&&(M(o,j),g[A]={node:s,edge:y.edge})}}return{distanceTo:e(function(e){var t=Y(e)?n.filter(e)[0]:e[0];return _[t.id()]},"distanceTo"),pathTo:e(function(e){var s,o=Y(e)?n.filter(e)[0]:e[0],t=[],i=o,a=i.id();if(o.length>0)for(t.unshift(o);g[a];)s=g[a],t.unshift(s.edge),t.unshift(s.node),i=s.node,a=i.id();return S.spawn(t)},"pathTo")}},"dijkstra")},iMe={kruskal:e(function(t){t=t||function(){return 1};for(var s,i,d=this.byGroup(),a=d.nodes,f=d.edges,h=a.length,n=new Array(h),m=a,u=e(function(e){for(var s,t=0;t<n.length;t++)if(s=n[t],s.has(e))return t},"findSetIndex"),o=0;o<h;o++)n[o]=this.spawn(a[o]);for(i=f.sort(function(e,n){return t(e)-t(n)}),s=0;s<i.length;s++){var c=i[s],p=c.source()[0],g=c.target()[0],l=u(p),r=u(g),v=n[l],b=n[r];l!==r&&(m.merge(c),v.merge(b),n.splice(r,1))}return m},"kruskal")},aMe=Kt({root:null,goal:null,weight:e(function(){return 1},"weight"),heuristic:e(function(){return 0},"heuristic"),directed:!1}),rMe={aStar:e(function(t){var s,o,i,r,h,f,_,M=this.cy(),l=aMe(t),d=l.root,g=l.goal,O=l.heuristic,N=l.directed,D=l.weight,d=M.collection(d)[0],g=M.collection(g)[0],y=d.id(),E=g.id(),a={},c={},A={},b=new d2(function(e,t){return c[e.id()]-c[t.id()]}),C=new Id,j={},v={},k=e(function(e,t){b.push(e),C.add(t)},"addToOpenSet"),T=e(function(){r=b.pop(),s=r.id(),C.delete(s)},"popFromOpenSet"),F=e(function(e){return C.has(e)},"isInOpenSet");k(d,y),a[y]=0,c[y]=O(d);for(f=0;b.size()>0;){if(T(),f++,s===E){for(var x=[],m=g,u=E,w=v[u];x.unshift(m),w!=null&&x.unshift(w),m=j[u],m!=null;)u=m.id(),w=v[u];return{found:!0,distance:a[s],path:this.spawn(x),steps:f}}A[s]=!0;for(_=r._private.edges,h=0;h<_.length;h++)if(o=_[h],this.hasElementWithId(o.id())&&!(N&&o.data("source")!==s)){var S=o.source(),z=o.target(),p=S.id()!==s?S:z,n=p.id();if(this.hasElementWithId(n)&&!A[n]){if(i=a[s]+D(o),!F(n)){a[n]=i,c[n]=i+O(p),k(p,n),j[n]=r,v[n]=o;continue}i<a[n]&&(a[n]=i,c[n]=i+O(p),j[n]=r,v[n]=o)}}}return{found:!1,distance:void 0,path:void 0,steps:f}},"aStar")},cMe=Kt({weight:e(function(){return 1},"weight"),directed:!1}),lMe={floydWarshall:e(function(t){for(var a,r,c,l,f,p,b,_,k,w=this.cy(),M=cMe(t),N=M.weight,A=M.directed,D=N,T=this.byGroup(),O=T.nodes,S=T.edges,n=O.length,u=n*n,x=e(function(e){return O.indexOf(e)},"indexOf"),z=e(function(e){return O[e]},"atIndex"),s=new Array(u),i=0;i<u;i++)b=i%n,k=(i-b)/n,k===b?s[i]=0:s[i]=1/0;for(var o=new Array(u),j=new Array(u),y=0;y<S.length;y++){var d=S[y],F=d.source()[0],E=d.target()[0];if(F!==E){var v=x(F),C=x(E),h=v*n+C,g=D(d);s[h]>g&&(s[h]=g,o[h]=C,j[h]=d),!A&&(l=C*n+v,!A&&s[l]>g&&(s[l]=g,o[l]=v,j[l]=d))}}for(c=0;c<n;c++)for(r=0;r<n;r++)for(p=r*n+c,a=0;a<n;a++)f=r*n+a,_=c*n+a,s[p]+s[_]<s[f]&&(s[f]=s[p]+s[_],o[f]=o[p]);var L=e(function(e){return(Y(e)?w.filter(e):e)[0]},"getArgEle"),m=e(function(e){return x(L(e))},"indexOfArgEle"),R={distance:e(function(e,t){var o=m(e),i=m(t);return s[o*n+i]},"distance"),path:e(function(e,t){var i,r,l,s=m(e),a=m(t),c=z(s);if(s===a)return c.collection();if(o[s*n+a]==null)return w.collection();i=w.collection(),r=s;for(i.merge(c);s!==a;)r=s,s=o[s*n+a],l=j[r*n+s],i.merge(l),i.merge(z(s));return i},"path")};return R},"floydWarshall")},dMe=Kt({weight:e(function(){return 1},"weight"),directed:!1,root:null}),uMe={bellmanFord:e(function(t){var n,o,a,r,h,m,p,b,O,x,E,W,Z=this,S=dMe(t),J=S.weight,_=S.directed,f=S.root,N=J,L=this,G=this.cy(),q=this.byGroup(),u=q.edges,F=q.nodes,U=F.length,$=new yi,j=!1,V=[],f=G.collection(f)[0];u.unmergeBy(function(e){return e.isLoop()});for(var B=u.length,s=e(function(e){var t=$.get(e.id());return t||(t={},$.set(e.id(),t)),t},"getInfo"),I=e(function(e){return(Y(e)?G.$(e):e)[0]},"getNodeFromTo"),X=e(function(e){return s(I(e)).dist},"distanceTo"),Q=e(function(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,r=I(e),n=[],t=r;;){if(t==null)return Z.spawn();var o=s(t),i=o.edge,c=o.pred;if(n.unshift(t[0]),t.same(a)&&n.length>0)break;i!=null&&n.unshift(i),t=c}return L.spawn(n)},"pathTo"),w=0;w<U;w++)O=F[w],a=s(O),O.same(f)?a.dist=0:a.dist=1/0,a.pred=null,a.edge=null;for(var g=!1,M=e(function(e,t,n,s,o,i){var a=s.dist+i;a<o.dist&&!n.same(s.edge)&&(o.dist=a,o.pred=e,o.edge=n,g=!0)},"checkForEdgeReplacement"),K=1;K<U;K++){for(g=!1,p=0;p<B;p++){var i=u[p],C=i.source(),k=i.target(),T=N(i),z=s(C),D=s(k);M(C,k,i,z,D,T),_||M(k,C,i,D,z,T)}if(!g)break}if(g)for(E=[],b=0;b<B;b++){var y=u[b],P=y.source(),H=y.target(),d=N(y),v=s(P).dist,l=s(H).dist;if(v+d<l||!_&&l+d<v)if(j||(ze("Graph contains a negative weight cycle for Bellman-Ford"),j=!0),t.findNegativeWeightCycles!==!1){r=[],v+d<l&&r.push(P),!_&&l+d<v&&r.push(H);for(W=r.length,m=0;m<W;m++){h=r[m],n=[h],n.push(s(h).edge);for(o=s(h).pred;n.indexOf(o)===-1;)n.push(o),n.push(s(o).edge),o=s(o).pred;for(var n=n.slice(n.indexOf(o)),R=n[0].id(),A=0,c=2;c<n.length;c+=2)n[c].id()<R&&(R=n[c].id(),A=c);n=n.slice(A).concat(n.slice(0,A)),n.push(n[0]),x=n.map(function(e){return e.id()}).join(","),E.indexOf(x)===-1&&(V.push(L.spawn(n)),E.push(x))}}else break}return{distanceTo:X,pathTo:Q,hasNegativeWeightCycle:j,negativeWeightCycles:V}},"bellmanFord")},hMe=Math.sqrt(2),mMe=e(function(e,t,n){n.length===0&&it("Karger-Stein must be run on a connected (sub)graph");for(var o,i,a,m=n[e],p=m[1],f=m[2],r=t[p],c=t[f],s=n,l=s.length-1;l>=0;l--){var d=s[l],u=d[1],h=d[2];(t[u]===r&&t[h]===c||t[u]===c&&t[h]===r)&&s.splice(l,1)}for(o=0;o<s.length;o++)a=s[o],a[1]===c?(s[o]=a.slice(),s[o][1]=r):a[2]===c&&(s[o]=a.slice(),s[o][2]=r);for(i=0;i<t.length;i++)t[i]===c&&(t[i]=r);return s},"collapse"),qy=e(function(e,t,n,s){for(;n>s;){var o=Math.floor(Math.random()*t.length);t=mMe(o,e,t),n--}return t},"contractUntil"),pMe={kargerStein:e(function(){var k=this,w=this.byGroup(),d=w.nodes,u=w.edges;u.unmergeBy(function(e){return e.isLoop()});var t=d.length,S=u.length,M=Math.ceil(Math.pow(Math.log(t)/Math.LN2,2)),j=Math.floor(t/hMe);if(t<2){it("At least 2 nodes are required for Karger-Stein algorithm");return}for(p=[],a=0;a<S;a++)f=u[a],p.push([a,d.indexOf(f.source()),d.indexOf(f.target())]);for(var n,s,o,a,f,p,v,y,x,E,c=1/0,b=[],r=new Array(t),i=new Array(t),g=new Array(t),h=e(function(e,n){for(var s=0;s<t;s++)n[s]=e[s]},"copyNodesMap"),C=0;C<=M;C++){for(o=0;o<t;o++)i[o]=o;y=qy(i,p.slice(),t,j),x=y.slice(),h(i,g),s=qy(i,y,j,2),n=qy(g,x,j,2),s.length<=n.length&&s.length<c?(c=s.length,b=s,h(i,r)):n.length<=s.length&&n.length<c&&(c=n.length,b=n,h(g,r))}for(var O=this.spawn(b.map(function(e){return u[e[0]]})),m=this.spawn(),_=this.spawn(),F=r[0],l=0;l<r.length;l++)E=r[l],v=d[l],E===F?m.merge(v):_.merge(v);var A=e(function(e){var t=k.spawn();return e.forEach(function(e){t.merge(e),e.connectedEdges().forEach(function(e){k.contains(e)&&!O.contains(e)&&t.merge(e)})}),t},"constructComponent"),T=[A(m),A(_)],z={cut:O,components:T,partition1:m,partition2:_};return z},"kargerStein")},gMe=e(function(e){return{x:e.x,y:e.y}},"copyPosition"),e3=e(function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},"modelToRenderedPosition"),e_=e(function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},"renderedToModelPosition"),Pd=e(function(e){return{x:e[0],y:e[1]}},"array2point"),yMe=e(function(e){for(var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,t=1/0,n=o;n<i;n++)s=e[n],isFinite(s)&&(t=Math.min(s,t));return t},"min"),_Me=e(function(e){for(var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,t=-1/0,n=o;n<i;n++)s=e[n],isFinite(s)&&(t=Math.max(s,t));return t},"max"),wMe=e(function(e){for(var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,s=0,o=0,t=i;t<a;t++)n=e[t],isFinite(n)&&(s+=n,o++);return s/o},"mean"),OMe=e(function(e){var t,n,o,a,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];c?e=e.slice(i,s):(s<e.length&&e.splice(s,e.length-s),i>0&&e.splice(0,i));for(n=0,t=e.length-1;t>=0;t--)r=e[t],d?isFinite(r)||(e[t]=-1/0,n++):e.splice(t,1);return l&&e.sort(function(e,t){return e-t}),a=e.length,o=Math.floor(a/2),a%2!==0?e[o+1+n]:(e[o-1+n]+e[o+n])/2},"median"),xMe=e(function(e){return Math.PI*e/180},"deg2rad"),Q2=e(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),Uy=Math.log2||function(e){return Math.log(e)/Math.log(2)},n_=e(function(e){return e>0?1:e<0?-1:0},"signum"),gc=e(function(e,t){return Math.sqrt(fc(e,t))},"dist"),fc=e(function(e,t){var n=t.x-e.x,s=t.y-e.y;return n*n+s*s},"sqdist"),MMe=e(function(e){for(var t,s=e.length,o=0,n=0;n<s;n++)o+=e[n];for(t=0;t<s;t++)e[t]=e[t]/o;return e},"inPlaceSumNormalize"),Jt=e(function(e,t,n,s){return(1-s)*(1-s)*e+2*(1-s)*s*t+s*s*n},"qbezierAt"),zd=e(function(e,t,n,s){return{x:Jt(e.x,t.x,n.x,s),y:Jt(e.y,t.y,n.y,s)}},"qbezierPtAt"),zMe=e(function(e,t,n,s){var i={x:t.x-e.x,y:t.y-e.y},o=gc(e,t),a={x:i.x/o,y:i.y/o};return n=n??0,s=s??n*o,{x:e.x+a.x*s,y:e.y+a.y*s}},"lineAt"),v2=e(function(e,t,n){return Math.max(e,Math.min(n,t))},"bound"),gs=e(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),LMe=e(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),RMe=e(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),PMe=e(function(e,t,n){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},"shiftBoundingBox"),s_=e(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),IMe=e(function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),B2=e(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),I2=e(function(e){var n,s,o,i,a,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0];return t.length===1?s=o=i=a=t[0]:t.length===2?(s=i=t[0],a=o=t[1]):t.length===4&&(n=jt(t,4),s=n[0],o=n[1],i=n[2],a=n[3]),e.x1-=a,e.x2+=o,e.y1-=s,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),o_=e(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),Wy=e(function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},"boundingBoxesIntersect"),Ad=e(function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},"inBoundingBox"),KMe=e(function(e,t){return Ad(e,t.x,t.y)},"pointInBoundingBox"),r_=e(function(e,t){return Ad(e,t.x1,t.y1)&&Ad(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),c_=e(function(e,t,n,s,o,i,a){var r,u,h,m,f,p,g,v,b,j,C=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=C==="auto"?tc(o,i):C,l=o/2,d=i/2,c=Math.min(c,l,d),w=c!==l,x=c!==d;if(w){var L=n-l+c-a,y=s-d-a,D=n+l-c+a,z=y;if(u=Nr(e,t,n,s,L,y,D,z,!1),u.length>0)return u}if(x){var _=n+l+a,F=s-d+c-a,M=_,S=s+d-c+a;if(u=Nr(e,t,n,s,_,F,M,S,!1),u.length>0)return u}if(w){var P=n-l+c-a,O=s+d+a,R=n+l-c+a,N=O;if(u=Nr(e,t,n,s,P,O,R,N,!1),u.length>0)return u}if(x){var E=n-l-a,T=s-d+c-a,A=E,k=s+d-c+a;if(u=Nr(e,t,n,s,E,T,A,k,!1),u.length>0)return u}return j=n-l+c,b=s-d+c,r=O2(e,t,n,s,j,b,c+a),r.length>0&&r[0]<=j&&r[1]<=b?[r[0],r[1]]:(v=n+l-c,g=s-d+c,r=O2(e,t,n,s,v,g,c+a),r.length>0&&r[0]>=v&&r[1]<=g?[r[0],r[1]]:(p=n+l-c,f=s+d-c,r=O2(e,t,n,s,p,f,c+a),r.length>0&&r[0]>=p&&r[1]>=f?[r[0],r[1]]:(h=n-l+c,m=s+d-c,r=O2(e,t,n,s,h,m,c+a),r.length>0&&r[0]<=h&&r[1]>=m?[r[0],r[1]]:[])))},"roundRectangleIntersectLine"),GMe=e(function(e,t,n,s,o,i,a){var r=a,c=Math.min(n,o),l=Math.max(n,o),d=Math.min(s,i),u=Math.max(s,i);return c-r<=e&&e<=l+r&&d-r<=t&&t<=u+r},"inLineVicinity"),XMe=e(function(e,t,n,s,o,i,a,r,c){var l={x1:Math.min(n,a,o)-c,x2:Math.max(n,a,o)+c,y1:Math.min(s,r,i)-c,y2:Math.max(s,r,i)+c};return!(e<l.x1||e>l.x2||t<l.y1||t>l.y2)},"inBezierVicinity"),QMe=e(function(e,t,n,s){if(n-=s,o=t*t-4*e*n,o<0)return[];var o,i=Math.sqrt(o),a=2*e,r=(-t+i)/a,c=(-t-i)/a;return[r,c]},"solveQuadratic"),ZMe=e(function(e,t,n,s,o){var i,a,r,c,l,d,u,h,m=1e-5;if(e===0&&(e=m),t/=e,n/=e,s/=e,a=(3*n-t*t)/9,r=-(27*s)+t*(9*n-2*(t*t)),r/=54,h=a*a*a+r*r,o[1]=0,i=t/3,h>0){c=r+Math.sqrt(h),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),l=r-Math.sqrt(h),l=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-i+c+l,i+=(c+l)/2,o[4]=o[2]=-i,i=Math.sqrt(3)*(-l+c)/2,o[3]=i,o[5]=-i;return}if(o[5]=o[3]=0,h===0){d=r<0?-Math.pow(-r,1/3):Math.pow(r,1/3),o[0]=-i+2*d,o[4]=o[2]=-(d+i);return}a=-a,u=a*a*a,u=Math.acos(r/Math.sqrt(u)),d=2*Math.sqrt(a),o[0]=-i+d*Math.cos(u/3),o[2]=-i+d*Math.cos((u+2*Math.PI)/3),o[4]=-i+d*Math.cos((u+4*Math.PI)/3)},"solveCubic"),JMe=e(function(e,t,n,s,o,i,a,r){var l,d,m,f,p,b=1*n*n-4*n*o+2*n*a+4*o*o-4*o*a+a*a+s*s-4*s*i+2*s*r+4*i*i-4*i*r+r*r,y=1*9*n*o-3*n*n-3*n*a-6*o*o+3*o*a+9*s*i-3*s*s-3*s*r-6*i*i+3*i*r,j=1*3*n*n-6*n*o+n*a-n*e+2*o*o+2*o*e-a*e+3*s*s-6*s*i+s*r-s*t+2*i*i+2*i*t-r*t,v=1*n*o-n*n+n*e-o*e+s*i-s*s+s*t-i*t,h=[];ZMe(b,y,j,v,h);for(var g=1e-7,c=[],u=0;u<6;u+=2)Math.abs(h[u+1])<g&&h[u]>=0&&h[u]<=1&&c.push(h[u]);c.push(1),c.push(0);for(d=-1,l=0;l<c.length;l++)f=Math.pow(1-c[l],2)*n+2*(1-c[l])*c[l]*o+c[l]*c[l]*a,p=Math.pow(1-c[l],2)*s+2*(1-c[l])*c[l]*i+c[l]*c[l]*r,m=Math.pow(f-e,2)+Math.pow(p-t,2),d>=0?m<d&&(d=m):d=m;return d},"sqdistToQuadraticBezier"),eFe=e(function(e,t,n,s,o,i){var a=[e-n,t-s],r=[o-n,i-s],l=r[0]*r[0]+r[1]*r[1],d=a[0]*a[0]+a[1]*a[1],c=a[0]*r[0]+a[1]*r[1],u=c*c/l;return c<0?d:u>l?(e-o)*(e-o)+(t-i)*(t-i):d-u},"sqdistToFiniteLine"),os=e(function(e,t,n){for(var o,i,a,r,c,l=0,s=0;s<n.length/2;s++)if(o=n[s*2],a=n[s*2+1],s+1<n.length/2?(i=n[(s+1)*2],r=n[(s+1)*2+1]):(i=n[(s+1-n.length/2)*2],r=n[(s+1-n.length/2)*2+1]),o!=e||i!=e)if(o>=e&&e>=i||o<=e&&e<=i)c=(e-o)/(i-o)*(r-a)+a,c>t&&l++;else continue;return l%2!==0},"pointInsidePolygonPoints"),ta=e(function(e,t,n,s,o,i,a,r,c){d=new Array(n.length),r[0]!=null?(u=Math.atan(r[1]/r[0]),r[0]<0?u=u+Math.PI/2:u=-u-Math.PI/2):u=r;for(var d,u,h,p,m=Math.cos(-u),f=Math.sin(-u),l=0;l<d.length/2;l++)d[l*2]=i/2*(n[l*2]*m-n[l*2+1]*f),d[l*2+1]=a/2*(n[l*2+1]*m+n[l*2]*f),d[l*2]+=s,d[l*2+1]+=o;return c>0?(p=F2(d,-c),h=T2(p)):h=d,os(e,t,h)},"pointInsidePolygon"),sFe=e(function(e,t,n,s,o,i,a,r){for(var c,u,d=new Array(n.length*2),l=0;l<r.length;l++)if(c=r[l],d[l*4+0]=c.startX,d[l*4+1]=c.startY,d[l*4+2]=c.stopX,d[l*4+3]=c.stopY,u=Math.pow(c.cx-e,2)+Math.pow(c.cy-t,2),u<=Math.pow(c.radius,2))return!0;return os(e,t,d)},"pointInsideRoundPolygon"),T2=e(function(e){for(var s,o,i,a,r,c,l,d,u,n=new Array(e.length/2),t=0;t<e.length/4;t++)c=e[t*4],l=e[t*4+1],d=e[t*4+2],u=e[t*4+3],t<e.length/4-1?(s=e[(t+1)*4],o=e[(t+1)*4+1],i=e[(t+1)*4+2],a=e[(t+1)*4+3]):(s=e[0],o=e[1],i=e[2],a=e[3]),r=Nr(c,l,d,u,s,o,i,a,!0),n[t*2]=r[0],n[t*2+1]=r[1];return n},"joinLines"),F2=e(function(e,t){for(s=new Array(e.length*2),n=0;n<e.length/2;n++){a=e[n*2],r=e[n*2+1],n<e.length/2-1?(o=e[(n+1)*2],i=e[(n+1)*2+1]):(o=e[0],i=e[1]);var n,s,o,i,a,r,c=i-r,l=-(o-a),d=Math.sqrt(c*c+l*l),u=c/d,h=l/d;s[n*4]=a+u*t,s[n*4+1]=r+h*t,s[n*4+2]=o+u*t,s[n*4+3]=i+h*t}return s},"expandPolygon"),aFe=e(function(e,t,n,s,o,i){var c,l,d,a=n-e,r=s-t;return a/=o,r/=i,c=Math.sqrt(a*a+r*r),l=c-1,l<0?[]:(d=l/c,[(n-e)*d+e,(s-t)*d+t])},"intersectLineEllipse"),Hr=e(function(e,t,n,s,o,i,a){return e-=o,t-=i,e/=n/2+a,t/=s/2+a,e*e+t*t<=1},"checkInEllipse"),O2=e(function(e,t,n,s,o,i,a){var d,h,j,y,r=[n-e,s-t],l=[e-o,t-i],g=r[0]*r[0]+r[1]*r[1],u=2*(l[0]*r[0]+l[1]*r[1]),_=l[0]*l[0]+l[1]*l[1]-a*a,p=u*u-4*g*_;if(p<0)return[];var b=(-u+Math.sqrt(p))/(2*g),v=(-u-Math.sqrt(p))/(2*g),f=Math.min(b,v),m=Math.max(b,v),c=[];return f>=0&&f<=1&&c.push(f),m>=0&&m<=1&&c.push(m),c.length===0?[]:(h=c[0]*r[0]+e,d=c[0]*r[1]+t,c.length>1?c[0]==c[1]?[h,d]:(j=c[1]*r[0]+e,y=c[1]*r[1]+t,[h,d,j,y]):[h,d])},"intersectLineCircle"),$y=e(function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},"midOfThree"),Nr=e(function(e,t,n,s,o,i,a,r,c){var v=e-o,u=n-e,b=a-o,m=t-i,d=s-t,f=r-i,p=b*m-f*v,g=u*m-d*v,h=f*u-b*d;if(h!==0){var l=p/h,j=g/h,y=.001,_=0-y,w=1+y;return _<=l&&l<=w&&_<=j&&j<=w?[e+l*u,t+l*d]:c?[e+l*u,t+l*d]:[]}return p===0||g===0?$y(e,n,a)===a?[a,r]:$y(e,n,o)===o?[o,i]:$y(o,a,n)===n?[n,s]:[]:[]},"finiteLinesIntersect"),e1=e(function(e,t,n,s,o,i,a,r){var c,l,d,h,m,f,v,b,j,p=[],u=new Array(n.length),g=!0;if(i==null&&(g=!1),g){for(d=0;d<u.length/2;d++)u[d*2]=n[d*2]*i+s,u[d*2+1]=n[d*2+1]*a+o;r>0?(v=F2(u,-r),c=T2(v)):c=u}else c=n;for(l=0;l<c.length/2;l++)b=c[l*2],j=c[l*2+1],l<c.length/2-1?(m=c[(l+1)*2],f=c[(l+1)*2+1]):(m=c[0],f=c[1]),h=Nr(e,t,s,o,b,j,m,f),h.length!==0&&p.push(h[0],h[1]);return p},"polygonIntersectLine"),hFe=e(function(e,t,n,s,o,i,a,r,c){d=[],l=new Array(n.length*2),c.forEach(function(n,i){i===0?(l[l.length-2]=n.startX,l[l.length-1]=n.startY):(l[i*4-2]=n.startX,l[i*4-1]=n.startY),l[i*4]=n.stopX,l[i*4+1]=n.stopY,u=O2(e,t,s,o,n.cx,n.cy,n.radius),u.length!==0&&d.push(u[0],u[1])});for(h=0;h<l.length/4;h++)u=Nr(e,t,s,o,l[h*4],l[h*4+1],l[h*4+2],l[h*4+3],!1),u.length!==0&&d.push(u[0],u[1]);if(d.length>2){for(var l,d,u,h,p,f=[d[0],d[1]],g=Math.pow(f[0]-e,2)+Math.pow(f[1]-t,2),m=1;m<d.length/2;m++)p=Math.pow(d[m*2]-e,2)+Math.pow(d[m*2+1]-t,2),p<=g&&(f[0]=d[m*2],f[1]=d[m*2+1],g=p);return f}return d},"roundPolygonIntersectLine"),Mm=e(function(e,t,n){var s=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(s[0]*s[0]+s[1]*s[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*s[0],t[1]+o*s[1]]},"shortenIntersection"),zn=e(function(e,t){var n=Ry(e,t);return n=d_(n),n},"generateUnitNgonPointsFitToSquare"),d_=e(function(e){for(var t,s,c,d=e.length/2,i=1/0,n=1/0,a=-1/0,r=-1/0,l=0;l<d;l++)s=e[2*l],t=e[2*l+1],i=Math.min(i,s),a=Math.max(a,s),n=Math.min(n,t),r=Math.max(r,t);for(var u=2/(a-i),h=2/(r-n),o=0;o<d;o++)s=e[2*o]=e[2*o]*u,t=e[2*o+1]=e[2*o+1]*h,i=Math.min(i,s),a=Math.max(a,s),n=Math.min(n,t),r=Math.max(r,t);if(n<-1)for(c=0;c<d;c++)t=e[2*c+1]=e[2*c+1]+(-1-n);return e},"fitPolygonToSquare"),Ry=e(function(e,t){var n,s,o,i=1/e*2*Math.PI,a=e%2===0?Math.PI/2+i/2:Math.PI/2;a+=t;for(s=new Array(e*2),n=0;n<e;n++)o=n*i+a,s[2*n]=Math.cos(o),s[2*n+1]=Math.sin(-o);return s},"generateUnitNgonPoints"),tc=e(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),O_=e(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),Dy=e(function(){return 8},"getCutRectangleCornerLength"),yFe=e(function(e,t,n){return[e-2*t+n,2*(t-e),e]},"bezierPtsToQuadCoeff"),Fy=e(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),wFe=Kt({dampingFactor:.8,precision:1e-6,iterations:200,weight:e(function(){return 1},"weight")}),OFe={pageRank:e(function(t){for(var s,a,c,l,d,h,g,v,b,j,y,w,O,k,A,M,F,D,m=wFe(t),U=m.dampingFactor,W=m.precision,$=m.iterations,B=m.weight,I=this._private.cy,L=this.byGroup(),f=L.nodes,R=L.edges,n=f.length,P=n*n,H=R.length,i=new Array(P),p=new Array(n),N=(1-U)/n,u=0;u<n;u++){for(b=0;b<n;b++)D=u*n+b,i[D]=0;p[u]=0}for(v=0;v<H;v++){var _=R[v],z=_.data("source"),T=_.data("target");if(z!==T){var E=f.indexOfId(z),K=f.indexOfId(T),S=B(_),V=K*n+E;i[V]+=S,p[E]+=S}}for(A=1/n+N,s=0;s<n;s++)if(p[s]===0)for(h=0;h<n;h++)F=h*n+s,i[F]=A;else for(g=0;g<n;g++)w=g*n+s,i[w]=i[w]/p[s]+N;for(var x,o=new Array(n),r=new Array(n),C=0;C<n;C++)o[C]=1;for(y=0;y<$;y++){for(d=0;d<n;d++)r[d]=0;for(l=0;l<n;l++)for(c=0;c<n;c++)k=l*n+c,r[l]+=i[k]*o[c];MMe(r),x=o,o=r,r=x;for(O=0,a=0;a<n;a++)j=x[a]-o[a],O+=j*j;if(O<W)break}return M={rank:e(function(e){return e=I.collection(e)[0],o[f.indexOf(e)]},"rank")},M},"pageRank")},L_=Kt({root:null,weight:e(function(){return 1},"weight"),directed:!1,alpha:0}),Kl={degreeCentralityNormalized:e(function(t){t=L_(t);var l=this.cy(),m=this.nodes(),v=m.length;if(t.directed){for(var n,o,r,d,h,p={},f={},s=0,a=0,c=0;c<v;c++)r=m[c],d=r.id(),t.root=r,n=this.degreeCentrality(t),s<n.indegree&&(s=n.indegree),a<n.outdegree&&(a=n.outdegree),p[d]=n.indegree,f[d]=n.outdegree;return{indegree:e(function(e){return s==0?0:(Y(e)&&(e=l.filter(e)),p[e.id()]/s)},"indegree"),outdegree:e(function(e){return a===0?0:(Y(e)&&(e=l.filter(e)),f[e.id()]/a)},"outdegree")}}for(var g={},i=0,u=0;u<v;u++)h=m[u],t.root=h,o=this.degreeCentrality(t),i<o.degree&&(i=o.degree),g[h.id()]=o.degree;return{degree:e(function(e){return i===0?0:(Y(e)&&(e=l.filter(e)),g[e.id()]/i)},"degree")}},"degreeCentralityNormalized"),degreeCentrality:e(function(e){e=L_(e);var y=this.cy(),c=this,s=e,n=s.root,a=s.weight,g=s.directed,t=s.alpha;if(n=y.collection(n)[0],g){for(var o,p=n.connectedEdges(),l=p.filter(function(e){return e.target().same(n)&&c.has(e)}),d=p.filter(function(e){return e.source().same(n)&&c.has(e)}),j=l.length,v=d.length,m=0,f=0,u=0;u<l.length;u++)m+=a(l[u]);for(o=0;o<d.length;o++)f+=a(d[o]);return{indegree:Math.pow(j,1-t)*Math.pow(m,t),outdegree:Math.pow(v,1-t)*Math.pow(f,t)}}for(var i=n.connectedEdges().intersection(c),b=i.length,h=0,r=0;r<i.length;r++)h+=a(i[r]);return{degree:Math.pow(b,1-t)*Math.pow(h,t)}},"degreeCentrality")},Kl.dc=Kl.degreeCentrality,Kl.dcn=Kl.degreeCentralityNormalised=Kl.degreeCentralityNormalized,H_=Kt({harmonic:!0,weight:e(function(){return 1},"weight"),directed:!1,root:null}),Ul={closenessCentralityNormalized:e(function(t){for(var c,r=H_(t),d=r.harmonic,h=r.weight,m=r.directed,f=this.cy(),l={},o=0,i=this.nodes(),p=this.floydWarshall({weight:h,directed:m}),s=0;s<i.length;s++){for(var n=0,u=i[s],a=0;a<i.length;a++)s!==a&&(c=p.distance(u,i[a]),d?n+=1/c:n+=c);d||(n=1/n),o<n&&(o=n),l[u.id()]=n}return{closeness:e(function(e){return o==0?0:(Y(e)?e=f.filter(e)[0].id():e=e.id(),l[e]/o)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:e(function(e){for(var i,a,t=H_(e),n=t.root,l=t.weight,d=t.directed,r=t.harmonic,n=this.filter(n)[0],u=this.dijkstra({root:n,weight:l,directed:d}),s=0,c=this.nodes(),o=0;o<c.length;o++)i=c[o],i.same(n)||(a=u.distanceTo(i),r?s+=1/a:s+=a);return r?s:1/s},"closenessCentrality")},Ul.cc=Ul.closenessCentrality,Ul.ccn=Ul.closenessCentralityNormalised=Ul.closenessCentralityNormalized,AFe=Kt({weight:null,directed:!1}),Cy={betweennessCentrality:e(function(t){for(var i,r,c,l,p,f=AFe(t),v=f.directed,h=f.weight,g=h!=null,d=this.cy(),n=this.nodes(),s={},m={},a=0,o={set:e(function(e,t){m[e]=t,t>a&&(a=t)},"set"),get:e(function(e){return m[e]},"get")},u=0;u<n.length;u++)r=n[u],i=r.id(),v?s[i]=r.outgoers().nodes():s[i]=r.openNeighborhood().nodes(),o.set(i,0);for(p=e(function(e){for(var t,c,l,m,p,v,b,j,y,_,w,x=n[e].id(),C=[],f={},r={},a={},u=new d2(function(e,t){return a[e]-a[t]}),E=0;E<n.length;E++)p=n[E].id(),f[p]=[],r[p]=0,a[p]=1/0;for(r[x]=1,a[x]=0,u.push(x);!u.empty();)if(t=u.pop(),C.push(t),g)for(v=0;v<s[t].length;v++){var i=s[t][v],k=d.getElementById(t),O=void 0;k.edgesTo(i).length>0?O=k.edgesTo(i)[0]:O=i.edgesTo(k)[0],y=h(O),i=i.id(),a[i]>a[t]+y&&(a[i]=a[t]+y,u.nodes.indexOf(i)<0?u.push(i):u.updateItem(i),r[i]=0,f[i]=[]),a[i]==a[t]+y&&(r[i]=r[i]+r[t],f[i].push(t))}else for(_=0;_<s[t].length;_++)l=s[t][_].id(),a[l]==1/0&&(u.push(l),a[l]=a[t]+1),a[l]==a[t]+1&&(r[l]=r[l]+r[t],f[l].push(t));for(m={},w=0;w<n.length;w++)m[n[w].id()]=0;for(;C.length>0;){for(c=C.pop(),j=0;j<f[c].length;j++)b=f[c][j],m[b]=m[b]+r[b]/r[c]*(1+m[c]);c!=n[e].id()&&o.set(c,o.get(c)+m[c])}},"_loop"),c=0;c<n.length;c++)p(c);return l={betweenness:e(function(e){var t=d.collection(e).id();return o.get(t)},"betweenness"),betweennessNormalized:e(function(e){if(a==0)return 0;var t=d.collection(e).id();return o.get(t)/a},"betweennessNormalized")},l.betweennessNormalised=l.betweennessNormalized,l},"betweennessCentrality")},Cy.bc=Cy.betweennessCentrality,MFe=Kt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(){return 1}]}),FFe=e(function(e){return MFe(e)},"setOptions"),TFe=e(function(e,t){for(var s=0,n=0;n<t.length;n++)s+=t[n](e);return s},"getSimilarity"),zFe=e(function(e,t,n){for(var s=0;s<t;s++)e[s*t+s]=n},"addLoops"),iw=e(function(e,t){for(var s,o,i,n=0;n<t;n++){for(i=0,o=0;o<t;o++)i+=e[o*t+n];for(s=0;s<t;s++)e[s*t+n]=e[s*t+n]/i}},"normalize"),NFe=e(function(e,t,n){for(var o,i,a,r=new Array(n*n),s=0;s<n;s++){for(a=0;a<n;a++)r[s*n+a]=0;for(o=0;o<n;o++)for(i=0;i<n;i++)r[s*n+i]+=e[s*n+o]*t[o*n+i]}return r},"mmult"),LFe=e(function(e,t,n){for(var o=e.slice(0),s=1;s<n;s++)e=NFe(e,o,t);return e},"expand"),RFe=e(function(e,t,n){for(var o=new Array(t*t),s=0;s<t*t;s++)o[s]=Math.pow(e[s],n);return iw(o,t),o},"inflate"),PFe=e(function(e,t,n,s){for(o=0;o<n;o++){var o,i=Math.round(e[o]*Math.pow(10,s))/Math.pow(10,s),a=Math.round(t[o]*Math.pow(10,s))/Math.pow(10,s);if(i!==a)return!1}return!0},"hasConverged"),HFe=e(function(e,t,n,s){for(var o,i,r=[],a=0;a<t;a++){for(i=[],o=0;o<t;o++)Math.round(e[a*t+o]*1e3)/1e3>0&&i.push(n[o]);i.length!==0&&r.push(s.collection(i))}return r},"assign"),IFe=e(function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},"isDuplicate"),BFe=e(function(e){for(var t,n=0;n<e.length;n++)for(t=0;t<e.length;t++)n!=t&&IFe(e[n],e[t])&&e.splice(t,1);return e},"removeDuplicates"),aw=e(function(e){for(var o,i,c,f,a=this.nodes(),b=this.edges(),j=this.cy(),s=FFe(e),l={},r=0;r<a.length;r++)l[a[r].id()]=r;for(var d,n=a.length,h=n*n,t=new Array(h),u=0;u<h;u++)t[u]=0;for(c=0;c<b.length;c++){var m=b[c],p=l[m.source().id()],g=l[m.target().id()],v=TFe(m,s.attributes);t[p*n+g]+=v,t[g*n+p]+=v}zFe(t,n,s.multFactor),iw(t,n);for(i=!0,f=0;i&&f<s.maxIterations;)i=!1,d=LFe(t,n,s.expandFactor),t=RFe(d,n,s.inflateFactor),PFe(t,d,h,4)||(i=!0),f++;return o=HFe(t,n,a,j),o=BFe(o),o},"markovClustering"),$Fe={markovClustering:aw,mcl:aw},WFe=e(function(e){return e},"identity"),cw=e(function(e,t){return Math.abs(t-e)},"absDiff"),uw=e(function(e,t,n){return e+cw(t,n)},"addAbsDiff"),hw=e(function(e,t,n){return e+Math.pow(n-t,2)},"addSquaredDiff"),YFe=e(function(e){return Math.sqrt(e)},"sqrt"),GFe=e(function(e,t,n){return Math.max(e,cw(t,n))},"maxAbsDiff"),Z0=e(function(e,t,n,s,o){for(var r,c,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:WFe,a=s,i=0;i<e;i++)r=t(i),c=n(i),a=o(a,r,c);return l(a)},"getDistance"),Sl={euclidean:e(function(e,t,n){return e>=2?Z0(e,t,n,0,hw,YFe):Z0(e,t,n,0,uw)},"euclidean"),squaredEuclidean:e(function(e,t,n){return Z0(e,t,n,0,hw)},"squaredEuclidean"),manhattan:e(function(e,t,n){return Z0(e,t,n,0,uw)},"manhattan"),max:e(function(e,t,n){return Z0(e,t,n,-1/0,GFe)},"max")},Sl["squared-euclidean"]=Sl.squaredEuclidean,Sl.squaredeuclidean=Sl.squaredEuclidean,e(Wf,"clusteringDistance"),ZFe=Kt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),by=e(function(e){return ZFe(e)},"setOptions"),G3=e(function(t,n,s,o,i){var a=i!=="kMedoids",r=a?function(e){return s[e]}:function(e){return o[e](s)},c=e(function(e){return o[e](n)},"getQ"),l=s,d=n;return Wf(t,o.length,r,c,l,d)},"getDist"),ay=e(function(e,t,n){for(var s,a,i=n.length,r=new Array(i),l=new Array(i),d=new Array(t),c=null,o=0;o<i;o++)r[o]=e.min(n[o]).value,l[o]=e.max(n[o]).value;for(a=0;a<t;a++){c=[];for(s=0;s<i;s++)c[s]=Math.random()*(l[s]-r[s])+r[s];d[a]=c}return d},"randomCentroids"),tO=e(function(e,t,n,s,o){for(var a,r=1/0,c=0,i=0;i<t.length;i++)a=G3(n,e,t[i],s,o),a<r&&(r=a,c=i);return c},"classify"),aO=e(function(e,t,n){for(var i=[],s=null,o=0;o<t.length;o++)s=t[o],n[s.id()]===e&&i.push(s);return i},"buildCluster"),oTe=e(function(e,t,n){return Math.abs(t-e)<=n},"haveValuesConverged"),iTe=e(function(e,t,n){for(var o,i,s=0;s<e.length;s++)for(o=0;o<e[s].length;o++)if(i=Math.abs(e[s][o]-t[s][o]),i>n)return!1;return!0},"haveMatricesConverged"),aTe=e(function(e,t,n){for(var s=0;s<n;s++)if(e===t[s])return!0;return!1},"seenBefore"),rO=e(function(e,t){var n,o,i,s=new Array(t);if(e.length<50)for(n=0;n<t;n++){for(o=e[Math.floor(Math.random()*e.length)];aTe(o,s,n);)o=e[Math.floor(Math.random()*e.length)];s[n]=o}else for(i=0;i<t;i++)s[i]=e[Math.floor(Math.random()*e.length)];return s},"randomMedoids"),mO=e(function(e,t,n){for(var o=0,s=0;s<t.length;s++)o+=G3("manhattan",t[s],e,n,"kMedoids");return o},"findCost"),lTe=e(function(e){var s,o,a,c,l,d,h,v=this.cy(),i=this.nodes(),r=null,t=by(e),g=new Array(t.k),p={};t.testMode?typeof t.testCentroids=="number"?(t.testCentroids,o=ay(i,t.k,t.attributes)):Wt(t.testCentroids)==="object"?o=t.testCentroids:o=ay(i,t.k,t.attributes):o=ay(i,t.k,t.attributes);for(l=!0,h=0;l&&h<t.maxIterations;){for(d=0;d<i.length;d++)r=i[d],p[r.id()]=tO(r,o,t.distance,t.attributes,"kMeans");for(l=!1,s=0;s<t.k;s++)if(a=aO(s,i,p),a.length!==0){for(var u=t.attributes.length,b=o[s],m=new Array(u),f=new Array(u),n=0;n<u;n++){f[n]=0;for(c=0;c<a.length;c++)r=a[c],f[n]+=t.attributes[n](r);m[n]=f[n]/a.length,oTe(m[n],b[n],t.sensitivityThreshold)||(l=!0)}o[s]=m,g[s]=v.collection(a)}h++}return g},"kMeans"),dTe=e(function(e){var n,s,o,a,r,c,l,u,p=this.cy(),i=this.nodes(),h=null,t=by(e),f=new Array(t.k),m={},d=new Array(t.k);t.testMode?typeof t.testCentroids=="number"||(Wt(t.testCentroids)==="object"?o=t.testCentroids:o=rO(i,t.k)):o=rO(i,t.k);for(r=!0,u=0;r&&u<t.maxIterations;){for(c=0;c<i.length;c++)h=i[c],m[h.id()]=tO(h,o,t.distance,t.attributes,"kMedoids");for(r=!1,n=0;n<o.length;n++)if(s=aO(n,i,m),s.length!==0){d[n]=mO(o[n],s,t.attributes);for(a=0;a<s.length;a++)l=mO(s[a],s,t.attributes),l<d[n]&&(d[n]=l,o[n]=s[a],r=!0);f[n]=p.collection(s)}u++}return f},"kMedoids"),uTe=e(function(e,t,n,s,o){for(var i,a,r,c,d,u,l=0;l<t.length;l++)for(r=0;r<e.length;r++)s[l][r]=Math.pow(n[l][r],o.m);for(i=0;i<e.length;i++)for(c=0;c<o.attributes.length;c++){d=0,u=0;for(a=0;a<t.length;a++)d+=s[a][i]*o.attributes[c](t[a]),u+=s[a][i];e[i][c]=d/u}},"updateCentroids"),hTe=e(function(e,t,n,s,o){for(a=0;a<e.length;a++)t[a]=e[a].slice();for(var i,a,c,l,d,u,h=2/(o.m-1),r=0;r<n.length;r++)for(i=0;i<s.length;i++){l=0;for(c=0;c<n.length;c++)d=G3(o.distance,s[i],n[r],o.attributes,"cmeans"),u=G3(o.distance,s[i],n[c],o.attributes,"cmeans"),l+=Math.pow(d/u,h);e[i][r]=1/l}},"updateMembership"),mTe=e(function(e,t,n,s){for(var i,a,r,l,d,o=new Array(n.k),c=0;c<o.length;c++)o[c]=[];for(i=0;i<t.length;i++){for(l=-1/0,d=-1,a=0;a<t[0].length;a++)t[i][a]>l&&(l=t[i][a],d=a);o[d].push(e[i])}for(r=0;r<o.length;r++)o[r]=s.collection(o[r]);return o},"assign"),gO=e(function(e){for(var n,o,i,a,r,c,l,d,u,h,p,g,v,b=this.cy(),s=this.nodes(),t=by(e),f=new Array(s.length),m=0;m<s.length;m++)f[m]=new Array(t.k);for(n=new Array(s.length),c=0;c<s.length;c++)n[c]=new Array(t.k);for(o=0;o<s.length;o++){for(p=0,a=0;a<t.k;a++)n[o][a]=Math.random(),p+=n[o][a];for(i=0;i<t.k;i++)n[o][i]=n[o][i]/p}for(r=new Array(t.k),l=0;l<t.k;l++)r[l]=new Array(t.attributes.length);for(h=new Array(s.length),d=0;d<s.length;d++)h[d]=new Array(t.k);for(u=!0,g=0;u&&g<t.maxIterations;)u=!1,uTe(r,s,n,h,t),hTe(n,f,r,s,t),iTe(n,f,t.sensitivityThreshold)||(u=!0),g++;return v=mTe(s,n,t,b),{clusters:v,degreeOfMembership:n}},"fuzzyCMeans"),pTe={kMeans:lTe,kMedoids:dTe,fuzzyCMeans:gO,fcm:gO},gTe=Kt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),vTe={single:"min",complete:"max"},bTe=e(function(e){var t=gTe(e),n=vTe[t.linkage];return n!=null&&(t.linkage=n),t},"setOptions"),vO=e(function(t,n,s,o,i){for(var a,r,c,l,d,u,h,m,f,p,g,v,w,y=0,b=1/0,_=i.attributes,O=e(function(e,t){return Wf(i.distance,_.length,function(t){return _[t](e)},function(e){return _[e](t)},e,t)},"getDist"),j=0;j<t.length;j++)h=t[j].key,v=s[h][o[h]],v<b&&(y=h,b=v);if(i.mode==="threshold"&&b>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;a=n[y],c=n[o[y]],i.mode==="dendrogram"?f={left:a,right:c,key:a.key}:f={value:a.value.concat(c.value),key:a.key},t[a.index]=f,t.splice(c.index,1),n[a.key]=f;for(m=0;m<t.length;m++)r=t[m],a.key===r.key?l=1/0:i.linkage==="min"?(l=s[a.key][r.key],s[a.key][r.key]>s[c.key][r.key]&&(l=s[c.key][r.key])):i.linkage==="max"?(l=s[a.key][r.key],s[a.key][r.key]<s[c.key][r.key]&&(l=s[c.key][r.key])):i.linkage==="mean"?l=(s[a.key][r.key]*a.size+s[c.key][r.key]*c.size)/(a.size+c.size):i.mode==="dendrogram"?l=O(r.value,a.value):l=O(r.value[0],a.value[0]),s[a.key][r.key]=s[r.key][a.key]=l;for(u=0;u<t.length;u++){if(d=t[u].key,o[d]===a.key||o[d]===c.key){for(p=d,g=0;g<t.length;g++)w=t[g].key,s[d][w]<s[d][p]&&(p=w);o[d]=p}t[u].index=u}return a.key=c.key=a.index=c.index=null,!0},"mergeClosest"),nh=e(function e(t,n){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},"getAllChildren"),_Te=e(function e(t,n){if(!t)return"";if(t.left&&t.right){var o=e(t.left,n),i=e(t.right,n),s=n.add({group:"nodes",data:{id:o+","+i}});return n.add({group:"edges",data:{source:o,target:s.id()}}),n.add({group:"edges",data:{source:i,target:s.id()}}),s.id()}if(t.value)return t.value.id()},"buildDendrogram"),wTe=e(function e(t,n,s){if(!t)return[];var o=[],i=[],a=[];return n===0?(t.left&&nh(t.left,o),t.right&&nh(t.right,i),a=o.concat(i),[s.collection(a)]):n===1?t.value?[s.collection(t.value)]:(t.left&&nh(t.left,o),t.right&&nh(t.right,i),[s.collection(o),s.collection(i)]):t.value?[s.collection(t.value)]:(t.left&&(o=e(t.left,n-1,s)),t.right&&(i=e(t.right,n-1,s)),o.concat(i))},"buildClustersFromTree"),jO=e(function(t){for(var n,i,r,d,h,p,m=this.cy(),g=this.nodes(),a=bTe(t),f=a.attributes,v=e(function(e,t){return Wf(a.distance,f.length,function(t){return f[t](e)},function(e){return f[e](t)},e,t)},"getDist"),s=[],c=[],l=[],u=[],o=0;o<g.length;o++)h={value:a.mode==="dendrogram"?g[o]:[g[o]],key:o,index:o},s[o]=h,u[o]=h,c[o]=[],l[o]=0;for(n=0;n<s.length;n++)for(i=0;i<=n;i++)r=void 0,a.mode==="dendrogram"?r=n===i?1/0:v(s[n].value,s[i].value):r=n===i?1/0:v(s[n].value[0],s[i].value[0]),c[n][i]=r,c[i][n]=r,r<c[n][l[n]]&&(l[n]=i);for(p=vO(s,u,c,l,a);p;)p=vO(s,u,c,l,a);return a.mode==="dendrogram"?(d=wTe(s[0],a.dendrogramDepth,m),a.addDendrogram&&_Te(s[0],m)):(d=new Array(s.length),s.forEach(function(e,t){e.key=e.index=null,d[t]=m.collection(e.value)})),d},"hierarchicalClustering"),xTe={hierarchicalClustering:jO,hca:jO},CTe=Kt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),ETe=e(function(e){var s,t=e.damping,n=e.preference;return.5<=t&&t<1||it("Damping must range on [0.5, 1).  Got: ".concat(t)),s=["median","mean","min","max"],s.some(function(e){return e===n})||k(n)||it("Preference must be one of [".concat(s.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),CTe(e)},"setOptions"),kTe=e(function(t,n,s,o){var i=e(function(e,t){return o[t](e)},"attr");return-Wf(t,o.length,function(e){return i(n,e)},function(e){return i(s,e)},n,s)},"getSimilarity"),ATe=e(function(e,t){var n=null;return t==="median"?n=OMe(e):t==="mean"?n=wMe(e):t==="min"?n=yMe(e):t==="max"?n=_Me(e):n=t,n},"getPreference"),STe=e(function(e,t,n){for(var o=[],s=0;s<e;s++)t[s*e+s]+n[s*e+s]>0&&o.push(s);return o},"findExemplars"),yO=e(function(e,t,n){for(i=[],s=0;s<e;s++){for(var s,o,i,a,r=-1,l=-1/0,c=0;c<n.length;c++)a=n[c],t[s*e+a]>l&&(r=a,l=t[s*e+a]);r>0&&i.push(r)}for(o=0;o<n.length;o++)i[n[o]]=n[o];return i},"assignClusters"),FTe=e(function(e,t,n){for(o=yO(e,t,n),i=0;i<n.length;i++){for(s=[],a=0;a<o.length;a++)o[a]===n[i]&&s.push(a);for(var s,o,i,a,c,l,d=-1,u=-1/0,r=0;r<s.length;r++){for(c=0,l=0;l<s.length;l++)c+=t[s[l]*e+s[r]];c>u&&(d=r,u=c)}n[i]=s[d]}return o=yO(e,t,n),o},"assign"),_O=e(function(e){for(var t,s,o,i,a,r,c,l,d,m,g,v,j,y,_,w,x,C,E,k,T,z,L,R,P,H,I,B,W,U,q,Y,X=this.cy(),u=this.nodes(),n=ETe(e),K={},M=0;M<u.length;M++)K[u[M].id()]=M;for(t=u.length,m=t*t,i=new Array(m),T=0;T<m;T++)i[T]=-1/0;for(_=0;_<t;_++)for(w=0;w<t;w++)_!==w&&(i[_*t+w]=kTe(n.distance,u[_],u[w],n.attributes));for(q=ATe(i,n.preference),k=0;k<t;k++)i[k*t+k]=q;for(a=new Array(m),L=0;L<m;L++)a[L]=0;for(d=new Array(m),z=0;z<m;z++)d[z]=0;for(var f=new Array(t),h=new Array(t),A=new Array(t),O=0;O<t;O++)f[O]=0,h[O]=0,A[O]=0;for(C=new Array(t*n.minIterations),R=0;R<C.length;R++)C[R]=0;for(g=0;g<n.maxIterations;g++){for(o=0;o<t;o++){for(var F=-1/0,N=-1/0,D=-1,S=0,p=0;p<t;p++)f[p]=a[o*t+p],S=d[o*t+p]+i[o*t+p],S>=F?(N=F,F=S,D=p):S>N&&(N=S);for(y=0;y<t;y++)a[o*t+y]=(1-n.damping)*(i[o*t+y]-F)+n.damping*f[y];a[o*t+D]=(1-n.damping)*(i[o*t+D]-N)+n.damping*f[D]}for(s=0;s<t;s++){for(v=0,c=0;c<t;c++)f[c]=d[c*t+s],h[c]=Math.max(0,a[c*t+s]),v+=h[c];v-=h[s],h[s]=a[s*t+s],v+=h[s];for(j=0;j<t;j++)d[j*t+s]=(1-n.damping)*Math.min(0,v-h[j])+n.damping*f[j];d[s*t+s]=(1-n.damping)*(v-h[s])+n.damping*f[s]}for(B=0,l=0;l<t;l++)I=d[l*t+l]+a[l*t+l]>0?1:0,C[g%n.minIterations*t+l]=I,B+=I;if(B>0&&(g>=n.minIterations-1||g==n.maxIterations-1)){for(H=0,r=0;r<t;r++){A[r]=0;for(P=0;P<n.minIterations;P++)A[r]+=C[P*t+r];(A[r]===0||A[r]===n.minIterations)&&H++}if(H===t)break}}for(var b=STe(t,a,d),G=FTe(t,i,b),V={},$=0;$<b.length;$++)V[b[$]]=[];for(E=0;E<u.length;E++)Y=K[u[E].id()],W=G[Y],W!=null&&V[W].push(u[E]);for(U=new Array(b.length),x=0;x<b.length;x++)U[x]=X.collection(V[b[x]]);return U},"affinityPropagation"),zTe={affinityPropagation:_O,ap:_O},DTe=Kt({root:void 0,directed:!1}),NTe={hierholzer:e(function(t){Oe(t)||(m=arguments,t={root:m[0],directed:m[1]});var n,s,o,a,c,d,m,v,g=DTe(t),u=g.root,f=g.directed,r=this,l=!1;if(u&&(s=Y(u)?this.filter(u)[0].id():u[0].id()),n={},d={},f?r.forEach(function(e){if(t=e.id(),e.isNode()){var t,s=e.indegree(!0),i=e.outdegree(!0),a=s-i,r=i-s;a==1?c?l=!0:c=t:r==1?o?l=!0:o=t:(r>1||a>1)&&(l=!0),n[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&n[t].push(e.id())})}else d[t]=[void 0,e.target().id()]}):r.forEach(function(e){var s,t=e.id();e.isNode()?(s=e.degree(!0),s%2&&(c?o?l=!0:o=t:c=t),n[t]=[],e.connectedEdges().forEach(function(e){return n[t].push(e.id())})):d[t]=[e.source().id(),e.target().id()]}),a={found:!1,trail:void 0},l)return a;if(o&&c)if(f){if(s&&o!=s)return a;s=o}else{if(s&&o!=s&&c!=s)return a;s||(s=o)}else s||(s=r[0].id());var p=e(function(e){for(var s,o,i,t=e,a=[e];n[t].length;)s=n[t].shift(),o=d[s][0],i=d[s][1],t!=i?(n[i]=n[i].filter(function(e){return e!=s}),t=i):!f&&t!=o&&(n[o]=n[o].filter(function(e){return e!=s}),t=o),a.unshift(s),a.unshift(t);return a},"walk"),h=[],i=[];for(i=p(s);i.length!=1;)n[i[0]].length==0?(h.unshift(r.getElementById(i.shift())),h.unshift(r.getElementById(i.shift()))):i=p(i.shift()).concat(i);h.unshift(r.getElementById(i.shift()));for(v in n)if(n[v].length)return a;return a.found=!0,a.trail=this.spawn(h,!0),a},"hierholzer")},dh=e(function(){var c,n=this,t={},a=0,o=0,i=[],s=[],r={},l=e(function(e,o){for(var r=s.length-1,c=[],a=n.spawn();s[r].x!=e||s[r].y!=o;)c.push(s.pop().edge),r--;c.push(s.pop().edge),c.forEach(function(e){var s=e.connectedNodes().intersection(n);a.merge(e),s.forEach(function(e){var o=e.id(),s=e.connectedEdges().intersection(n);a.merge(e),t[o].cutVertex?a.merge(s.filter(function(e){return e.isLoop()})):a.merge(s)})}),i.push(a)},"buildComponent"),d=e(function e(c,d,u){c===u&&(o+=1),t[d]={id:a,low:a++,cutVertex:!1};var h,m,f,g,p=n.getElementById(d).connectedEdges().intersection(n);p.size()===0?i.push(n.spawn(n.getElementById(d))):p.forEach(function(n){m=n.source().id(),g=n.target().id(),h=m===d?g:m,h!==u&&(f=n.id(),r[f]||(r[f]=!0,s.push({x:d,y:h,edge:n})),h in t?t[d].low=Math.min(t[d].low,t[h].id):(e(c,h,d),t[d].low=Math.min(t[d].low,t[h].low),t[d].id<=t[h].low&&(t[d].cutVertex=!0,l(d,h))))})},"biconnectedSearch");return n.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(o=0,d(n,n),t[n].cutVertex=o>1)}}),c=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(e){return n.getElementById(e)}),{cut:n.spawn(c),components:i}},"hopcroftTarjanBiconnected"),RTe={hopcroftTarjanBiconnected:dh,htbc:dh,htb:dh,hopcroftTarjanBiconnectedComponents:dh},uh=e(function(){var n=this,t={},o=0,i=[],a=[],s=n.spawn(n),r=e(function e(r){if(a.push(r),t[r]={index:o,low:o++,explored:!1},d=n.getElementById(r).connectedEdges().intersection(n),d.forEach(function(n){var s=n.target().id();s!==r&&(s in t||e(s),t[s].explored||(t[r].low=Math.min(t[r].low,t[s].low)))}),t[r].index===t[r].low){for(c=n.spawn();;)if(l=a.pop(),c.merge(n.getElementById(l)),t[l].low=t[r].index,t[l].explored=!0,l===r)break;var c,l,d,h=c.edgesWith(c),u=c.merge(h);i.push(u),s=s.difference(u)}},"stronglyConnectedSearch");return n.forEach(function(e){if(e.isNode()){var n=e.id();n in t||r(n)}}),{cut:s,components:i}},"tarjanStronglyConnected"),HTe={tarjanStronglyConnected:uh,tsc:uh,tscc:uh,tarjanStronglyConnectedComponents:uh},EO={},[l2,oMe,iMe,rMe,lMe,uMe,pMe,OFe,Kl,Ul,Cy,$Fe,pTe,xTe,zTe,NTe,RTe,HTe].forEach(function(e){ee(EO,e)}),kO=0,SO=1,LO=2,Si=e(function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=kO,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),Si.prototype={fulfill:e(function(e){return IO(this,SO,"fulfillValue",e)},"fulfill"),reject:e(function(e){return IO(this,LO,"rejectReason",e)},"reject"),then:e(function(e,t){var n=this,s=new Si;return n.onFulfilled.push(WO(e,s,"fulfill")),n.onRejected.push(WO(t,s,"reject")),BO(n),s.proxy},"then")},IO=e(function(e,t,n,s){return e.state===kO&&(e.state=t,e[n]=s,BO(e)),e},"deliver"),BO=e(function(e){e.state===SO?VO(e,"onFulfilled",e.fulfillValue):e.state===LO&&VO(e,"onRejected",e.rejectReason)},"execute"),VO=e(function(t,n,s){if(t[n].length!==0){var o,i=t[n];t[n]=[],o=e(function(){for(var e=0;e<i.length;e++)i[e](s)},"func"),typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},"execute_handlers"),WO=e(function(e,t,n){return function(s){if(typeof e!="function")t[n].call(t,s);else{var o;try{o=e(s)}catch(e){t.reject(e);return}GTe(t,o)}}},"resolver"),GTe=e(function e(t,n){if(t===n||t.proxy===n){t.reject(new TypeError("cannot resolve promise with itself"));return}if(Wt(n)==="object"&&n!==null||typeof n=="function")try{o=n.then}catch(e){t.reject(e);return}if(typeof o=="function"){var o,s=!1;try{o.call(n,function(o){s||(s=!0,o===n?t.reject(new TypeError("circular thenable chain")):e(t,o))},function(e){s||(s=!0,t.reject(e))})}catch(e){s||t.reject(e)}return}t.fulfill(n)},"resolve"),Si.all=function(t){return new Si(function(n,s){for(var i=new Array(t.length),a=0,r=e(function(e,s){i[e]=s,a++,a===t.length&&n(i)},"fulfill"),o=0;o<t.length;o++)(function(e){var o,n=t[e],i=n!=null&&n.then!=null;i?n.then(function(t){r(e,t)},function(e){s(e)}):(o=n,r(e,o))})(o)})},Si.resolve=function(e){return new Si(function(t){t(e)})},Si.reject=function(e){return new Si(function(t,n){n(e)})},dl=typeof Promise<"u"?Promise:Si,ty=e(function(e,t,n){var o,i,a=F9(e),r=!a,s=this._private=ee({duration:1e3},t,n);(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&st(s.complete)&&s.completes.push(s.complete),r)&&(o=e.position(),s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)),a&&(i=e.pan(),s.startPan={x:i.x,y:i.y},s.startZoom=e.zoom()),this.length=1,this[0]=this},"Animation"),Zc=ty.prototype,ee(Zc,{instanceString:e(function(){return"animation"},"instanceString"),hook:e(function(){var t,n,e=this._private;return e.hooked||(n=e.target._private.animation,e.queue?t=n.queue:t=n.current,t.push(this),ys(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0),this},"hook"),play:e(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:e(function(){return this._private.playing},"playing"),apply:e(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:e(function(){return this._private.applying},"applying"),pause:e(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:e(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:e(function(){return this.progress(0)},"rewind"),fastforward:e(function(){return this.progress(1)},"fastforward"),time:e(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:e(function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},"progress"),completed:e(function(){return this._private.progress===1},"completed"),reverse:e(function(){if(t=this._private,o=t.playing,o&&this.pause(),t.progress=1-t.progress,t.started=!1,s=e(function(e,n){var s=t[e];s!=null&&(t[e]=t[n],t[n]=s)},"swap"),s("zoom","startZoom"),s("pan","startPan"),s("position","startPosition"),t.style)for(n=0;n<t.style.length;n++){var t,n,s,o,i=t.style[n],a=i.name,r=t.startStyle[a];t.startStyle[a]=i,t.style[n]=r}return o&&this.play(),this},"reverse"),promise:e(function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new dl(function(e){t.push(function(){e()})})},"promise")}),Zc.complete=Zc.completed,Zc.run=Zc.play,Zc.running=Zc.playing,JTe={animated:e(function(){return e(function(){var t,e=this,n=e.length!==void 0,s=n?e:[e],o=this._private.cy||this;if(!o.styleEnabled())return!1;if(t=s[0],t)return t._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:e(function(){return e(function(){var e,s,t=this,o=t.length!==void 0,n=o?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(e=0;e<n.length;e++)s=n[e],s._private.animation.queue=[];return this},"clearQueueImpl")},"clearQueue"),delay:e(function(){return e(function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:e(function(){return e(function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:e(function(){return e(function(e,t){var s,i,a,r,c,d,u,h,m,l=this,g=l.length!==void 0,p=g?l:[l],n=this._private.cy||this,o=!g,f=!o;if(!n.styleEnabled())return this;if(h=n.style(),e=ee({},e,t),m=Object.keys(e).length===0,m)return new ty(p[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(f&&(e.style=h.getPropsList(e.style||e.css),e.css=void 0),f&&e.renderedPosition!=null){var v=e.renderedPosition,b=n.pan(),j=n.zoom();e.position=e_(v,j,b)}return o&&e.panBy!=null&&(c=e.panBy,r=n.pan(),e.pan={x:r.x+c.x,y:r.y+c.y}),d=e.center||e.centre,o&&d!=null&&(u=n.getCenterPan(d.eles,e.zoom),u!=null&&(e.pan=u)),o&&e.fit!=null&&(i=e.fit,a=n.getFitViewport(i.eles||i.boundingBox,i.padding),a!=null&&(e.pan=a.pan,e.zoom=a.zoom)),o&&Oe(e.zoom)&&(s=n.getZoomedViewport(e.zoom),s!=null?(s.zoomed&&(e.zoom=s.zoom),s.panned&&(e.pan=s.pan)):e.zoom=null),new ty(p[0],e)},"animationImpl")},"animation"),animate:e(function(){return e(function(e,t){var n,s=this,a=s.length!==void 0,o=a?s:[s],r=this._private.cy||this;if(!r.styleEnabled())return this;t&&(e=ee({},e,t));for(n=0;n<o.length;n++){var i=o[n],c=i.animated()&&(e.queue===void 0||e.queue),l=i.animation(e,c?{queue:!0}:void 0);l.play()}return this},"animateImpl")},"animate"),stop:e(function(){return e(function(e,t){var n,l,d,s=this,u=s.length!==void 0,a=u?s:[s],r=this._private.cy||this;if(!r.styleEnabled())return this;for(n=0;n<a.length;n++){for(var h=a[n],o=h._private,c=o.animation.current,i=0;i<c.length;i++)l=c[i],d=l._private,t&&(d.duration=0);e&&(o.animation.queue=[]),t||(o.animation.current=[])}return r.notify("draw"),this},"stopImpl")},"stop")},eze=Array.isArray,Dh=eze,nze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sze=/^\w*$/,e(Zxe,"isKey"),oze=Zxe,ize="[object AsyncFunction]",aze="[object Function]",rze="[object GeneratorFunction]",cze="[object Proxy]",e(Jxe,"isFunction"),lze=Jxe,dze=am["__core-js_shared__"],ey=dze,ax=function(){var e=/[^.]+$/.exec(ey&&ey.keys&&ey.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),e(eCe,"isMasked"),mze=eCe,fze=Function.prototype,pze=fze.toString,e(tCe,"toSource"),gze=tCe,vze=/[\\^$.*+?()[\]{}|]/g,bze=/^\[object .+?Constructor\]$/,jze=Function.prototype,yze=Object.prototype,_ze=jze.toString,wze=yze.hasOwnProperty,Oze=RegExp("^"+_ze.call(wze).replace(vze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),e(nCe,"baseIsNative"),xze=nCe,e(sCe,"getValue$1"),Cze=sCe,e(oCe,"getNative"),Gj=oCe,kze=Gj(Object,"create"),v0=kze,e(iCe,"hashClear"),Sze=iCe,e(aCe,"hashDelete"),Mze=aCe,Fze="__lodash_hash_undefined__",Tze=Object.prototype,zze=Tze.hasOwnProperty,e(rCe,"hashGet"),Dze=rCe,Nze=Object.prototype,Lze=Nze.hasOwnProperty,e(cCe,"hashHas"),Rze=cCe,Pze="__lodash_hash_undefined__",e(lCe,"hashSet"),Hze=lCe,e(Xd,"Hash"),Xd.prototype.clear=Sze,Xd.prototype.delete=Mze,Xd.prototype.get=Dze,Xd.prototype.has=Rze,Xd.prototype.set=Hze,wx=Xd,e(uCe,"listCacheClear"),Bze=uCe,e(hCe,"eq"),Ex=hCe,e(mCe,"assocIndexOf"),Xh=mCe,Wze=Array.prototype,Uze=Wze.splice,e(fCe,"listCacheDelete"),Kze=fCe,e(pCe,"listCacheGet"),qze=pCe,e(gCe,"listCacheHas"),Yze=gCe,e(vCe,"listCacheSet"),Gze=vCe,e(Kd,"ListCache"),Kd.prototype.clear=Bze,Kd.prototype.delete=Kze,Kd.prototype.get=qze,Kd.prototype.has=Yze,Kd.prototype.set=Gze,Xze=Kd,Qze=Gj(am,"Map"),Zze=Qze,e(jCe,"mapCacheClear"),Jze=jCe,e(yCe,"isKeyable"),eDe=yCe,e(_Ce,"getMapData"),Jh=_Ce,e(wCe,"mapCacheDelete"),nDe=wCe,e(OCe,"mapCacheGet"),sDe=OCe,e(xCe,"mapCacheHas"),oDe=xCe,e(CCe,"mapCacheSet"),iDe=CCe,e(Wd,"MapCache"),Wd.prototype.clear=Jze,Wd.prototype.delete=nDe,Wd.prototype.get=sDe,Wd.prototype.has=oDe,Wd.prototype.set=iDe,kx=Wd,rDe="Expected a function",e(Lg,"memoize"),Lg.Cache=kx,cDe=Lg,lDe=500,e(ACe,"memoizeCapped"),dDe=ACe,uDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hDe=/\\(\\)?/g,mDe=dDe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uDe,function(e,n,s,o){t.push(s?o.replace(hDe,"$1"):n||e)}),t}),Sx=mDe,e(SCe,"arrayMap"),Mx=SCe,gDe=1/0,zx=Jl?Jl.prototype:void 0,Dx=zx?zx.toString:void 0,e(AH,"baseToString"),jDe=AH,e(FCe,"toString$1"),Rx=FCe,e(TCe,"castPath"),Px=TCe,wDe=1/0,e(zCe,"toKey"),Wj=zCe,e(DCe,"baseGet"),xDe=DCe,e(NCe,"get"),CDe=NCe,EDe=function(){try{var e=Gj(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ux=EDe,e(LCe,"baseAssignValue"),ADe=LCe,SDe=Object.prototype,MDe=SDe.hasOwnProperty,e(RCe,"assignValue"),FDe=RCe,TDe=9007199254740991,zDe=/^(?:0|[1-9]\d*)$/,e(PCe,"isIndex"),DDe=PCe,e(HCe,"baseSet"),NDe=HCe,e(ICe,"set"),LDe=ICe,e(BCe,"copyArray"),RDe=BCe,e(VCe,"toPath"),PDe=VCe,HDe={data:e(function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:e(function(){},"beforeGet"),beforeSet:e(function(){},"beforeSet"),onSet:e(function(){},"onSet"),canSet:e(function(){return!0},"canSet")};return t=ee({},n,t),e(function(e,n){var a,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,x,C,s=t,o=this,O=o.length!==void 0,r=O?o:[o],i=O?o[0]:o;if(Y(e)){{if(v=e.indexOf(".")!==-1,a=v&&PDe(e),s.allowGetting&&n===void 0)return i&&(s.beforeGet(i),a&&i._private[s.field][e]===void 0?p=CDe(i._private[s.field],a):p=i._private[s.field][e]),p;if(s.allowSetting&&n!==void 0&&(w=!s.immutableKeys[e],w)){y=hI({},e,n),s.beforeSet(o,y);for(u=0,j=r.length;u<j;u++)h=r[u],s.canSet(h)&&(a&&i._private[s.field][e]===void 0?LDe(h._private[s.field],a,n):h._private[s.field][e]=n);s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Oe(e)){m=e,g=Object.keys(m),s.beforeSet(o,m);for(d=0;d<g.length;d++)if(c=g[d],b=m[c],_=!s.immutableKeys[c],_)for(l=0;l<r.length;l++)f=r[l],s.canSet(f)&&(f._private[s.field][c]=b);s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&st(e))x=e,o.on(s.bindingEvent,x);else if(s.allowGetting&&e===void 0)return i&&(s.beforeGet(i),C=i._private[s.field]),C;return o},"dataImpl")},"data"),removeData:e(function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=ee({},n,t),e(function(e){var o,a,r,c,u,h,m,v,n=t,s=this,j=s.length!==void 0,i=j?s:[s];if(Y(e)){for(var g=e.split(/\s+/),b=g.length,d=0;d<b;d++)if(r=g[d],!La(r)&&(u=!n.immutableKeys[r],u))for(o=0,h=i.length;o<h;o++)i[o]._private[n.field][r]=void 0;n.triggerEvent&&s[n.triggerFnName](n.event)}else if(e===void 0){for(a=0,m=i.length;a<m;a++)for(var f=i[a]._private[n.field],p=Object.keys(f),l=0;l<p.length;l++)c=p[l],v=!n.immutableKeys[c],v&&(f[c]=void 0);n.triggerEvent&&s[n.triggerFnName](n.event)}return s},"removeDataImpl")},"removeData")},IDe={eventAliasesOn:e(function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(){var s=this,o=Array.prototype.slice.call(arguments,0);return new dl(function(t){var a=e(function(e){s.off.apply(s,r),t(e)},"callback"),i=o.concat([a]),r=i.concat([]);s.on.apply(s,i)})}},"eventAliasesOn")},Me={},[JTe,HDe,IDe].forEach(function(e){ee(Me,e)}),VDe={animate:Me.animate(),animation:Me.animation(),animated:Me.animated(),clearQueue:Me.clearQueue(),delay:Me.delay(),delayAnimation:Me.delayAnimation(),stop:Me.stop()},gm={classes:e(function(e){if(t=this,e===void 0)return s=[],t[0]._private.classes.forEach(function(e){return s.push(e)}),s;$e(e)||(e=(e||"").match(/\S+/g)||[]);for(var o=[],h=new Id(e),i=0;i<t.length;i++){for(var t,s,d,u,r=t[i],c=r._private,l=c.classes,n=!1,a=0;a<e.length;a++)if(d=e[a],u=l.has(d),!u){n=!0;break}n||(n=l.size!==e.length),n&&(c.classes=h,o.push(r))}return o.length>0&&this.spawn(o).updateStyle().emit("class"),t},"classes"),addClass:e(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:e(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:e(function(e,t){$e(e)||(e=e.match(/\S+/g)||[]);for(var n=this,l=t===void 0,s=[],o=0,m=n.length;o<m;o++)for(var d=n[o],i=d._private.classes,u=!1,a=0;a<e.length;a++){var r=e[a],h=i.has(r),c=!1;t||l&&!h?(i.add(r),c=!0):(!t||l&&h)&&(i.delete(r),c=!0),!u&&c&&(s.push(d),u=!0)}return s.length>0&&this.spawn(s).updateStyle().emit("class"),n},"toggleClass"),removeClass:e(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:e(function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n},"flashClass")},gm.className=gm.classNames=gm.classes,_e={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Bt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"},_e.variable="(?:[\\w-.]|(?:\\\\"+_e.metaChar+"))+",_e.className="(?:[\\w-]|(?:\\\\"+_e.metaChar+"))+",_e.value=_e.string+"|"+_e.number,_e.id=_e.variable,function(){var e,t,n;for(t=_e.comparatorOp.split("|"),e=0;e<t.length;e++)n=t[e],_e.comparatorOp+="|@"+n;for(t=_e.comparatorOp.split("|"),e=0;e<t.length;e++)n=t[e],!(n.indexOf("!")>=0)&&n!=="="&&(_e.comparatorOp+="|\\!"+n)}(),Be=e(function(){return{checks:[]}},"newQuery"),D={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Vj=[{selector:":selected",matches:e(function(e){return e.selected()},"matches")},{selector:":unselected",matches:e(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:e(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:e(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:e(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:e(function(e){return!e.locked()},"matches")},{selector:":visible",matches:e(function(e){return e.visible()},"matches")},{selector:":hidden",matches:e(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:e(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:e(function(e){return e.grabbed()},"matches")},{selector:":free",matches:e(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:e(function(e){return e.removed()},"matches")},{selector:":inside",matches:e(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:e(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:e(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:e(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:e(function(e){return!e.animated()},"matches")},{selector:":parent",matches:e(function(e){return e.isParent()},"matches")},{selector:":childless",matches:e(function(e){return e.isChildless()},"matches")},{selector:":child",matches:e(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:e(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:e(function(e){return e.isChild()},"matches")},{selector:":compound",matches:e(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:e(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:e(function(e){return e.isSimple()},"matches")},{selector:":active",matches:e(function(e){return e.active()},"matches")},{selector:":inactive",matches:e(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:e(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:e(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return dAe(e.selector,t.selector)}),YDe=function(){for(var e,n={},t=0;t<Vj.length;t++)e=Vj[t],n[e.selector]=e.matches;return n}(),GDe=e(function(e,t){return YDe[e](t)},"stateSelectorMatches"),XDe="("+Vj.map(function(e){return e.selector}).join("|")+")",Ol=e(function(e){return e.replace(new RegExp("\\\\("+_e.metaChar+")","g"),function(e,t){return t})},"cleanMetaChars"),Da=e(function(e,t,n){e[e.length-1]=n},"replaceLastQuery"),kj=[{name:"group",query:!0,regex:"("+_e.group+")",populate:e(function(e,t,n){var o=jt(n,1),s=o[0];t.checks.push({type:D.GROUP,value:s==="*"?s:s+"s"})},"populate")},{name:"state",query:!0,regex:XDe,populate:e(function(e,t,n){var s=jt(n,1),o=s[0];t.checks.push({type:D.STATE,value:o})},"populate")},{name:"id",query:!0,regex:"\\#("+_e.id+")",populate:e(function(e,t,n){var s=jt(n,1),o=s[0];t.checks.push({type:D.ID,value:Ol(o)})},"populate")},{name:"className",query:!0,regex:"\\.("+_e.className+")",populate:e(function(e,t,n){var s=jt(n,1),o=s[0];t.checks.push({type:D.CLASS,value:Ol(o)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+_e.variable+")\\s*\\]",populate:e(function(e,t,n){var s=jt(n,1),o=s[0];t.checks.push({type:D.DATA_EXIST,field:Ol(o)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+_e.variable+")\\s*("+_e.comparatorOp+")\\s*("+_e.value+")\\s*\\]",populate:e(function(e,t,n){var o=jt(n,3),i=o[0],a=o[1],s=o[2],r=new RegExp("^"+_e.string+"$").exec(s)!=null;r?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:D.DATA_COMPARE,field:Ol(i),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+_e.boolOp+")\\s*("+_e.variable+")\\s*\\]",populate:e(function(e,t,n){var s=jt(n,2),o=s[0],i=s[1];t.checks.push({type:D.DATA_BOOL,field:Ol(i),operator:o})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+_e.meta+")\\s*("+_e.comparatorOp+")\\s*("+_e.number+")\\s*\\]\\]",populate:e(function(e,t,n){var s=jt(n,3),o=s[0],i=s[1],a=s[2];t.checks.push({type:D.META_COMPARE,field:Ol(o),operator:i,value:parseFloat(a)})},"populate")},{name:"nextQuery",separator:!0,regex:_e.separator,populate:e(function(e){var o,s=e.currentSubject,i=e.edgeCount,a=e.compoundCount,n=e[e.length-1];return s!=null&&(n.subject=s,e.currentSubject=null),n.edgeCount=i,n.compoundCount=a,e.edgeCount=0,e.compoundCount=0,o=e[e.length++]=Be(),o},"populate")},{name:"directedEdge",separator:!0,regex:_e.directedEdge,populate:e(function(e,t){if(e.currentSubject==null){var n=Be(),a=t,s=Be();return n.checks.push({type:D.DIRECTED_EDGE,source:a,target:s}),Da(e,t,n),e.edgeCount++,s}var o=Be(),r=t,i=Be();return o.checks.push({type:D.NODE_SOURCE,source:r,target:i}),Da(e,t,o),e.edgeCount++,i},"populate")},{name:"undirectedEdge",separator:!0,regex:_e.undirectedEdge,populate:e(function(e,t){if(e.currentSubject==null){var n=Be(),a=t,s=Be();return n.checks.push({type:D.UNDIRECTED_EDGE,nodes:[a,s]}),Da(e,t,n),e.edgeCount++,s}var o=Be(),r=t,i=Be();return o.checks.push({type:D.NODE_NEIGHBOR,node:r,neighbor:i}),Da(e,t,o),i},"populate")},{name:"child",separator:!0,regex:_e.child,populate:e(function(e,t){if(e.currentSubject==null){var s=Be(),o=Be(),h=e[e.length-1];return s.checks.push({type:D.CHILD,parent:h,child:o}),Da(e,t,s),e.compoundCount++,o}if(e.currentSubject===t){var i=Be(),a=e[e.length-1],r=Be(),n=Be(),c=Be(),l=Be();return i.checks.push({type:D.COMPOUND_SPLIT,left:a,right:r,subject:n}),n.checks=t.checks,t.checks=[{type:D.TRUE}],l.checks.push({type:D.TRUE}),r.checks.push({type:D.PARENT,parent:l,child:c}),Da(e,a,i),e.currentSubject=n,e.compoundCount++,c}var d=Be(),u=Be(),m=[{type:D.PARENT,parent:d,child:u}];return d.checks=t.checks,t.checks=m,e.compoundCount++,u},"populate")},{name:"descendant",separator:!0,regex:_e.descendant,populate:e(function(e,t){if(e.currentSubject==null){var s=Be(),o=Be(),h=e[e.length-1];return s.checks.push({type:D.DESCENDANT,ancestor:h,descendant:o}),Da(e,t,s),e.compoundCount++,o}if(e.currentSubject===t){var i=Be(),a=e[e.length-1],r=Be(),n=Be(),c=Be(),l=Be();return i.checks.push({type:D.COMPOUND_SPLIT,left:a,right:r,subject:n}),n.checks=t.checks,t.checks=[{type:D.TRUE}],l.checks.push({type:D.TRUE}),r.checks.push({type:D.ANCESTOR,ancestor:l,descendant:c}),Da(e,a,i),e.currentSubject=n,e.compoundCount++,c}var d=Be(),u=Be(),m=[{type:D.ANCESTOR,ancestor:d,descendant:u}];return d.checks=t.checks,t.checks=m,e.compoundCount++,u},"populate")},{name:"subject",modifier:!0,regex:_e.subject,populate:e(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return ze("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var o=e[e.length-1],n=o.checks[0],s=n==null?null:n.type;s===D.DIRECTED_EDGE?n.type=D.NODE_TARGET:s===D.UNDIRECTED_EDGE&&(n.type=D.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)},"populate")}],kj.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),eNe=e(function(e){for(t=0;t<kj.length;t++){var t,o,i,a,r,n=kj[t],c=n.name,s=e.match(n.regexObj);if(s!=null){i=s,o=n,a=c,r=s[0],e=e.substring(r.length);break}}return{expr:o,match:i,name:a,remaining:e}},"consumeExpr"),tNe=e(function(e){var n,t=e.match(/^\s+/);return t&&(n=t[0],e=e.substring(n.length)),e},"consumeWhitespace"),nNe=e(function(e){var s,o,i,a,r,l,t=this,n=t.inputText=e,c=t[0]=Be();for(t.length=1,n=tNe(n);;){if(s=eNe(n),s.expr==null)return ze("The selector `"+e+"`is invalid"),!1;if(l=s.match.slice(1),i=s.expr.populate(t,c,l),i===!1)return!1;if(i!=null&&(c=i),n=s.remaining,n.match(/^\s*$/))break}a=t[t.length-1],t.currentSubject!=null&&(a.subject=t.currentSubject),a.edgeCount=t.edgeCount,a.compoundCount=t.compoundCount;for(r=0;r<t.length;r++){if(o=t[r],o.compoundCount>0&&o.edgeCount>0)return ze("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(o.edgeCount>1)return ze("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;o.edgeCount===1&&ze("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),sNe=e(function(){if(this.toStringCache!=null)return this.toStringCache;for(var a,n=e(function(e){return e??""},"clean"),r=e(function(e){return Y(e)?'"'+e+'"':n(e)},"cleanVal"),i=e(function(e){return" "+e+" "},"space"),c=e(function(e,s){switch(h=e.type,o=e.value,h){case D.GROUP:return a=n(o),a.substring(0,a.length-1);case D.DATA_COMPARE:return l=e.field,d=e.operator,"["+l+i(n(d))+r(o)+"]";case D.DATA_BOOL:return u=e.operator,c=e.field,"["+n(u)+c+"]";case D.DATA_EXIST:return m=e.field,"["+m+"]";case D.META_COMPARE:return f=e.operator,p=e.field,"[["+p+i(n(f))+r(o)+"]]";case D.STATE:return o;case D.ID:return"#"+o;case D.CLASS:return"."+o;case D.PARENT:case D.CHILD:return t(e.parent,s)+i(">")+t(e.child,s);case D.ANCESTOR:case D.DESCENDANT:return t(e.ancestor,s)+" "+t(e.descendant,s);case D.COMPOUND_SPLIT:{var o,a,c,l,d,u,h,m,f,p,g=t(e.left,s),v=t(e.subject,s),b=t(e.right,s);return g+(g.length>0?" ":"")+v+b}case D.TRUE:return""}},"checkToString"),t=e(function(e,t){return e.checks.reduce(function(n,s,o){return n+(t===e&&o===0?"$":"")+c(s,t)},"")},"queryToString"),s="",o=0;o<this.length;o++)a=this[o],s+=t(a,a.subject),this.length>1&&o<this.length-1&&(s+=", ");return this.toStringCache=s,s},"toString"),oNe={parse:nNe,toString:sNe},aC=e(function(e,t,n){var s,o,i,c=Y(e),d=k(e),u=Y(n),r=!1,l=!1,a=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),l=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),r=!0),(c||u||r)&&(o=!c&&!d?"":""+e,i=""+n),r&&(e=o=o.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":s=o.indexOf(i)>=0;break;case"$=":s=o.indexOf(i,o.length-i.length)>=0;break;case"^=":s=o.indexOf(i)===0;break;case"=":s=e===n;break;case">":a=!0,s=e>n;break;case">=":a=!0,s=e>=n;break;case"<":a=!0,s=e<n;break;case"<=":a=!0,s=e<=n;break;default:s=!1;break}return l&&(e!=null||!a)&&(s=!s),s},"valCmp"),aNe=e(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),rNe=e(function(e){return e!==void 0},"existCmp"),wj=e(function(e,t){return e.data(t)},"data"),lNe=e(function(e,t){return e[t]()},"meta"),dt=[],Qe=e(function(e,t){return e.checks.every(function(e){return dt[e.type](e,t)})},"matches"),dt[D.GROUP]=function(e,t){var n=e.value;return n==="*"||n===t.group()},dt[D.STATE]=function(e,t){var n=e.value;return GDe(n,t)},dt[D.ID]=function(e,t){var n=e.value;return t.id()===n},dt[D.CLASS]=function(e,t){var n=e.value;return t.hasClass(n)},dt[D.META_COMPARE]=function(e,t){var n=e.field,s=e.operator,o=e.value;return aC(lNe(t,n),s,o)},dt[D.DATA_COMPARE]=function(e,t){var n=e.field,s=e.operator,o=e.value;return aC(wj(t,n),s,o)},dt[D.DATA_BOOL]=function(e,t){var n=e.field,s=e.operator;return aNe(wj(t,n),s)},dt[D.DATA_EXIST]=function(e,t){var n=e.field;return e.operator,rNe(wj(t,n))},dt[D.UNDIRECTED_EDGE]=function(e,t){var n=e.nodes[0],s=e.nodes[1],o=t.source(),i=t.target();return Qe(n,o)&&Qe(s,i)||Qe(s,o)&&Qe(n,i)},dt[D.NODE_NEIGHBOR]=function(e,t){return Qe(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&Qe(e.neighbor,t)})},dt[D.DIRECTED_EDGE]=function(e,t){return Qe(e.source,t.source())&&Qe(e.target,t.target())},dt[D.NODE_SOURCE]=function(e,t){return Qe(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&Qe(e.target,t)})},dt[D.NODE_TARGET]=function(e,t){return Qe(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&Qe(e.source,t)})},dt[D.CHILD]=function(e,t){return Qe(e.child,t)&&Qe(e.parent,t.parent())},dt[D.PARENT]=function(e,t){return Qe(e.parent,t)&&t.children().some(function(t){return Qe(e.child,t)})},dt[D.DESCENDANT]=function(e,t){return Qe(e.descendant,t)&&t.ancestors().some(function(t){return Qe(e.ancestor,t)})},dt[D.ANCESTOR]=function(e,t){return Qe(e.ancestor,t)&&t.descendants().some(function(t){return Qe(e.descendant,t)})},dt[D.COMPOUND_SPLIT]=function(e,t){return Qe(e.subject,t)&&Qe(e.left,t)&&Qe(e.right,t)},dt[D.TRUE]=function(){return!0},dt[D.COLLECTION]=function(e,t){var n=e.value;return n.has(t)},dt[D.FILTER]=function(e,t){var n=e.value;return n(t)},hNe=e(function(t){var s,n=this;return n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===D.ID?t.getElementById(n[0].checks[0].value).collection():(s=e(function(e){for(var s,t=0;t<n.length;t++)if(s=n[t],Qe(s,e))return!0;return!1},"selectorFunction"),n.text()==null&&(s=e(function(){return!0},"selectorFunction")),t.filter(s))},"filter"),mNe=e(function(e){for(var s,n=this,t=0;t<n.length;t++)if(s=n[t],Qe(s,e))return!0;return!1},"matches"),fNe={matches:mNe,filter:hNe},_r=e(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Y(e)&&e.match(/^\s*$/)||(ys(e)?this.addQuery({checks:[{type:D.COLLECTION,value:e.collection()}]}):st(e)?this.addQuery({checks:[{type:D.FILTER,value:e}]}):Y(e)?this.parse(e)||(this.invalid=!0):it("A selector must be created from a string; found "))},"Selector"),wr=_r.prototype,[oNe,fNe].forEach(function(e){return ee(wr,e)}),wr.text=function(){return this.inputText},wr.size=function(){return this.length},wr.eq=function(e){return this[e]},wr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},wr.addQuery=function(e){this[this.length++]=e},wr.selector=wr.toString,kr={allAre:e(function(e){var t=new _r(e);return this.every(function(e){return t.matches(e)})},"allAre"),is:e(function(e){var t=new _r(e);return this.some(function(e){return t.matches(e)})},"is"),some:e(function(e,t){for(var s,n=0;n<this.length;n++)if(s=t?e.apply(t,[this[n],n,this]):e(this[n],n,this),s)return!0;return!1},"some"),every:e(function(e,t){for(var s,n=0;n<this.length;n++)if(s=t?e.apply(t,[this[n],n,this]):e(this[n],n,this),!s)return!1;return!0},"every"),same:e(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t===n&&(t===1?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},"same"),anySame:e(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:e(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},"allAreNeighbors"),contains:e(function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})},"contains")},kr.allAreNeighbours=kr.allAreNeighbors,kr.has=kr.contains,kr.equal=kr.equals=kr.same,Qs=e(function(t,n){return e(function(e,s,o,i){if(a=e,r=this,a==null?c="":ys(a)&&a.length===1&&(c=a.id()),r.length===1&&c){var a,r,c,l=r[0]._private,d=l.traversalCache=l.traversalCache||{},u=d[n]=d[n]||[],h=Fa(c),m=u[h];return m||(u[h]=t.call(r,e,s,o,i))}return t.call(r,e,s,o,i)},"traversalCache")},"cache"),fd={parent:e(function(e){if(n=[],this.length===1&&(s=this[0]._private.parent,s))return s;for(t=0;t<this.length;t++){var t,n,s,i=this[t],o=i._private.parent;o&&n.push(o)}return this.spawn(n,!0).filter(e)},"parent"),parents:e(function(e){for(var n,o,s=[],t=this.parent();t.nonempty();){for(n=0;n<t.length;n++)o=t[n],s.push(o);t=t.parent()}return this.spawn(s,!0).filter(e)},"parents"),commonAncestors:e(function(e){for(n=0;n<this.length;n++)var n,o=this[n],s=o.parents(),t=t||s,t=t.intersect(s);return t.filter(e)},"commonAncestors"),orphans:e(function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},"orphans"),nonorphans:e(function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},"nonorphans"),children:Qs(function(e){for(n=[],t=0;t<this.length;t++)for(var t,n,i=this[t],o=i._private.children,s=0;s<o.length;s++)n.push(o[s]);return this.spawn(n,!0).filter(e)},"children"),siblings:e(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:e(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:e(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:e(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:e(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:e(function(t){var s=[];function n(e){for(var t,o=0;o<e.length;o++)t=e[o],s.push(t),t.children().nonempty()&&n(t.children())}return e(n,"add"),n(this.children()),this.spawn(s,!0).filter(t)},"descendants")},e(Pg,"forEachCompound"),e(xH,"addChildren"),fd.forEachDown=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Pg(this,e,t,xH)},e(cH,"addParent"),fd.forEachUp=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Pg(this,e,t,cH)},e(KCe,"addParentAndChildren"),fd.forEachUpAndDown=function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Pg(this,e,t,KCe)},fd.ancestors=fd.parents,k8=_Ne={data:Me.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Me.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Me.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Me.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Me.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Me.removeData({field:"rscratch",triggerEvent:!1}),id:e(function(){var e=this[0];if(e)return e._private.data.id},"id")},k8.attr=k8.data,k8.removeAttr=k8.removeData,wNe=_Ne,D8={},e(Gg,"defineDegreeFunction"),ee(D8,{degree:Gg(function(e,t){return t.source().same(t.target())?2:1}),indegree:Gg(function(e,t){return t.target().same(e)?1:0}),outdegree:Gg(function(e,t){return t.source().same(e)?1:0})}),e(Rd,"defineDegreeBoundsFunction"),ee(D8,{minDegree:Rd("degree",function(e,t){return e<t}),maxDegree:Rd("degree",function(e,t){return e>t}),minIndegree:Rd("indegree",function(e,t){return e<t}),maxIndegree:Rd("indegree",function(e,t){return e>t}),minOutdegree:Rd("outdegree",function(e,t){return e<t}),maxOutdegree:Rd("outdegree",function(e,t){return e>t})}),ee(D8,{totalDegree:e(function(e){for(var n=0,s=this.nodes(),t=0;t<s.length;t++)n+=s[t].degree(e);return n},"totalDegree")}),IC=e(function(e,t,n){for(o=0;o<e.length;o++)if(s=e[o],!s.locked()){var s,o,a=s._private.position,i={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};s.isParent()&&(i.x!==0||i.y!==0)&&s.children().shift(i,n),s.dirtyBoundingBoxCache()}},"beforePositionSet"),KC={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:e(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:e(function(e,t){IC(e,t,!1)},"beforeSet"),onSet:e(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:e(function(e){return!e.locked()},"canSet")},mi=CNe={position:Me.data(KC),silentPosition:Me.data(ee({},KC,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:e(function(e,t){IC(e,t,!0)},"beforeSet"),onSet:e(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:e(function(e,t){if(Oe(e))t?this.silentPosition(e):this.position(e);else if(st(e)){var n,s,o,a=e,i=this.cy();i.startBatch();for(n=0;n<this.length;n++)s=this[n],o=void 0,(o=a(s,n))&&(t?s.silentPosition(o):s.position(o));i.endBatch()}return this},"positions"),silentPositions:e(function(e){return this.positions(e,!0)},"silentPositions"),shift:e(function(e,t,n){if(Oe(e)?(s={x:k(e.x)?e.x:0,y:k(e.y)?e.y:0},n=t):Y(e)&&k(t)&&(s={x:0,y:0},s[e]=t),s!=null){i=this.cy(),i.startBatch();for(a=0;a<this.length;a++)if(o=this[a],!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var s,o,i,a,r=o.position(),c={x:r.x+s.x,y:r.y+s.y};n?o.silentPosition(c):o.position(c)}i.endBatch()}return this},"shift"),silentShift:e(function(e,t){return Oe(e)?this.shift(e,!0):Y(e)&&k(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:e(function(e,t){var s,r,d,o=this[0],c=this.cy(),i=c.zoom(),a=c.pan(),n=Oe(e)?e:void 0,l=n!==void 0||t!==void 0&&Y(e);if(o&&o.isNode())if(l)for(s=0;s<this.length;s++)r=this[s],t!==void 0?r.position(e,(t-a[e])/i):n!==void 0&&r.position(e_(n,i,a));else return d=o.position(),n=e3(d,i,a),e===void 0?n:n[e];else if(!l)return;return this},"renderedPosition"),relativePosition:e(function(e,t){var i,r,c,a=this[0],v=this.cy(),n=Oe(e)?e:void 0,m=n!==void 0||t!==void 0&&Y(e),d=v.hasCompoundNodes();if(a&&a.isNode())if(m)for(r=0;r<this.length;r++){var l=this[r],o=d?l.parent():null,u=o&&o.length>0,p=u;u&&(o=o[0]),i=p?o.position():{x:0,y:0},t!==void 0?l.position(e,t+i[e]):n!==void 0&&l.position({x:n.x+i.x,y:n.y+i.y})}else{var h=a.position(),s=d?a.parent():null,f=s&&s.length>0,g=f;return f&&(s=s[0]),c=g?s.position():{x:0,y:0},n={x:h.x-c.x,y:h.y-c.y},e===void 0?n:n[e]}else if(!m)return;return this},"relativePosition")},mi.modelPosition=mi.point=mi.position,mi.modelPositions=mi.points=mi.positions,mi.renderedPoint=mi.renderedPosition,mi.relativePoint=mi.relativePosition,ANe=CNe,c4=Gr={},Gr.renderedBoundingBox=function(e){var t=this.boundingBox(e),o=this.cy(),n=o.zoom(),s=o.pan(),i=t.x1*n+s.x,a=t.x2*n+s.x,r=t.y1*n+s.y,c=t.y2*n+s.y;return{x1:i,x2:a,y1:r,y2:c,w:a-i,h:c-r}},Gr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(e){if(e.isParent()){var n=e._private;n.compoundBoundsClean=!1,n.bbCache=null,t||e.emitAndNotify("bounds")}}),this)},Gr.updateCompoundBounds=function(){var n,s,o,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!i&&t.batching())return this;function a(t){if(!t.isParent())return;var i,a,r,c,l=t._private,p=t.children(),f=t.pstyle("compound-sizing-wrt-labels").value==="include",s={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},n=p.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),o=l.position;(n.w===0||n.h===0)&&(n={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue},n.x1=o.x-n.w/2,n.x2=o.x+n.w/2,n.y1=o.y-n.h/2,n.y2=o.y+n.h/2);function d(e,t,n){var o=0,i=0,s=t+n;return e>0&&s>0&&(o=t/s*e,i=n/s*e),{biasDiff:o,biasComplementDiff:i}}e(d,"computeBiasValues");function u(e,t,n,s){if(n.units==="%")switch(s){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}else return n.units==="px"?n.pfValue:0}e(u,"computePaddingValues"),i=s.width.left.value,s.width.left.units==="px"&&s.width.val>0&&(i=i*100/s.width.val),a=s.width.right.value,s.width.right.units==="px"&&s.width.val>0&&(a=a*100/s.width.val),c=s.height.top.value,s.height.top.units==="px"&&s.height.val>0&&(c=c*100/s.height.val),r=s.height.bottom.value,s.height.bottom.units==="px"&&s.height.val>0&&(r=r*100/s.height.val);var h=d(s.width.val-n.w,i,a),g=h.biasDiff,v=h.biasComplementDiff,m=d(s.height.val-n.h,c,r),b=m.biasDiff,j=m.biasComplementDiff;l.autoPadding=u(n.w,n.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),l.autoWidth=Math.max(n.w,s.width.val),o.x=(-g+n.x1+n.x2+v)/2,l.autoHeight=Math.max(n.h,s.height.val),o.y=(-b+n.y1+n.y2+j)/2}e(a,"update");for(n=0;n<this.length;n++)s=this[n],o=s._private,(!o.compoundBoundsClean||i)&&(a(s),t.batching()||(o.compoundBoundsClean=!0));return this},oo=e(function(e){return e===1/0||e===-1/0?0:e},"noninf"),vo=e(function(e,t,n,s,o){s-t===0||o-n===0||t==null||n==null||s==null||o==null||(e.x1=t<e.x1?t:e.x1,e.x2=s>e.x2?s:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),uc=e(function(e,t){return t==null?e:vo(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),n4=e(function(e,t,n){return ho(e,t,n)},"prefixedProperty"),U8=e(function(e,t,n){if(!t.cy().headless()){var s,i,a,l,c=t._private,o=c.rstyle,r=o.arrowWidth/2,d=t.pstyle(n+"-arrow-shape").value;d!=="none"&&(n==="source"?(i=o.srcX,a=o.srcY):n==="target"?(i=o.tgtX,a=o.tgtY):(i=o.midX,a=o.midY),l=c.arrowBounds=c.arrowBounds||{},s=l[n]=l[n]||{},s.x1=i-r,s.y1=a-r,s.x2=i+r,s.y2=a+r,s.w=s.x2-s.x1,s.h=s.y2-s.y1,B2(s,1),vo(e,s.x1,s.y1,s.x2,s.y2))}},"updateBoundsFromArrow"),pj=e(function(t,n,s){if(!n.cy().headless()){s?h=s+"-":h="";var S=n._private,A=S.rstyle,Q=n.pstyle(h+"label").strValue;if(Q){var o,i,a,r,u,h,T,z,H,q=n.pstyle("text-halign"),R=n.pstyle("text-valign"),G=n4(A,"labelWidth",s),X=n4(A,"labelHeight",s),d=n4(A,"labelX",s),l=n4(A,"labelY",s),U=n.pstyle(h+"text-margin-x").pfValue,W=n.pstyle(h+"text-margin-y").pfValue,M=n.isEdge(),v=n.pstyle(h+"text-rotation"),b=n.pstyle("text-outline-width").pfValue,Y=n.pstyle("text-border-width").pfValue,y=Y/2,_=n.pstyle("text-background-padding").pfValue,f=2,D=X,F=G,C=F/2,E=D/2;if(M)a=d-C,i=d+C,o=l-E,r=l+E;else{switch(q.value){case"left":a=d-F,i=d;break;case"center":a=d-C,i=d+C;break;case"right":a=d,i=d+F;break}switch(R.value){case"top":o=l-D,r=l;break;case"center":o=l-E,r=l+E;break;case"bottom":o=l,r=l+D;break}}var B=U-Math.max(b,y)-_-f,K=U+Math.max(b,y)+_+f,P=W-Math.max(b,y)-_-f,$=W+Math.max(b,y)+_+f;a+=B,i+=K,o+=P,r+=$;var N=s||"main",x=S.labelBounds,c=x[N]=x[N]||{};if(c.x1=a,c.y1=o,c.x2=i,c.y2=r,c.w=i-a,c.h=r-o,c.leftPad=B,c.rightPad=K,c.topPad=P,c.botPad=$,z=M&&v.strValue==="autorotate",H=v.pfValue!=null&&v.pfValue!==0,z||H){var I=z?n4(S.rstyle,"labelAngle",s):v.pfValue,L=Math.cos(I),V=Math.sin(I),j=(a+i)/2,p=(o+r)/2;if(!M){switch(q.value){case"left":j=i;break;case"right":j=a;break}switch(R.value){case"top":p=r;break;case"bottom":p=o;break}}var w=e(function(e,t){return e=e-j,t=t-p,{x:e*L-t*V+j,y:e*V+t*L+p}},"rotate"),g=w(a,o),m=w(a,r),O=w(i,o),k=w(i,r);a=Math.min(g.x,m.x,O.x,k.x),i=Math.max(g.x,m.x,O.x,k.x),o=Math.min(g.y,m.y,O.y,k.y),r=Math.max(g.y,m.y,O.y,k.y)}T=N+"Rot",u=x[T]=x[T]||{},u.x1=a,u.y1=o,u.x2=i,u.y2=r,u.w=i-a,u.h=r-o,vo(t,a,o,i,r),vo(S.labelBounds.all,a,o,i,r)}return t}},"updateBoundsFromLabel"),RNe=e(function(e,t){if(!t.cy().headless()&&(c=t.pstyle("outline-opacity").value,r=t.pstyle("outline-width").value,c>0&&r>0)){var r,c,d,u,h,m=t.pstyle("outline-offset").value,i=t.pstyle("shape").value,n=r+m,s=(e.w+n*2)/e.w,a=(e.h+n*2)/e.h,l=0,o=0;["diamond","pentagon","round-triangle"].includes(i)?(s=(e.w+n*2.4)/e.w,o=-n/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(i)?s=(e.w+n*2.4)/e.w:i==="star"?(s=(e.w+n*2.8)/e.w,a=(e.h+n*2.6)/e.h,o=-n/3.8):i==="triangle"?(s=(e.w+n*2.8)/e.w,a=(e.h+n*2.4)/e.h,o=-n/1.4):i==="vee"&&(s=(e.w+n*4.4)/e.w,a=(e.h+n*3.8)/e.h,o=-n*.5),d=e.h*a-e.h,u=e.w*s-e.w,(I2(e,[Math.ceil(d/2),Math.ceil(u/2)]),l!=0||o!==0)&&(h=PMe(e,l,o),s_(e,h))}},"updateBoundsFromOutline"),PNe=e(function(t,n){var o,i,a,r,h,m,f,p,v,b,y,_,w,x,C,E,k,A,S,M,T,z,N,P,$,U,D=t._private.cy,d=D.styleEnabled(),X=D.headless(),s=gs(),u=t._private,H=t.isNode(),g=t.isEdge(),l=u.rstyle,F=H&&d?t.pstyle("bounds-expansion").pfValue:[0],O=e(function(e){return e.pstyle("display").value!=="none"},"isDisplayed"),L=!d||O(t)&&(!g||O(t.source())&&O(t.target()));if(L){T=0,E=0,d&&n.includeOverlays&&(T=t.pstyle("overlay-opacity").value,T!==0&&(E=t.pstyle("overlay-padding").value)),x=0,S=0,d&&n.includeUnderlays&&(x=t.pstyle("underlay-opacity").value,x!==0&&(S=t.pstyle("underlay-padding").value));var j=Math.max(E,S),B=0,c=0;if(d&&(B=t.pstyle("width").pfValue,c=B/2),H&&n.includeNodes){w=t.position(),C=w.x,M=w.y;var q=t.outerWidth(),W=q/2,K=t.outerHeight(),R=K/2;r=C-W,o=C+W,a=M-R,i=M+R,vo(s,r,a,o,i),d&&n.includeOutlines&&RNe(s,t)}else if(g&&n.includeEdges)if(d&&!X){if(m=t.pstyle("curve-style").strValue,r=Math.min(l.srcX,l.midX,l.tgtX),o=Math.max(l.srcX,l.midX,l.tgtX),a=Math.min(l.srcY,l.midY,l.tgtY),i=Math.max(l.srcY,l.midY,l.tgtY),r-=c,o+=c,a-=c,i+=c,vo(s,r,a,o,i),m==="haystack")h=l.haystackPts,h&&h.length===2&&((r=h[0].x,a=h[0].y,o=h[1].x,i=h[1].y,r>o)&&(P=r,r=o,o=P),a>i&&(N=a,a=i,i=N),vo(s,r-c,a-c,o+c,i+c));else if(m==="bezier"||m==="unbundled-bezier"||m.endsWith("segments")||m.endsWith("taxi")){switch(m){case"bezier":case"unbundled-bezier":p=l.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":p=l.linePts;break}if(p!=null)for(y=0;y<p.length;y++)f=p[y],r=f.x-c,o=f.x+c,a=f.y-c,i=f.y+c,vo(s,r,a,o,i)}}else{var G=t.source(),I=G.position(),Y=t.target(),V=Y.position();(r=I.x,o=V.x,a=I.y,i=V.y,r>o)&&($=r,r=o,o=$),a>i&&(z=a,a=i,i=z),r-=c,o+=c,a-=c,i+=c,vo(s,r,a,o,i)}(d&&n.includeEdges&&g&&(U8(s,t,"mid-source"),U8(s,t,"mid-target"),U8(s,t,"source"),U8(s,t,"target")),d)&&(U=t.pstyle("ghost").value==="yes",U&&(A=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue,vo(s,s.x1+A,s.y1+k,s.x2+A,s.y2+k))),b=u.bodyBounds=u.bodyBounds||{},o_(b,s),I2(b,F),B2(b,1),d&&(r=s.x1,o=s.x2,a=s.y1,i=s.y2,vo(s,r-j,a-j,o+j,i+j)),v=u.overlayBounds=u.overlayBounds||{},o_(v,s),I2(v,F),B2(v,1),_=u.labelBounds=u.labelBounds||{},_.all!=null?RMe(_.all):_.all=gs(),d&&n.includeLabels&&(n.includeMainLabels&&pj(s,t,null),g&&(n.includeSourceLabels&&pj(s,t,"source"),n.includeTargetLabels&&pj(s,t,"target")))}return s.x1=oo(s.x1),s.y1=oo(s.y1),s.x2=oo(s.x2),s.y2=oo(s.y2),s.w=oo(s.x2-s.x1),s.h=oo(s.y2-s.y1),s.w>0&&s.h>0&&L&&(I2(s,F),B2(s,1)),s},"boundingBoxImpl"),YC=e(function(t){var o=0,s=e(function(e){return(e?1:0)<<o++},"tf"),n=0;return n+=s(t.incudeNodes),n+=s(t.includeEdges),n+=s(t.includeLabels),n+=s(t.includeMainLabels),n+=s(t.includeSourceLabels),n+=s(t.includeTargetLabels),n+=s(t.includeOverlays),n+=s(t.includeOutlines),n},"getKey"),XC=e(function(t){if(t.isEdge()){var s=t.source().position(),o=t.target().position(),n=e(function(e){return Math.round(e)},"r");return ySe([n(s.x),n(s.y),n(o.x),n(o.y)])}return 0},"getBoundingBoxPosKey"),tE=e(function(t,n){var s,a,o=t._private,r=t.isEdge(),u=n==null?nE:YC(n),h=u===nE,c=XC(t),l=o.bbCachePosKey===c,d=n.useCache&&l,i=e(function(e){return e._private.bbCache==null||e._private.styleDirty},"isDirty"),m=!d||i(t)||r&&(i(t.source())||i(t.target()));return(m?(l||t.recalculateRenderedStyle(d),s=PNe(t,X1),o.bbCache=s,o.bbCachePosKey=c):s=o.bbCache,!h)&&(a=t.isNode(),s=gs(),(n.includeNodes&&a||n.includeEdges&&!a)&&(n.includeOverlays?uc(s,o.overlayBounds):uc(s,o.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!r||n.includeSourceLabels&&n.includeTargetLabels)?uc(s,o.labelBounds.all):(n.includeMainLabels&&uc(s,o.labelBounds.mainRot),n.includeSourceLabels&&uc(s,o.labelBounds.sourceRot),n.includeTargetLabels&&uc(s,o.labelBounds.targetRot))),s.w=s.x2-s.x1,s.h=s.y2-s.y1),s},"cachedBoundingBoxImpl"),X1={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},nE=YC(X1),dE=Kt(X1),Gr.boundingBox=function(e){if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=X1:e=dE(e),t=tE(this[0],e);else{t=gs(),e=e||X1;var a=dE(e),n=this,l=n.cy(),m=l.styleEnabled();if(m)for(o=0;o<n.length;o++){var t,s,o,r,i=n[o],c=i._private,h=XC(i),d=c.bbCachePosKey===h,u=a.useCache&&d&&!c.styleDirty;i.recalculateRenderedStyle(u)}this.updateCompoundBounds(!e.useCache);for(s=0;s<n.length;s++)r=n[s],uc(t,tE(r,a))}return t.x1=oo(t.x1),t.y1=oo(t.y1),t.x2=oo(t.x2),t.y2=oo(t.y2),t.w=oo(t.x2-t.x1),t.h=oo(t.y2-t.y1),t},Gr.dirtyBoundingBoxCache=function(){for(var e,t=0;t<this.length;t++)e=this[t]._private,e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null;return this.emitAndNotify("bounds"),this},Gr.boundingBoxAt=function(t){var a,r,c,l,s=this.nodes(),o=this.cy(),i=o.hasCompoundNodes(),n=o.collection();return(i&&(n=s.filter(function(e){return e.isParent()}),s=s.not(n)),Oe(t))&&(a=t,t=e(function(){return a},"fn")),r=e(function(e,n){return e._private.bbAtOldPos=t(e,n)},"storeOldPos"),c=e(function(e){return e._private.bbAtOldPos},"getOldPos"),o.startBatch(),s.forEach(r).silentPositions(t),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),l=LMe(this.boundingBox({useCache:!1})),s.silentPositions(c),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),o.endBatch(),l},c4.boundingbox=c4.bb=c4.boundingBox,c4.renderedBoundingbox=c4.renderedBoundingBox,UNe=Gr,gf=yf={},_E=e(function(t){t.uppercaseName=rA(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=rA(t.outerName),gf[t.name]=e(function(){var s,e=this[0],n=e._private,o=n.cy,i=o._private.styleEnabled;if(e)if(i){if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;switch(s=e.pstyle(t.name),s.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},"dimImpl"),gf["outer"+t.uppercaseName]=e(function(){var e=this[0],n=e._private,s=n.cy,o=s._private.styleEnabled;if(e)if(o){var i=e[t.name](),a=e.pstyle("border-width").pfValue,r=2*e.padding();return i+a+r}else return 1},"outerDimImpl"),gf["rendered"+t.uppercaseName]=e(function(){var n,e=this[0];if(e)return n=e[t.name](),n*this.cy().zoom()},"renderedDimImpl"),gf["rendered"+t.uppercaseOuterName]=e(function(){var n,e=this[0];if(e)return n=e[t.outerName](),n*this.cy().zoom()},"renderedOuterDimImpl")},"defineDimFns"),_E({name:"width"}),_E({name:"height"}),yf.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},yf.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},yf.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()},GNe=yf,XNe=e(function(e,t){if(e.isEdge())return t(e)},"ifEdge"),QNe=e(function(e,t){if(e.isEdge()){var n=e.cy();return e3(t(e),n.zoom(),n.pan())}},"ifEdgeRenderedPosition"),ZNe=e(function(e,t){if(e.isEdge()){var n=e.cy(),s=n.pan(),o=n.zoom();return t(e).map(function(e){return e3(e,o,s)})}},"ifEdgeRenderedPositions"),JNe=e(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),eLe=e(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),tLe=e(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint"),nLe=e(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint"),sLe=e(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint"),OE={controlPoints:{get:JNe,mult:!0},segmentPoints:{get:eLe,mult:!0},sourceEndpoint:{get:tLe},targetEndpoint:{get:nLe},midpoint:{get:sLe}},iLe=e(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),aLe=Object.keys(OE).reduce(function(e,t){var n=OE[t],s=iLe(t);return e[t]=function(){return XNe(this,n.get)},n.mult?e[s]=function(){return ZNe(this,n.get)}:e[s]=function(){return QNe(this,n.get)},e},{}),rLe=ee({},ANe,UNe,GNe,aLe),kE=e(function(e,t){this.recycle(e,t)},"Event"),e(R1,"returnFalse"),e(Tf,"returnTrue"),kE.prototype={instanceString:e(function(){return"event"},"instanceString"),recycle:e(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=R1,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Tf:R1):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,s=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*s+o.x,y:n.y*s+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:e(function(){this.isDefaultPrevented=Tf;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:e(function(){this.isPropagationStopped=Tf;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:e(function(){this.isImmediatePropagationStopped=Tf,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:R1,isPropagationStopped:R1,isImmediatePropagationStopped:R1},AE=/^([^.]+)(\.(?:[^.]+))?$/,dLe=".*",zE={qualifierCompare:e(function(e,t){return e===t},"qualifierCompare"),eventMatches:e(function(){return!0},"eventMatches"),addEventFields:e(function(){},"addEventFields"),callbackContext:e(function(e){return e},"callbackContext"),beforeEmit:e(function(){},"beforeEmit"),afterEmit:e(function(){},"afterEmit"),bubble:e(function(){return!1},"bubble"),parent:e(function(){return null},"parent"),context:null},UE=Object.keys(zE),mLe={},e(Mf,"Emitter"),qa=Mf.prototype,XE=e(function(e,t,n,s,o,i,a){st(s)&&(o=s,s=null),a&&(i==null?i=a:i=ee({},i,a));for(d=$e(n)?n:n.split(/\s+/),c=0;c<d.length;c++)if(l=d[c],!La(l)&&(r=l.match(AE),r)){var r,c,l,d,u=r[1],h=r[2]?r[2]:null,m=t(e,l,u,h,s,o,i);if(m===!1)break}},"forEachEvent"),ZE=e(function(e,t){return e.addEventFields(e.context,t),new kE(t.type,t)},"makeEventObj"),vLe=e(function(e,t,n){if(Uke(n)){t(e,n);return}if(Oe(n)){t(e,ZE(e,n));return}for(i=$e(n)?n:n.split(/\s+/),o=0;o<i.length;o++)if(a=i[o],!La(a)&&(s=a.match(AE),s)){var s,o,i,a,r=s[1],c=s[2]?s[2]:null,l=ZE(e,{type:r,namespace:c,target:e.context});t(e,l)}},"forEachEventObj"),qa.on=qa.addListener=function(e,t,n,s,o){return XE(this,function(e,t,n,s,o,i,a){st(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:s,qualifier:o,conf:a})},e,t,n,s,o),this},qa.one=function(e,t,n,s){return this.on(e,t,n,s,{one:!0})},qa.removeListener=qa.off=function(t,n,s,o){r=this,this.emitting!==0&&(this.listeners=RSe(this.listeners));for(var r,i=this.listeners,c=e(function(e){var a=i[e];XE(r,function(n,s,o,r,c,l){if((a.type===o||t==="*")&&(!r&&a.namespace!==".*"||a.namespace===r)&&(!c||n.qualifierCompare(a.qualifier,c))&&(!l||a.callback===l))return i.splice(e,1),!1},t,n,s,o)},"_loop"),a=i.length-1;a>=0;a--)c(a);return this},qa.removeAllListeners=function(){return this.removeListener("*")},qa.emit=qa.trigger=function(t,n,s){var o=this.listeners,i=o.length;return this.emitting++,$e(n)||(n=[n]),vLe(this,function(t,a){s!=null&&(o=[{event:a.event,type:a.type,namespace:a.namespace,callback:s}],i=o.length);for(var c=e(function(e){if(s=o[e],s.type===a.type&&(!s.namespace||s.namespace===a.namespace||s.namespace===dLe)&&t.eventMatches(t.context,s,a)){i=[a],n!=null&&WSe(i,n),t.beforeEmit(t.context,s,a),s.conf&&s.conf.one&&(t.listeners=t.listeners.filter(function(e){return e!==s}));var s,i,r=t.callbackContext(t.context,s,a),c=s.callback.apply(r,i);t.afterEmit(t.context,s,a),c===!1&&(a.stopPropagation(),a.preventDefault())}},"_loop2"),r=0;r<i;r++)c(r);t.bubble(t.context)&&!a.isPropagationStopped()&&t.parent(t.context).emit(a,n)},t),this.emitting--,this},bLe={qualifierCompare:e(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:e(function(e,t,n){var s=t.qualifier;return s==null||e!==n.target&&S4(n.target)&&s.matches(n.target)},"eventMatches"),addEventFields:e(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:e(function(e,t,n){return t.qualifier!=null?n.target:e},"callbackContext"),beforeEmit:e(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:e(function(){return!0},"bubble"),parent:e(function(e){return e.isChild()?e.parent():e.cy()},"parent")},Hf=e(function(e){return Y(e)?new _r(e):e},"argSelector"),tk={createEmitter:e(function(){for(e=0;e<this.length;e++){var e,t=this[e],n=t._private;n.emitter||(n.emitter=new Mf(bLe,t))}return this},"createEmitter"),emitter:e(function(){return this._private.emitter},"emitter"),on:e(function(e,t,n){for(var o,i=Hf(t),s=0;s<this.length;s++)o=this[s],o.emitter().on(e,i,n);return this},"on"),removeListener:e(function(e,t,n){for(var o,i=Hf(t),s=0;s<this.length;s++)o=this[s],o.emitter().removeListener(e,i,n);return this},"removeListener"),removeAllListeners:e(function(){for(var t,e=0;e<this.length;e++)t=this[e],t.emitter().removeAllListeners();return this},"removeAllListeners"),one:e(function(e,t,n){for(var o,i=Hf(t),s=0;s<this.length;s++)o=this[s],o.emitter().one(e,i,n);return this},"one"),once:e(function(e,t,n){for(var o,i=Hf(t),s=0;s<this.length;s++)o=this[s],o.emitter().on(e,i,n,{once:!0,onceCollection:this})},"once"),emit:e(function(e,t){for(var s,n=0;n<this.length;n++)s=this[n],s.emitter().emit(e,t);return this},"emit"),emitAndNotify:e(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")},Me.eventAliasesOn(tk),sk={nodes:e(function(e){return this.filter(function(e){return e.isNode()}).filter(e)},"nodes"),edges:e(function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},"edges"),byGroup:e(function(){for(var e,n=this.spawn(),s=this.spawn(),t=0;t<this.length;t++)e=this[t],e.isNode()?n.push(e):s.push(e);return{nodes:n,edges:s}},"byGroup"),filter:e(function(e,t){if(e===void 0)return this;if(Y(e)||ys(e))return new _r(e).filter(this);if(st(e)){for(var o,a,i=this.spawn(),s=this,n=0;n<s.length;n++)o=s[n],a=t?e.apply(t,[o,n,s]):e(o,n,s),a&&i.push(o);return i}return this.spawn()},"filter"),not:e(function(e){if(e){Y(e)&&(e=this.filter(e));for(var n,o,s=this.spawn(),t=0;t<this.length;t++)n=this[t],o=e.has(n),o||s.push(n);return s}return this},"not"),absoluteComplement:e(function(){var e=this.cy();return e.mutableElements().not(this)},"absoluteComplement"),intersect:e(function(e){if(Y(e))return s=e,this.filter(s);for(var n,s,o=this.spawn(),i=this,a=e,r=this.length<e.length,c=r?i:a,l=r?a:i,t=0;t<c.length;t++)n=c[t],l.has(n)&&o.push(n);return o},"intersect"),xor:e(function(t){n=this._private.cy,Y(t)&&(t=n.$(t));var n,s=this.spawn(),o=this,i=t,a=e(function(e,t){for(n=0;n<e.length;n++){var n,o=e[n],i=o._private.data.id,a=t.hasElementWithId(i);a||s.push(o)}},"add");return a(o,i),a(i,o),s},"xor"),diff:e(function(t){n=this._private.cy,Y(t)&&(t=n.$(t));var n,s=this.spawn(),o=this.spawn(),i=this.spawn(),a=this,r=t,c=e(function(e,t,n){for(s=0;s<e.length;s++){var s,o=e[s],a=o._private.data.id,r=t.hasElementWithId(a);r?i.merge(o):n.push(o)}},"add");return c(a,r,s),c(r,a,o),{left:s,right:o,both:i}},"diff"),add:e(function(e){if(s=this._private.cy,!e)return this;Y(e)&&(o=e,e=s.mutableElements().filter(o));for(var n,s,o,a,i=this.spawnSelf(),t=0;t<e.length;t++)n=e[t],a=!this.has(n),a&&i.push(n);return i},"add"),merge:e(function(e){if(n=this._private,a=n.cy,!e)return this;e&&Y(e)&&(r=e,e=a.mutableElements().filter(r));for(s=n.map,t=0;t<e.length;t++){var t,n,s,i,a,r,o=e[t],c=o._private.data.id,l=!s.has(c);l&&(i=this.length++,this[i]=o,s.set(c,{ele:o,index:i}))}return this},"merge"),unmergeAt:e(function(e){var s,i=this[e],a=i.id(),r=this._private,n=r.map;if(this[e]=void 0,n.delete(a),s=e===this.length-1,this.length>1&&!s){var o=this.length-1,t=this[o],c=t._private.data.id;this[o]=void 0,this[e]=t,n.set(c,{ele:t,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:e(function(e){e=e[0];var n,s=this._private,o=e._private.data.id,i=s.map,t=i.get(o);return t?(n=t.index,this.unmergeAt(n),this):this},"unmergeOne"),unmerge:e(function(e){var t,n,s=this._private.cy;if(!e)return this;e&&Y(e)&&(n=e,e=s.mutableElements().filter(n));for(t=0;t<e.length;t++)this.unmergeOne(e[t]);return this},"unmerge"),unmergeBy:e(function(e){for(var n,t=this.length-1;t>=0;t--)n=this[t],e(n)&&this.unmergeAt(t);return this},"unmergeBy"),map:e(function(e,t){for(var o,a,i=[],s=this,n=0;n<s.length;n++)o=s[n],a=t?e.apply(t,[o,n,s]):e(o,n,s),i.push(a);return i},"map"),reduce:e(function(e,t){for(var s=t,o=this,n=0;n<o.length;n++)s=e(s,o[n],n,o);return s},"reduce"),max:e(function(e,t){for(var o,a,r,i=-1/0,s=this,n=0;n<s.length;n++)o=s[n],a=t?e.apply(t,[o,n,s]):e(o,n,s),a>i&&(i=a,r=o);return{value:i,ele:r}},"max"),min:e(function(e,t){for(var o,a,r,i=1/0,s=this,n=0;n<s.length;n++)o=s[n],a=t?e.apply(t,[o,n,s]):e(o,n,s),a<i&&(i=a,r=o);return{value:i,ele:r}},"min")},Ee=sk,Ee.u=Ee["|"]=Ee["+"]=Ee.union=Ee.or=Ee.add,Ee["\\"]=Ee["!"]=Ee["-"]=Ee.difference=Ee.relativeComplement=Ee.subtract=Ee.not,Ee.n=Ee["&"]=Ee["."]=Ee.and=Ee.intersection=Ee.intersect,Ee["^"]=Ee["(+)"]=Ee["(-)"]=Ee.symmetricDifference=Ee.symdiff=Ee.xor,Ee.fnFilter=Ee.filterFn=Ee.stdFilter=Ee.filter,Ee.complement=Ee.abscomp=Ee.absoluteComplement,OLe={isNode:e(function(){return this.group()==="nodes"},"isNode"),isEdge:e(function(){return this.group()==="edges"},"isEdge"),isLoop:e(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:e(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:e(function(){var e=this[0];if(e)return e._private.group},"group")},uk=e(function(t,n){var o,a,r,c=t.cy(),l=c.hasCompoundNodes();function s(e){var t=e.pstyle("z-compound-depth");return t.value==="auto"?l?e.zDepth():0:t.value==="bottom"?-1:t.value==="top"?Yj:0}if(e(s,"getDepth"),o=s(t)-s(n),o!==0)return o;function i(e){var t=e.pstyle("z-index-compare");return t.value==="auto"&&e.isNode()?1:0}return e(i,"getEleDepth"),a=i(t)-i(n),a!==0?a:(r=t.pstyle("z-index").value-n.pstyle("z-index").value,r!==0?r:t.poolIndex()-n.poolIndex())},"zIndexSort"),s6={forEach:e(function(e,t){if(st(e))for(var s,o,i=this.length,n=0;n<i;n++)if(s=this[n],o=t?e.apply(t,[s,n,this]):e(s,n,this),o===!1)break;return this},"forEach"),toArray:e(function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},"toArray"),slice:e(function(e,t){var n,o=[],s=this.length;t==null&&(t=s),e==null&&(e=0),e<0&&(e=s+e),t<0&&(t=s+t);for(n=e;n>=0&&n<t&&n<s;n++)o.push(this[n]);return this.spawn(o)},"slice"),size:e(function(){return this.length},"size"),eq:e(function(e){return this[e]||this.spawn()},"eq"),first:e(function(){return this[0]||this.spawn()},"first"),last:e(function(){return this[this.length-1]||this.spawn()},"last"),empty:e(function(){return this.length===0},"empty"),nonempty:e(function(){return!this.empty()},"nonempty"),sort:e(function(e){if(!st(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:e(function(){return this.sort(uk)},"sortByZIndex"),zDepth:e(function(){if(e=this[0],e){if(t=e._private,n=t.group,n==="nodes")return s=t.data.parent?e.parents().size():0,e.isParent()?s:Yj-1;var e,t,n,s,o=t.source,i=t.target,a=o.zDepth(),r=i.zDepth();return Math.max(a,r,0)}},"zDepth")},s6.each=s6.forEach,ELe=e(function(){var t="undefined",n=(typeof Symbol>"u"?"undefined":Wt(Symbol))!=t&&Wt(Symbol.iterator)!=t;n&&(s6[Symbol.iterator]=function(){var s=this,t={value:void 0,done:!1},n=0,o=this.length;return hI({next:e(function(){return n<o?t.value=s[n++]:(t.value=void 0,t.done=!0),t},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator"),ELe(),kLe=Kt({nodeDimensionsIncludeLabels:!1}),i6={layoutDimensions:e(function(e){if(e=kLe(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var t,n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:e(function(t,n,s){var o,m,f,p,a=this.nodes().filter(function(e){return!e.isParent()}),i=this.cy(),j=n.eles,h=e(function(e){return e.id()},"getMemoizeKey"),u=N4(s,h);t.emit({type:"layoutstart",layout:t}),t.animations=[];var b=e(function(e,t,n){var s={x:t.x1+t.w/2,y:t.y1+t.h/2},o={x:(n.x-s.x)*e,y:(n.y-s.y)*e};return{x:s.x+o.x,y:s.y+o.y}},"calculateSpacing"),d=n.spacingFactor&&n.spacingFactor!==1,g=e(function(){if(!d)return null;for(var t,s,n=gs(),e=0;e<a.length;e++)s=a[e],t=u(s,e),IMe(n,t.x,t.y);return n},"spacingBb"),v=g(),c=N4(function(e,t){var o,s=u(e,t);return d&&(o=Math.abs(n.spacingFactor),s=b(o,v,s)),n.transform!=null&&(s=n.transform(e,s)),s},h);if(n.animate){for(o=0;o<a.length;o++){var r=a[o],l=c(r,o),y=n.animateFilter==null||n.animateFilter(r,o);y?(m=r.animation({position:l,duration:n.animationDuration,easing:n.animationEasing}),t.animations.push(m)):r.position(l)}n.fit?(f=i.animation({fit:{boundingBox:j.boundingBoxAt(c),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing}),t.animations.push(f)):n.zoom!==void 0&&n.pan!==void 0&&(p=i.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing}),t.animations.push(p)),t.animations.forEach(function(e){return e.play()}),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),dl.all(t.animations.map(function(e){return e.promise()})).then(function(){t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(c),n.fit&&i.fit(n.eles,n.padding),n.zoom!=null&&i.zoom(n.zoom),n.pan&&i.pan(n.pan),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});return this},"layoutPositions"),layout:e(function(e){var t=this.cy();return t.makeLayout(ee({},e,{eles:this}))},"layout")},i6.createLayout=i6.makeLayout=i6.layout,e(TP,"styleCache"),e(Af,"cacheStyleFunction"),e(kf,"cachePrototypeStyleFunction"),hn={recalculateRenderedStyle:e(function(e){var t=this.cy(),n=t.renderer(),s=t.styleEnabled();return n&&s&&n.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:e(function(){var t,s=this.cy(),n=e(function(e){return e._private.styleCache=null},"dirty");return s.hasCompoundNodes()?(t=this.spawnSelf().merge(this.descendants()).merge(this.parents()),t.merge(t.connectedEdges()),t.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)}),this},"dirtyStyleCache"),updateStyle:e(function(e){if(t=this._private.cy,!t.styleEnabled())return this;if(t.batching())return o=t._private.batchStyleEles,o.merge(this),this;var t,s,o,i=t.hasCompoundNodes(),n=this;return e=!!(e||e===void 0),i&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())),s=n,e?s.emitAndNotify("style"):s.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:e(function(){var e,t,n=this.cy();if(n.styleEnabled())for(e=0;e<this.length;e++)t=this[e],t._private.styleDirty&&(t._private.styleDirty=!1,n.style().apply(t))},"cleanStyle"),parsedStyle:e(function(e){var s,o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=this[0],n=t.cy();if(n.styleEnabled()&&t)return t._private.styleDirty&&(t._private.styleDirty=!1,n.style().apply(t)),s=t._private.style[e],s??(o?n.style().getDefaultProperty(e):null)},"parsedStyle"),numericStyle:e(function(e){var t,n=this[0];if(n.cy().styleEnabled()&&n)return t=n.pstyle(e),t.pfValue!==void 0?t.pfValue:t.value},"numericStyle"),numericStyleUnits:e(function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},"numericStyleUnits"),renderedStyle:e(function(e){var t,n=this.cy();if(!n.styleEnabled())return this;if(t=this[0],t)return n.style().getRenderedStyle(t,e)},"renderedStyle"),style:e(function(e,t){if(s=this.cy(),!s.styleEnabled())return this;var s,o,i,r,a=!1,n=s.style();if(Oe(e))r=e,n.applyBypass(this,r,a),this.emitAndNotify("style");else if(Y(e))if(t===void 0)return o=this[0],o?n.getStylePropertyValue(o,e):void 0;else n.applyBypass(this,e,t,a),this.emitAndNotify("style");else if(e===void 0)return i=this[0],i?n.getRawStyle(i):void 0;return this},"style"),removeStyle:e(function(e){if(o=this.cy(),!o.styleEnabled())return this;var n,s,o,r,c,i=!1,a=o.style(),t=this;if(e===void 0)for(n=0;n<t.length;n++)r=t[n],a.removeAllBypasses(r,i);else{e=e.split(/\s+/);for(s=0;s<t.length;s++)c=t[s],a.removeBypasses(c,e,i)}return this.emitAndNotify("style"),this},"removeStyle"),show:e(function(){return this.css("display","element"),this},"show"),hide:e(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:e(function(){if(o=this.cy(),!o.styleEnabled())return 1;var e,n,s,o,i,a,r,c=o.hasCompoundNodes(),t=this[0];if(t){if(i=t._private,e=t.pstyle("opacity").value,!c)return e;if(n=i.data.parent?t.parents():null,n)for(s=0;s<n.length;s++)a=n[s],r=a.pstyle("opacity").value,e=r*e;return e}},"effectiveOpacity"),transparent:e(function(){if(t=this.cy(),!t.styleEnabled())return!1;var t,e=this[0],n=e.cy().hasCompoundNodes();if(e)return n?e.effectiveOpacity()===0:e.pstyle("opacity").value===0},"transparent"),backgrounding:e(function(){var e,t=this.cy();return!!t.styleEnabled()&&(e=this[0],!!e._private.backgrounding)},"backgrounding")},e(l5,"checkCompound"),e(u5,"defineDerivedStateFunction"),Vu=Af("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(!e.isNode()||e.height()!==0)}),hn.takesUpSpace=kf("takesUpSpace",u5({ok:Vu})),FLe=Af("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Vu(e)}),TLe=Af("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Vu(e)}),hn.interactive=kf("interactive",u5({ok:FLe,parentOk:TLe,edgeOkViaNode:Vu})),hn.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},zLe=Af("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Vu(e)}),DLe=Vu,hn.visible=kf("visible",u5({ok:zLe,edgeOkViaNode:DLe})),hn.hidden=function(){var e=this[0];if(e)return!e.visible()},hn.isBundledBezier=kf("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()}),hn.bypass=hn.css=hn.style,hn.renderedCss=hn.renderedStyle,hn.removeBypass=hn.removeCss=hn.removeStyle,hn.pstyle=hn.parsedStyle,Za={},e(KR,"defineSwitchFunction"),e(kd,"defineSwitchSet"),kd({field:"locked",overrideField:e(function(e){return!!e.cy().autolock()||void 0},"overrideField"),on:"lock",off:"unlock"}),kd({field:"grabbable",overrideField:e(function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},"overrideField"),on:"grabify",off:"ungrabify"}),kd({field:"selected",ableField:"selectable",overrideAble:e(function(e){return!e.cy().autounselectify()&&void 0},"overrideAble"),on:"select",off:"unselect"}),kd({field:"selectable",overrideField:e(function(e){return!e.cy().autounselectify()&&void 0},"overrideField"),on:"selectify",off:"unselectify"}),Za.deselect=Za.unselect,Za.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},kd({field:"active",on:"activate",off:"unactivate"}),kd({field:"pannable",on:"panify",off:"unpanify"}),Za.inactive=function(){var e=this[0];if(e)return!e._private.active},jn={},pk=e(function(t){return e(function(e){for(var n,i=this,a=[],s=0;s<i.length;s++)if(n=i[s],n.isNode()){for(var r=!1,c=n.connectedEdges(),o=0;o<c.length;o++){var l=c[o],d=l.source(),u=l.target();if(t.noIncomingEdges&&u===n&&d!==n||t.noOutgoingEdges&&d===n&&u!==n){r=!0;break}}r||a.push(n)}return this.spawn(a,!0).filter(e)},"dagExtremityImpl")},"defineDagExtremity"),Ok=e(function(e){return function(t){for(var s,o,r,c=this,n=[],a=0;a<c.length;a++)if(s=c[a],s.isNode())for(r=s.connectedEdges(),o=0;o<r.length;o++){var i=r[o],l=i.source(),d=i.target();e.outgoing&&l===s?(n.push(i),n.push(d)):e.incoming&&d===s&&(n.push(i),n.push(l))}return this.spawn(n,!0).filter(t)}},"defineDagOneHop"),xk=e(function(e){return function(t){for(var n,s,i,a,r,o=this,c=[],l={};;){if(n=e.outgoing?o.outgoers():o.incomers(),n.length===0)break;for(i=!1,s=0;s<n.length;s++)a=n[s],r=a.id(),l[r]||(l[r]=!0,c.push(a),i=!0);if(!i)break;o=n}return this.spawn(c,!0).filter(t)}},"defineDagAllHops"),jn.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},ee(jn,{roots:pk({noIncomingEdges:!0}),leaves:pk({noOutgoingEdges:!0}),outgoers:Qs(Ok({outgoing:!0}),"outgoers"),successors:xk({outgoing:!0}),incomers:Qs(Ok({incoming:!0}),"incomers"),predecessors:xk({incoming:!0})}),ee(jn,{neighborhood:Qs(function(e){for(var t=[],i=this.nodes(),n=0;n<i.length;n++)for(var a=i[n],r=a.connectedEdges(),s=0;s<r.length;s++){var o=r[s],c=o.source(),d=o.target(),l=a===c?d:c;l.length>0&&t.push(l[0]),t.push(o[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:e(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:e(function(e){return this.neighborhood(e)},"openNeighborhood")}),jn.neighbourhood=jn.neighborhood,jn.closedNeighbourhood=jn.closedNeighborhood,jn.openNeighbourhood=jn.openNeighborhood,ee(jn,{source:Qs(e(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"sourceImpl"),"source"),target:Qs(e(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"targetImpl"),"target"),sources:zR({attr:"source"}),targets:zR({attr:"target"})}),e(zR,"defineSourceFunction"),ee(jn,{edgesWith:Qs(kR(),"edgesWith"),edgesTo:Qs(kR({thisIsSrc:!0}),"edgesTo")}),e(kR,"defineEdgesWithFunction"),ee(jn,{connectedEdges:Qs(function(e){for(var t,s,o,r,i=[],a=this,n=0;n<a.length;n++)if(s=a[n],s.isNode())for(o=s._private.edges,t=0;t<o.length;t++)r=o[t],i.push(r);return this.spawn(i,!0).filter(e)},"connectedEdges"),connectedNodes:Qs(function(e){for(var t,n=[],o=this,s=0;s<o.length;s++)t=o[s],t.isEdge()&&(n.push(t.source()[0]),n.push(t.target()[0]));return this.spawn(n,!0).filter(e)},"connectedNodes"),parallelEdges:Qs(cR(),"parallelEdges"),codirectedEdges:Qs(cR({codirected:!0}),"codirectedEdges")}),e(cR,"defineParallelEdgesFunction"),ee(jn,{components:e(function(t){var o,r,s=this,i=s.cy(),c=i.collection(),n=t==null?s.nodes():t.nodes(),a=[];if(t!=null&&n.empty()&&(n=t.sources()),o=e(function(e,t){c.merge(e),n.unmerge(e),t.merge(e)},"visitInComponent"),n.empty())return s.spawn();r=e(function(){var r,t=i.collection();a.push(t),r=n[0],o(r,t),s.bfs({directed:!1,roots:r,visit:e(function(e){return o(e,t)},"visit")}),t.forEach(function(e){e.connectedEdges().forEach(function(e){s.has(e)&&t.has(e.source())&&t.has(e.target())&&t.merge(e)})})},"_loop");do r();while(n.length>0)return a},"components"),component:e(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),jn.componentsOf=jn.components,dn=e(function(t,n){if(r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],t===void 0){it("A collection must have a reference to the core");return}if(a=new yi,l=!1,n){if(n.length>0&&Oe(n[0])&&!S4(n[0])){l=!0;for(var s,o,i,a,r,c,l,u,m,p,g,f=[],h=new Id,d=0,v=n.length;d<v;d++){if(o=n[d],o.data==null&&(o.data={}),s=o.data,s.id==null)s.id=i_();else if(t.hasElementWithId(s.id)||h.has(s.id))continue;m=new i3(t,o,!1),f.push(m),h.add(s.id)}n=f}}else n=[];this.length=0;for(c=0,p=n.length;c<p;c++)i=n[c][0],i!=null&&(u=i._private.data.id,(!r||!a.has(u))&&(r&&a.set(u,{index:this.length,ele:i}),this[this.length]=i,this.length++));this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:e(function(){for(var t,s=this.lazyMap=new yi,n=this.eles,e=0;e<n.length;e++)t=n[e],s.set(t.id(),{index:e,ele:t})},"rebuildMap")},r&&(this._private.map=a),l&&!g&&this.restore()},"Collection"),Ue=i3.prototype=dn.prototype=Object.create(Array.prototype),Ue.instanceString=function(){return"collection"},Ue.spawn=function(e,t){return new dn(this.cy(),e,t)},Ue.spawnSelf=function(){return this.spawn(this)},Ue.cy=function(){return this._private.cy},Ue.renderer=function(){return this._private.cy.renderer()},Ue.element=function(){return this[0]},Ue.collection=function(){return GS(this)?this:new dn(this._private.cy,[this])},Ue.unique=function(){return new dn(this._private.cy,this,!0)},Ue.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Ue.getElementById=function(e){e=""+e;var n=this._private.cy,t=this._private.map.get(e);return t?t.ele:new dn(n)},Ue.$id=Ue.getElementById,Ue.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this[0]._private.data.id;return t._private.map.get(n).index},Ue.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Ue.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Ue.json=function(t){if(n=this.element(),h=this.cy(),n==null&&t)return this;if(n!=null){if(s=n._private,Oe(t)){if(h.startBatch(),t.data)if(n.data(t.data),a=s.data,n.isEdge()){var n,s,o,i,a,r,h,m,f,u=!1,c={},l=t.data.source,d=t.data.target;l!=null&&l!=a.source&&(c.source=""+l,u=!0),d!=null&&d!=a.target&&(c.target=""+d,u=!0),u&&(n=n.move(c))}else m="parent"in t.data,o=t.data.parent,m&&(o!=null||a.parent!=null)&&o!=a.parent&&(o===void 0&&(o=null),o!=null&&(o=""+o),n=n.move({parent:o}));return t.position&&n.position(t.position),i=e(function(e,o,i){var a=t[e];a!=null&&a!==s[e]&&(a?n[o]():n[i]())},"checkSwitch"),i("removed","remove","restore"),i("selected","select","unselect"),i("selectable","selectify","unselectify"),i("locked","lock","unlock"),i("grabbable","grabify","ungrabify"),i("pannable","panify","unpanify"),t.classes!=null&&n.classes(t.classes),h.endBatch(),this}if(t===void 0)return r={data:gi(s.data),position:gi(s.position),group:s.group,removed:s.removed,selected:s.selected,selectable:s.selectable,locked:s.locked,grabbable:s.grabbable,pannable:s.pannable,classes:null},r.classes="",f=0,s.classes.forEach(function(e){return r.classes+=f++===0?e:" "+e}),r}},Ue.jsons=function(){for(var n,s,t=[],e=0;e<this.length;e++)n=this[e],s=n.json(),t.push(s);return t},Ue.clone=function(){for(var t=this.cy(),n=[],e=0;e<this.length;e++){var s=this[e],o=s.json(),i=new i3(t,o,!1);n.push(i)}return new dn(t,n)},Ue.copy=Ue.clone,Ue.restore=function(){for(var s,o,i,r,c,l,u,m,f,p,g,v,b,y,_,w,O,C,A,F,z,N,R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],x=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],d=this,n=d.cy(),L=n._private,E=[],D=[],T=0,I=d.length;T<I;T++)f=d[T],x&&!f.removed()||(f.isNode()?E.push(f):D.push(f));c=E.concat(D),w=e(function(){c.splice(l,1),l--},"removeFromElements");for(l=0;l<c.length;l++){var a=c[l],h=a._private,t=h.data;if(a.clearTraversalCache(),!!x||!!h.removed)if(t.id===void 0)t.id=i_();else if(k(t.id))t.id=""+t.id;else if(La(t.id)||!Y(t.id)){it("Can not create element with invalid string ID `"+t.id+"`"),w();continue}else if(n.hasElementWithId(t.id)){it("Can not create second element with ID `"+t.id+"`"),w();continue}if(_=t.id,a.isNode()&&(b=h.position,b.x==null&&(b.x=0),b.y==null&&(b.y=0)),a.isEdge()){for(var j=a,P=["source","target"],H=P.length,S=!1,M=0;M<H;M++)u=P[M],r=t[u],k(r)&&(r=t[u]=""+t[u]),r==null||r===""?(it("Can not create edge `"+_+"` with unspecified "+u),S=!0):n.hasElementWithId(r)||(it("Can not create edge `"+_+"` with nonexistant "+u+" `"+r+"`"),S=!0);if(S){w();continue}g=n.getElementById(t.source),O=n.getElementById(t.target),g.same(O)?g._private.edges.push(j):(g._private.edges.push(j),O._private.edges.push(j)),j._private.source=g,j._private.target=O}h.map=new yi,h.map.set(_,{ele:a,index:0}),h.removed=!1,x&&n.addToPool(a)}for(y=0;y<E.length;y++)if(o=E[y],i=o._private.data,k(i.parent)&&(i.parent=""+i.parent),z=i.parent,N=z!=null,N||o._private.parent)if(m=o._private.parent?n.collection().merge(o._private.parent):n.getElementById(z),m.empty())i.parent=void 0;else if(m[0].removed())ze("Node added with missing parent, reference to parent removed"),i.parent=void 0,o._private.parent=null;else{for(A=!1,p=m;!p.empty();){if(o.same(p)){A=!0,i.parent=void 0;break}p=p.parent()}A||(m[0]._private.children.push(o),o._private.parent=m[0],L.hasCompoundNodes=!0)}if(c.length>0){for(s=c.length===d.length?d:new dn(n,c),C=0;C<s.length;C++)v=s[C],v.isNode()||(v.parallelEdges().clearTraversalCache(),v.source().clearTraversalCache(),v.target().clearTraversalCache());L.hasCompoundNodes?F=n.collection().merge(s).merge(s.connectedNodes()).merge(s.parent()):F=s,F.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(R),R?s.emitAndNotify("add"):x&&s.emit("add")}return d},Ue.removed=function(){var e=this[0];return e&&e._private.removed},Ue.inside=function(){var e=this[0];return e&&!e._private.removed},Ue.remove=function(){var t,n,i,a,c,d,h,m,f,p,g,v,b,_,w,C,E,k,M=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=this,s=[],O={},r=u._private.cy;function y(e){for(var n=e._private.edges,t=0;t<n.length;t++)l(n[t])}e(y,"addConnectedEdges");function A(e){for(var n=e._private.children,t=0;t<n.length;t++)l(n[t])}e(A,"addChildren");function l(e){var t=O[e.id()];o&&e.removed()||t||(O[e.id()]=!0,e.isNode()?(s.push(e),y(e),A(e)):s.unshift(e))}e(l,"add");for(d=0,k=u.length;d<k;d++)C=u[d],l(C);function j(e,t){var n=e._private.edges;Ya(n,t),e.clearTraversalCache()}e(j,"removeEdgeRef");function S(e){e.clearTraversalCache()}e(S,"removeParallelRef"),n=[],n.ids={};function x(e,t){t=t[0],e=e[0];var o=e._private.children,s=e.id();Ya(o,t),t._private.parent=null,n.ids[s]||(n.ids[s]=!0,n.push(e))}e(x,"removeChildRef"),u.dirtyCompoundBoundsCache(),o&&r.removeFromPool(s);for(f=0;f<s.length;f++){if(t=s[f],t.isEdge()){w=t.source()[0],_=t.target()[0],j(w,t),j(_,t);for(g=t.parallelEdges(),a=0;a<g.length;a++)m=g[a],S(m),m.isBundledBezier()&&m.dirtyBoundingBoxCache()}else b=t.parent(),b.length!==0&&x(b,t);o&&(t._private.removed=!0)}p=r._private.elements,r._private.hasCompoundNodes=!1;for(h=0;h<p.length;h++)if(E=p[h],E.isParent()){r._private.hasCompoundNodes=!0;break}i=new dn(this.cy(),s),i.size()>0&&(M?i.emitAndNotify("remove"):o&&i.emit("remove"));for(c=0;c<n.length;c++)v=n[c],(!o||!v.removed())&&v.updateStyle();return i},Ue.move=function(t){var o,h,m,s=this._private.cy,n=this,i=!1,a=!1,r=e(function(e){return e==null?e:""+e},"toString");if(t.source!==void 0||t.target!==void 0){var c=r(t.source),l=r(t.target),d=c!=null&&s.hasElementWithId(c),u=l!=null&&s.hasElementWithId(l);(d||u)&&(s.batch(function(){n.remove(i,a),n.emitAndNotify("moveout");for(e=0;e<n.length;e++){var e,t=n[e],s=t._private.data;t.isEdge()&&(d&&(s.source=c),u&&(s.target=l))}n.restore(i,a)}),n.emitAndNotify("move"))}else t.parent!==void 0&&(o=r(t.parent),h=o===null||s.hasElementWithId(o),h&&(m=o===null?void 0:o,s.batch(function(){t=n.remove(i,a),t.emitAndNotify("moveout");for(e=0;e<n.length;e++){var e,t,s=n[e],o=s._private.data;s.isNode()&&(o.parent=m)}t.restore(i,a)}),n.emitAndNotify("move")));return this},[EO,VDe,gm,kr,fd,wNe,D8,rLe,tk,sk,OLe,s6,i6,hn,Za,jn].forEach(function(e){ee(Ue,e)}),VLe={add:e(function(e){if(n=this,ys(e))if(s=e,s._private.cy===n)t=s.restore();else{for(l=[],i=0;i<s.length;i++)m=s[i],l.push(m.json());t=new dn(n,l)}else if($e(e))h=e,t=new dn(n,h);else if(Oe(e)&&($e(e.nodes)||$e(e.edges))){for(var t,n,s,o,i,a,r,l,h,m,f,p,g,v=e,d=[],u=["nodes","edges"],c=0,b=u.length;c<b;c++)if(r=u[c],a=v[r],$e(a))for(o=0,f=a.length;o<f;o++)p=ee({group:r},a[o]),d.push(p);t=new dn(n,d)}else g=e,t=new i3(n,g).collection();return t},"add"),remove:e(function(e){if(!ys(e)&&Y(e)){var t=e;e=this.$(t)}return e.remove()},"remove")},e(cEe,"generateCubicBezier"),$Le=function(){function n(e){return-e.tension*e.x-e.friction*e.v}e(n,"springAccelerationForState");function t(e,t,s){var o={x:e.x+s.dx*t,v:e.v+s.dv*t,tension:e.tension,friction:e.friction};return{dx:o.v,dv:n(o)}}e(t,"springEvaluateStateWithDerivative");function s(e,s){var o={dx:e.v,dv:n(e)},i=t(e,s*.5,o),a=t(e,s*.5,i),r=t(e,s,a),c=1/6*(o.dx+2*(i.dx+a.dx)+r.dx),l=1/6*(o.dv+2*(i.dv+a.dv)+r.dv);return e.x=e.x+c*s,e.v=e.v+l*s,e}return e(s,"springIntegrateState"),e(function e(t,n,o){var i,l,d,r={x:-1,v:0,tension:null,friction:null},c=[0],a=0,u=1/1e4,h=16/1e3;for(t=parseFloat(t)||500,n=parseFloat(n)||20,o=o||null,r.tension=t,r.friction=n,l=o!==null,l?(a=e(t,n),d=a/o*h):d=h;i=s(i||r,d),c.push(1+i.x),a+=16,Math.abs(i.x)>u&&Math.abs(i.v)>u;);return l?function(e){return c[e*(c.length-1)|0]}:a},"springRK4Factory")}(),Ke=e(function(e,t,n,s){var o=cEe(e,t,n,s);return function(e,t,n){return e+(t-e)*o(n)}},"cubicBezier"),x6={linear:e(function(e,t,n){return e+(t-e)*n},"linear"),ease:Ke(.25,.1,.25,1),"ease-in":Ke(.42,0,1,1),"ease-out":Ke(0,0,.58,1),"ease-in-out":Ke(.42,0,.58,1),"ease-in-sine":Ke(.47,0,.745,.715),"ease-out-sine":Ke(.39,.575,.565,1),"ease-in-out-sine":Ke(.445,.05,.55,.95),"ease-in-quad":Ke(.55,.085,.68,.53),"ease-out-quad":Ke(.25,.46,.45,.94),"ease-in-out-quad":Ke(.455,.03,.515,.955),"ease-in-cubic":Ke(.55,.055,.675,.19),"ease-out-cubic":Ke(.215,.61,.355,1),"ease-in-out-cubic":Ke(.645,.045,.355,1),"ease-in-quart":Ke(.895,.03,.685,.22),"ease-out-quart":Ke(.165,.84,.44,1),"ease-in-out-quart":Ke(.77,0,.175,1),"ease-in-quint":Ke(.755,.05,.855,.06),"ease-out-quint":Ke(.23,1,.32,1),"ease-in-out-quint":Ke(.86,0,.07,1),"ease-in-expo":Ke(.95,.05,.795,.035),"ease-out-expo":Ke(.19,1,.22,1),"ease-in-out-expo":Ke(1,0,0,1),"ease-in-circ":Ke(.6,.04,.98,.335),"ease-out-circ":Ke(.075,.82,.165,1),"ease-in-out-circ":Ke(.785,.135,.15,.86),spring:e(function(e,t,n){if(n===0)return x6.linear;var s=$Le(e,t,n);return function(e,t,n){return e+(t-e)*s(n)}},"spring"),"cubic-bezier":Ke},e(sR,"getEasedValue"),e(JL,"getValue"),e(cd,"ease"),e(hEe,"step$1"),e(W1,"valid"),e(fEe,"startAnimation"),e(GL,"stepAll"),KLe={animate:Me.animate(),animation:Me.animation(),animated:Me.animated(),clearQueue:Me.clearQueue(),delay:Me.delay(),delayAnimation:Me.delayAnimation(),stop:Me.stop(),addToAnimationPool:e(function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:e(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:e(function(){var n,t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function s(){t._private.animationsRunning&&Lh(e(function(e){GL(e,t),s()},"animationStep"))}e(s,"headlessStep"),n=t.renderer(),n&&n.beforeRender?n.beforeRender(e(function(e,n){GL(n,t)},"rendererAnimationStep"),n.beforeRenderPriorities.animations):s()},"startAnimationLoop")},qLe={qualifierCompare:e(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:e(function(e,t,n){var s=t.qualifier;return s==null||e!==n.target&&S4(n.target)&&s.matches(n.target)},"eventMatches"),addEventFields:e(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:e(function(e,t,n){return t.qualifier!=null?n.target:e},"callbackContext")},C6=e(function(e){return Y(e)?new _r(e):e},"argSelector"),Tk={createEmitter:e(function(){var e=this._private;return e.emitter||(e.emitter=new Mf(qLe,this)),this},"createEmitter"),emitter:e(function(){return this._private.emitter},"emitter"),on:e(function(e,t,n){return this.emitter().on(e,C6(t),n),this},"on"),removeListener:e(function(e,t,n){return this.emitter().removeListener(e,C6(t),n),this},"removeListener"),removeAllListeners:e(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:e(function(e,t,n){return this.emitter().one(e,C6(t),n),this},"one"),once:e(function(e,t,n){return this.emitter().one(e,C6(t),n),this},"once"),emit:e(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:e(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")},Me.eventAliasesOn(Tk),Wb={png:e(function(e){var t=this._private.renderer;return e=e||{},t.png(e)},"png"),jpg:e(function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)},"jpg")},Wb.jpeg=Wb.jpg,W3={layout:e(function(e){if(t=this,e==null){it("Layout options must be specified to make a layout");return}if(e.name==null){it("A `name` must be specified to make a layout");return}var t,n,i,s=e.name,o=t.extension("layout",s);if(o==null){it("No such layout `"+s+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}return Y(e.eles)?n=t.$(e.eles):n=e.eles!=null?e.eles:t.$(),i=new o(ee({},e,{cy:t,eles:n})),i},"layout")},W3.createLayout=W3.makeLayout=W3.layout,ZLe={notify:e(function(e,t){var s,o,n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{},o=n.batchNotifications[e]=n.batchNotifications[e]||this.collection(),t!=null&&o.merge(t);return}n.notificationsEnabled&&(s=this.renderer(),this.destroyed()||!s||s.notify(e,t))},"notify"),notifications:e(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:e(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:e(function(){return this._private.batchCount>0},"batching"),startBatch:e(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:e(function(){var t,e=this._private;return e.batchCount===0?this:((e.batchCount--,e.batchCount===0)&&(e.batchStyleEles.updateStyle(),t=this.renderer(),Object.keys(e.batchNotifications).forEach(function(n){var s=e.batchNotifications[n];s.empty()?t.notify(n):t.notify(n,s)})),this)},"endBatch"),batch:e(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:e(function(e){var t=this;return this.batch(function(){for(s=Object.keys(e),n=0;n<s.length;n++){var n,s,o=s[n],i=e[o],a=t.getElementById(o);a.data(i)}})},"batchData")},JLe=Kt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Ib={renderTo:e(function(e,t,n,s){var o=this._private.renderer;return o.renderTo(e,t,n,s),this},"renderTo"),renderer:e(function(){return this._private.renderer},"renderer"),forceRender:e(function(){return this.notify("draw"),this},"forceRender"),resize:e(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:e(function(e){var n,t=this,s=t.extension("renderer",e.name);if(s==null){it("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ze("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine."),n=JLe(e),n.cy=t,t._private.renderer=new s(n),this.notify("init")},"initRenderer"),destroyRenderer:e(function(){var e,t=this;if(t.notify("destroy"),e=t.container(),e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},"destroyRenderer"),onRender:e(function(e){return this.on("render",e)},"onRender"),offRender:e(function(e){return this.off("render",e)},"offRender")},Ib.invalidateDimensions=Ib.resize,O6={collection:e(function(e,t){return Y(e)?this.$(e):ys(e)?e.collection():$e(e)?(t||(t={}),new dn(this,e,t.unique,t.removed)):new dn(this)},"collection"),nodes:e(function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},"nodes"),edges:e(function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},"edges"),$:e(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:e(function(){return this._private.elements},"mutableElements")},O6.elements=O6.filter=O6.$,mn={},a1="t",oRe="f",mn.apply=function(e){for(var t,s,a,r,c,n=this,l=n._private,d=l.cy,i=d.collection(),o=0;o<e.length;o++)t=e[o],s=n.getContextMeta(t),s.empty||(a=n.getContextStyle(s),r=n.applyContextStyle(s,a,t),t._private.appliedInitStyle?n.updateTransitions(t,r.diffProps):t._private.appliedInitStyle=!0,c=n.updateStyleHints(t),c&&i.push(t));return i},mn.getPropertiesDiff=function(e,t){var s=this,b=s._private.propDiffs=s._private.propDiffs||{},v=e+"-"+t,p=b[v];if(p)return p;for(var u=[],f={},n=0;n<s.length;n++){var o,a,j,y,l=s[n],_=e[n]===a1,m=t[n]===a1,h=_!==m,c=l.mappedProperties.length>0;if(h||m&&c){o=void 0,h&&c||h?o=l.properties:c&&(o=l.mappedProperties);for(a=0;a<o.length;a++){for(var g=o[a],r=g.name,d=!1,i=n+1;i<s.length;i++)if(j=s[i],y=t[i]===a1,y&&(d=j.properties[g.name]!=null,d))break;!f[r]&&!d&&(f[r]=!0,u.push(r))}}}return b[v]=u,u},mn.getContextMeta=function(e){for(var s,i,a,n=this,t="",r=e._private.styleCxtKey||"",o=0;o<n.length;o++)i=n[o],a=i.selector&&i.selector.matches(e),a?t+=a1:t+=oRe;return s=n.getPropertiesDiff(r,t),e._private.styleCxtKey=t,{key:t,diffPropNames:s,empty:s.length===0}},mn.getContextStyle=function(e){var n,s,o,a,r,l,t=e.key,c=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[t])return i[t];for(s={_private:{key:t}},n=0;n<c.length;n++)if(a=c[n],l=t[n]===a1,l)for(o=0;o<a.properties.length;o++)r=a.properties[o],s[r.name]=r;return i[t]=s,s},mn.applyContextStyle=function(e,t,n){for(var a,c,h,l=this,d=e.diffPropNames,u={},m=l.types,r=0;r<d.length;r++){var i=d[r],s=t[i],o=n.pstyle(i);if(!s)if(o)o.bypass?s={name:i,deleteBypassed:!0}:s={name:i,delete:!0};else continue;if(o!==s){if(s.mapped===m.fn&&o!=null&&o.mapping!=null&&o.mapping.value===s.value&&(c=o.mapping,h=c.fnValue=s.value(n),h===c.prevFnValue))continue;a=u[i]={prev:o},l.applyParsedProperty(n,s),a.next=n.pstyle(i),a.next&&a.next.bypass&&(a.next=a.next.bypassed)}}return{diffProps:u}},mn.updateStyleHints=function(t){var n=t._private,p=this,w=p.propertyGroupNames,l=p.propertyGroupKeys,x=e(function(e,t,n){return p.getPropertiesHash(e,t,n)},"propHash"),L=n.styleKey;if(t.removed())return!1;for(y=n.group==="nodes",_=t._private.style,w=Object.keys(_),d=0;d<l.length;d++)A=l[d],n.styleKeys[A]=[ru,F0];for(var T=e(function(e,t){return n.styleKeys[t][0]=z0(e,n.styleKeys[t][0])},"updateGrKey1"),F=e(function(e,t){return n.styleKeys[t][1]=L0(e,n.styleKeys[t][1])},"updateGrKey2"),H=e(function(e,t){T(e,t),F(e,t)},"updateGrKey"),k=e(function(e,t){for(var s,n=0;n<e.length;n++)s=e.charCodeAt(n),T(s,t),F(s,t)},"updateGrKeyWStr"),P=2e9,N=e(function(e){return-128<e&&e<128&&Math.floor(e)!==e?P-(e*1024|0):e},"cleanNum"),b=0;b<w.length;b++)if(j=w[b],s=_[j],s!=null){var r=this.properties[j],E=r.type,O=r.groupKey,c=void 0;r.hashOverride!=null?c=r.hashOverride(t,s):s.pfValue!=null&&(c=s.pfValue);var D=r.enums==null?s.value:null,f=c!=null,R=D!=null,U=f||R,S=s.units;E.number&&U&&!E.multiple?(M=f?c:D,H(N(M),O),!f&&S!=null&&k(S,O)):k(s.strValue,O)}for(i=[ru,F0],h=0;h<l.length;h++)z=l[h],C=n.styleKeys[z],i[0]=z0(C[0],i[0]),i[1]=L0(C[1],i[1]);if(n.styleKey=vSe(i[0],i[1]),o=n.styleKeys,n.labelDimsKey=Pa(o.labelDimensions),m=x(t,["label"],o.labelDimensions),(n.labelKey=Pa(m),n.labelStyleKey=Pa(lh(o.commonLabel,m)),!y)&&(v=x(t,["source-label"],o.labelDimensions),n.sourceLabelKey=Pa(v),n.sourceLabelStyleKey=Pa(lh(o.commonLabel,v)),g=x(t,["target-label"],o.labelDimensions),n.targetLabelKey=Pa(g),n.targetLabelStyleKey=Pa(lh(o.commonLabel,g))),y){var s,o,i,d,h,m,g,v,j,y,_,C,A,M,z,a=n.styleKeys,I=a.nodeBody,B=a.nodeBorder,V=a.nodeOutline,$=a.backgroundImage,W=a.compound,u=a.pie,K=[I,B,V,$,W,u].filter(function(e){return e!=null}).reduce(lh,[ru,F0]);n.nodeKey=Pa(K),n.hasPie=u!=null&&u[0]!==ru&&u[1]!==F0}return L!==n.styleKey},mn.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},mn.applyParsedProperty=function(t,n){var o,a,u,m,b,E,S,M,z,p=this,s=n,d=t._private.style,v=p.types,x=p.properties[s.name].type,F=s.bypass,i=d[s.name],N=i&&i.bypass,y=t._private,g="mapping",T=e(function(e){return e==null?null:e.pfValue!=null?e.pfValue:e.value},"getVal"),c=e(function(){var e=T(i),n=T(s);p.checkTriggers(t,s.name,e,n)},"checkTriggers");if(n.name==="curve-style"&&t.isEdge()&&(n.value!=="bezier"&&t.isLoop()||n.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(s=n=this.parse(n.name,"bezier",F)),s.delete)return d[s.name]=void 0,c(),!0;if(s.deleteBypassed)return i?!!i.bypass&&(i.bypassed=void 0,c(),!0):(c(),!0);if(s.deleteBypass)return i?!!i.bypass&&(d[s.name]=i.bypassed,c(),!0):(c(),!0);switch(m=e(function(){ze("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")},"printMappingErr"),s.mapped){case v.mapData:{for(var w=s.field.split("."),r=y.data,j=0;j<w.length&&r;j++)M=w[j],r=r[M];if(r==null)return m(),!1;if(k(r))b=s.fieldMax-s.fieldMin,b===0?a=0:a=(r-s.fieldMin)/b;else return ze("Do not use continuous mappers without specifying numeric data (i.e. `"+s.field+": "+r+"` for `"+t.id()+"` is non-numeric)"),!1;if(a<0?a=0:a>1&&(a=1),x.color){var O=s.valueMin[0],H=s.valueMax[0],C=s.valueMin[1],P=s.valueMax[1],A=s.valueMin[2],R=s.valueMax[2],_=s.valueMin[3]==null?1:s.valueMin[3],L=s.valueMax[3]==null?1:s.valueMax[3],h=[Math.round(O+(H-O)*a),Math.round(C+(P-C)*a),Math.round(A+(R-A)*a),Math.round(_+(L-_)*a)];o={bypass:s.bypass,name:s.name,value:h,strValue:"rgb("+h[0]+", "+h[1]+", "+h[2]+")"}}else if(x.number)z=s.valueMin+(s.valueMax-s.valueMin)*a,o=this.parse(s.name,z,s.bypass,g);else return!1;if(!o)return m(),!1;o.mapping=s,s=o;break}case v.data:{for(var D=s.field.split("."),l=y.data,f=0;f<D.length&&l;f++)S=D[f],l=l[S];if(l!=null&&(o=this.parse(s.name,l,s.bypass,g)),!o)return m(),!1;o.mapping=s,s=o;break}case v.fn:{if(E=s.value,u=s.fnValue!=null?s.fnValue:E(t),s.prevFnValue=u,u==null)return ze("Custom function mappers may not return null (i.e. `"+s.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(s.name,u,s.bypass,g),!o)return ze("Custom function mappers may not return invalid values for the property type (i.e. `"+s.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=gi(s),s=o;break}case void 0:break;default:return!1}return F?(N?s.bypassed=i.bypassed:s.bypassed=i,d[s.name]=s):N?i.bypassed=s:d[s.name]=s,c(),!0},mn.cleanElements=function(e,t){for(s=0;s<e.length;s++)if(n=e[s],this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var n,s,o,r,i=n._private.style,c=Object.keys(i),a=0;a<c.length;a++)r=c[a],o=i[r],o!=null&&(o.bypass?o.bypassed=null:i[r]=null)},mn.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},mn.updateTransitions=function(e,t){var g=this,c=e._private,i=e.pstyle("transition-property").value,f=e.pstyle("transition-duration").pfValue,m=e.pstyle("transition-delay").pfValue;if(i.length>0&&f>0){for(var u={},h=!1,d=0;d<i.length;d++){var a=i[d],v=e.pstyle(a),r=t[a];if(r){var b=r.prev,n=b,s=r.next!=null?r.next:v,o=!1,l=void 0,p=1e-6;n&&(k(n.pfValue)&&k(s.pfValue)?(o=s.pfValue-n.pfValue,l=n.pfValue+p*o):k(n.value)&&k(s.value)?(o=s.value-n.value,l=n.value+p*o):$e(n.value)&&$e(s.value)&&(o=n.value[0]!==s.value[0]||n.value[1]!==s.value[1]||n.value[2]!==s.value[2],l=n.strValue),o&&(u[a]=s.strValue,this.applyBypass(e,a,l),h=!0))}}if(!h)return;c.transitioning=!0,new dl(function(t){m>0?e.delayAnimation(m).play().promise().then(t):t()}).then(function(){return e.animation({style:u,duration:f,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){g.removeBypasses(e,i),e.emitAndNotify("style"),c.transitioning=!1})}else c.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),c.transitioning=!1)},mn.checkTrigger=function(e,t,n,s,o,i){var a=this.properties[t],r=o(a);r!=null&&r(n,s)&&i(a)},mn.checkZOrderTrigger=function(e,t,n,s){var o=this;this.checkTrigger(e,t,n,s,function(e){return e.triggersZOrder},function(){o._private.cy.notify("zorder",e)})},mn.checkBoundsTrigger=function(e,t,n,s){this.checkTrigger(e,t,n,s,function(e){return e.triggersBounds},function(o){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),o.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(n==="bezier"||s==="bezier")&&e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()}),o.triggersBoundsOfConnectedEdges&&t==="display"&&(n==="none"||s==="none")&&e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},mn.checkTriggers=function(e,t,n,s){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,s),this.checkBoundsTrigger(e,t,n,s)},r1={},r1.applyBypass=function(e,t,n,s){var j=this,o=[],C=!0;if(t==="*"||t==="**"){if(n!==void 0)for(d=0;d<j.properties.length;d++){var O=j.properties[d],x=O.name,_=this.parse(x,n,!0);_&&o.push(_)}}else if(Y(t))f=this.parse(t,n,!0),f&&o.push(f);else if(Oe(t)){u=t,s=n;for(p=Object.keys(u),h=0;h<p.length;h++)m=p[h],i=u[m],(i===void 0&&(i=u[Am(m)]),i!==void 0)&&(v=this.parse(m,i,!0),v&&o.push(v))}else return!1;if(o.length===0)return!1;for(c=!1,l=0;l<e.length;l++){for(var i,a,c,l,d,u,h,m,f,p,v,w,r=e[l],y={},b=void 0,g=0;g<o.length;g++)a=o[g],s&&(w=r.pstyle(a.name),b=y[a.name]={prev:w}),c=this.applyParsedProperty(r,gi(a))||c,s&&(b.next=r.pstyle(a.name));c&&this.updateStyleHints(r),s&&this.updateTransitions(r,y,C)}return c},r1.overrideBypass=function(e,t,n){t=lb(t);for(o=0;o<e.length;o++){var o,i=e[o],s=i._private.style[t],a=this.properties[t].type,r=a.color,c=a.mutiple,l=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(i,t,n):(s.value=n,s.pfValue!=null&&(s.pfValue=n),r?s.strValue="rgb("+n.join(",")+")":c?s.strValue=n.join(" "):s.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,t,l,n)}},r1.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},r1.removeBypasses=function(e,t,n){for(c=!0,o=0;o<e.length;o++){for(var o,c,s=e[o],l={},i=0;i<t.length;i++){var d=t[i],a=this.properties[d],r=s.pstyle(a.name);if(!!r&&!!r.bypass){var u="",h=this.parse(d,u,!0),m=l[a.name]={prev:r};this.applyParsedProperty(s,h),m.next=s.pstyle(a.name)}}this.updateStyleHints(s),n&&this.updateTransitions(s,l,c)}},kb={},kb.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},kb.containerCss=function(e){var n=this._private.cy,s=n.container(),t=n.window();if(t&&s&&t.getComputedStyle)return t.getComputedStyle(s).getPropertyValue(e)},ji={},ji.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},ji.getRawStyle=function(e,t){if(n=this,e=e[0],e){for(var n,s,o,i={},a=0;a<n.properties.length;a++)s=n.properties[a],o=n.getStylePropertyValue(e,s.name,t),o!=null&&(i[s.name]=o,i[Am(s.name)]=o);return i}},ji.getIndexedStyle=function(e,t,n,s){var o=e.pstyle(t)[n][s];return o??e.cy().style().getDefaultProperty(t)[n][0]},ji.getStylePropertyValue=function(t,n,s){if(d=this,t=t[0],t){if(i=d.properties[n],i.alias&&(i=i.pointsTo),u=i.type,a=t.pstyle(i.name),a){var o=a.value,r=a.units,h=a.strValue;if(s&&u.number&&o!=null&&k(o)){var i,a,d,u,f=t.cy().zoom(),c=e(function(e){return e*f},"getRenderedValue"),m=e(function(e,t){return c(e)+t},"getValueStringWithUnits"),l=$e(o),p=l?r.every(function(e){return e!=null}):r!=null;return p?l?o.map(function(e,t){return m(e,r[t])}).join(" "):m(o,r):l?o.map(function(e){return Y(e)?e:""+c(e)}).join(" "):""+c(o)}if(h!=null)return h}return null}},ji.getAnimationStartStyle=function(e,t){for(i={},s=0;s<t.length;s++){var s,i,a=t[s],o=a.name,n=e.pstyle(o);n!==void 0&&(Oe(n)?n=this.parse(o,n.strValue):n=this.parse(o,n)),n&&(i[o]=n)}return i},ji.getPropsList=function(e){var t,s,c=this,i=[],n=e,a=c.properties;if(n)for(s=Object.keys(n),t=0;t<s.length;t++){var o=s[t],l=n[o],d=a[o]||a[lb(o)],r=this.parse(d.name,l);r&&i.push(r)}return i},ji.getNonDefaultPropertiesHash=function(e,t,n){var o,i,a,r,c,l,s=n.slice();for(a=0;a<t.length;a++)if(l=t[a],i=e.pstyle(l,!1),i!=null)if(i.pfValue!=null)s[0]=z0(o,s[0]),s[1]=L0(o,s[1]);else for(c=i.strValue,r=0;r<c.length;r++)o=c.charCodeAt(r),s[0]=z0(o,s[0]),s[1]=L0(o,s[1]);return s},ji.getPropertiesHash=ji.getNonDefaultPropertiesHash,f6={},f6.appendFromJson=function(e){for(t=this,n=0;n<e.length;n++){var t,n,s,i,c,o=e[n],l=o.selector,a=o.style||o.css,r=Object.keys(a);t.selector(l);for(s=0;s<r.length;s++)i=r[s],c=a[i],t.css(i,c)}return t},f6.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},f6.json=function(){for(t=[],e=this.defaultLength;e<this.length;e++){for(var e,t,s,o=this[e],i=o.selector,a=o.properties,r={},n=0;n<a.length;n++)s=a[n],r[s.name]=s.strValue;t.push({selector:i?i.toString():"core",style:r})}return t},_b={},_b.appendFromString=function(t){var s,o,i,a,r,u,h,m,f,p,g,b,j,_,w,x=this,d=this,n=""+t,n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){n.length>m.length?n=n.substr(m.length):n=""}e(c,"removeSelAndBlockFromRemaining");function l(){s.length>r.length?s=s.substr(r.length):s=""}for(e(l,"removePropAndValFromRem");;){if(b=n.match(/^\s*$/),b)break;if(a=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/),!a){ze("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}if(m=a[0],o=a[1],o!=="core"&&(w=new _r(o),w.invalid)){ze("Skipping parsing of block: Invalid selector found in string stylesheet: "+o),c();continue}p=a[2],g=!1,s=p;for(h=[];;){if(j=s.match(/^\s*$/),j)break;if(i=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/),!i){ze("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),g=!0;break}r=i[0];var v=i[1],y=i[2],O=x.properties[v];if(!O){ze("Skipping property: Invalid property name in: "+r),l();continue}if(_=d.parse(v,y),!_){ze("Skipping property: Invalid property definition in: "+r),l();continue}h.push({name:v,val:y}),l()}if(g){c();break}d.selector(o);for(u=0;u<h.length;u++)f=h[u],d.css(f.name,f.val);c()}return d},_b.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},rn={},function(){var s=Bt,V=oAe,B=aAe,I=rAe,H=cAe,f=e(function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),m=e(function(e){var t=s+"|\\w+|"+V+"|"+B+"|"+I+"|"+H;return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+s+")\\s*\\,\\s*("+s+")\\s*,\\s*("+t+")\\s*\\,\\s*("+t+")\\)$"},"mapData"),R=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];rn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:f("data")},layoutData:{mapping:!0,regex:f("layoutData")},scratch:{mapping:!0,regex:f("scratch")},mapData:{mapping:!0,regex:m("mapData")},mapLayoutData:{mapping:!0,regex:m("mapLayoutData")},mapScratch:{mapping:!0,regex:m("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:R,singleRegexMatchValue:!0},urls:{regexes:R,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:e(function(e,t){switch(e.length){case 2:return t[0]!=="deg"&&t[0]!=="rad"&&t[1]!=="deg"&&t[1]!=="rad";case 1:return Y(e[0])||t[0]==="deg"||t[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:e(function(e){var t=e.length;return t===1||t===2||t===4},"validate")}};var i,r,c,l,d,h,z,n={zeroNonZero:e(function(e,t){return(e==null||t==null)&&e!==t||e==0&&t!=0||e!=0&&t==0},"zeroNonZero"),any:e(function(e,t){return e!=t},"any"),emptyNonEmpty:e(function(e,t){var n=La(e),s=La(t);return n&&!s||!n&&s},"emptyNonEmpty")},t=rn.types,N=[{name:"label",type:t.text,triggersBounds:n.any,triggersZOrder:n.emptyNonEmpty},{name:"text-rotation",type:t.textRotation,triggersBounds:n.any},{name:"text-margin-x",type:t.bidirectionalSize,triggersBounds:n.any},{name:"text-margin-y",type:t.bidirectionalSize,triggersBounds:n.any}],g=[{name:"source-label",type:t.text,triggersBounds:n.any},{name:"source-text-rotation",type:t.textRotation,triggersBounds:n.any},{name:"source-text-margin-x",type:t.bidirectionalSize,triggersBounds:n.any},{name:"source-text-margin-y",type:t.bidirectionalSize,triggersBounds:n.any},{name:"source-text-offset",type:t.size,triggersBounds:n.any}],D=[{name:"target-label",type:t.text,triggersBounds:n.any},{name:"target-text-rotation",type:t.textRotation,triggersBounds:n.any},{name:"target-text-margin-x",type:t.bidirectionalSize,triggersBounds:n.any},{name:"target-text-margin-y",type:t.bidirectionalSize,triggersBounds:n.any},{name:"target-text-offset",type:t.size,triggersBounds:n.any}],T=[{name:"font-family",type:t.fontFamily,triggersBounds:n.any},{name:"font-style",type:t.fontStyle,triggersBounds:n.any},{name:"font-weight",type:t.fontWeight,triggersBounds:n.any},{name:"font-size",type:t.size,triggersBounds:n.any},{name:"text-transform",type:t.textTransform,triggersBounds:n.any},{name:"text-wrap",type:t.textWrap,triggersBounds:n.any},{name:"text-overflow-wrap",type:t.textOverflowWrap,triggersBounds:n.any},{name:"text-max-width",type:t.size,triggersBounds:n.any},{name:"text-outline-width",type:t.size,triggersBounds:n.any},{name:"line-height",type:t.positiveNumber,triggersBounds:n.any}],v=[{name:"text-valign",type:t.valign,triggersBounds:n.any},{name:"text-halign",type:t.halign,triggersBounds:n.any},{name:"color",type:t.color},{name:"text-outline-color",type:t.color},{name:"text-outline-opacity",type:t.zeroOneNumber},{name:"text-background-color",type:t.color},{name:"text-background-opacity",type:t.zeroOneNumber},{name:"text-background-padding",type:t.size,triggersBounds:n.any},{name:"text-border-opacity",type:t.zeroOneNumber},{name:"text-border-color",type:t.color},{name:"text-border-width",type:t.size,triggersBounds:n.any},{name:"text-border-style",type:t.borderStyle,triggersBounds:n.any},{name:"text-background-shape",type:t.textBackgroundShape,triggersBounds:n.any},{name:"text-justification",type:t.justification}],M=[{name:"events",type:t.bool,triggersZOrder:n.any},{name:"text-events",type:t.bool,triggersZOrder:n.any}],F=[{name:"display",type:t.display,triggersZOrder:n.any,triggersBounds:n.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:t.visibility,triggersZOrder:n.any},{name:"opacity",type:t.zeroOneNumber,triggersZOrder:n.zeroNonZero},{name:"text-opacity",type:t.zeroOneNumber},{name:"min-zoomed-font-size",type:t.size},{name:"z-compound-depth",type:t.zCompoundDepth,triggersZOrder:n.any},{name:"z-index-compare",type:t.zIndexCompare,triggersZOrder:n.any},{name:"z-index",type:t.number,triggersZOrder:n.any}],b=[{name:"overlay-padding",type:t.size,triggersBounds:n.any},{name:"overlay-color",type:t.color},{name:"overlay-opacity",type:t.zeroOneNumber,triggersBounds:n.zeroNonZero},{name:"overlay-shape",type:t.overlayShape,triggersBounds:n.any},{name:"overlay-corner-radius",type:t.cornerRadius}],j=[{name:"underlay-padding",type:t.size,triggersBounds:n.any},{name:"underlay-color",type:t.color},{name:"underlay-opacity",type:t.zeroOneNumber,triggersBounds:n.zeroNonZero},{name:"underlay-shape",type:t.overlayShape,triggersBounds:n.any},{name:"underlay-corner-radius",type:t.cornerRadius}],y=[{name:"transition-property",type:t.propList},{name:"transition-duration",type:t.time},{name:"transition-delay",type:t.time},{name:"transition-timing-function",type:t.easing}],_=e(function(e,t){return t.value==="label"?-e.poolIndex():t.pfValue},"nodeSizeHashOverride"),w=[{name:"height",type:t.nodeSize,triggersBounds:n.any,hashOverride:_},{name:"width",type:t.nodeSize,triggersBounds:n.any,hashOverride:_},{name:"shape",type:t.nodeShape,triggersBounds:n.any},{name:"shape-polygon-points",type:t.polygonPointList,triggersBounds:n.any},{name:"corner-radius",type:t.cornerRadius},{name:"background-color",type:t.color},{name:"background-fill",type:t.fill},{name:"background-opacity",type:t.zeroOneNumber},{name:"background-blacken",type:t.nOneOneNumber},{name:"background-gradient-stop-colors",type:t.colors},{name:"background-gradient-stop-positions",type:t.percentages},{name:"background-gradient-direction",type:t.gradientDirection},{name:"padding",type:t.sizeMaybePercent,triggersBounds:n.any},{name:"padding-relative-to",type:t.paddingRelativeTo,triggersBounds:n.any},{name:"bounds-expansion",type:t.boundsExpansion,triggersBounds:n.any}],O=[{name:"border-color",type:t.color},{name:"border-opacity",type:t.zeroOneNumber},{name:"border-width",type:t.size,triggersBounds:n.any},{name:"border-style",type:t.borderStyle},{name:"border-cap",type:t.lineCap},{name:"border-join",type:t.lineJoin},{name:"border-dash-pattern",type:t.numbers},{name:"border-dash-offset",type:t.number},{name:"border-position",type:t.linePosition}],x=[{name:"outline-color",type:t.color},{name:"outline-opacity",type:t.zeroOneNumber},{name:"outline-width",type:t.size,triggersBounds:n.any},{name:"outline-style",type:t.borderStyle},{name:"outline-offset",type:t.size,triggersBounds:n.any}],C=[{name:"background-image",type:t.urls},{name:"background-image-crossorigin",type:t.bgCrossOrigin},{name:"background-image-opacity",type:t.zeroOneNumbers},{name:"background-image-containment",type:t.bgContainment},{name:"background-image-smoothing",type:t.bools},{name:"background-position-x",type:t.bgPos},{name:"background-position-y",type:t.bgPos},{name:"background-width-relative-to",type:t.bgRelativeTo},{name:"background-height-relative-to",type:t.bgRelativeTo},{name:"background-repeat",type:t.bgRepeat},{name:"background-fit",type:t.bgFit},{name:"background-clip",type:t.bgClip},{name:"background-width",type:t.bgWH},{name:"background-height",type:t.bgWH},{name:"background-offset-x",type:t.bgPos},{name:"background-offset-y",type:t.bgPos}],E=[{name:"position",type:t.position,triggersBounds:n.any},{name:"compound-sizing-wrt-labels",type:t.compoundIncludeLabels,triggersBounds:n.any},{name:"min-width",type:t.size,triggersBounds:n.any},{name:"min-width-bias-left",type:t.sizeMaybePercent,triggersBounds:n.any},{name:"min-width-bias-right",type:t.sizeMaybePercent,triggersBounds:n.any},{name:"min-height",type:t.size,triggersBounds:n.any},{name:"min-height-bias-top",type:t.sizeMaybePercent,triggersBounds:n.any},{name:"min-height-bias-bottom",type:t.sizeMaybePercent,triggersBounds:n.any}],k=[{name:"line-style",type:t.lineStyle},{name:"line-color",type:t.color},{name:"line-fill",type:t.fill},{name:"line-cap",type:t.lineCap},{name:"line-opacity",type:t.zeroOneNumber},{name:"line-dash-pattern",type:t.numbers},{name:"line-dash-offset",type:t.number},{name:"line-outline-width",type:t.size},{name:"line-outline-color",type:t.color},{name:"line-gradient-stop-colors",type:t.colors},{name:"line-gradient-stop-positions",type:t.percentages},{name:"curve-style",type:t.curveStyle,triggersBounds:n.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:t.zeroOneNumber,triggersBounds:n.any},{name:"source-endpoint",type:t.edgeEndpoint,triggersBounds:n.any},{name:"target-endpoint",type:t.edgeEndpoint,triggersBounds:n.any},{name:"control-point-step-size",type:t.size,triggersBounds:n.any},{name:"control-point-distances",type:t.bidirectionalSizes,triggersBounds:n.any},{name:"control-point-weights",type:t.numbers,triggersBounds:n.any},{name:"segment-distances",type:t.bidirectionalSizes,triggersBounds:n.any},{name:"segment-weights",type:t.numbers,triggersBounds:n.any},{name:"segment-radii",type:t.numbers,triggersBounds:n.any},{name:"radius-type",type:t.radiusType,triggersBounds:n.any},{name:"taxi-turn",type:t.bidirectionalSizeMaybePercent,triggersBounds:n.any},{name:"taxi-turn-min-distance",type:t.size,triggersBounds:n.any},{name:"taxi-direction",type:t.axisDirection,triggersBounds:n.any},{name:"taxi-radius",type:t.number,triggersBounds:n.any},{name:"edge-distances",type:t.edgeDistances,triggersBounds:n.any},{name:"arrow-scale",type:t.positiveNumber,triggersBounds:n.any},{name:"loop-direction",type:t.angle,triggersBounds:n.any},{name:"loop-sweep",type:t.angle,triggersBounds:n.any},{name:"source-distance-from-node",type:t.size,triggersBounds:n.any},{name:"target-distance-from-node",type:t.size,triggersBounds:n.any}],A=[{name:"ghost",type:t.bool,triggersBounds:n.any},{name:"ghost-offset-x",type:t.bidirectionalSize,triggersBounds:n.any},{name:"ghost-offset-y",type:t.bidirectionalSize,triggersBounds:n.any},{name:"ghost-opacity",type:t.zeroOneNumber}],S=[{name:"selection-box-color",type:t.color},{name:"selection-box-opacity",type:t.zeroOneNumber},{name:"selection-box-border-color",type:t.color},{name:"selection-box-border-width",type:t.size},{name:"active-bg-color",type:t.color},{name:"active-bg-opacity",type:t.zeroOneNumber},{name:"active-bg-size",type:t.size},{name:"outside-texture-bg-color",type:t.color},{name:"outside-texture-bg-opacity",type:t.zeroOneNumber}],a=[];rn.pieBackgroundN=16,a.push({name:"pie-size",type:t.sizeMaybePercent});for(i=1;i<=rn.pieBackgroundN;i++)a.push({name:"pie-"+i+"-background-color",type:t.color}),a.push({name:"pie-"+i+"-background-size",type:t.percent}),a.push({name:"pie-"+i+"-background-opacity",type:t.zeroOneNumber});l=[],z=rn.arrowPrefixes=["source","mid-source","target","mid-target"],[{name:"arrow-shape",type:t.arrowShape,triggersBounds:n.any},{name:"arrow-color",type:t.color},{name:"arrow-fill",type:t.arrowFill},{name:"arrow-width",type:t.arrowWidth}].forEach(function(e){z.forEach(function(t){var n=t+"-"+e.name,s=e.type,o=e.triggersBounds;l.push({name:n,type:s,triggersBounds:o})})},{});var o=rn.properties=[].concat(M,y,F,b,j,A,v,T,N,g,D,w,O,x,C,a,E,k,l,S),u=rn.propertyGroups={behavior:M,transition:y,visibility:F,overlay:b,underlay:j,ghost:A,commonLabel:v,labelDimensions:T,mainLabel:N,sourceLabel:g,targetLabel:D,nodeBody:w,nodeBorder:O,nodeOutline:x,backgroundImage:C,pie:a,compound:E,edgeLine:k,edgeArrow:l,core:S},W=rn.propertyGroupNames={},P=rn.propertyGroupKeys=Object.keys(u);P.forEach(function(e){W[e]=u[e].map(function(e){return e.name}),u[e].forEach(function(t){return t.groupKey=e})}),h=rn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}],rn.propertyNames=o.map(function(e){return e.name});for(c=0;c<o.length;c++)d=o[c],o[d.name]=d;for(r=0;r<h.length;r++){var p=h[r],$=o[p.pointsTo],L={name:p.name,alias:!0,pointsTo:$};o.push(L),o[p.name]=L}}(),rn.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},rn.getDefaultProperties=function(){if(e=this._private,e.defaultProperties!=null)return e.defaultProperties;for(var e,n,i=ee({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(n=1;n<=rn.pieBackgroundN;n++){var n,s=t.name.replace("{{i}}",n),o=t.value;e[s]=o}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return rn.arrowPrefixes.forEach(function(n){var s=n+"-"+t.name,o=t.value;e[s]=o}),e},{})),o={},t=0;t<this.properties.length;t++)if(n=this.properties[t],!n.pointsTo){var s=n.name,a=i[s],r=this.parse(s,a);o[s]=r}return e.defaultProperties=o,e.defaultProperties},rn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},a6={},a6.parse=function(e,t,n,s){if(i=this,st(t))return i.parseImplWarn(e,t,n,s);var o,i,c=s==="mapping"||s===!0||s===!1||s==null?"dontcare":s,l=n?"t":"f",d=""+t,a=Cx(e,d,l,c),r=i.propCache=i.propCache||[];return(o=r[a])||(o=r[a]=i.parseImplWarn(e,t,n,s)),(n||s==="mapping")&&(o=gi(o),o&&(o.value=gi(o.value))),o},a6.parseImplWarn=function(e,t,n,s){var o=this.parseImpl(e,t,n,s);return!o&&t!=null&&ze("The style property `".concat(e,": ").concat(t,"` is invalid")),o&&(o.name==="width"||o.name==="height")&&t==="label"&&ze("The style value of `label` is deprecated for `"+o.name+"`"),o},a6.parseImpl=function(t,n,s,o){_=this,t=lb(t);var g=_.properties[t],W=n,y=_.types;if(!g||n===void 0)return null;if(g.alias&&(g=g.pointsTo,t=g.name),j=Y(n),j&&(n=n.trim()),i=g.type,!i)return null;if(s&&(n===""||n===null))return{name:t,value:n,bypass:!0,deleteBypass:!0};if(st(n))return{name:t,value:n,strValue:"fn",mapped:y.fn,bypass:s};if(!(!j||o||n.length<7||n[1]!=="a")){if(n.length>=7&&n[0]==="d"&&(T=new RegExp(y.data.regex).exec(n)))return!s&&(H=y.data,{name:t,value:T,strValue:""+n,mapped:H,field:T[1],bypass:s});if(n.length>=10&&n[0]==="m"&&(h=new RegExp(y.mapData.regex).exec(n))){if(s||i.multiple)return!1;if(P=y.mapData,!i.color&&!i.number)return!1;if(r=this.parse(t,h[4]),!r||r.mapped)return!1;if(u=this.parse(t,h[5]),!u||u.mapped)return!1;if(r.pfValue===u.pfValue||r.strValue===u.strValue)return ze("`"+t+": "+n+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+r.strValue+"`"),this.parse(t,r.strValue);if(i.color){var f=r.value,b=u.value,$=f[0]===b[0]&&f[1]===b[1]&&f[2]===b[2]&&(f[3]===b[3]||(f[3]==null||f[3]===1)&&(b[3]==null||b[3]===1));if($)return!1}return{name:t,value:h,strValue:""+n,mapped:P,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:r.value,valueMax:u.value,bypass:s}}}if(i.multiple&&o!=="multiple"){if(j?p=n.split(/\s+/):$e(n)?p=n:p=[n],i.evenMultiple&&p.length%2!==0)return null;for(var i,a,r,c,l,u,h,m,p,v,j,_,w,O,x,C,k,A,S,F,T,z,N,L,R,P,H,V,d=[],D=[],I=[],B="",M=!1,E=0;E<p.length;E++)c=_.parse(t,p[E],s,"multiple"),M=M||Y(c.value),d.push(c.value),I.push(c.pfValue!=null?c.pfValue:c.value),D.push(c.units),B+=(E>0?" ":"")+c.strValue;return i.validate&&!i.validate(d,D)?null:i.singleEnum&&M?d.length===1&&Y(d[0])?{name:t,value:d[0],strValue:d[0],bypass:s}:null:{name:t,value:d,pfValue:I,strValue:B,bypass:s,units:D}}if(A=e(function(){for(var o,e=0;e<i.enums.length;e++)if(o=i.enums[e],o===n)return{name:t,value:n,strValue:""+n,bypass:s};return null},"checkEnums"),i.number)return x="px",(i.units&&(a=i.units),i.implicitUnits&&(x=i.implicitUnits),!i.unitless)&&(j?(R="px|em"+(i.allowPercent?"|\\%":""),a&&(R=a),C=n.match("^("+Bt+")("+R+")?$"),C&&(n=C[1],a=C[2]||x)):(!a||i.implicitUnits)&&(a=x)),n=parseFloat(n),isNaN(n)&&i.enums===void 0?null:isNaN(n)&&i.enums!==void 0?(n=W,A()):i.integer&&!Pke(n)||i.min!==void 0&&(n<i.min||i.strictMin&&n===i.min)||i.max!==void 0&&(n>i.max||i.strictMax&&n===i.max)?null:(l={name:t,value:n,strValue:""+n+(a||""),units:a,bypass:s},i.unitless||a!=="px"&&a!=="em"?l.pfValue=n:l.pfValue=a==="px"||!a?n:this.getEmSizeInPixels()*n,(a==="ms"||a==="s")&&(l.pfValue=a==="ms"?n:1e3*n),(a==="deg"||a==="rad")&&(l.pfValue=a==="rad"?n:xMe(n)),a==="%"&&(l.pfValue=n/100),l);if(i.propList){if(v=[],N=""+n,N!=="none"){for(L=N.split(/\s*,\s*|\s+/),w=0;w<L.length;w++)O=L[w].trim(),_.properties[O]?v.push(O):ze("`"+O+"` is not a valid property name");if(v.length===0)return null}return{name:t,value:v,strValue:v.length===0?"none":v.join(" "),bypass:s}}if(i.color)return m=Nk(n),m?{name:t,value:m,pfValue:m,strValue:"rgb("+m[0]+","+m[1]+","+m[2]+")",bypass:s}:null;if(i.regex||i.regexes){if(i.enums&&(F=A(),F))return F;for(z=i.regexes?i.regexes:[i.regex],S=0;S<z.length;S++)if(V=new RegExp(z[S]),k=V.exec(n),k)return{name:t,value:i.singleRegexMatchValue?k[1]:k,strValue:""+n,bypass:s};return null}return i.string?{name:t,value:""+n,strValue:""+n,bypass:s}:i.enums?A():null},vn=e(function e(t){if(!(this instanceof e))return new e(t);if(!F9(t)){it("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),yn=vn.prototype,yn.instanceString=function(){return"style"},yn.clear=function(){for(var e=this._private,s=e.cy,n=s.elements(),t=0;t<this.length;t++)this[t]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(n,!0),n.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},yn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},yn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},yn.selector=function(e){var n=e==="core"?null:new _r(e),t=this.length++;return this[t]={selector:n,properties:[],mappedProperties:[],index:t},this},yn.css=function(){var t,n,s,o,i=this,e=arguments;if(e.length===1)for(o=e[0],n=0;n<i.properties.length;n++)s=i.properties[n],t=o[s.name],t===void 0&&(t=o[Am(s.name)]),t!==void 0&&this.cssRule(s.name,t);else e.length===2&&this.cssRule(e[0],e[1]);return this},yn.style=yn.css,yn.cssRule=function(e,t){var s,o,n=this.parse(e,t);return n&&(s=this.length-1,this[s].properties.push(n),this[s].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[s].mappedProperties.push(n),o=!this[s].selector,o&&(this._private.coreStyle[n.name]=n)),this},yn.append=function(e){return fS(e)?e.appendToStyle(this):$e(e)?this.appendFromJson(e):Y(e)&&this.appendFromString(e),this},vn.fromJson=function(e,t){var n=new vn(e);return n.fromJson(t),n},vn.fromString=function(e,t){return new vn(e).fromString(t)},[mn,r1,kb,ji,f6,_b,rn,a6].forEach(function(e){ee(yn,e)}),vn.types=yn.types,vn.properties=yn.properties,vn.propertyGroups=yn.propertyGroups,vn.propertyGroupNames=yn.propertyGroupNames,vn.propertyGroupKeys=yn.propertyGroupKeys,fRe={style:e(function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},"style"),setStyle:e(function(e){var t=this._private;return fS(e)?t.style=e.generateStyle(this):$e(e)?t.style=vn.fromJson(this,e):Y(e)?t.style=vn.fromString(this,e):t.style=vn(this),t.style},"setStyle"),updateStyle:e(function(){this.mutableElements().updateStyle()},"updateStyle")},pRe="single",zc={autolock:e(function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},"autolock"),autoungrabify:e(function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:e(function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},"autounselectify"),selectionType:e(function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=pRe),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},"selectionType"),panningEnabled:e(function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:e(function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:e(function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:e(function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:e(function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:e(function(){var t,s,o,i,a,e=arguments,n=this._private.pan;switch(e.length){case 0:return n;case 1:if(Y(e[0]))return t=e[0],n[t];if(Oe(e[0])){if(!this._private.panningEnabled)return this;o=e[0],i=o.x,a=o.y,k(i)&&(n.x=i),k(a)&&(n.y=a),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=e[0],s=e[1],(t==="x"||t==="y")&&k(s)&&(n[t]=s),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:e(function(e,t){var n,o,i,a,r,c=arguments,s=this._private.pan;if(!this._private.panningEnabled)return this;switch(c.length){case 1:Oe(e)&&(i=c[0],a=i.x,r=i.y,k(a)&&(s.x+=a),k(r)&&(s.y+=r),this.emit("pan viewport"));break;case 2:n=e,o=t,(n==="x"||n==="y")&&k(o)&&(s[n]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),gc:e(function(){this.notify("gc")},"gc"),fit:e(function(e,t){var s,n=this.getFitViewport(e,t);return n&&(s=this._private,s.zoom=n.zoom,s.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")),this},"fit"),getFitViewport:e(function(e,t){if(k(e)&&t===void 0&&(t=e,e=void 0),!!this._private.panningEnabled&&!!this._private.zoomingEnabled&&(Y(e)?(r=e,e=this.$(r)):Yke(e)?(o=e,n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1):ys(e)||(e=this.mutableElements()),!ys(e)||!e.empty())){n=n||e.boundingBox();var n,s,o,r,c,i=this.width(),a=this.height();if(t=k(t)?t:0,!isNaN(i)&&!isNaN(a)&&i>0&&a>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return s=Math.min((i-2*t)/n.w,(a-2*t)/n.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s,c={x:(i-s*(n.x1+n.x2))/2,y:(a-s*(n.y1+n.y2))/2},{zoom:s,pan:c}}},"getFitViewport"),zoomRange:e(function(e,t){var s,n=this._private;return t==null&&(s=e,e=s.min,t=s.max),k(e)&&k(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):k(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:k(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},"zoomRange"),minZoom:e(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:e(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:e(function(e){var t,n,s=this._private,o=s.pan,i=s.zoom,a=!1;if(s.zoomingEnabled||(a=!0),k(e)?t=e:Oe(e)&&(t=e.level,e.position!=null?n=e3(e.position,i,o):e.renderedPosition!=null&&(n=e.renderedPosition),n!=null&&!s.panningEnabled&&(a=!0)),t=t>s.maxZoom?s.maxZoom:t,t=t<s.minZoom?s.minZoom:t,a||!k(t)||t===i||n!=null&&(!k(n.x)||!k(n.y)))return null;if(n!=null){var c=o,l=i,r=t,d={x:-r/l*(n.x-c.x)+n.x,y:-r/l*(n.y-c.y)+n.y};return{zoomed:!0,panned:!0,zoom:r,pan:d}}return{zoomed:!0,panned:!1,zoom:t,pan:o}},"getZoomedViewport"),zoom:e(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:e(function(e){var s,o,t=this._private,i=!0,a=!0,n=[],c=!1,r=!1;return e?(k(e.zoom)||(i=!1),Oe(e.pan)||(a=!1),!i&&!a?this:(i&&(o=e.zoom,o<t.minZoom||o>t.maxZoom||!t.zoomingEnabled?c=!0:(t.zoom=o,n.push("zoom"))),a&&(!c||!e.cancelOnFailedZoom)&&t.panningEnabled&&(s=e.pan,k(s.x)&&(t.pan.x=s.x,r=!1),k(s.y)&&(t.pan.y=s.y,r=!1),r||n.push("pan")),n.length>0&&(n.push("viewport"),this.emit(n.join(" ")),this.notify("viewport")),this)):this},"viewport"),center:e(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:e(function(e,t){if(this._private.panningEnabled&&(Y(e)?(s=e,e=this.mutableElements().filter(s)):ys(e)||(e=this.mutableElements()),e.length!==0)){var s,o,n=e.boundingBox(),i=this.width(),a=this.height();return t=t===void 0?this._private.zoom:t,o={x:(i-t*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2},o}},"getCenterPan"),reset:e(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:e(function(){this._private.sizeCache=null},"invalidateSize"),size:e(function(){var n=this._private,t=n.container,s=this;return n.sizeCache=n.sizeCache||(t?function(){var o=s.window().getComputedStyle(t),n=e(function(e){return parseFloat(o.getPropertyValue(e))},"val");return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},"size"),width:e(function(){return this.size().width},"width"),height:e(function(){return this.size().height},"height"),extent:e(function(){var t=this._private.pan,n=this._private.zoom,s=this.renderedExtent(),e={x1:(s.x1-t.x)/n,x2:(s.x2-t.x)/n,y1:(s.y1-t.y)/n,y2:(s.y2-t.y)/n};return e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"extent"),renderedExtent:e(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:e(function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")},zc.centre=zc.center,zc.autolockNodes=zc.autolock,zc.autoungrabifyNodes=zc.autoungrabify,k1={data:Me.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Me.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Me.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Me.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})},k1.attr=k1.data,k1.removeAttr=k1.removeData,A1=e(function(t){s=this,t=ee({},t),i=t.container,i&&!Wm(i)&&Wm(i[0])&&(i=i[0]),o=i?i._cyreg:null,o=o||{},o&&o.cy&&(o.cy.destroy(),o={}),c=o.readies=o.readies||[],i&&(i._cyreg=o),o.cy=s;var s,o,i,a,r,c,d,u,h,l=Dt!==void 0&&i!==void 0&&!t.headless,n=t;n.layout=ee({name:l?"grid":"null"},n.layout),n.renderer=ee({name:l?"canvas":"null"},n.renderer),a=e(function(e,t,n){return t!==void 0?t:n!==void 0?n:e},"defVal"),r=this._private={container:i,ready:!1,options:n,elements:new dn(this),listeners:[],aniEles:new dn(this),data:n.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,n.zoomingEnabled),userZoomingEnabled:a(!0,n.userZoomingEnabled),panningEnabled:a(!0,n.panningEnabled),userPanningEnabled:a(!0,n.userPanningEnabled),boxSelectionEnabled:a(!0,n.boxSelectionEnabled),autolock:a(!1,n.autolock,n.autolockNodes),autoungrabify:a(!1,n.autoungrabify,n.autoungrabifyNodes),autounselectify:a(!1,n.autounselectify),styleEnabled:n.styleEnabled===void 0?l:n.styleEnabled,zoom:k(n.zoom)?n.zoom:1,pan:{x:Oe(n.pan)&&k(n.pan.x)?n.pan.x:0,y:Oe(n.pan)&&k(n.pan.y)?n.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:a(250,n.multiClickDebounceTime)},this.createEmitter(),this.selectionType(n.selectionType),this.zoomRange({min:n.minZoom,max:n.maxZoom}),d=e(function(e,t){var n=e.some(Gke);if(n)return dl.all(e).then(t);t(e)},"loadExtData"),r.styleEnabled&&s.setStyle([]),u=ee({},n,n.renderer),s.initRenderer(u),h=e(function(e,t,n){s.notifications(!1);var o,i=s.mutableElements();i.length>0&&i.remove(),e!=null&&(Oe(e)||$e(e))&&s.add(e),s.one("layoutready",function(e){s.notifications(!0),s.emit(e),s.one("load",t),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",n),s.emit("done")}),o=ee({},s._private.options.layout),o.eles=s.elements(),s.layout(o).run()},"setElesAndLayout"),d([n.style,n.elements],function(e){var t=e[0],i=e[1];r.styleEnabled&&s.style().append(t),h(i,function(){s.startAnimationLoop(),r.ready=!0,st(n.ready)&&s.on("ready",n.ready);for(var t,e=0;e<c.length;e++)t=c[e],s.on("ready",t);o&&(o.readies=[]),s.emit("ready")},n.done)})},"Core"),Rf=A1.prototype,ee(Rf,{instanceString:e(function(){return"core"},"instanceString"),isReady:e(function(){return this._private.ready},"isReady"),destroyed:e(function(){return this._private.destroyed},"destroyed"),ready:e(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:e(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:e(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:e(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:e(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:e(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:e(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:e(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:e(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:e(function(){return this._private.container||null},"container"),window:e(function(){var e,t=this._private.container;return t==null?Dt:(e=this._private.container.ownerDocument,e==null?Dt:e.defaultView||Dt)},"window"),mount:e(function(e){if(e!=null){var t=this,s=t._private,n=s.options;return!Wm(e)&&Wm(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),s.container=e,s.styleEnabled=!0,t.invalidateSize(),t.initRenderer(ee({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},"mount"),unmount:e(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:e(function(){return gi(this._private.options)},"options"),json:e(function(t){var n,i,a,r,c,l,d,u,h,m,f,p,g,s=this,o=s._private,v=s.mutableElements(),b=e(function(e){return s.getElementById(e.id())},"getFreshRef");if(Oe(t)){if(s.startBatch(),t.elements){if(d={},p=e(function(e,t){for(var n,o,r,c,l=[],i=[],a=0;a<e.length;a++){if(n=e[a],!n.data.id){ze("cy.json() cannot handle elements without an ID attribute");continue}r=""+n.data.id,c=s.getElementById(r),d[r]=!0,c.length!==0?i.push({ele:c,json:n}):(t&&(n.group=t),l.push(n))}s.add(l);for(o=0;o<i.length;o++){var u=i[o],h=u.ele,m=u.json;h.json(m)}},"updateEles"),$e(t.elements))p(t.elements);else for(f=["nodes","edges"],l=0;l<f.length;l++)h=f[l],u=t.elements[h],$e(u)&&p(u,h);a=s.collection(),v.filter(function(e){return!d[e.id()]}).forEach(function(e){e.isParent()?a.merge(e):e.remove()}),a.forEach(function(e){return e.children().move({parent:null})}),a.forEach(function(e){return b(e).remove()})}t.style&&s.style(t.style),t.zoom!=null&&t.zoom!==o.zoom&&s.zoom(t.zoom),t.pan&&(t.pan.x!==o.pan.x||t.pan.y!==o.pan.y)&&s.pan(t.pan),t.data&&s.data(t.data);for(m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],c=0;c<m.length;c++)r=m[c],t[r]!=null&&s[r](t[r]);return s.endBatch(),this}return g=!!t,n={},g?n.elements=this.elements().map(function(e){return e.json()}):(n.elements={},v.forEach(function(e){var t=e.group();n.elements[t]||(n.elements[t]=[]),n.elements[t].push(e.json())})),this._private.styleEnabled&&(n.style=s.style().json()),n.data=gi(s.data()),i=o.options,n.zoomingEnabled=o.zoomingEnabled,n.userZoomingEnabled=o.userZoomingEnabled,n.zoom=o.zoom,n.minZoom=o.minZoom,n.maxZoom=o.maxZoom,n.panningEnabled=o.panningEnabled,n.userPanningEnabled=o.userPanningEnabled,n.pan=gi(o.pan),n.boxSelectionEnabled=o.boxSelectionEnabled,n.renderer=gi(i.renderer),n.hideEdgesOnViewport=i.hideEdgesOnViewport,n.textureOnViewport=i.textureOnViewport,n.wheelSensitivity=i.wheelSensitivity,n.motionBlur=i.motionBlur,n.multiClickDebounceTime=i.multiClickDebounceTime,n},"json")}),Rf.$id=Rf.getElementById,[VLe,KLe,Tk,Wb,W3,ZLe,Ib,O6,fRe,zc,k1].forEach(function(e){ee(Rf,e)}),yRe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},_Re={maximal:!1,acyclic:!1},Zd=e(function(e){return e.scratch("breadthfirst")},"getInfo"),MA=e(function(e,t){return e.scratch("breadthfirst",t)},"setInfo"),e(FL,"BreadthFirstLayout"),FL.prototype.run=function(){var s,i,c,d,m,f,p,v,b,j,y,_,O,C,E,A,S,M,F,T,L,P,H,I,t=this.options,l=t.cy,r=t.eles,a=r.nodes().filter(function(e){return e.isChildless()}),Z=r,N=t.directed,X=t.acyclic||t.maximal||t.maximalAdjustments>0,x=!!t.boundingBox,h=l.extent(),o=gs(x?t.boundingBox:{x1:h.x1,y1:h.y1,w:h.w,h:h.h});if(ys(t.roots))i=t.roots;else if($e(t.roots)){for(M=[],m=0;m<t.roots.length;m++)T=t.roots[m],L=l.getElementById(T),M.push(L);i=l.collection(M)}else if(Y(t.roots))i=l.$(t.roots);else if(N)i=a.roots();else{A=r.components(),i=l.collection();for(H=e(function(e){var t=A[e],n=t.maxDegree(!1),s=t.filter(function(e){return e.degree(!1)===n});i=i.add(s)},"_loop"),b=0;b<A.length;b++)H(b)}var n=[],$={},z=e(function(e,t){n[t]==null&&(n[t]=[]);var s=n[t].length;n[t].push(e),MA(e,{index:s,depth:t})},"addToDepth"),U=e(function(e,t){var s=Zd(e),o=s.depth,i=s.index;n[o][i]=null,e.isChildless()&&z(e,t)},"changeDepth");Z.bfs({roots:i,directed:t.directed,visit:e(function(e,t,n,s,o){var i=e[0],a=i.id();i.isChildless()&&z(i,o),$[a]=!0},"visit")});for(O=[],_=0;_<a.length;_++)C=a[_],$[C.id()]||O.push(C);if(E=e(function(e){for(var o,s=n[e],t=0;t<s.length;t++){if(o=s[t],o==null){s.splice(t,1),t--;continue}MA(o,{depth:e,index:t})}},"assignDepthsAt"),I=e(function(e,n){for(var i,l,d,u=Zd(e),a=e.incomers().filter(function(e){return e.isNode()&&r.has(e)}),s=-1,c=e.id(),o=0;o<a.length;o++)l=a[o],d=Zd(l),s=Math.max(s,d.depth);return u.depth<=s&&(!t.acyclic&&n[c]?null:(i=s+1,U(e,i),n[c]=i,!0))},"adjustMaximally"),N&&X){var g=[],Q={},ee=e(function(e){return g.push(e)},"enqueue"),q=e(function(){return g.shift()},"dequeue");for(a.forEach(function(e){return g.push(e)});g.length>0;)if(f=q(),F=I(f,Q),F)f.outgoers().filter(function(e){return e.isNode()&&r.has(e)}).forEach(ee);else if(F===null){ze("Detected double maximal shift for node `"+f.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}if(c=0,t.avoidOverlap)for(p=0;p<a.length;p++){var G=a[p],R=G.layoutDimensions(t),W=R.w,K=R.h;c=Math.max(c,W,K)}var k={},B=e(function(e){if(k[e.id()])return k[e.id()];for(var o,i,r,l,u,h=Zd(e).depth,d=e.neighborhood(),t=0,s=0,c=0;c<d.length;c++)o=d[c],o.isEdge()||o.isParent()||!a.has(o)||(i=Zd(o),i!=null&&(l=i.index,r=i.depth,l==null||r==null||(u=n[r].length,r<h&&(t+=l/u,s++))));return s=Math.max(1,s),t=t/s,s===0&&(t=0),k[e.id()]=t,t},"getWeightedPercent"),V=e(function(e,t){var s=B(e),o=B(t),n=s-o;return n===0?Zk(e.id(),t.id()):n},"sortFn");t.depthSort!==void 0&&(V=t.depthSort);for(s=n.length,d=0;d<s;d++)n[d].sort(V),E(d);for(y=[],v=0;v<O.length;v++)y.push(O[v]);P=e(function(){for(var e=0;e<s;e++)E(e)},"assignDepths"),y.length&&(n.unshift(y),s=n.length,P());for(S=0,j=0;j<s;j++)S=Math.max(n[j].length,S);var u={x:o.x1+o.w/2,y:o.y1+o.h/2},w=a.reduce(function(e,n){return function(t){return{w:e.w===-1?t.w:(e.w+t.w)/2,h:e.h===-1?t.h:(e.h+t.h)/2}}(n.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),J=Math.max(s===1?0:x?(o.h-t.padding*2-w.h)/(s-1):(o.h-t.padding*2-w.h)/(s+1),c),D=n.reduce(function(e,t){return Math.max(e,t.length)},0),te=e(function(e){var i,r,d,h=Zd(e),a=h.depth,m=h.index;if(t.circle)return i=Math.min(o.w/2/s,o.h/2/s),i=Math.max(i,c),r=i*a+i-(s>0&&n[0].length<=3?i/2:0),d=2*Math.PI/n[a].length*m,a===0&&n[0].length===1&&(r=1),{x:u.x+r*Math.cos(d),y:u.y+r*Math.sin(d)};var l=n[a].length,f=Math.max(l===1?0:x?(o.w-t.padding*2-w.w)/((t.grid?D:l)-1):(o.w-t.padding*2-w.w)/((t.grid?D:l)+1),c),p={x:u.x+(m+1-(l+1)/2)*f,y:u.y+(a+1-(s+1)/2)*J};return p},"getPosition");return r.nodes().layoutPositions(this,t,te),this},xRe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},e(CL,"CircleLayout"),CL.prototype.run=function(){var m,u=this.options,t=u,h=u.cy,d=t.eles,_=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=d.nodes().not(":parent");t.sort&&(n=n.sort(t.sort));for(var s,i=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:h.width(),h:h.height()}),c={x:i.x1+i.w/2,y:i.y1+i.h/2},b=t.sweep===void 0?2*Math.PI-2*Math.PI/n.length:t.sweep,a=b/Math.max(1,n.length-1),o=0,r=0;r<n.length;r++)var j=n[r],l=j.layoutDimensions(t),g=l.w,v=l.h,o=Math.max(o,g,v);if(k(t.radius)?s=t.radius:n.length<=1?s=0:s=Math.min(i.h,i.w)/2-o,n.length>1&&t.avoidOverlap){o*=1.75;var p=Math.cos(a)-Math.cos(0),f=Math.sin(a)-Math.sin(0),y=Math.sqrt(o*o/(p*p+f*f));s=Math.max(y,s)}return m=e(function(e,n){var o=t.startAngle+n*a*(_?1:-1),i=s*Math.cos(o),r=s*Math.sin(o),l={x:c.x+i,y:c.y+r};return l},"getPos"),d.nodes().layoutPositions(this,t,m),this},CRe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:e(function(e){return e.degree()},"concentric"),levelWidth:e(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},e(oL,"ConcentricLayout"),oL.prototype.run=function(){for(var n,a,r,u,h,m,f,p,j,y,_,E,k,A,z,N,L=this.options,e=L,K=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,P=L.cy,H=e.eles,s=H.nodes().not(":parent"),o=gs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:P.width(),h:P.height()}),D={x:o.x1+o.w/2,y:o.y1+o.h/2},d=[],O=0,C=0;C<s.length;C++)u=s[C],h=void 0,h=e.concentric(u),d.push({value:h,node:u}),u._private.scratch.concentric=h;s.updateStyle();for(m=0;m<s.length;m++)z=s[m],E=z.layoutDimensions(e),O=Math.max(O,E.w,E.h);d.sort(function(e,t){return t.value-e.value});for(var B=e.levelWidth(s),t=[[]],c=t[0],w=0;w<d.length;w++)y=d[w],c.length>0&&(A=Math.abs(c[0].value-y.value),A>=B&&(c=[],t.push(c))),c.push(y);if(n=O+e.minNodeSpacing,!e.avoidOverlap){var $=t.length>0&&t[0].length>1,V=Math.min(o.w,o.h)/2-n,U=V/(t.length+$?1:0);n=Math.min(n,U)}for(a=0,f=0;f<t.length;f++){var i=t[f],Y=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,M=i.dTheta=Y/Math.max(1,i.length-1);if(i.length>1&&e.avoidOverlap){var F=Math.cos(M)-Math.cos(0),T=Math.sin(M)-Math.sin(0),I=Math.sqrt(n*n/(F*F+T*T));a=Math.max(I,a)}i.r=a,a+=n}if(e.equidistant){for(var x=0,l=0,b=0;b<t.length;b++)k=t[b],N=k.r-l,x=Math.max(x,N);for(l=0,r=0;r<t.length;r++)j=t[r],r===0&&(l=j.r),j.r=l,l+=x}for(_={},p=0;p<t.length;p++)for(var g=t[p],W=g.dTheta,R=g.r,v=0;v<g.length;v++){var q=g[v],S=e.startAngle+(K?1:-1)*W*v,G={x:D.x+R*Math.cos(S),y:D.y+R*Math.sin(S)};_[q.node.id()]=G}return H.nodes().layoutPositions(this,e,function(e){var t=e.id();return _[t]}),this},kRe={ready:e(function(){},"ready"),stop:e(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:e(function(){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:e(function(){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:e(function(){return 32},"idealEdgeLength"),edgeElasticity:e(function(){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},e(uf,"CoseLayout"),uf.prototype.run=function(){var t=this.options,a=t.cy,s=this;s.stopped=!1,(t.animate===!0||t.animate===!1)&&s.emit({type:"layoutstart",layout:s}),t.debug===!0?TA=!0:TA=!1,n=ARe(a,s,t),TA&&jQe(n),t.randomize&&TRe(n);var n,d,u=ra(),r=e(function(){DRe(n,a,t),t.fit===!0&&a.fit(t.padding)},"refresh"),c=e(function(e){return!(s.stopped||e>=t.numIter||(NRe(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},"mainLoop"),l=e(function(){if(t.animate===!0||t.animate===!1)r(),s.one("layoutstop",t.stop),s.emit({type:"layoutstop",layout:s});else{var e=t.eles.nodes(),o=DA(n,t,e);e.layoutPositions(s,t,o)}},"done"),i=0,o=!0;if(t.animate===!0)d=e(function e(){for(var a,s=0;o&&s<t.refresh;)o=c(i),i++,s++;o?(a=ra(),a-u>=t.animationThreshold&&r(),Lh(e)):(HA(n,t),l())},"frame"),d();else{for(;o;)o=c(i),i++;HA(n,t),l()}return this},uf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},uf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},ARe=e(function(e,t,n){for(var a,r,c,l,d,m,g,v,j,O=n.eles.edges(),k=n.eles.nodes(),p=gs(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:k.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:O.size(),temperature:n.initialTemp,clientWidth:p.w,clientHeight:p.h,boundingBox:p},C=n.eles.components(),E={},i=0;i<C.length;i++)for(g=C[i],c=0;c<g.length;c++)d=g[c],E[d.id()]=i;for(i=0;i<o.nodeSize;i++){var a=k[i],_=a.layoutDimensions(n),s={};s.isLocked=a.locked(),s.id=a.data("id"),s.parentId=a.data("parent"),s.cmptId=E[a.id()],s.children=[],s.positionX=a.position("x"),s.positionY=a.position("y"),s.offsetX=0,s.offsetY=0,s.height=_.w,s.width=_.h,s.maxX=s.positionX+s.width/2,s.minX=s.positionX-s.width/2,s.maxY=s.positionY+s.height/2,s.minY=s.positionY-s.height/2,s.padLeft=parseFloat(a.style("padding")),s.padRight=parseFloat(a.style("padding")),s.padTop=parseFloat(a.style("padding")),s.padBottom=parseFloat(a.style("padding")),s.nodeRepulsion=st(n.nodeRepulsion)?n.nodeRepulsion(a):n.nodeRepulsion,o.layoutNodes.push(s),o.idToIndex[s.id]=i}for(var h=[],x=0,b=-1,A=[],i=0;i<o.nodeSize;i++)a=o.layoutNodes[i],m=a.parentId,m!=null?o.layoutNodes[o.idToIndex[m]].children.push(a.id):(h[++b]=a.id,A.push(a.id));for(o.graphSet.push(A);x<=b;){var L=h[x++],N=o.idToIndex[L],d=o.layoutNodes[N],u=d.children;if(u.length>0){o.graphSet.push(u);for(i=0;i<u.length;i++)h[++b]=u[i]}}for(i=0;i<o.graphSet.length;i++)for(v=o.graphSet[i],c=0;c<v.length;c++)j=o.idToIndex[v[c]],o.indexToGraph[j]=i;for(i=0;i<o.edgeSize;i++){l=O[i],r={},r.id=l.data("id"),r.sourceId=l.data("source"),r.targetId=l.data("target");var y=st(n.idealEdgeLength)?n.idealEdgeLength(l):n.idealEdgeLength,F=st(n.edgeElasticity)?n.edgeElasticity(l):n.edgeElasticity,M=o.idToIndex[r.sourceId],S=o.idToIndex[r.targetId],T=o.indexToGraph[M],z=o.indexToGraph[S];if(T!=z){for(var D=SRe(r.sourceId,r.targetId,o),w=o.graphSet[D],f=0,s=o.layoutNodes[M];w.indexOf(s.id)===-1;)s=o.layoutNodes[o.idToIndex[s.parentId]],f++;for(s=o.layoutNodes[S];w.indexOf(s.id)===-1;)s=o.layoutNodes[o.idToIndex[s.parentId]],f++;y*=f*n.nestingFactor}r.idealLength=y,r.elasticity=F,o.layoutEdges.push(r)}return o},"createLayoutInfo"),SRe=e(function(e,t,n){var s=MRe(e,t,0,n);return 2>s.count?0:s.graph},"findLCA"),MRe=e(function e(t,n,s,o){if(i=o.graphSet[s],-1<i.indexOf(t)&&-1<i.indexOf(n))return{count:2,graph:s};for(a=0,r=0;r<i.length;r++){var i,a,r,c,d,u=i[r],h=o.idToIndex[u],l=o.layoutNodes[h].children;if(l.length!==0&&(d=o.indexToGraph[o.idToIndex[l[0]]],c=e(t,n,d,o),c.count!==0))if(c.count===1){if(a++,a===2)break}else return c}return{count:a,graph:s}},"findLCA_aux"),TRe=e(function(e){for(var n,o=e.clientWidth,i=e.clientHeight,s=0;s<e.nodeSize;s++)n=e.layoutNodes[s],n.children.length===0&&!n.isLocked&&(n.positionX=Math.random()*o,n.positionY=Math.random()*i)},"randomizePositions"),DA=e(function(e,t,n){var o=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];s.x1=Math.min(s.x1,n.positionX),s.x2=Math.max(s.x2,n.positionX),s.y1=Math.min(s.y1,n.positionY),s.y2=Math.max(s.y2,n.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),function(n){if(a=e.layoutNodes[e.idToIndex[n.data("id")]],t.boundingBox){var a,r=(a.positionX-s.x1)/s.w,c=(a.positionY-s.y1)/s.h;return{x:o.x1+r*o.w,y:o.y1+c*o.h}}return{x:a.positionX,y:a.positionY}}},"getScaleInBoundsFn"),DRe=e(function(e,t,n){var s=n.layout,o=n.eles.nodes(),i=DA(e,n,o);o.positions(i),e.ready!==!0&&(e.ready=!0,s.one("layoutready",n.ready),s.emit({type:"layoutready",layout:this}))},"refreshPositions"),NRe=e(function(e,t){LRe(e,t),BRe(e),VRe(e,t),$Re(e),WRe(e)},"step"),LRe=e(function(e,t){for(n=0;n<e.graphSet.length;n++)for(var n,o,r,c,i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(r=e.layoutNodes[e.idToIndex[i[s]]],o=s+1;o<a;o++)c=e.layoutNodes[e.idToIndex[i[o]]],PRe(r,c,e,t)},"calculateNodeForces"),LA=e(function(e){return-e+2*e*Math.random()},"randomDistance"),PRe=e(function(e,t,n,s){if(p=e.cmptId,m=t.cmptId,p===m||!!n.isCompound){var o=t.positionX-e.positionX,i=t.positionY-e.positionY,f=1;if(o===0&&i===0&&(o=LA(f),i=LA(f)),c=HRe(e,t,o,i),c>0)var a=s.nodeOverlap*c,r=Math.sqrt(o*o+i*i),l=a*o/r,d=a*i/r;else var c,m,p,g=_f(e,o,i),v=_f(t,-1*o,-1*i),u=v.x-g.x,h=v.y-g.y,b=u*u+h*h,r=Math.sqrt(b),a=(e.nodeRepulsion+t.nodeRepulsion)/b,l=a*u/r,d=a*h/r;e.isLocked||(e.offsetX-=l,e.offsetY-=d),t.isLocked||(t.offsetX+=l,t.offsetY+=d)}},"nodeRepulsion"),HRe=e(function(e,t,n,s){if(n>0)var o,i=e.maxX-t.minX;else i=t.maxX-e.minX;return s>0?(o=e.maxY-t.minY):(o=t.maxY-e.minY),i>=0&&o>=0?Math.sqrt(i*i+o*o):0},"nodesOverlap"),_f=e(function(e,t,n){var r=e.positionX,c=e.positionY,a=e.height||1,l=e.width||1,o=n/t,i=a/l,s={};return t===0&&0<n||t===0&&0>n?(s.x=r,s.y=c+a/2,s):0<t&&-1*i<=o&&o<=i?(s.x=r+l/2,s.y=c+l*n/2/t,s):0>t&&-1*i<=o&&o<=i?(s.x=r-l/2,s.y=c-l*n/2/t,s):0<n&&(o<=-1*i||o>=i)?(s.x=r+a*t/2/n,s.y=c+a/2,s):(0>n&&(o<=-1*i||o>=i)&&(s.x=r-a*t/2/n,s.y=c-a/2),s)},"findClippingPoint"),BRe=e(function(e){for(r=0;r<e.edgeSize;r++){var i,a,r,o=e.layoutEdges[r],v=e.idToIndex[o.sourceId],n=e.layoutNodes[v],g=e.idToIndex[o.targetId],s=e.layoutNodes[g],d=s.positionX-n.positionX,u=s.positionY-n.positionY;if(d!==0||u!==0){var m=_f(n,d,u),f=_f(s,-1*d,-1*u),h=f.x-m.x,l=f.y-m.y,c=Math.sqrt(h*h+l*l),p=Math.pow(o.idealLength-c,2)/o.elasticity;c!==0?(a=p*h/c,i=p*l/c):(a=0,i=0),n.isLocked||(n.offsetX+=a,n.offsetY+=i),s.isLocked||(s.offsetX-=a,s.offsetY-=i)}}},"calculateEdgeForces"),VRe=e(function(e,t){if(t.gravity!==0)for(m=1,s=0;s<e.graphSet.length;s++){if(i=e.graphSet[s],l=i.length,s===0)h=e.clientHeight/2,u=e.clientWidth/2;else var n,s,o,i,l,m,f,p,g=e.layoutNodes[e.idToIndex[i[0]]],d=e.layoutNodes[e.idToIndex[g.parentId]],h=d.positionX,u=d.positionY;for(o=0;o<l;o++)if(n=e.layoutNodes[e.idToIndex[i[o]]],!n.isLocked){var c=h-n.positionX,r=u-n.positionY,a=Math.sqrt(c*c+r*r);a>m&&(f=t.gravity*c/a,p=t.gravity*r/a,n.offsetX+=f,n.offsetY+=p)}}},"calculateGravityForces"),$Re=e(function(e){var s=[],c=0,a=-1;for(s.push.apply(s,e.graphSet[0]),a+=e.graphSet[0].length;c<=a;){var r,l=s[c++],d=e.idToIndex[l],n=e.layoutNodes[d],o=n.children;if(0<o.length&&!n.isLocked){for(var u=n.offsetX,h=n.offsetY,i=0;i<o.length;i++)r=e.layoutNodes[e.idToIndex[o[i]]],r.offsetX+=u,r.offsetY+=h,s[++a]=o[i];n.offsetX=0,n.offsetY=0}}},"propagateForces"),WRe=e(function(e){for(var n,o,s=0;s<e.nodeSize;s++)n=e.layoutNodes[s],0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0);for(s=0;s<e.nodeSize;s++)n=e.layoutNodes[s],0<n.children.length||n.isLocked||(o=URe(n.offsetX,n.offsetY,e.temperature),n.positionX+=o.x,n.positionY+=o.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,KRe(n,e));for(s=0;s<e.nodeSize;s++)n=e.layoutNodes[s],0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)},"updatePositions"),URe=e(function(e,t,n){var o,s=Math.sqrt(e*e+t*t);return s>n?(o={x:n*e/s,y:n*t/s}):(o={x:e,y:t}),o},"limitForce"),KRe=e(function e(t,n){if(i=t.parentId,i!=null){var i,s=n.layoutNodes[n.idToIndex[i]],o=!1;if((s.maxX==null||t.maxX+s.padRight>s.maxX)&&(s.maxX=t.maxX+s.padRight,o=!0),(s.minX==null||t.minX-s.padLeft<s.minX)&&(s.minX=t.minX-s.padLeft,o=!0),(s.maxY==null||t.maxY+s.padBottom>s.maxY)&&(s.maxY=t.maxY+s.padBottom,o=!0),(s.minY==null||t.minY-s.padTop<s.minY)&&(s.minY=t.minY-s.padTop,o=!0),o)return e(s,n)}},"updateAncestryBoundaries"),HA=e(function(e,t){for(var u=e.layoutNodes,a=[],o=0;o<u.length;o++){var f=u[o],h=f.cmptId,p=a[h]=a[h]||[];p.push(f)}for(c=0,o=0;o<a.length;o++)if(n=a[o],n){n.x1=1/0,n.x2=-1/0,n.y1=1/0,n.y2=-1/0;for(i=0;i<n.length;i++)s=n[i],n.x1=Math.min(n.x1,s.positionX-s.width/2),n.x2=Math.max(n.x2,s.positionX+s.width/2),n.y1=Math.min(n.y1,s.positionY-s.height/2),n.y2=Math.max(n.y2,s.positionY+s.height/2);n.w=n.x2-n.x1,n.h=n.y2-n.y1,c+=n.w*n.h}a.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var n,s,i,c,l=0,m=0,d=0,r=0,g=Math.sqrt(c)*e.clientWidth/e.clientHeight,o=0;o<a.length;o++)if(n=a[o],n){for(i=0;i<n.length;i++)s=n[i],s.isLocked||(s.positionX+=l-n.x1,s.positionY+=m-n.y1);l+=n.w+t.componentSpacing,d+=n.w+t.componentSpacing,r=Math.max(r,n.h),d>g&&(m+=r+t.componentSpacing,l=0,d=0,r=0)}},"separateComponents"),YRe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:e(function(){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},e(qN,"GridLayout"),qN.prototype.run=function(){var D=this.options,t=D,L=D.cy,M=t.eles,c=M.nodes().not(":parent");if(t.sort&&(c=c.sort(t.sort)),n=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:L.width(),h:L.height()}),n.h===0||n.w===0)M.nodes().layoutPositions(this,t,function(){return{x:n.x1,y:n.y1}});else{var n,o,a,l,d,h,p,g,b,_,w,O,x,R,r=c.size(),N=Math.sqrt(r*n.h/n.w),s=Math.round(N),i=Math.round(n.w/n.h*N),j=e(function(e){if(e==null)return Math.min(s,i);var t=Math.min(s,i);t==s?s=e:i=e},"small"),v=e(function(e){if(e==null)return Math.max(s,i);var t=Math.max(s,i);t==s?s=e:i=e},"large"),m=t.rows,f=t.cols!=null?t.cols:t.columns;if(m!=null&&f!=null)s=m,i=f;else if(m!=null&&f==null)s=m,i=Math.ceil(r/s);else if(m==null&&f!=null)i=f,s=Math.ceil(r/i);else if(i*s>r)p=j(),g=v(),(p-1)*g>=r?j(p-1):(g-1)*p>=r&&v(g-1);else for(;i*s<r;)_=j(),w=v(),(w+1)*_>=r?v(w+1):j(_+1);if(a=n.w/i,l=n.h/s,t.condense&&(a=0,l=0),t.avoidOverlap)for(b=0;b<c.length;b++){x=c[b],h=x._private.position,(h.x==null||h.y==null)&&(h.x=0,h.y=0);var z=x.layoutDimensions(t),S=t.avoidOverlapPadding,H=z.w+S,P=z.h+S;a=Math.max(a,H),l=Math.max(l,P)}for(var k={},E=e(function(e,t){return!!k["c-"+e+"-"+t]},"used"),A=e(function(e,t){k["c-"+e+"-"+t]=!0},"use"),y=0,u=0,F=e(function(){u++,u>=i&&(u=0,y++)},"moveToNextCell"),T={},C=0;C<c.length;C++)if(O=c[C],d=t.position(O),d&&(d.row!==void 0||d.col!==void 0)){if(o={row:d.row,col:d.col},o.col===void 0)for(o.col=0;E(o.row,o.col);)o.col++;else if(o.row===void 0)for(o.row=0;E(o.row,o.col);)o.row++;T[O.id()]=o,A(o.row,o.col)}R=e(function(e){if(e.locked()||e.isParent())return!1;var s,o,i=T[e.id()];if(i)s=i.col*a+a/2+n.x1,o=i.row*l+l/2+n.y1;else{for(;E(y,u);)F();s=u*a+a/2+n.x1,o=y*l+l/2+n.y1,A(y,u),F()}return{x:s,y:o}},"getPos"),c.layoutPositions(this,t,R)}return this},GRe={ready:e(function(){},"ready"),stop:e(function(){},"stop")},e(r7,"NullLayout"),r7.prototype.run=function(){var t=this.options,n=t.eles,e=this;return t.cy,e.emit("layoutstart"),n.nodes().positions(function(){return{x:0,y:0}}),e.one("layoutready",t.ready),e.emit("layoutready"),e.one("layoutstop",t.stop),e.emit("layoutstop"),this},r7.prototype.stop=function(){return this},XRe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},e(BN,"PresetLayout"),BN.prototype.run=function(){var t=this.options,s=t.eles,o=s.nodes(),i=st(t.positions);function n(e){if(t.positions==null)return gMe(e.position());if(i)return t.positions(e);var n=t.positions[e._private.data.id];return n??null}return e(n,"getPosition"),o.layoutPositions(this,t,function(e){var s=n(e);return!e.locked()&&s!=null&&s}),this},QRe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:e(function(){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:e(function(e,t){return t},"transform")},e(IN,"RandomLayout"),IN.prototype.run=function(){var t=this.options,s=t.cy,o=t.eles,n=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),i=e(function(){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}},"getPos");return o.nodes().layoutPositions(this,t,i),this},ZRe=[{name:"breadthfirst",impl:FL},{name:"circle",impl:CL},{name:"concentric",impl:oL},{name:"cose",impl:uf},{name:"grid",impl:qN},{name:"null",impl:r7},{name:"preset",impl:BN},{name:"random",impl:IN}],e(DN,"NullRenderer"),qA=e(function(){},"noop"),YA=e(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),DN.prototype={recalculateRenderedStyle:qA,notify:e(function(){this.notifications++},"notify"),init:qA,isHeadless:e(function(){return!0},"isHeadless"),png:YA,jpg:YA},X9={},X9.arrowShapeWidth=.3,X9.registerArrowShapes=function(){var i=this.arrowShapes={},s=this,r=e(function(e,t,n,s,o,i,a){var r=o.x-n/2-a,c=o.x+n/2+a,l=o.y-n/2-a,d=o.y+n/2+a,u=r<=e&&e<=c&&l<=t&&t<=d;return u},"bbCollide"),c=e(function(e,t,n,s,o){var i=e*Math.cos(s)-t*Math.sin(s),a=e*Math.sin(s)+t*Math.cos(s),r=i*n,c=a*n,l=r+o.x,d=c+o.y;return{x:l,y:d}},"transform"),t=e(function(e,t,n,s){for(var a,r,i=[],o=0;o<e.length;o+=2)a=e[o],r=e[o+1],i.push(c(a,r,t,n,s));return i},"transformPoints"),o=e(function(e){for(var n,s=[],t=0;t<e.length;t++)n=e[t],s.push(n.x,n.y);return s},"pointsToArr"),a=e(function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},"standardGap"),n=e(function(n,c){Y(c)&&(c=i[c]),i[n]=ee({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:e(function(e,n,s,i,a,r){var c=o(t(this.points,s+2*r,i,a)),l=os(e,n,c);return l},"collide"),roughCollide:r,draw:e(function(e,n,o,i){var a=t(this.points,n,o,i);s.arrowShapeImpl("polygon")(e,a)},"draw"),spacing:e(function(){return 0},"spacing"),gap:a},c)},"defineArrowShape");n("none",{collide:V3,roughCollide:V3,draw:Ny,spacing:S_,gap:S_}),n("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),n("arrow","triangle"),n("triangle-backcurve",{points:i.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:e(function(e,n,o,i){var l=t(this.points,n,o,i),r=this.controlPoint,d=c(r[0],r[1],n,o,i);s.arrowShapeImpl(this.name)(e,l,d)},"draw"),gap:e(function(e){return a(e)*.8},"gap")}),n("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:e(function(e,n,s,i,a,r,c){var l=o(t(this.points,s+2*c,i,a)),d=o(t(this.pointsTee,s+2*c,i,a)),u=os(e,n,l)||os(e,n,d);return u},"collide"),draw:e(function(e,n,o,i){var r=t(this.points,n,o,i),c=t(this.pointsTee,n,o,i);s.arrowShapeImpl(this.name)(e,r,c)},"draw")}),n("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:e(function(e,n,s,i,a,r,c){var l=a,d=Math.pow(l.x-e,2)+Math.pow(l.y-n,2)<=Math.pow((s+2*c)*this.radius,2),u=o(t(this.points,s+2*c,i,a));return os(e,n,u)||d},"collide"),draw:e(function(e,n,o,i){var r=t(this.pointsTr,n,o,i);s.arrowShapeImpl(this.name)(e,r,i.x,i.y,this.radius*n)},"draw"),spacing:e(function(e){return s.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius},"spacing")}),n("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:e(function(e,t){var n=this.baseCrossLinePts.slice(),s=t/e,o=3,i=5;return n[o]=n[o]-s,n[i]=n[i]-s,n},"crossLinePts"),collide:e(function(e,n,s,i,a,r,c){var l=o(t(this.points,s+2*c,i,a)),d=o(t(this.crossLinePts(s,r),s+2*c,i,a)),u=os(e,n,l)||os(e,n,d);return u},"collide"),draw:e(function(e,n,o,i,a){var r=t(this.points,n,o,i),c=t(this.crossLinePts(n,a),n,o,i);s.arrowShapeImpl(this.name)(e,r,c)},"draw")}),n("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:e(function(e){return a(e)*.525},"gap")}),n("circle",{radius:.15,collide:e(function(e,t,n,s,o,i,a){var r=o,c=Math.pow(r.x-e,2)+Math.pow(r.y-t,2)<=Math.pow((n+2*a)*this.radius,2);return c},"collide"),draw:e(function(e,t,n,o){s.arrowShapeImpl(this.name)(e,o.x,o.y,this.radius*t)},"draw"),spacing:e(function(e){return s.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius},"spacing")}),n("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:e(function(){return 1},"spacing"),gap:e(function(){return 1},"gap")}),n("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),n("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:e(function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value},"gap")}),n("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:e(function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value},"gap")})},lc={},lc.projectIntoViewport=function(e,t){var s=this.cy,n=this.findContainerClientCoords(),r=n[0],c=n[1],o=n[4],i=s.pan(),a=s.zoom(),l=((e-r)/o-i.x)/a,d=((t-c)/o-i.y)/a;return[l,d]},lc.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var s=this.container,i=s.getBoundingClientRect(),l=this.cy.window().getComputedStyle(s),t=e(function(e){return parseFloat(l.getPropertyValue(e))},"styleValue"),n={left:t("padding-left"),right:t("padding-right"),top:t("padding-top"),bottom:t("padding-bottom")},o={left:t("border-left-width"),right:t("border-right-width"),top:t("border-top-width"),bottom:t("border-bottom-width")},a=s.clientWidth,c=s.clientHeight,r=n.left+n.right,d=n.top+n.bottom,u=o.left+o.right,h=i.width/(a+u),m=a-r,f=c-d,p=i.left+n.left+o.left,g=i.top+n.top+o.top;return this.containerBB=[p,g,m,f,h]},lc.invalidateContainerClientCoordsCache=function(){this.containerBB=null},lc.findNearestElement=function(e,t,n,s){return this.findNearestElements(e,t,n,s)[0]},lc.findNearestElements=function(t,n,s,o){var i,u,m,b,_=this,c=this,h=c.getCachedZSortedEles(),r=[],g=c.cy.zoom(),O=c.cy.hasCompoundNodes(),v=(o?24:8)/g,y=(o?8:2)/g,w=(o?8:2)/g,d=1/0;s&&(h=h.interactive);function a(e,t){if(e.isNode()){if(b)return;b=e,r.push(e)}if(e.isEdge()&&(t==null||t<d))if(u){if(u.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&u.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<r.length;n++)if(r[n].isEdge()){r[n]=e,u=e,d=t??d;break}}else r.push(e),u=e,d=t??d}e(a,"addEle");function p(e){var d,o=e.outerWidth()+2*y,i=e.outerHeight()+2*y,r=o/2,l=i/2,s=e.position(),u=e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,h=e._private.rscratch;if(s.x-r<=t&&t<=s.x+r&&s.y-l<=n&&n<=s.y+l&&(d=c.nodeShapes[_.getNodeShape(e)],d.checkPoint(t,n,0,o,i,s.x,s.y,u,h)))return a(e,0),!0}e(p,"checkNode");function j(e){var s,o,u,d=e._private,i=d.rscratch,w=e.pstyle("width").pfValue,E=e.pstyle("arrow-scale").value,f=w/2+v,b=f*f,g=f*2,m=d.source,h=d.target;if(i.edgeType==="segments"||i.edgeType==="straight"||i.edgeType==="haystack"){for(o=i.allpts,s=0;s+3<o.length;s+=2)if(GMe(t,n,o[s],o[s+1],o[s+2],o[s+3],g)&&b>(u=eFe(t,n,o[s],o[s+1],o[s+2],o[s+3])))return a(e,u),!0}else if(i.edgeType==="bezier"||i.edgeType==="multibezier"||i.edgeType==="self"||i.edgeType==="compound")for(o=i.allpts,s=0;s+5<i.allpts.length;s+=4)if(XMe(t,n,o[s],o[s+1],o[s+2],o[s+3],o[s+4],o[s+5],g)&&b>(u=JMe(t,n,o[s],o[s+1],o[s+2],o[s+3],o[s+4],o[s+5])))return a(e,u),!0;for(var m=m||d.source,h=h||d.target,j=_.getArrowWidth(w,E),y=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}],s=0;s<y.length;s++){var l=y[s],x=c.arrowShapes[e.pstyle(l.name+"-arrow-shape").value],C=e.pstyle("width").pfValue;if(x.roughCollide(t,n,j,l.angle,{x:l.x,y:l.y},C,v)&&x.collide(t,n,j,l.angle,{x:l.x,y:l.y},C,v))return a(e),!0}O&&r.length>0&&(p(m),p(h))}e(j,"checkEdge");function f(e,t,n){return ho(e,t,n)}e(f,"preprop");function l(s,o){u=s._private,c=w,o?l=o+"-":l="",s.boundingBox();var d=u.labelBounds[o||"main"],A=s.pstyle(l+"label").value,S=s.pstyle("text-events").strValue==="yes";if(!!S&&!!A){var c,l,u,v=f(u.rscratch,"labelX",o),E=f(u.rscratch,"labelY",o),m=f(u.rscratch,"labelAngle",o),r=s.pstyle(l+"text-margin-x").pfValue,i=s.pstyle(l+"text-margin-y").pfValue,b=d.x1-c-r,j=d.x2+c-r,y=d.y1-c-i,_=d.y2+c-i;if(m){{var p=Math.cos(m),x=Math.sin(m),h=e(function(e,t){return e=e-v,t=t-E,{x:e*p-t*x+v,y:e*x+t*p+E}},"rotate"),g=h(b,y),k=h(b,_),C=h(j,y),O=h(j,_),M=[g.x+r,g.y+i,C.x+r,C.y+i,O.x+r,O.y+i,k.x+r,k.y+i];if(os(t,n,M))return a(s),!0}}else if(Ad(d,t,n))return a(s),!0}}e(l,"checkLabel");for(m=h.length-1;m>=0;m--)i=h[m],i.isNode()?p(i)||l(i):j(i)||l(i)||l(i,"source")||l(i,"target");return r},lc.getAllInBox=function(e,t,n,s){var i,c,l,d,m,f=this.getCachedZSortedEles().interactive,r=[],v=Math.min(e,n),b=Math.max(e,n),y=Math.min(t,s),j=Math.max(t,s);e=v,n=b,t=y,s=j;for(i=gs({x1:e,y1:t,x2:n,y2:s}),c=0;c<f.length;c++)if(l=f[c],l.isNode())m=l,d=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1}),Wy(i,d)&&!r_(d,i)&&r.push(m);else{var h=l,a=h._private,o=a.rscratch;if(o.startX!=null&&o.startY!=null&&!Ad(i,o.startX,o.startY)||o.endX!=null&&o.endY!=null&&!Ad(i,o.endX,o.endY))continue;if(o.edgeType==="bezier"||o.edgeType==="multibezier"||o.edgeType==="self"||o.edgeType==="compound"||o.edgeType==="segments"||o.edgeType==="haystack"){for(var p=a.rstyle.bezierPts||a.rstyle.linePts||a.rstyle.haystackPts,g=!0,u=0;u<p.length;u++)if(!KMe(i,p[u])){g=!1;break}g&&r.push(h)}else(o.edgeType==="haystack"||o.edgeType==="straight")&&r.push(h)}return r},$8={},$8.calculateArrowAngles=function(e){var t,s,o,i,l,d,u,h,m,p,g,b,w,O,x,k,A,n=e._private.rscratch,M=n.edgeType==="haystack",S=n.edgeType==="bezier",E=n.edgeType==="multibezier",v=n.edgeType==="segments",y=n.edgeType==="compound",j=n.edgeType==="self";if(M?(l=n.haystackPts[0],d=n.haystackPts[1],u=n.haystackPts[2],h=n.haystackPts[3]):(l=n.arrowStartX,d=n.arrowStartY,u=n.arrowEndX,h=n.arrowEndY),g=n.midX,p=n.midY,v)o=l-n.segpts[0],s=d-n.segpts[1];else if(E||y||j||S){var t=n.allpts,C=Jt(t[0],t[2],t[4],.1),_=Jt(t[1],t[3],t[5],.1);o=l-C,s=d-_}else o=l-g,s=d-p;if(n.srcArrowAngle=Q2(o,s),g=n.midX,p=n.midY,M&&(g=(l+u)/2,p=(d+h)/2),o=u-l,s=h-d,v)t=n.allpts,t.length/2%2===0?(i=t.length/2,m=i-2,o=t[i]-t[m],s=t[i+1]-t[m+1]):n.isRound?(o=n.midVector[1],s=-n.midVector[0]):(i=t.length/2-1,m=i-2,o=t[i]-t[m],s=t[i+1]-t[m+1]);else if(E||y||j){if(t=n.allpts,A=n.ctrlpts,A.length/2%2===0){var r=t.length/2-1,a=r+2,c=a+2;b=Jt(t[r],t[a],t[c],0),w=Jt(t[r+1],t[a+1],t[c+1],0),O=Jt(t[r],t[a],t[c],1e-4),x=Jt(t[r+1],t[a+1],t[c+1],1e-4)}else{var a=t.length/2-1,r=a-2,c=a+2;b=Jt(t[r],t[a],t[c],.4999),w=Jt(t[r+1],t[a+1],t[c+1],.4999),O=Jt(t[r],t[a],t[c],.5),x=Jt(t[r+1],t[a+1],t[c+1],.5)}o=O-b,s=x-w}if((n.midtgtArrowAngle=Q2(o,s),n.midDispX=o,n.midDispY=s,o*=-1,s*=-1,v)&&(t=n.allpts,t.length/2%2!==0&&(n.isRound||(i=t.length/2-1,k=i+2,o=-(t[k]-t[i]),s=-(t[k+1]-t[i+1])))),n.midsrcArrowAngle=Q2(o,s),v)o=u-n.segpts[n.segpts.length-2],s=h-n.segpts[n.segpts.length-1];else if(E||y||j||S){var t=n.allpts,f=t.length,C=Jt(t[f-6],t[f-4],t[f-2],.9),_=Jt(t[f-5],t[f-3],t[f-1],.9);o=u-C,s=h-_}else o=u-g,s=h-p;n.tgtArrowAngle=Q2(o,s)},$8.getArrowWidth=$8.getArrowHeight=function(e,t){var s=this.arrowWidthCache=this.arrowWidthCache||{},n=s[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,s[e+", "+t]=n,n)},wi={},Ps={},bM=e(function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},"asVec"),xPe=e(function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),CPe=e(function(e,t,n,s,o){if(e!==wPe?bM(t,e,wi):xPe(Ps,wi),bM(t,n,Ps),cPe=wi.nx*Ps.ny-wi.ny*Ps.nx,lPe=wi.nx*Ps.nx-wi.ny*-Ps.ny,Dr=Math.asin(Math.max(-1,Math.min(1,cPe))),Math.abs(Dr)<1e-6){cS=t.x,lS=t.y,td=k4=0;return}jd=1,V9=!1,lPe<0?Dr<0?Dr=Math.PI+Dr:(Dr=Math.PI-Dr,jd=-1,V9=!0):Dr>0&&(jd=-1,V9=!0),t.radius!==void 0?k4=t.radius:k4=s,nd=Dr/2,y9=Math.min(wi.len/2,Ps.len/2),o?(Xi=Math.abs(Math.cos(nd)*k4/Math.sin(nd)),Xi>y9?(Xi=y9,td=Math.abs(Xi*Math.sin(nd)/Math.cos(nd))):td=k4):(Xi=Math.min(y9,k4),td=Math.abs(Xi*Math.sin(nd)/Math.cos(nd))),pM=t.x+Ps.nx*Xi,gM=t.y+Ps.ny*Xi,cS=pM-Ps.ny*td*jd,lS=gM+Ps.nx*td*jd,bPe=t.x+wi.nx*Xi,jPe=t.y+wi.ny*Xi,wPe=t},"calcCornerArc"),e(TN,"drawPreparedRoundCorner"),e(b7,"getRoundCorner"),bn={},bn.findMidptPtsEtc=function(t,n){var s,p=n.posPts,a=n.intersectionPts,h=n.vectorNormInverse,r=t.pstyle("source-endpoint"),c=t.pstyle("target-endpoint"),j=r.units!=null&&c.units!=null,b=e(function(e,t,n,s){var o=s-t,i=n-e,a=Math.sqrt(i*i+o*o);return{x:-o/a,y:i/a}},"recalcVectorNormInverse"),v=t.pstyle("edge-distances").value;switch(v){case"node-position":s=p;break;case"intersection":s=a;break;case"endpoints":{if(j){var f=this.manualEndptToPx(t.source()[0],r),m=jt(f,2),u=m[0],o=m[1],g=this.manualEndptToPx(t.target()[0],c),i=jt(g,2),d=i[0],l=i[1],y={x1:u,y1:o,x2:d,y2:l};h=b(u,o,d,l),s=y}else ze("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=a;break}}return{midptPts:s,vectorNormInverse:h}},bn.findHaystackPoints=function(e){for(o=0;o<e.length;o++){var n=e[o],c=n._private,t=c.rscratch;t.haystack||(s=Math.random()*2*Math.PI,t.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,t.target={x:Math.cos(s),y:Math.sin(s)});var s,o,r=c.source,a=c.target,l=r.position(),d=a.position(),u=r.width(),h=a.width(),m=r.height(),f=a.height(),p=n.pstyle("haystack-radius").value,i=p/2;t.haystackPts=t.allpts=[t.source.x*u*i+l.x,t.source.y*m*i+l.y,t.target.x*h*i+d.x,t.target.y*f*i+d.y],t.midX=(t.allpts[0]+t.allpts[2])/2,t.midY=(t.allpts[1]+t.allpts[3])/2,t.edgeType="haystack",t.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},bn.findSegmentsPoints=function(e,t){var n,s=e._private.rscratch,c=e.pstyle("segment-weights"),m=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),b=Math.min(c.pfValue.length,m.pfValue.length),g=i.pfValue[i.pfValue.length-1],v=o.pfValue[o.pfValue.length-1];s.edgeType="segments",s.segpts=[],s.radii=[],s.isArcRadius=[];for(n=0;n<b;n++){var l=c.pfValue[n],d=m.pfValue[n],u=1-l,r=l,h=this.findMidptPtsEtc(e,t),a=h.midptPts,f=h.vectorNormInverse,p={x:a.x1*u+a.x2*r,y:a.y1*u+a.y2*r};s.segpts.push(p.x+f.x*d,p.y+f.y*d),s.radii.push(i.pfValue[n]!==void 0?i.pfValue[n]:g),s.isArcRadius.push((o.pfValue[n]!==void 0?o.pfValue[n]:v)==="arc-radius")}},bn.findLoopPoints=function(e,t,n,s){var i,u=e._private.rscratch,c=t.dirCounts,a=t.srcPos,h=e.pstyle("control-point-distances"),g=h?h.pfValue[0]:void 0,d=e.pstyle("loop-direction").pfValue,r=e.pstyle("loop-sweep").pfValue,v=e.pstyle("control-point-step-size").pfValue;u.edgeType="self",o=n,i=v,s&&(o=0,i=g);var m=d-Math.PI/2,f=m-r/2,p=m+r/2,l=d+"_"+r,o=c[l]===void 0?c[l]=0:++c[l];u.ctrlpts=[a.x+Math.cos(f)*1.4*i*(o/3+1),a.y+Math.sin(f)*1.4*i*(o/3+1),a.x+Math.cos(p)*1.4*i*(o/3+1),a.y+Math.sin(p)*1.4*i*(o/3+1)]},bn.findCompoundLoopPoints=function(e,t,n,s){a=e._private.rscratch,a.edgeType="compound";var a,u=t.srcPos,g=t.tgtPos,l=t.srcW,v=t.srcH,p=t.tgtW,y=t.tgtH,j=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),b=h?h.pfValue[0]:void 0,i=n,r=j;s&&(i=0,r=b);var c=50,f={x:u.x-l/2,y:u.y-v/2},m={x:g.x-p/2,y:g.y-y/2},o={x:Math.min(f.x,m.x),y:Math.min(f.y,m.y)},d=.5,_=Math.max(d,Math.log(l*.01)),w=Math.max(d,Math.log(p*.01));a.ctrlpts=[o.x,o.y-(1+Math.pow(c,1.12)/100)*r*(i/3+1)*_,o.x-(1+Math.pow(c,1.12)/100)*r*(i/3+1)*w,o.y]},bn.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},bn.findBezierPoints=function(e,t,n,s,o){var a,u=e._private.rscratch,j=e.pstyle("control-point-step-size").pfValue,i=e.pstyle("control-point-distances"),c=e.pstyle("control-point-weights"),O=i&&c?Math.min(i.value.length,c.value.length):1,l=i?i.pfValue[0]:void 0,h=c.value[0],p=s;u.edgeType=p?"multibezier":"bezier",u.ctrlpts=[];for(a=0;a<O;a++){var f=(.5-t.eles.length/2+n)*j*(o?-1:1),d=void 0,w=n_(f);p&&(l=i?i.pfValue[a]:j,h=c.value[a]),s?d=l:d=l!==void 0?w*l:void 0;var m=d!==void 0?d:f,g=1-h,v=h,b=this.findMidptPtsEtc(e,t),r=b.midptPts,y=b.vectorNormInverse,_={x:r.x1*g+r.x2*v,y:r.y1*g+r.y2*v};u.ctrlpts.push(_.x+y.x*m,_.y+y.y*m)}},bn.findTaxiPoints=function(t,n){o=t._private.rscratch,o.edgeType="segments";var o,r,y,O,x,z,I,W,U,K,v="vertical",N="horizontal",D="leftward",w="rightward",A="downward",T="upward",oe="auto",s=n.posPts,p=n.srcW,g=n.srcH,$=n.tgtW,L=n.tgtH,Y=t.pstyle("edge-distances").value,m=Y!=="node-position",d=t.pstyle("taxi-direction").value,i=d,k=t.pstyle("taxi-turn"),_=k.units==="%",l=k.pfValue,fe=l<0,me=t.pstyle("taxi-turn-min-distance").pfValue,de=m?(p+$)/2:0,re=m?(g+L)/2:0,f=s.x2-s.x1,j=s.y2-s.y1,S=e(function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},"subDWH"),M=S(f,de),F=S(j,re),b=!1;i===oe?d=Math.abs(M)>Math.abs(F)?N:v:i===T||i===A?(d=v,b=!0):(i===D||i===w)&&(d=N,b=!0);var h=d===v,c=h?F:M,a=h?j:f,u=n_(a),R=!1;!(b&&(_||fe))&&(i===A&&a<0||i===T&&a>0||i===D&&a>0||i===w&&a<0)&&(u*=-1,c=u*Math.abs(c),R=!0),_?(z=l<0?1+l:l,r=z*c):(W=l<0?c:0,r=W+l*u);var B=e(function(e){return Math.abs(e)<me||Math.abs(e)>=Math.abs(c)},"getIsTooClose"),te=B(r),ee=B(Math.abs(c)-Math.abs(r)),J=te||ee;if(J&&!R)if(h)if(U=Math.abs(a)<=g/2,K=Math.abs(f)<=$/2,U){var q=(s.x1+s.x2)/2,X=s.y1,G=s.y2;o.segpts=[q,X,q,G]}else if(K){var H=(s.y1+s.y2)/2,Q=s.x1,Z=s.x2;o.segpts=[Q,H,Z,H]}else o.segpts=[s.x1,s.y2];else if(I=Math.abs(a)<=p/2,y=Math.abs(j)<=L/2,I){var V=(s.y1+s.y2)/2,ne=s.x1,se=s.x2;o.segpts=[ne,V,se,V]}else if(y){var P=(s.x1+s.x2)/2,ie=s.y1,ae=s.y2;o.segpts=[P,ie,P,ae]}else o.segpts=[s.x2,s.y1];else if(h){var E=s.y1+r+(m?g/2*u:0),ce=s.x1,le=s.x2;o.segpts=[ce,E,le,E]}else{var C=s.x1+r+(m?p/2*u:0),ue=s.y1,he=s.y2;o.segpts=[C,ue,C,he]}o.isRound&&(x=t.pstyle("taxi-radius").value,O=t.pstyle("radius-type").value[0]==="arc-radius",o.radii=new Array(o.segpts.length/2).fill(x),o.isArcRadius=new Array(o.segpts.length/2).fill(O))},bn.tryToCorrectInvalidPoints=function(e,t){if(n=e._private.rscratch,n.edgeType==="bezier"){var n,c=t.srcPos,l=t.tgtPos,d=t.srcW,f=t.srcH,H=t.tgtW,P=t.tgtH,R=t.srcShape,L=t.tgtShape,C=t.srcCornerRadius,N=t.tgtCornerRadius,D=t.srcRs,z=t.tgtRs,T=!k(n.startX)||!k(n.startY),F=!k(n.arrowStartX)||!k(n.arrowStartY),M=!k(n.endX)||!k(n.endY),S=!k(n.arrowEndX)||!k(n.arrowEndY),A=3,E=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,s=A*E,u=gc({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),O=u<s,m=gc({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),x=m<s,h=!1;if(T||F||O){h=!0;var a={x:n.ctrlpts[0]-c.x,y:n.ctrlpts[1]-c.y},b=Math.sqrt(a.x*a.x+a.y*a.y),i={x:a.x/b,y:a.y/b},g=Math.max(d,f),v={x:n.ctrlpts[0]+i.x*2*g,y:n.ctrlpts[1]+i.y*2*g},j=R.intersectLine(c.x,c.y,d,f,v.x,v.y,0,C,D);O?(n.ctrlpts[0]=n.ctrlpts[0]+i.x*(s-u),n.ctrlpts[1]=n.ctrlpts[1]+i.y*(s-u)):(n.ctrlpts[0]=j[0]+i.x*s,n.ctrlpts[1]=j[1]+i.y*s)}if(M||S||x){h=!0;var r={x:n.ctrlpts[0]-l.x,y:n.ctrlpts[1]-l.y},y=Math.sqrt(r.x*r.x+r.y*r.y),o={x:r.x/y,y:r.y/y},_=Math.max(d,f),w={x:n.ctrlpts[0]+o.x*2*_,y:n.ctrlpts[1]+o.y*2*_},p=L.intersectLine(l.x,l.y,H,P,w.x,w.y,0,N,z);x?(n.ctrlpts[0]=n.ctrlpts[0]+o.x*(s-m),n.ctrlpts[1]=n.ctrlpts[1]+o.y*(s-m)):(n.ctrlpts[0]=p[0]+o.x*s,n.ctrlpts[1]=p[1]+o.y*s)}h&&this.findEndpoints(e)}},bn.storeAllpts=function(e){if(t=e._private.rscratch,t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(s=0;s+1<t.ctrlpts.length;s+=2)t.allpts.push(t.ctrlpts[s],t.ctrlpts[s+1]),s+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[s]+t.ctrlpts[s+2])/2,(t.ctrlpts[s+1]+t.ctrlpts[s+3])/2);t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2===0?(o=t.allpts.length/2-1,t.midX=t.allpts[o],t.midY=t.allpts[o+1]):(o=t.allpts.length/2-3,l=.5,t.midX=Jt(t.allpts[o],t.allpts[o+2],t.allpts[o+4],l),t.midY=Jt(t.allpts[o+1],t.allpts[o+3],t.allpts[o+5],l))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(n=2;n+3<t.allpts.length;n+=2)u=t.radii[n/2-1],m=t.isArcRadius[n/2-1],t.roundCorners.push(b7({x:t.allpts[n-2],y:t.allpts[n-1]},{x:t.allpts[n],y:t.allpts[n+1],radius:u},{x:t.allpts[n+2],y:t.allpts[n+3]},u,m))}if(t.segpts.length%4===0)c=t.segpts.length/2,d=c-2,t.midX=(t.segpts[d]+t.segpts[c])/2,t.midY=(t.segpts[d+1]+t.segpts[c+1])/2;else if(a=t.segpts.length/2-1,t.isRound){var t,n,s,o,a,c,l,d,u,m,h={x:t.segpts[a],y:t.segpts[a+1]},r=t.roundCorners[a/2],i=[h.x-r.cx,h.y-r.cy],f=r.radius/Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)),i=i.map(function(e){return e*f});t.midX=r.cx+i[0],t.midY=r.cy+i[1],t.midVector=i}else t.midX=t.segpts[a],t.midY=t.segpts[a+1]}},bn.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||k(t.startX)&&k(t.startY)&&k(t.endX)&&k(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,ze("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},bn.findEdgeControlPoints=function(t){if(n=this,!!t&&t.length!==0){for(var u=this,y=u.cy,w=y.hasCompoundNodes(),d={map:new yi,get:e(function(e){var t=this.map.get(e[0]);return t!=null?t.get(e[1]):null},"get"),set:e(function(e,t){var n=this.map.get(e[0]);n==null&&(n=new yi,this.map.set(e[0],n)),n.set(e[1],t)},"set")},r=[],f=[],l=0;l<t.length;l++){var i=t[l],h=i._private,s=i.pstyle("curve-style").value;if(!i.removed()&&!!i.takesUpSpace()){if(s==="haystack"){f.push(i);continue}var n,a,m,_=s==="unbundled-bezier"||s.endsWith("segments")||s==="straight"||s==="straight-triangle"||s.endsWith("taxi"),p=s==="unbundled-bezier"||s==="bezier",j=h.source,g=h.target,v=j.poolIndex(),b=g.poolIndex(),c=[v,b].sort(),o=d.get(c);o==null&&(o={eles:[]},d.set(c,o),r.push(c)),o.eles.push(i),_&&(o.hasUnbundled=!0),p&&(o.hasBezier=!0)}}for(m=e(function(e){var W=r[e],t=d.get(W),V=void 0;t.hasUnbundled||(I=t.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()}),Ky(t.eles),I.forEach(function(e){return t.eles.push(e)}),t.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()}));var H=t.eles[0],s=H.source(),i=H.target();s.poolIndex()>i.poolIndex()&&(L=s,s=i,i=L);var a,h,L,I,c=t.srcPos=s.position(),l=t.tgtPos=i.position(),N=t.srcW=s.outerWidth(),x=t.srcH=s.outerHeight(),z=t.tgtW=i.outerWidth(),F=t.tgtH=i.outerHeight(),M=t.srcShape=u.nodeShapes[n.getNodeShape(s)],S=t.tgtShape=u.nodeShapes[n.getNodeShape(i)],P=t.srcCornerRadius=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,B=t.tgtCornerRadius=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue,O=t.tgtRs=i._private.rscratch,C=t.srcRs=s._private.rscratch;t.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(h=0;h<t.eles.length;h++){var o=t.eles[h],y=o[0]._private.rscratch,p=o.pstyle("curve-style").value,j=p==="unbundled-bezier"||p.endsWith("segments")||p.endsWith("taxi"),R=!s.same(o.source());if(!t.calculatedIntersection&&s!==i&&(t.hasBezier||t.hasUnbundled)){t.calculatedIntersection=!0;var m=M.intersectLine(c.x,c.y,N,x,l.x,l.y,0,P,C),U=t.srcIntn=m,f=S.intersectLine(l.x,l.y,z,F,c.x,c.y,0,B,O),$=t.tgtIntn=f,v=t.intersectionPts={x1:m[0],x2:f[0],y1:m[1],y2:f[1]},g=t.posPts={x1:c.x,x2:l.x,y1:c.y,y2:l.y},D=f[1]-m[1],T=f[0]-m[0],A=Math.sqrt(T*T+D*D),b=t.vector={x:T,y:D},_=t.vectorNorm={x:b.x/A,y:b.y/A},E={x:-_.y,y:_.x};t.nodesOverlap=!k(A)||S.checkPoint(m[0],m[1],0,z,F,l.x,l.y,B,O)||M.checkPoint(f[0],f[1],0,N,x,c.x,c.y,P,C),t.vectorNormInverse=E,V={nodesOverlap:t.nodesOverlap,dirCounts:t.dirCounts,calculatedIntersection:!0,hasBezier:t.hasBezier,hasUnbundled:t.hasUnbundled,eles:t.eles,srcPos:l,srcRs:O,tgtPos:c,tgtRs:C,srcW:z,srcH:F,tgtW:N,tgtH:x,srcIntn:$,tgtIntn:U,srcShape:S,tgtShape:M,posPts:{x1:g.x2,y1:g.y2,x2:g.x1,y2:g.y1},intersectionPts:{x1:v.x2,y1:v.y2,x2:v.x1,y2:v.y1},vector:{x:-b.x,y:-b.y},vectorNorm:{x:-_.x,y:-_.y},vectorNormInverse:{x:-E.x,y:-E.y}}}a=R?V:t,y.nodesOverlap=a.nodesOverlap,y.srcIntn=a.srcIntn,y.tgtIntn=a.tgtIntn,y.isRound=p.startsWith("round"),w&&(s.isParent()||s.isChild()||i.isParent()||i.isChild())&&(s.parents().anySame(i)||i.parents().anySame(s)||s.same(i)&&s.isParent())?n.findCompoundLoopPoints(o,a,h,j):s===i?n.findLoopPoints(o,a,h,j):p.endsWith("segments")?n.findSegmentsPoints(o,a):p.endsWith("taxi")?n.findTaxiPoints(o,a):p==="straight"||!j&&t.eles.length%2===1&&h===Math.floor(t.eles.length/2)?n.findStraightEdgePoints(o):n.findBezierPoints(o,a,h,j,R),n.findEndpoints(o),n.tryToCorrectInvalidPoints(o,a),n.checkForInvalidEdgeWarning(o),n.storeAllpts(o),n.storeEdgeProjections(o),n.calculateArrowAngles(o),n.recalculateEdgeLabelProjections(o),n.calculateLabelAngles(o)}},"_loop"),a=0;a<r.length;a++)m(a);this.findHaystackPoints(f)}},e(oN,"getPts"),bn.getSegmentPoints=function(e){var n,t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),n=t.edgeType,n==="segments")return oN(t.segpts)},bn.getControlPoints=function(e){var t,n=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),t=n.edgeType,t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return oN(n.ctrlpts)},bn.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}},L4={},L4.manualEndptToPx=function(e,t){var n,o,r,c,l=this,s=e.position(),i=e.outerWidth(),a=e.outerHeight(),d=e._private.rscratch;return t.value.length===2?(n=[t.pfValue[0],t.pfValue[1]],t.units[0]==="%"&&(n[0]=n[0]*i),t.units[1]==="%"&&(n[1]=n[1]*a),n[0]+=s.x,n[1]+=s.y,n):(o=t.pfValue[0],o=-Math.PI/2+o,r=2*Math.max(i,a),c=[s.x+Math.cos(o)*r,s.y+Math.sin(o)*r],l.nodeShapes[this.getNodeShape(e)].intersectLine(s.x,s.y,i,a,c[0],c[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,d))},L4.findEndpoints=function(e){var n,r,c,j,y,O,x,M,T,D,N,L,R,P,H,V,$,U,J,b=this,s=e.source()[0],o=e.target()[0],i=s.position(),a=o.position(),B=e.pstyle("target-arrow-shape").value,W=e.pstyle("source-arrow-shape").value,ae=e.pstyle("target-distance-from-node").pfValue,re=e.pstyle("source-distance-from-node").pfValue,de=s._private.rscratch,le=o._private.rscratch,ue=e.pstyle("curve-style").value,t=e._private.rscratch,d=t.edgeType,he=ue==="taxi",ie=d==="self"||d==="compound",ne=d==="bezier"||d==="multibezier"||ie,te=d!=="bezier",ee=d==="straight"||d==="segments",G=d==="segments",ce=ne||te||ee,q=ie||he,E=e.pstyle("source-endpoint"),u=q?"outside-to-node":E.value,ge=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,C=e.pstyle("target-endpoint"),l=q?"outside-to-node":C.value,ve=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue;if(t.srcManEndpt=E,t.tgtManEndpt=C,ne?(L=[t.ctrlpts[0],t.ctrlpts[1]],H=te?[t.ctrlpts[t.ctrlpts.length-2],t.ctrlpts[t.ctrlpts.length-1]]:L,x=H,O=L):ee&&($=G?t.segpts.slice(0,2):[a.x,a.y],V=G?t.segpts.slice(t.segpts.length-2):[i.x,i.y],x=V,O=$),l==="inside-to-node")n=[a.x,a.y];else if(C.units)n=this.manualEndptToPx(o,C);else if(l==="outside-to-line")n=t.tgtIntn;else if(l==="outside-to-node"||l==="outside-to-node-or-label"?y=x:(l==="outside-to-line"||l==="outside-to-line-or-label")&&(y=[i.x,i.y]),n=b.nodeShapes[this.getNodeShape(o)].intersectLine(a.x,a.y,o.outerWidth(),o.outerHeight(),y[0],y[1],0,ve,le),l==="outside-to-node-or-label"||l==="outside-to-line-or-label"){var A=o._private.rscratch,pe=A.labelWidth,be=A.labelHeight,g=A.labelX,f=A.labelY,_=pe/2,w=be/2,K=o.pstyle("text-valign").value;if(K==="top"?f-=w:K==="bottom"&&(f+=w),T=o.pstyle("text-halign").value,T==="left"?g-=_:T==="right"&&(g+=_),c=e1(y[0],y[1],[g-_,f-w,g+_,f-w,g+_,f+w,g-_,f+w],a.x,a.y),c.length>0){var F=i,I=fc(F,Pd(n)),Q=fc(F,Pd(c)),Z=I;Q<I&&(n=c,Z=Q),c.length>2&&(J=fc(F,{x:c[2],y:c[3]}),J<Z&&(n=[c[2],c[3]]))}}if(D=Mm(n,x,b.arrowShapes[B].spacing(e)+ae),N=Mm(n,x,b.arrowShapes[B].gap(e)+ae),t.endX=N[0],t.endY=N[1],t.arrowEndX=D[0],t.arrowEndY=D[1],u==="inside-to-node")n=[i.x,i.y];else if(E.units)n=this.manualEndptToPx(s,E);else if(u==="outside-to-line")n=t.srcIntn;else if(u==="outside-to-node"||u==="outside-to-node-or-label"?j=O:(u==="outside-to-line"||u==="outside-to-line-or-label")&&(j=[a.x,a.y]),n=b.nodeShapes[this.getNodeShape(s)].intersectLine(i.x,i.y,s.outerWidth(),s.outerHeight(),j[0],j[1],0,ge,de),u==="outside-to-node-or-label"||u==="outside-to-line-or-label"){var S=s._private.rscratch,fe=S.labelWidth,me=S.labelHeight,v=S.labelX,h=S.labelY,m=fe/2,p=me/2,X=s.pstyle("text-valign").value;if(X==="top"?h-=p:X==="bottom"&&(h+=p),P=s.pstyle("text-halign").value,P==="left"?v-=m:P==="right"&&(v+=m),r=e1(j[0],j[1],[v-m,h-p,v+m,h-p,v+m,h+p,v-m,h+p],i.x,i.y),r.length>0){var z=a,oe=fc(z,Pd(n)),se=fc(z,Pd(r)),Y=oe;se<oe&&(n=[r[0],r[1]],Y=se),r.length>2&&(U=fc(z,{x:r[2],y:r[3]}),U<Y&&(n=[r[2],r[3]]))}}R=Mm(n,O,b.arrowShapes[W].spacing(e)+re),M=Mm(n,O,b.arrowShapes[W].gap(e)+re),t.startX=M[0],t.startY=M[1],t.arrowStartX=R[0],t.arrowStartY=R[1],ce&&(!k(t.startX)||!k(t.startY)||!k(t.endX)||!k(t.endY)?t.badLine=!0:t.badLine=!1)},L4.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},L4.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},u9={},e(AEe,"pushBezierPts"),u9.storeEdgeProjections=function(e){var t,i,a,n=e._private,s=n.rscratch,o=s.edgeType;if(n.rstyle.bezierPts=null,n.rstyle.linePts=null,n.rstyle.haystackPts=null,o==="multibezier"||o==="bezier"||o==="self"||o==="compound"){n.rstyle.bezierPts=[];for(t=0;t+5<s.allpts.length;t+=4)AEe(this,e,s.allpts.slice(t,t+6))}else if(o==="segments")for(a=n.rstyle.linePts=[],t=0;t+1<s.allpts.length;t+=2)a.push({x:s.allpts[t],y:s.allpts[t+1]});else o==="haystack"&&(i=s.haystackPts,n.rstyle.haystackPts=[{x:i[0],y:i[1]},{x:i[2],y:i[3]}]);n.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},u9.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},Go={},Go.recalculateNodeLabelProjection=function(e){if(i=e.pstyle("label").strValue,!La(i)){var n,s,i,a=e._private,r=e.width(),c=e.height(),o=e.padding(),t=e.position(),u=e.pstyle("text-halign").strValue,h=e.pstyle("text-valign").strValue,l=a.rscratch,d=a.rstyle;switch(u){case"left":n=t.x-r/2-o;break;case"right":n=t.x+r/2+o;break;default:n=t.x}switch(h){case"top":s=t.y-c/2-o;break;case"bottom":s=t.y+c/2+o;break;default:s=t.y}l.labelX=n,l.labelY=s,d.labelX=n,d.labelY=s,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}},uF=e(function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},"lineAngleFromDelta"),pF=e(function(e,t){var n=t.x-e.x,s=t.y-e.y;return uF(n,s)},"lineAngle"),TPe=e(function(e,t,n,s){var o=v2(0,s-.001,1),i=v2(0,s+.001,1),a=zd(e,t,n,o),r=zd(e,t,n,i);return pF(a,r)},"bezierAngle"),Go.recalculateEdgeLabelProjections=function(t){var s,o,c,l,d,a=t._private,n=a.rscratch,i=this,r={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};(r.mid||r.source||r.target)&&(s={x:n.midX,y:n.midY},o=e(function(e,t,n){Xa(a.rscratch,e,t,n),Xa(a.rstyle,e,t,n)},"setRs"),o("labelX",null,s.x),o("labelY",null,s.y),l=uF(n.midDispX,n.midDispY),o("labelAutoAngle",null,l),d=e(function t(){if(t.cache)return t.cache;for(d=[],s=0;s+5<n.allpts.length;s+=4){var s,o,r,c,l,d,u,m,f={x:n.allpts[s],y:n.allpts[s+1]},p={x:n.allpts[s+2],y:n.allpts[s+3]},g={x:n.allpts[s+4],y:n.allpts[s+5]};d.push({p0:f,p1:p,p2:g,startDist:0,length:0,segments:[]})}u=a.rstyle.bezierPts,r=i.bezierProjPcts.length;function h(e,t,n,s,o){var a=gc(t,n),i=e.segments[e.segments.length-1],r={p0:t,p1:n,t0:s,t1:o,startDist:i?i.startDist+i.length:0,length:a};e.segments.push(r),e.length+=a}e(h,"addSegment");for(o=0;o<d.length;o++){c=d[o],m=d[o-1],m&&(c.startDist=m.startDist+m.length),h(c,c.p0,u[o*r],0,i.bezierProjPcts[0]);for(l=0;l<r-1;l++)h(c,u[o*r+l],u[o*r+l+1],i.bezierProjPcts[l],i.bezierProjPcts[l+1]);h(c,u[o*r+r-1],c.p2,i.bezierProjPcts[r-1],1)}return t.cache=d},"createControlPointInfo"),c=e(function(e){if(h=e==="source",r[e]){switch(p=t.pstyle(e+"-text-offset").pfValue,n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var j,_=d(),T=0,w=0,m=0;m<_.length;m++){for(c=_[h?m:_.length-1-m],a=0;a<c.segments.length;a++)if(C=c.segments[h?a:c.segments.length-1-a],M=m===_.length-1&&a===c.segments.length-1,T=w,w+=C.length,w>=p||M){j={cp:c,segment:C};break}if(j)break}var a,c,h,p,b,C,E,M,F,l=j.cp,g=j.segment,S=(p-T)/g.length,k=g.t1-g.t0,y=h?g.t0+k*S:g.t1-k*S,y=v2(0,y,1);s=zd(l.p0,l.p1,l.p2,y),E=TPe(l.p0,l.p1,l.p2,y);break}case"straight":case"segments":case"haystack":{for(var u,v,x,A,O=0,f=n.allpts.length,i=0;i+3<f&&(h?(v={x:n.allpts[i],y:n.allpts[i+1]},u={x:n.allpts[i+2],y:n.allpts[i+3]}):(v={x:n.allpts[f-2-i],y:n.allpts[f-1-i]},u={x:n.allpts[f-4-i],y:n.allpts[f-3-i]}),x=gc(v,u),A=O,O+=x,!(O>=p));i+=2);F=p-A,b=F/x,b=v2(0,b,1),s=zMe(v,u,b),E=pF(v,u);break}}o("labelX",e,s.x),o("labelY",e,s.y),o("labelAutoAngle",e,E)}},"calculateEndProjection"),c("source"),c("target"),this.applyLabelDimensions(t))},Go.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Go.applyPrefixedLabelDimensions=function(e,t){var n=e._private,l=this.getLabelText(e,t),s=this.calculateLabelDimensions(e,l),o=e.pstyle("line-height").pfValue,d=e.pstyle("text-wrap").strValue,u=ho(n.rscratch,"labelWrapCachedLines",t)||[],i=d!=="wrap"?1:Math.max(u.length,1),a=s.height/i,h=a*o,r=s.width,c=s.height+(i-1)*(o-1)*a;Xa(n.rstyle,"labelWidth",t,r),Xa(n.rscratch,"labelWidth",t,r),Xa(n.rstyle,"labelHeight",t,c),Xa(n.rscratch,"labelHeight",t,c),Xa(n.rscratch,"labelLineHeight",t,h)},Go.getLabelText=function(t,n){var _=t._private,R=n?n+"-":"",s=t.pstyle(R+"label").strValue,g=t.pstyle("text-transform").value,r=e(function(e,t){return t?(Xa(_.rscratch,e,n,t),t):ho(_.rscratch,e,n)},"rscratch");if(!s)return"";if(g=="none"||(g=="uppercase"?s=s.toUpperCase():g=="lowercase"&&(s=s.toLowerCase())),p=t.pstyle("text-wrap").value,p==="wrap"){if(h=r("labelKey"),h!=null&&r("labelWrapKey")===h)return r("labelWrapCachedText");for(var a,h,p,b,y,D="​",j=s.split(`
`),k=t.pstyle("text-max-width").pfValue,A=t.pstyle("text-overflow-wrap").value,z=A==="anywhere",c=[],N=/[\s\u200b]+|$/g,v=0;v<j.length;v++){var i=j[v],S=this.calculateLabelDimensions(t,i),P=S.width;if(z&&(b=i.split("").join(D),i=b),P>k){var E,L=i.matchAll(N),o="",x=0,m=Cs(L);try{for(m.s();!(E=m.n()).done;){var f=E.value,l=f[0],u=i.substring(x,f.index);x=f.index+l.length;var M=o.length===0?u:o+u+l,F=this.calculateLabelDimensions(t,M),T=F.width;T<=k?o+=u+l:(o&&c.push(o),o=u+l)}}catch(e){m.e(e)}finally{m.f()}o.match(/^[\s\u200b]+$/)||c.push(o)}else c.push(i)}r("labelWrapCachedLines",c),s=r("labelWrapCachedText",c.join(`
`)),r("labelWrapKey",h)}else if(p==="ellipsis"){var C=t.pstyle("text-max-width").pfValue,d="",O="…",w=!1;if(this.calculateLabelDimensions(t,s).width<C)return s;for(a=0;a<s.length;a++){if(y=this.calculateLabelDimensions(t,d+s[a]+O).width,y>C)break;d+=s[a],a===s.length-1&&(w=!0)}return w||(d+=O),d}return s},Go.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t},Go.calculateLabelDimensions=function(e,t){var r=this,j=r.cy.window(),v=j.document,h=Fa(t,e._private.labelDimsKey),d=r.labelDimCache||(r.labelDimCache=[]),l=d[h];if(l!=null)return l;var n,f=0,p=e.pstyle("font-style").strValue,m=e.pstyle("font-size").pfValue,b=e.pstyle("font-family").strValue,g=e.pstyle("font-weight").strValue,s=this.labelCalcCanvas,c=this.labelCalcCanvasContext;s||(s=this.labelCalcCanvas=v.createElement("canvas"),c=this.labelCalcCanvasContext=s.getContext("2d"),n=s.style,n.position="absolute",n.left="-9999px",n.top="-9999px",n.zIndex="-1",n.visibility="hidden",n.pointerEvents="none"),c.font="".concat(p," ").concat(g," ").concat(m,"px ").concat(b);for(var o=0,a=0,u=t.split(`
`),i=0;i<u.length;i++){var y=u[i],_=c.measureText(y),w=Math.ceil(_.width),O=m,o=Math.max(w,o);a+=O}return o+=f,a+=f,d[h]={width:o,height:a}},Go.calculateLabelAngle=function(e,t){var o=e._private,i=o.rscratch,a=e.isEdge(),r=t?t+"-":"",s=e.pstyle(r+"text-rotation"),n=s.strValue;return n==="none"?0:a&&n==="autorotate"?i.labelAutoAngle:n==="autorotate"?0:s.pfValue},Go.calculateLabelAngles=function(e){var t=this,s=e.isEdge(),o=e._private,n=o.rscratch;n.labelAngle=t.calculateLabelAngle(e),s&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))},kF={},KF=28,bT=!1,kF.getNodeShape=function(e){var n,s=this,t=e.pstyle("shape").value;return t==="cutrectangle"&&(e.width()<KF||e.height()<KF)?(bT||(ze("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),bT=!0),"rectangle"):e.isParent()?t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle":t==="polygon"?(n=e.pstyle("shape-polygon-points").value,s.nodeShapes.makePolygon(n).name):t},Th={},Th.registerCalculationListeners=function(){var i,s=this.cy,t=s.collection(),n=this,o=e(function(e){if(s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t.merge(e),s)for(n=0;n<e.length;n++){var n,s,i=e[n],a=i._private,o=a.rstyle;o.clean=!1,o.cleanConnected=!1}},"enqueue");n.binder(s).on("bounds.* dirty.*",e(function(e){var t=e.target;o(t)},"onDirtyBounds")).on("style.* background.*",e(function(e){var t=e.target;o(t,!1)},"onDirtyStyle")),i=e(function(e){if(e){i=n.onUpdateEleCalcsFns,t.cleanStyle();for(a=0;a<t.length;a++){var i,a,r,d,c=t[a],l=c._private.rstyle;c.isNode()&&!l.cleanConnected&&(o(c.connectedEdges()),l.cleanConnected=!0)}if(i)for(r=0;r<i.length;r++)d=i[r],d(e,t);n.recalculateRenderedStyle(t),t=s.collection()}},"updateEleCalcs"),n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},Th.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},Th.recalculateRenderedStyle=function(t,n){var p=e(function(e){return e._private.rstyle.cleanConnected},"isCleanConnected"),u=[],m=[];if(!this.destroyed){n===void 0&&(n=!0);for(l=0;l<t.length;l++){var i=t[l],f=i._private,h=f.rstyle;i.isEdge()&&(!p(i.source())||!p(i.target()))&&(h.clean=!1),!(n&&h.clean||i.removed())&&i.pstyle("display").value!=="none"&&(f.group==="nodes"?m.push(i):u.push(i),h.clean=!0)}for(c=0;c<m.length;c++){var c,l,d,a=m[c],b=a._private,r=b.rstyle,g=a.position();this.recalculateNodeLabelProjection(a),r.nodeX=g.x,r.nodeY=g.y,r.nodeW=a.pstyle("width").pfValue,r.nodeH=a.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(d=0;d<u.length;d++){var j=u[d],v=j._private,o=v.rstyle,s=v.rscratch;o.srcX=s.arrowStartX,o.srcY=s.arrowStartY,o.tgtX=s.arrowEndX,o.tgtY=s.arrowEndY,o.midX=s.midX,o.midY=s.midY,o.labelAngle=s.labelAngle,o.sourceLabelAngle=s.sourceLabelAngle,o.targetLabelAngle=s.targetLabelAngle}}},gh={},gh.updateCachedGrabbedEles=function(){if(e=this.cachedZSortedEles,e){e.drag=[],e.nondrag=[];for(var e,t,o,s=[],n=0;n<e.length;n++)t=e[n],o=t._private.rscratch,t.grabbed()&&!t.isParent()?s.push(t):o.inDragLayer?e.drag.push(t):e.nondrag.push(t);for(n=0;n<s.length;n++)t=s[n],e.drag.push(t)}},gh.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},gh.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(uk),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},DT={},[lc,$8,bn,L4,u9,Go,kF,Th,gh].forEach(function(e){ee(DT,e)}),NT={},NT.getCachedImage=function(e,t,n){var s,a,c,r=this,i=r.imageCache=r.imageCache||{},o=i[e];return o?(o.image.complete||o.image.addEventListener("load",n),o.image):(o=i[e]=i[e]||{},s=o.image=new Image,s.addEventListener("load",n),s.addEventListener("error",function(){s.error=!0}),a="data:",c=e.substring(0,a.length).toLowerCase()===a,c||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s)},gl={},gl.registerBinding=function(e){if(i=Array.prototype.slice.apply(arguments,[1]),Array.isArray(e)){for(var o,i,r,c=[],a=0;a<e.length;a++)r=e[a],r!==void 0&&(o=this.binder(r),c.push(o.on.apply(o,i)));return c}return o=this.binder(e),o.on.apply(o,i)},gl.binder=function(t){var s,i,a,n=this,o=n.cy.window(),r=t===o||t===o.document||t===o.document.body||qke(t);if(n.supportsPassiveEvents==null){i=!1;try{a=Object.defineProperty({},"passive",{get:e(function(){return i=!0,!0},"get")}),o.addEventListener("test",null,a)}catch{}n.supportsPassiveEvents=i}return s=e(function(e,s,o){var i=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(i[2]={capture:o??!1,passive:!1,once:!1}),n.bindings.push({target:t,args:i}),(t.addEventListener||t.on).apply(t,i),this},"on"),{on:s,addEventListener:s,addListener:s,bind:s}},gl.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},gl.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},gl.load=function(){var s,o,i,a,c,l,m,g,j,y,_,O,x,C,E,A,S,M,F,T,z,D,L,R,P,H,W,K,q,Y,G,X,t=this,r=t.cy.window(),b=e(function(e){return e.selected()},"isSelected"),le=e(function(e){var t=e.getRootNode();if(t&&t.nodeType===11&&t.host!==void 0)return t},"getShadowRoot"),n=e(function(e,n,s,o){e==null&&(e=t.cy);for(var a,i=0;i<n.length;i++)a=n[i],e.emit({originalEvent:s,type:a,position:o})},"triggerEvents"),w=e(function(e){return e.shiftKey||e.metaKey||e.ctrlKey},"isMultSelKeyDown"),V=e(function(e,n){var e,s,o=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(s=0;n&&s<n.length;s++)if(e=n[s],e.isNode()&&e.isParent()&&!e.pannable()){o=!1;break}}else o=!0;return o},"allowPanningPassthrough"),ee=e(function(e){e[0]._private.grabbed=!0},"setGrabbed"),te=e(function(e){e[0]._private.grabbed=!1},"setFreed"),d=e(function(e){e[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),ne=e(function(e){e[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),Q=e(function(e){e[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),ae=e(function(e){e[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),N=e(function(e,t){var n=t.addToList,s=n.has(e);!s&&e.grabbable()&&!e.locked()&&(n.merge(e),ee(e))},"addToDragList"),se=e(function(e,t){if(e.cy().hasCompoundNodes()&&(t.inDragLayer!=null||t.addToList!=null)){var n=e.descendants();t.inDragLayer&&(n.forEach(d),n.connectedEdges().forEach(d)),t.addToList&&N(n,t)}},"addDescendantsToDrag"),h=e(function(e,n){n=n||{};var s=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(d),e.neighborhood().stdFilter(function(e){return!s||e.isEdge()}).forEach(d)),n.addToList&&e.forEach(function(e){N(e,n)}),se(e,n),J(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},"addNodesToDrag"),U=h,f=e(function(e){e&&(t.getCachedZSortedEles().forEach(function(e){te(e),ne(e),ae(e)}),t.updateCachedGrabbedEles())},"freeDraggedElements"),J=e(function(e,t){if((t.inDragLayer!=null||t.addToList!=null)&&e.cy().hasCompoundNodes()&&(n=e.ancestors().orphans(),!n.same(e))){var n,s=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),o=s.connectedEdges();t.inDragLayer&&(o.forEach(d),s.forEach(d)),t.addToList&&s.forEach(function(e){N(e,t)})}},"updateAncestorsInDragLayer"),$=e(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),Z=typeof MutationObserver<"u",ce=typeof ResizeObserver<"u";if(Z?(t.removeObserver=new MutationObserver(function(e){for(n=0;n<e.length;n++){var n,s,i,a=e[n],o=a.removedNodes;if(o)for(s=0;s<o.length;s++)if(i=o[s],i===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(){t.destroy()}),g=b0(function(){t.cy.resize()},100),Z&&(t.styleObserver=new MutationObserver(g),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(r,"resize",g),ce&&(t.resizeObserver=new ResizeObserver(g),t.resizeObserver.observe(t.container)),Y=e(function(e,t){for(;e!=null;)t(e),e=e.parentNode},"forEachUp"),j=e(function(){t.invalidateContainerClientCoordsCache()},"invalidateCoords"),Y(t.container,function(e){t.registerBinding(e,"transitionend",j),t.registerBinding(e,"animationend",j),t.registerBinding(e,"scroll",j)}),t.registerBinding(t.container,"contextmenu",function(e){e.preventDefault()}),q=e(function(){return t.selection[4]!==0},"inBoxSelection"),m=e(function(e){for(var n,o=t.findContainerClientCoords(),a=o[0],r=o[1],u=o[2],f=o[3],l=e.touches?e.touches:[e],d=!1,i=0;i<l.length;i++)if(n=l[i],a<=n.clientX&&n.clientX<=a+u&&r<=n.clientY&&n.clientY<=r+f){d=!0;break}if(!d)return!1;for(var m=t.container,h=e.target,s=h.parentNode,c=!1;s;){if(s===m){c=!0;break}s=s.parentNode}return!!c},"eventInContainer"),t.registerBinding(t.container,"mousedown",e(function(s){if(m(s)&&(t.hoverData.which!==1||s.which===1)){s.preventDefault(),$(),t.hoverData.capture=!0,t.hoverData.which=s.which;var c,u,f,g,v,r=t.cy,d=[s.clientX,s.clientY],o=t.projectIntoViewport(d[0],d[1]),a=t.selection,p=t.findNearestElements(o[0],o[1],!0,!1),i=p[0],l=t.dragData.possibleDragElements;t.hoverData.mdownPos=o,t.hoverData.mdownGPos=d,g=e(function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var e=t.hoverData.down;e?e.emit({originalEvent:s,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:s,type:"taphold",position:{x:o[0],y:o[1]}})}},t.tapholdDuration)},"checkForTaphold"),s.which==3?(t.hoverData.cxtStarted=!0,u={originalEvent:s,type:"cxttapstart",position:{x:o[0],y:o[1]}},i?(i.activate(),i.emit(u),t.hoverData.down=i):r.emit(u),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1):s.which==1&&(i&&i.activate(),i!=null&&t.nodeIsGrabbable(i)&&(c=e(function(e){return{originalEvent:s,type:e,position:{x:o[0],y:o[1]}}},"makeEvent"),v=e(function(e){e.emit(c("grab"))},"triggerGrab"),Q(i),i.selected()?(l=t.dragData.possibleDragElements=r.collection(),f=r.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}),h(f,{addToList:l}),i.emit(c("grabon")),f.forEach(v)):(l=t.dragData.possibleDragElements=r.collection(),U(i,{addToList:l}),i.emit(c("grabon")).emit(c("grab"))),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.hoverData.down=i,t.hoverData.downs=p,t.hoverData.downTime=(new Date).getTime(),n(i,["mousedown","tapstart","vmousedown"],s,{x:o[0],y:o[1]}),i==null?(a[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):i.pannable()&&(a[4]=1),g()),a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},"mousedownHandler"),!1),W=le(t.container),t.registerBinding([r,W],"mousemove",e(function(s){if(D=t.hoverData.capture,!!D||!!m(s)){var d,u,_,O,C,E,A,S,M,F,D,j=!1,a=t.cy,b=a.zoom(),v=[s.clientX,s.clientY],i=t.projectIntoViewport(v[0],v[1]),P=t.hoverData.mdownPos,y=t.hoverData.mdownGPos,l=t.selection,c=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(c=t.findNearestElement(i[0],i[1],!0,!1));var g,x=t.hoverData.last,o=t.hoverData.down,r=[i[0]-l[2],i[1]-l[3]],p=t.dragData.possibleDragElements;if(y){var z=v[0]-y[0],R=z*z,T=v[1]-y[1],L=T*T,N=R+L;t.hoverData.isOverThresholdDrag=g=N>=t.desktopTapThreshold2}if(S=w(s),g&&(t.hoverData.tapholdCancelled=!0),F=e(function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];e.length===0?(e.push(r[0]),e.push(r[1])):(e[0]+=r[0],e[1]+=r[1])},"updateDragDelta"),j=!0,n(c,["mousemove","vmousemove","tapdrag"],s,{x:i[0],y:i[1]}),_=e(function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||a.emit({originalEvent:s,type:"boxstart",position:{x:i[0],y:i[1]}}),l[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()},"goIntoBoxMode"),t.hoverData.which===3?g&&(A={originalEvent:s,type:"cxtdrag",position:{x:i[0],y:i[1]}},o?o.emit(A):a.emit(A),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||c!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:s,type:"cxtdragout",position:{x:i[0],y:i[1]}}),t.hoverData.cxtOver=c,c&&c.emit({originalEvent:s,type:"cxtdragover",position:{x:i[0],y:i[1]}}))):t.hoverData.dragging?((j=!0,a.panningEnabled()&&a.userPanningEnabled())&&(t.hoverData.justStartedPan?(C=t.hoverData.mdownPos,E={x:(i[0]-C[0])*b,y:(i[1]-C[1])*b},t.hoverData.justStartedPan=!1):E={x:r[0]*b,y:r[1]*b},a.panBy(E),a.emit("dragpan"),t.hoverData.dragged=!0),i=t.projectIntoViewport(s.clientX,s.clientY)):l[4]==1&&(o==null||o.pannable())?g&&(!t.hoverData.dragging&&a.boxSelectionEnabled()&&(S||!a.panningEnabled()||!a.userPanningEnabled())?_():!t.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()&&(M=V(o,t.hoverData.downs),M&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,l[4]=0,t.data.bgActivePosistion=Pd(P),t.redrawHint("select",!0),t.redraw())),o&&o.pannable()&&o.active()&&o.unactivate()):((o&&o.pannable()&&o.active()&&o.unactivate(),(!o||!o.grabbed())&&c!=x&&(x&&n(x,["mouseout","tapdragout"],s,{x:i[0],y:i[1]}),c&&n(c,["mouseover","tapdragover"],s,{x:i[0],y:i[1]}),t.hoverData.last=c),o)&&(g?a.boxSelectionEnabled()&&S?(o&&o.grabbed()&&(f(p),o.emit("freeon"),p.emit("free"),t.dragData.didDrag&&(o.emit("dragfreeon"),p.emit("dragfree"))),_()):o&&o.grabbed()&&t.nodeIsDraggable(o)&&(O=!t.dragData.didDrag,O&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||h(p,{inDragLayer:!0}),u={x:0,y:0},k(r[0])&&k(r[1])&&(u.x+=r[0],u.y+=r[1],O)&&(d=t.hoverData.dragDelta,d&&k(d[0])&&k(d[1])&&(u.x+=d[0],u.y+=d[1])),t.hoverData.draggingEles=!0,p.silentShift(u).emit("position drag"),t.redrawHint("drag",!0),t.redraw()):F()),j=!0),l[2]=i[0],l[3]=i[1],j)return s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault(),!1}},"mousemoveHandler"),!1),t.registerBinding(r,"mouseup",e(function(s){if(!(t.hoverData.which===1&&s.which!==1&&t.hoverData.capture)&&(p=t.hoverData.capture,p)){t.hoverData.capture=!1;var d,h,m,p,g,v,a=t.cy,o=t.projectIntoViewport(s.clientX,s.clientY),c=t.selection,r=t.findNearestElement(o[0],o[1],!0,!1),l=t.dragData.possibleDragElements,i=t.hoverData.down,u=w(s);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,i&&i.unactivate(),t.hoverData.which===3?(h={originalEvent:s,type:"cxttapend",position:{x:o[0],y:o[1]}},(i?i.emit(h):a.emit(h),!t.hoverData.cxtDragged)&&(m={originalEvent:s,type:"cxttap",position:{x:o[0],y:o[1]}},i?i.emit(m):a.emit(m)),t.hoverData.cxtDragged=!1,t.hoverData.which=null):t.hoverData.which===1&&((n(r,["mouseup","tapend","vmouseup"],s,{x:o[0],y:o[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(i,["click","tap","vclick"],s,{x:o[0],y:o[1]}),F=!1,s.timeStamp-T<=a.multiClickDebounceTime()?(M&&clearTimeout(M),F=!0,T=null,n(i,["dblclick","dbltap","vdblclick"],s,{x:o[0],y:o[1]})):(M=setTimeout(function(){F||n(i,["oneclick","onetap","voneclick"],s,{x:o[0],y:o[1]})},a.multiClickDebounceTime()),T=s.timeStamp)),i==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!w(s)&&(a.$(b).unselect(["tapunselect"]),l.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=l=a.collection()),r==i&&!t.dragData.didDrag&&!t.hoverData.selecting&&r!=null&&r._private.selectable&&(t.hoverData.dragging||(a.selectionType()==="additive"||u?r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]):u||(a.$(b).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting)&&(d=a.collection(t.getAllInBox(c[0],c[1],c[2],c[3])),t.redrawHint("select",!0),d.length>0&&t.redrawHint("eles",!0),a.emit({type:"boxend",originalEvent:s,position:{x:o[0],y:o[1]}}),g=e(function(e){return e.selectable()&&!e.selected()},"eleWouldBeSelected"),a.selectionType()==="additive"||u||a.$(b).unmerge(d).unselect(),d.emit("box").stdFilter(g).select().emit("boxselect"),t.redraw()),(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!c[4])&&(t.redrawHint("drag",!0),t.redrawHint("eles",!0),v=i&&i.grabbed(),f(l),v&&(i.emit("freeon"),l.emit("free"),t.dragData.didDrag&&(i.emit("dragfreeon"),l.emit("dragfree"))))),c[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}},"mouseupHandler"),!1),z=e(function(e){if(!t.scrollingPage){var s,o,l,n=t.cy,i=n.zoom(),a=n.pan(),r=t.projectIntoViewport(e.clientX,e.clientY),c=[r[0]*i+a.x,r[1]*i+a.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||q()){e.preventDefault();return}n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),e.deltaY!=null?s=e.deltaY/-250:e.wheelDeltaY!=null?s=e.wheelDeltaY/1e3:s=e.wheelDelta/1e3,s=s*t.wheelSensitivity,l=e.deltaMode===1,l&&(s*=33),o=n.zoom()*Math.pow(10,s),e.type==="gesturechange"&&(o=t.gestureStartZoom*e.scale),n.zoom({level:o,renderedPosition:{x:c[0],y:c[1]}}),n.emit(e.type==="gesturechange"?"pinchzoom":"scrollzoom"))}},"wheelHandler"),t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(r,"scroll",e(function(){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},"scrollHandler"),!0),t.registerBinding(t.container,"gesturestart",e(function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()},"gestureStartHandler"),!0),t.registerBinding(t.container,"gesturechange",function(e){t.hasTouchStarted||z(e)},!0),t.registerBinding(t.container,"mouseout",e(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})},"mouseOutHandler"),!1),t.registerBinding(t.container,"mouseover",e(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})},"mouseOverHandler"),!1),E=e(function(e,t,n,s){return Math.sqrt((n-e)*(n-e)+(s-t)*(s-t))},"distance"),y=e(function(e,t,n,s){return(n-e)*(n-e)+(s-t)*(s-t)},"distanceSq"),t.registerBinding(t.container,"touchstart",G=e(function(r){if(t.hasTouchStarted=!0,!!m(r)){$(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var u,p,g,b,j,w,O,x,C,k,M,F,T,z,N,P,v=t.cy,d=t.touchData.now,H=t.touchData.earlier;if(r.touches[0]&&(p=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY),d[0]=p[0],d[1]=p[1]),r.touches[1]&&(p=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY),d[2]=p[0],d[3]=p[1]),r.touches[2]&&(p=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY),d[4]=p[0],d[5]=p[1]),r.touches[1]&&(t.touchData.singleTouchMoved=!0,f(t.dragData.touchDragEles),b=t.findContainerClientCoords(),l=b[0],c=b[1],S=b[2],A=b[3],i=r.touches[0].clientX-l,a=r.touches[0].clientY-c,s=r.touches[1].clientX-l,o=r.touches[1].clientY-c,K=0<=i&&i<=S&&0<=s&&s<=S&&0<=a&&a<=A&&0<=o&&o<=A,k=v.pan(),T=v.zoom(),_=E(i,a,s,o),R=y(i,a,s,o),L=[(i+s)/2,(a+o)/2],D=[(L[0]-k.x)/T,(L[1]-k.y)/T],F=200,N=F*F,R<N&&!r.touches[2])){j=t.findNearestElement(d[0],d[1],!0,!0),O=t.findNearestElement(d[2],d[3],!0,!0),j&&j.isNode()?(j.activate().emit({originalEvent:r,type:"cxttapstart",position:{x:d[0],y:d[1]}}),t.touchData.start=j):O&&O.isNode()?(O.activate().emit({originalEvent:r,type:"cxttapstart",position:{x:d[0],y:d[1]}}),t.touchData.start=O):v.emit({originalEvent:r,type:"cxttapstart",position:{x:d[0],y:d[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}if(r.touches[2]?v.boxSelectionEnabled()&&r.preventDefault():r.touches[1]||r.touches[0]&&(C=t.findNearestElements(d[0],d[1],!0,!0),u=C[0],u!=null&&(u.activate(),t.touchData.start=u,t.touchData.starts=C,t.nodeIsGrabbable(u))&&(M=t.dragData.touchDragEles=v.collection(),w=null,t.redrawHint("eles",!0),t.redrawHint("drag",!0),u.selected()?(w=v.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),h(w,{addToList:M})):U(u,{addToList:M}),Q(u),x=e(function(e){return{originalEvent:r,type:e,position:{x:d[0],y:d[1]}}},"makeEvent"),u.emit(x("grabon")),w?w.forEach(function(e){e.emit(x("grab"))}):u.emit(x("grab"))),n(u,["touchstart","tapstart","vmousedown"],r,{x:d[0],y:d[1]}),u==null&&(t.data.bgActivePosistion={x:p[0],y:p[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],r,{x:d[0],y:d[1]})},t.tapholdDuration)),r.touches.length>=1){for(P=t.touchData.startPosition=[null,null,null,null,null,null],g=0;g<d.length;g++)P[g]=H[g]=d[g];z=r.touches[0],t.touchData.startGPosition=[z.clientX,z.clientY]}}},"touchstartHandler"),!1),t.registerBinding(r,"touchmove",X=e(function(e){if(j=t.touchData.capture,!!j||!!m(e)){var x=t.selection,u=t.cy,r=t.touchData.now,H=t.touchData.earlier,P=u.zoom();if(e.touches[0]&&(d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),r[0]=d[0],r[1]=d[1]),e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),r[2]=d[0],r[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),r[4]=d[0],r[5]=d[1]),I=t.touchData.startGPosition,j&&e.touches[0]&&I){for(g=[],O=0;O<r.length;O++)g[O]=r[O]-H[O];var G=e.touches[0].clientX-I[0],oe=G*G,Y=e.touches[0].clientY-I[1],ve=Y*Y,ge=oe+ve;$=ge>=t.touchTapThreshold2}if(j&&t.touchData.cxt){e.preventDefault();var F=e.touches[0].clientX-l,M=e.touches[0].clientY-c,T=e.touches[1].clientX-l,z=e.touches[1].clientY-c,J=y(F,M,T,z),pe=J/R,Z=150,fe=Z*Z,Q=1.5,me=Q*Q;(pe>=me||J>=fe)&&(t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),S={originalEvent:e,type:"cxttapend",position:{x:r[0],y:r[1]}},t.touchData.start?(t.touchData.start.unactivate().emit(S),t.touchData.start=null):u.emit(S))}if(j&&t.touchData.cxt)S={originalEvent:e,type:"cxtdrag",position:{x:r[0],y:r[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(S):u.emit(S),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0,p=t.findNearestElement(r[0],r[1],!0,!0),(!t.touchData.cxtOver||p!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:r[0],y:r[1]}}),t.touchData.cxtOver=p,p&&p.emit({originalEvent:e,type:"cxtdragover",position:{x:r[0],y:r[1]}}));else if(j&&e.touches[2]&&u.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||u.emit({originalEvent:e,type:"boxstart",position:{x:r[0],y:r[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,x[4]=1,!x||x.length===0||x[0]===void 0?(x[0]=(r[0]+r[2]+r[4])/3,x[1]=(r[1]+r[3]+r[5])/3,x[2]=(r[0]+r[2]+r[4])/3+1,x[3]=(r[1]+r[3]+r[5])/3+1):(x[2]=(r[0]+r[2]+r[4])/3,x[3]=(r[1]+r[3]+r[5])/3),t.redrawHint("select",!0),t.redraw();else if(j&&e.touches[1]&&!t.touchData.didSelect&&u.zoomingEnabled()&&u.panningEnabled()&&u.userZoomingEnabled()&&u.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),w=t.dragData.touchDragEles,w){t.redrawHint("drag",!0);for(C=0;C<w.length;C++)q=w[C]._private,q.grabbed=!1,q.rscratch.inDragLayer=!1}var L=t.touchData.start,F=e.touches[0].clientX-l,M=e.touches[0].clientY-c,T=e.touches[1].clientX-l,z=e.touches[1].clientY-c,te=E(F,M,T,z),he=te/_;if(K){var d,p,g,v,b,j,w,O,C,A,S,I,$,W,U,q,ee,de=F-i,le=M-a,ce=T-s,re=z-o,ae=(de+ce)/2,ie=(le+re)/2,N=u.zoom(),X=N*he,B=u.pan(),se=D[0]*N+B.x,ne=D[1]*N+B.y,ue={x:-X/N*(se-B.x-ae)+se,y:-X/N*(ne-B.y-ie)+ne};L&&L.active()&&(w=t.dragData.touchDragEles,f(w),t.redrawHint("drag",!0),t.redrawHint("eles",!0),L.unactivate().emit("freeon"),w.emit("free"),t.dragData.didDrag&&(L.emit("dragfreeon"),w.emit("dragfree"))),u.viewport({zoom:X,pan:ue,cancelOnFailedZoom:!0}),u.emit("pinchzoom"),_=te,i=F,a=M,s=T,o=z,t.pinching=!0}e.touches[0]&&(d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),r[0]=d[0],r[1]=d[1]),e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),r[2]=d[0],r[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),r[4]=d[0],r[5]=d[1])}else if(e.touches[0]&&!t.touchData.didSelect){if(v=t.touchData.start,W=t.touchData.last,(!t.hoverData.draggingEles&&!t.swipePanning&&(p=t.findNearestElement(r[0],r[1],!0,!0)),j&&v!=null&&e.preventDefault(),j&&v!=null&&t.nodeIsDraggable(v))&&($?(w=t.dragData.touchDragEles,U=!t.dragData.didDrag,U&&h(w,{inDragLayer:!0}),t.dragData.didDrag=!0,A={x:0,y:0},k(g[0])&&k(g[1])&&(A.x+=g[0],A.y+=g[1],U)&&(t.redrawHint("eles",!0),b=t.touchData.dragDelta,b&&k(b[0])&&k(b[1])&&(A.x+=b[0],A.y+=b[1])),t.hoverData.draggingEles=!0,w.silentShift(A).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==H[0]&&t.touchData.startPosition[1]==H[1]&&t.redrawHint("eles",!0),t.redraw()):(b=t.touchData.dragDelta=t.touchData.dragDelta||[],b.length===0?(b.push(g[0]),b.push(g[1])):(b[0]+=g[0],b[1]+=g[1]))),n(v||p,["touchmove","tapdrag","vmousemove"],e,{x:r[0],y:r[1]}),(!v||!v.grabbed())&&p!=W&&(W&&W.emit({originalEvent:e,type:"tapdragout",position:{x:r[0],y:r[1]}}),p&&p.emit({originalEvent:e,type:"tapdragover",position:{x:r[0],y:r[1]}})),t.touchData.last=p,j)for(C=0;C<r.length;C++)r[C]&&t.touchData.startPosition[C]&&$&&(t.touchData.singleTouchMoved=!0);j&&(v==null||v.pannable())&&u.panningEnabled()&&u.userPanningEnabled()&&(ee=V(v,t.touchData.starts),ee&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Pd(t.touchData.startPosition)),t.swipePanning?(u.panBy({x:g[0]*P,y:g[1]*P}),u.emit("dragpan")):$&&(t.swipePanning=!0,u.panBy({x:G*P,y:Y*P}),u.emit("dragpan"),v&&(v.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),r[0]=d[0],r[1]=d[1])}for(O=0;O<r.length;O++)H[O]=r[O];j&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},"touchmoveHandler"),!1),t.registerBinding(r,"touchcancel",H=e(function(){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()},"touchcancelHandler")),t.registerBinding(r,"touchend",P=e(function(s){if(i=t.touchData.start,w=t.touchData.capture,w)s.touches.length===0&&(t.touchData.capture=!1),s.preventDefault();else return;r=t.selection,t.swipePanning=!1,t.hoverData.draggingEles=!1;var a=t.cy,v=a.zoom(),o=t.touchData.now,E=t.touchData.earlier;if(s.touches[0]&&(c=t.projectIntoViewport(s.touches[0].clientX,s.touches[0].clientY),o[0]=c[0],o[1]=c[1]),s.touches[1]&&(c=t.projectIntoViewport(s.touches[1].clientX,s.touches[1].clientY),o[2]=c[0],o[3]=c[1]),s.touches[2]&&(c=t.projectIntoViewport(s.touches[2].clientX,s.touches[2].clientY),o[4]=c[0],o[5]=c[1]),i&&i.unactivate(),t.touchData.cxt){(h={originalEvent:s,type:"cxttapend",position:{x:o[0],y:o[1]}},i?i.emit(h):a.emit(h),!t.touchData.cxtDragged)&&(m={originalEvent:s,type:"cxttap",position:{x:o[0],y:o[1]}},i?i.emit(m):a.emit(m)),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!s.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting&&(t.touchData.selecting=!1,u=a.collection(t.getAllInBox(r[0],r[1],r[2],r[3])),r[0]=void 0,r[1]=void 0,r[2]=void 0,r[3]=void 0,r[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:s,position:{x:o[0],y:o[1]}}),g=e(function(e){return e.selectable()&&!e.selected()},"eleWouldBeSelected"),u.emit("box").stdFilter(g).select().emit("boxselect"),u.nonempty()&&t.redrawHint("eles",!0),t.redraw()),i?.unactivate(),s.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!s.touches[1]&&!s.touches[0]&&!s.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),d=t.dragData.touchDragEles,i!=null?(j=i._private.grabbed,f(d),t.redrawHint("drag",!0),t.redrawHint("eles",!0),j&&(i.emit("freeon"),d.emit("free"),t.dragData.didDrag&&(i.emit("dragfreeon"),d.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],s,{x:o[0],y:o[1]}),i.unactivate(),t.touchData.start=null):(p=t.findNearestElement(o[0],o[1],!0,!0),n(p,["touchend","tapend","vmouseup","tapdragout"],s,{x:o[0],y:o[1]}));var i,r,c,l,d,u,h,m,p,g,j,w,y=t.touchData.startPosition[0]-o[0],k=y*y,_=t.touchData.startPosition[1]-o[1],A=_*_,S=k+A,M=S*v*v;t.touchData.singleTouchMoved||(i||a.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],s,{x:o[0],y:o[1]}),C=!1,s.timeStamp-O<=a.multiClickDebounceTime()?(x&&clearTimeout(x),C=!0,O=null,n(i,["dbltap","vdblclick"],s,{x:o[0],y:o[1]})):(x=setTimeout(function(){C||n(i,["onetap","voneclick"],s,{x:o[0],y:o[1]})},a.multiClickDebounceTime()),O=s.timeStamp)),i!=null&&!t.dragData.didDrag&&i._private.selectable&&M<t.touchTapThreshold2&&!t.pinching&&(a.selectionType()==="single"?(a.$(b).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(l=0;l<o.length;l++)E[l]=o[l];t.dragData.didDrag=!1,s.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),s.touches.length<2&&(s.touches.length===1&&(t.touchData.startGPosition=[s.touches[0].clientX,s.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var u=[],B=e(function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},"makeTouch"),oe=e(function(e){return{event:e,touch:B(e)}},"makePointer"),ie=e(function(e){u.push(oe(e))},"addPointer"),I=e(function(e){for(var n,t=0;t<u.length;t++)if(n=u[t],n.event.pointerId===e.pointerId){u.splice(t,1);return}},"removePointer"),re=e(function(e){var t=u.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=B(e)},"updatePointer"),v=e(function(e){e.touches=u.map(function(e){return e.touch})},"addTouchesToEvent"),p=e(function(e){return e.pointerType==="mouse"||e.pointerType===4},"pointerIsMouse");t.registerBinding(t.container,"pointerdown",function(e){p(e)||(e.preventDefault(),ie(e),v(e),G(e))}),t.registerBinding(t.container,"pointerup",function(e){p(e)||(I(e),v(e),P(e))}),t.registerBinding(t.container,"pointercancel",function(e){p(e)||(I(e),v(e),H(e))}),t.registerBinding(t.container,"pointermove",function(e){p(e)||(e.preventDefault(),re(e),v(e),X(e))})}},Di={},Di.generatePolygon=function(t,n){return this.nodeShapes[t]={renderer:this,name:t,points:n,draw:e(function(e,t,n,s,o){this.renderer.nodeShapeImpl("polygon",e,t,n,s,o,this.points)},"draw"),intersectLine:e(function(e,t,n,s,o,i,a){return e1(o,i,this.points,e,t,n/2,s/2,a)},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a){return ta(e,t,this.points,i,a,s,o,[0,-1],n)},"checkPoint")}},Di.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:e(function(e,t,n,s,o){this.renderer.nodeShapeImpl(this.name,e,t,n,s,o)},"draw"),intersectLine:e(function(e,t,n,s,o,i,a){return aFe(o,i,e,t,n/2+a,s/2+a)},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a){return Hr(e,t,s,o,i,a,n)},"checkPoint")}},Di.generateRoundPolygon=function(t,n){return this.nodeShapes[t]={renderer:this,name:t,points:n,getOrCreateCorners:e(function(e,t,s,o,i,a,r){if(a[r]!==void 0&&a[r+"-cx"]===e&&a[r+"-cy"]===t)return a[r];a[r]=new Array(n.length/2),a[r+"-cx"]=e,a[r+"-cy"]=t;var c,l,d,u,h,m,f,p=s/2,g=o/2;i=i==="auto"?O_(s,o):i;for(c=new Array(n.length/2),l=0;l<n.length/2;l++)c[l]={x:e+p*n[l*2],y:t+g*n[l*2+1]};u=c.length;for(m=c[u-1],d=0;d<u;d++)h=c[d%u],f=c[(d+1)%u],a[r][d]=b7(m,h,f,i),m=h,h=f;return a[r]},"getOrCreateCorners"),draw:e(function(e,t,n,s,o,i,a){this.renderer.nodeShapeImpl("round-polygon",e,t,n,s,o,this.points,this.getOrCreateCorners(t,n,s,o,i,a,"drawCorners"))},"draw"),intersectLine:e(function(e,t,n,s,o,i,a,r,c){return hFe(o,i,this.points,e,t,n,s,a,this.getOrCreateCorners(e,t,n,s,r,c,"corners"))},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a,r,c){return sFe(e,t,this.points,i,a,s,o,this.getOrCreateCorners(i,a,s,o,r,c,"corners"))},"checkPoint")}},Di.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:zn(4,0),draw:e(function(e,t,n,s,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,s,o,this.points,i)},"draw"),intersectLine:e(function(e,t,n,s,o,i,a,r){return c_(o,i,e,t,n,s,a,r)},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a,r){var c,l=s/2,d=o/2;return r=r==="auto"?tc(s,o):r,r=Math.min(l,d,r),c=r*2,!!(ta(e,t,this.points,i,a,s,o-c,[0,-1],n)||ta(e,t,this.points,i,a,s-c,o,[0,-1],n)||Hr(e,t,c,c,i-l+r,a-d+r,n)||Hr(e,t,c,c,i+l-r,a-d+r,n)||Hr(e,t,c,c,i+l-r,a+d-r,n)||Hr(e,t,c,c,i-l+r,a+d-r,n))},"checkPoint")}},Di.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Dy(),points:zn(4,0),draw:e(function(e,t,n,s,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,s,o,null,i)},"draw"),generateCutTrianglePts:e(function(e,t,n,s,o){var i=o==="auto"?this.cornerLength:o,d=t/2,u=e/2,a=n-u,r=n+u,c=s-d,l=s+d;return{topLeft:[a,c+i,a+i,c,a+i,c+i],topRight:[r-i,c,r,c+i,r-i,c+i],bottomRight:[r,l-i,r-i,l,r-i,l-i],bottomLeft:[a+i,l,a,l-i,a+i,l-i]}},"generateCutTrianglePts"),intersectLine:e(function(e,t,n,s,o,i,a,r){var c=this.generateCutTrianglePts(n+2*a,s+2*a,e,t,r),l=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return e1(o,i,l,e,t)},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a,r){var c,l=r==="auto"?this.cornerLength:r;return!!(ta(e,t,this.points,i,a,s,o-2*l,[0,-1],n)||ta(e,t,this.points,i,a,s-2*l,o,[0,-1],n))||(c=this.generateCutTrianglePts(s,o,i,a),os(e,t,c.topLeft)||os(e,t,c.topRight)||os(e,t,c.bottomRight)||os(e,t,c.bottomLeft))},"checkPoint")}},Di.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:zn(4,0),draw:e(function(e,t,n,s,o){this.renderer.nodeShapeImpl(this.name,e,t,n,s,o)},"draw"),intersectLine:e(function(t,n,s,o,i,a,r){var u=.15,h=.5,m=.85,l=this.generateBarrelBezierPts(s+2*r,o+2*r,t,n),d=e(function(e){var t=zd({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},u),n=zd({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},h),s=zd({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},m);return[e[0],e[1],t.x,t.y,n.x,n.y,s.x,s.y,e[4],e[5]]},"approximateBarrelCurvePts"),f=[].concat(d(l.topLeft),d(l.topRight),d(l.bottomRight),d(l.bottomLeft));return e1(i,a,f,t,n)},"intersectLine"),generateBarrelBezierPts:e(function(e,t,n,s){var m=t/2,f=e/2,o=n-f,i=n+f,a=s-m,r=s+m,h=Fy(e,t),l=h.heightOffset,d=h.widthOffset,u=h.ctrlPtOffsetPct*e,c={topLeft:[o,a+l,o+u,a,o+d,a],topRight:[i-d,a,i-u,a,i,a+l],bottomRight:[i,r-l,i-u,r,i-d,r],bottomLeft:[o+d,r,o+u,r,o,r-l]};return c.topLeft.isTop=!0,c.topRight.isTop=!0,c.bottomLeft.isBottom=!0,c.bottomRight.isBottom=!0,c},"generateBarrelBezierPts"),checkPoint:e(function(t,n,s,o,i,a,r){var h=Fy(o,i),j=h.heightOffset,v=h.widthOffset;if(ta(t,n,this.points,a,r,o,i-2*j,[0,-1],s)||ta(t,n,this.points,a,r,o-2*v,i,[0,-1],s))return!0;for(var u=this.generateBarrelBezierPts(o,i,a,r),g=e(function(e,t,n){var s=n[4],l=n[2],o=n[0],a=n[5],r=n[1],d=Math.min(s,o),u=Math.max(s,o),h=Math.min(a,r),m=Math.max(a,r);if(d<=e&&e<=u&&h<=t&&t<=m){var i=yFe(s,l,o),f=QMe(i[0],i[1],i[2],e),c=f.filter(function(e){return 0<=e&&e<=1});if(c.length>0)return c[0]}return null},"getCurveT"),m=Object.keys(u),d=0;d<m.length;d++){var b=m[d],l=u[b],f=g(t,n,l);if(f!=null){var y=l[5],_=l[3],w=l[1],p=Jt(y,_,w,f);if(l.isTop&&p<=n||l.isBottom&&n<=p)return!0}}return!1},"checkPoint")}},Di.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:zn(4,0),draw:e(function(e,t,n,s,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,s,o,this.points,i)},"draw"),intersectLine:e(function(e,t,n,s,o,i,a,r){var d=e-(n/2+a),c=t-(s/2+a),u=c,h=e+(n/2+a),l=Nr(o,i,e,t,d,c,h,u,!1);return l.length>0?l:c_(o,i,e,t,n,s,a,r)},"intersectLine"),checkPoint:e(function(e,t,n,s,o,i,a,r){if(r=r==="auto"?tc(s,o):r,c=2*r,ta(e,t,this.points,i,a,s,o-c,[0,-1],n)||ta(e,t,this.points,i,a,s-c,o,[0,-1],n))return!0;var c,l=s/2+2*n,d=o/2+2*n,u=[i-l,a-d,i-l,a,i+l,a,i+l,a-d];return!!(os(e,t,u)||Hr(e,t,c,c,i+s/2-r,a+o/2-r,n)||Hr(e,t,c,c,i-s/2+r,a+o/2-r,n))},"checkPoint")}},Di.registerNodeShapes=function(){s=this.nodeShapes={},r=this,this.generateEllipse(),this.generatePolygon("triangle",zn(3,0)),this.generateRoundPolygon("round-triangle",zn(3,0)),this.generatePolygon("rectangle",zn(4,0)),s.square=s.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),o=[0,1,1,0,0,-1,-1,0],this.generatePolygon("diamond",o),this.generateRoundPolygon("round-diamond",o),this.generatePolygon("pentagon",zn(5,0)),this.generateRoundPolygon("round-pentagon",zn(5,0)),this.generatePolygon("hexagon",zn(6,0)),this.generateRoundPolygon("round-hexagon",zn(6,0)),this.generatePolygon("heptagon",zn(7,0)),this.generateRoundPolygon("round-heptagon",zn(7,0)),this.generatePolygon("octagon",zn(8,0)),this.generateRoundPolygon("round-octagon",zn(8,0)),t=new Array(20);{var e,t,s,o,a,r,c=Ry(5,0),n=Ry(5,Math.PI/5),i=.5*(3-Math.sqrt(5));i*=1.57;for(e=0;e<n.length/2;e++)n[e*2]*=i,n[e*2+1]*=i;for(e=0;e<20/4;e++)t[e*4]=c[e*2],t[e*4+1]=c[e*2+1],t[e*4+2]=n[e*2],t[e*4+3]=n[e*2+1]}t=d_(t),this.generatePolygon("star",t),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),a=[-1,-1,.25,-1,1,0,.25,1,-1,1],this.generatePolygon("tag",a),this.generateRoundPolygon("round-tag",a),s.makePolygon=function(e){var n,s=e.join("$"),t="polygon-"+s;return(n=this[t])||r.generatePolygon(t,e)}},I0={},I0.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},I0.redraw=function(e){e=e||t_();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},I0.beforeRender=function(e,t){if(!this.destroyed){t==null&&it("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}},qT=e(function(e,t,n){for(var o=e.beforeRenderCallbacks,s=0;s<o.length;s++)o[s].fn(t,n)},"beforeRenderCallbacks"),I0.startRenderLoop=function(){var n,t=this,s=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,n=e(function e(n){if(!t.destroyed){if(!s.batching())if(t.requestedFrame&&!t.skipFrame){qT(t,!0,n);var o,i,a=ra();t.render(t.renderOptions),i=t.lastDrawTime=ra(),t.averageRedrawTime===void 0&&(t.averageRedrawTime=i-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0),o=i-a,t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else qT(t,!1,n);t.skipFrame=!1,Lh(e)}},"renderFn"),Lh(n))},WPe=e(function(e){this.init(e)},"BaseRenderer"),YT=WPe,Tl=YT.prototype,Tl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Tl.init=function(e){if(t=this,t.options=e,t.cy=e.cy,n=t.container=e.cy.container(),s=t.cy.window(),s){var t,n,s,o,l,d,i=s.document,r=i.head,c="__________cytoscape_stylesheet",a="__________cytoscape_container",u=i.getElementById(c)!=null;(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!u)&&(o=i.createElement("style"),o.id=c,o.textContent="."+a+" { position: relative; }",r.insertBefore(o,r.children[0])),l=s.getComputedStyle(n),d=l.getPropertyValue("position"),d==="static"&&ze("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=k(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Tl.notify=function(e){var n=this,s=n.cy;if(!this.destroyed){if(e==="init"){n.load();return}if(e==="destroy"){n.destroy();return}(e==="add"||e==="remove"||e==="move"&&s.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&n.invalidateCachedZSortedEles(),e==="viewport"&&n.redrawHint("select",!0),e==="gc"&&n.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Tl.destroy=function(){e=this,e.destroyed=!0,e.cy.stopAnimationLoop();for(t=0;t<e.bindings.length;t++){var e,t,o=e.bindings[t],s=o,n=s.target;(n.off||n.removeEventListener).apply(n,s.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}},Tl.isHeadless=function(){return!1},[X9,DT,NT,gl,Di,I0].forEach(function(e){ee(Tl,e)}),yv=1e3/60,iz={setupDequeueing:e(function(t){return e(function(){if(s=this,n=this.renderer,!s.dequeueingSetup){s.dequeueingSetup=!0;var n,s,o=b0(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},t.deqRedrawThreshold),i=e(function(e,i){var r,c,g,v=ra(),l=n.averageRedrawTime,d=n.lastRedrawTime,a=[],u=n.cy.extent(),h=n.getPixelRatio();for(e||n.flushRenderedStyleQueue();;){var m=ra(),f=m-v,p=m-i;if(d<yv){if(g=yv-(e?l:0),p>=t.deqFastCost*g)break}else if(e){if(f>=t.deqCost*d||f>=t.deqAvgCost*l)break}else if(p>=t.deqNoDrawCost*yv)break;if(r=t.deq(s,h,u),r.length>0)for(c=0;c<r.length;c++)a.push(r[c]);else break}a.length>0&&(t.onDeqd(s,a),!e&&t.shouldRedraw(s,a,h,u)&&o())},"dequeue"),a=t.priority||Ny;n.beforeRender(i,a(s))}},"setupDequeueingImpl")},"setupDequeueing")},GPe=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V3;Ra(this,t),this.idsByKey=new yi,this.keyForId=new yi,this.cachesByLvl=new yi,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return e(t,"ElementTextureCacheLookup"),Va(t,[{key:"getIdsFor",value:e(function(e){e==null&&it("Can not get id list for null key");var n=this.idsByKey,t=this.idsByKey.get(e);return t||(t=new Id,n.set(e,t)),t},"getIdsFor")},{key:"addIdForKey",value:e(function(e,t){e!=null&&this.getIdsFor(e).add(t)},"addIdForKey")},{key:"deleteIdForKey",value:e(function(e,t){e!=null&&this.getIdsFor(e).delete(t)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:e(function(e){return e==null?0:this.getIdsFor(e).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:e(function(e){var t=e.id(),s=this.keyForId.get(t),n=this.getKey(e);this.deleteIdForKey(s,t),this.addIdForKey(n,t),this.keyForId.set(t,n)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:e(function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:e(function(e){var t=e.id(),n=this.keyForId.get(t),s=this.getKey(e);return n!==s},"keyHasChangedFor")},{key:"isInvalid",value:e(function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)},"isInvalid")},{key:"getCachesAt",value:e(function(e){var n=this.cachesByLvl,s=this.lvls,t=n.get(e);return t||(t=new yi,n.set(e,t),s.push(e)),t},"getCachesAt")},{key:"getCache",value:e(function(e,t){return this.getCachesAt(t).get(e)},"getCache")},{key:"get",value:e(function(e,t){var s=this.getKey(e),n=this.getCache(s,t);return n!=null&&this.updateKeyMappingFor(e),n},"get")},{key:"getForCachedKey",value:e(function(e,t){var n=this.keyForId.get(e.id()),s=this.getCache(n,t);return s},"getForCachedKey")},{key:"hasCache",value:e(function(e,t){return this.getCachesAt(t).has(e)},"hasCache")},{key:"has",value:e(function(e,t){var n=this.getKey(e);return this.hasCache(n,t)},"has")},{key:"setCache",value:e(function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)},"setCache")},{key:"set",value:e(function(e,t,n){var s=this.getKey(e);this.setCache(s,t,n),this.updateKeyMappingFor(e)},"set")},{key:"deleteCache",value:e(function(e,t){this.getCachesAt(t).delete(e)},"deleteCache")},{key:"delete",value:e(function(e,t){var n=this.getKey(e);this.deleteCache(n,t)},"_delete")},{key:"invalidateKey",value:e(function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})},"invalidateKey")},{key:"invalidate",value:e(function(e){var t,s=e.id(),n=this.keyForId.get(s);return this.deleteKeyMappingFor(e),t=this.doesEleInvalidateKey(e),t&&this.invalidateKey(n),t||this.getNumberOfIdsForKey(n)===0},"invalidate")}]),t}(),dz=25,o3=50,J2=-4,hv=3,Fz=7.99,tHe=8,nHe=1024,sHe=1024,oHe=1024,iHe=.2,aHe=.8,rHe=10,cHe=.15,lHe=.1,dHe=.9,uHe=.9,hHe=100,mHe=1,Ql={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},pHe=Kt({getKey:null,doesEleInvalidateKey:V3,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:$w,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),m2=e(function(e,t){var s,n=this;n.renderer=e,n.onDequeues=[],s=pHe(t),ee(n,s),n.lookup=new GPe(s.getKey,s.doesEleInvalidateKey),n.setupDequeueing()},"ElementTextureCache"),Lt=m2.prototype,Lt.reasons=Ql,Lt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Lt.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},s=n[e]=n[e]||[];return s},Lt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new d2(function(e,t){return t.reqs-e.reqs});return t},Lt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t},Lt.getElement=function(t,n,s,o,i){var c=this,S=this.renderer,A=S.cy.zoom(),g=this.lookup;if(!n||n.w===0||n.h===0||isNaN(n.w)||isNaN(n.h)||!t.visible()||t.removed()||!c.allowEdgeTxrCaching&&t.isEdge()||!c.allowParentTxrCaching&&t.isParent())return null;if(o==null&&(o=Math.ceil(Uy(A*s))),o<J2)o=J2;else if(A>=Fz||o>hv)return null;var u=Math.pow(2,o),f=n.h*u,l=n.w*u,p=S.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,p))return null;if(r=g.get(t,o),r&&r.invalidated&&(r.invalidated=!1,r.texture.invalidatedWidth-=r.width),r)return r;if(f<=dz?h=dz:f<=o3?h=o3:h=Math.ceil(f/o3)*o3,f>oHe||l>sHe)return null;var v=c.getTextureQueue(h),a=v[v.length-2],k=e(function(){return c.recycleTexture(h,l)||c.addTexture(h,l)},"addNewTxr");a||(a=v[v.length-1]),a||(a=k()),a.width-a.usedWidth<l&&(a=k());for(var r,d,h,m,b,j,w,O,x,C,_=e(function(e){return e&&e.scaledLabelShown===p},"scalableFrom"),F=i&&i===Ql.dequeue,E=i&&i===Ql.highQuality,M=i&&i===Ql.downscale,y=o+1;y<=hv;y++)if(w=g.get(t,y),w){d=w;break}if(m=d&&d.level===o+1?d:null,O=e(function(){a.context.drawImage(m.texture.canvas,m.x,0,m.width,m.height,a.usedWidth,0,l,f)},"downscale"),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(a.usedWidth,0,l,h),_(m))O();else if(_(d))if(E){for(b=d.level;b>o;b--)m=c.getElement(t,n,s,b,Ql.downscale);O()}else return c.queueElement(t,d.level-1),d;else{if(!F&&!E&&!M)for(j=o-1;j>=J2;j--)if(C=g.get(t,j),C){x=C;break}if(_(x))return c.queueElement(t,o),x;a.context.translate(a.usedWidth,0),a.context.scale(u,u),this.drawElement(a.context,t,n,p,!1),a.context.scale(1/u,1/u),a.context.translate(-a.usedWidth,0)}return r={x:a.usedWidth,texture:a,level:o,scale:u,width:l,height:f,scaledLabelShown:p},a.usedWidth+=Math.ceil(l+tHe),a.eleCaches.push(r),g.set(t,o,r),c.checkTextureFullness(a),r},Lt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Lt.invalidateElement=function(e){var t,n,s,r,c,l,o=this,i=o.lookup,a=[],d=i.isInvalid(e);if(d){for(t=J2;t<=hv;t++)r=i.getForCachedKey(e,t),r&&a.push(r);if(l=i.invalidate(e),l)for(n=0;n<a.length;n++)s=a[n],c=s.texture,c.invalidatedWidth+=s.width,s.invalidated=!0,o.checkTextureUtility(c);o.removeFromQueue(e)}},Lt.checkTextureUtility=function(e){e.invalidatedWidth>=iHe*e.width&&this.retireTexture(e)},Lt.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>aHe&&e.fullnessChecks>=rHe?Ya(n,e):e.fullnessChecks++},Lt.retireTexture=function(e){var t,n,s,a,o=this,i=e.height,r=o.getTextureQueue(i),c=this.lookup;Ya(r,e),e.retired=!0;for(t=e.eleCaches,n=0;n<t.length;n++)s=t[n],c.deleteCache(s.key,s.level);Ky(t),a=o.getRetiredTextureQueue(i),a.push(e)},Lt.addTexture=function(e,t){var s=this,o=s.getTextureQueue(e),n={};return o.push(n),n.eleCaches=[],n.height=e,n.width=Math.max(nHe,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=s.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Lt.recycleTexture=function(e,t){for(var n,i=this,a=i.getTextureQueue(e),s=i.getRetiredTextureQueue(e),o=0;o<s.length;o++)if(n=s[o],n.width>=t)return n.retired=!1,n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,Ky(n.eleCaches),n.context.setTransform(1,0,0,1,0,0),n.context.clearRect(0,0,n.width,n.height),Ya(s,n),a.push(n),n},Lt.queueElement=function(e,t){var o,i=this,a=i.getElementQueue(),r=i.getElementKeyToQueue(),s=this.getKey(e),n=r[s];n?(n.level=Math.max(n.level,t),n.eles.merge(e),n.reqs++,a.updateItem(n)):(o={eles:e.spawn().merge(e),level:t,reqs:1,key:s},a.push(o),r[s]=o)},Lt.dequeue=function(e){for(var r,t=this,o=t.getElementQueue(),c=t.getElementKeyToQueue(),i=[],l=t.lookup,a=0;a<mHe&&o.size()>0;a++){var n=o.pop(),d=n.key,s=n.eles[0],u=l.hasCache(s,n.level);if(c[d]=null,u)continue;i.push(n),r=t.getBoundingBox(s),t.getElement(s,r,e,n.level,Ql.dequeue)}return i},Lt.removeFromQueue=function(e){var n=this,s=n.getElementQueue(),o=n.getElementKeyToQueue(),i=this.getKey(e),t=o[i];t!=null&&(t.eles.length===1?(t.reqs=Yj,s.updateItem(t),s.pop(),o[i]=null):t.eles.unmerge(e))},Lt.onDequeue=function(e){this.onDequeues.push(e)},Lt.offDequeue=function(e){Ya(this.onDequeues,e)},Lt.setupDequeueing=iz.setupDequeueing({deqRedrawThreshold:hHe,deqCost:cHe,deqAvgCost:lHe,deqNoDrawCost:dHe,deqFastCost:uHe,deq:e(function(e,t,n){return e.dequeue(t,n)},"deq"),onDeqd:e(function(e,t){for(var s,n=0;n<e.onDequeues.length;n++)s=e.onDequeues[n],s(t)},"onDeqd"),shouldRedraw:e(function(e,t,n,s){for(o=0;o<t.length;o++)for(var o,r,a=t[o].eles,i=0;i<a.length;i++)if(r=a[i].boundingBox(),Wy(r,s))return!0;return!1},"shouldRedraw"),priority:e(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),bHe=1,p2=-4,K2=2,_He=3.99,wHe=50,OHe=50,xHe=.15,CHe=.1,EHe=.9,kHe=.9,AHe=1,Tz=250,MHe=4e3*4e3,zz=32767,THe=!0,Iz=e(function(t){var o,n=this,s=n.renderer=t,i=s.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=ra()-2*Tz,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=b0(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},OHe),s.beforeRender(function(e,t){t-n.lastInvalidationTime<=Tz?n.skipping=!0:n.skipping=!1},s.beforeRenderPriorities.lyrTxrSkip),o=e(function(e,t){return t.reqs-e.reqs},"qSort"),n.layersQueue=new d2(o),n.setupDequeueing()},"LayeredTextureCache"),on=Iz.prototype,Qz=0,LHe=Math.pow(2,53)-1,on.makeLayer=function(e,t){var n=Math.pow(2,t),o=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=this.renderer.makeOffscreenCanvas(o,i),s={id:Qz=++Qz%LHe,bb:e,level:t,width:o,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},r=s.context,c=-s.bb.x1,l=-s.bb.y1;return r.scale(n,n),r.translate(c,l),s},on.getLayers=function(t,n,s){var h,g,o=this,w=o.renderer,x=w.cy,f=x.zoom(),m=o.firstGet;if(o.firstGet=!1,s==null)if(s=Math.ceil(Uy(f*n)),s<p2)s=p2;else if(f>=_He||s>K2)return null;o.validateLayersElesOrdering(s,t);var r,l,d=o.layersByLevel,v=Math.pow(2,s),a=d[s]=d[s]||[],O=o.levelIsComplete(s,t),C=e(function(){var n,i,c=e(function(e){if(o.validateLayersElesOrdering(e,t),o.levelIsComplete(e,t))return l=d[e],!0},"canUseAsTmpLvl"),r=e(function(e){if(!l)for(var t=s+e;p2<=t&&t<=K2&&!c(t);t+=e);},"checkLvls");r(1),r(-1);for(n=a.length-1;n>=0;n--)i=a[n],i.invalid&&Ya(a,i)},"checkTempLevels");if(O)return a;if(C(),g=e(function(){if(!r){r=gs();for(var e=0;e<t.length;e++)s_(r,t[e].boundingBox())}return r},"getBb"),h=e(function(e){e=e||{},n=e.after,g();var t,n,l,d,i=Math.ceil(r.w*v),c=Math.ceil(r.h*v);return i>zz||c>zz?null:(l=i*c,l>MHe?null:(t=o.makeLayer(r,s),n!=null?(d=a.indexOf(n)+1,a.splice(d,0,t)):(e.insert===void 0||e.insert)&&a.unshift(t),t))},"makeLayer"),o.skipping&&!m)return null;for(var i=null,_=t.length/bHe,y=!m,u=0;u<t.length;u++){var c=t[u],j=c._private.rscratch,b=j.imgLayerCaches=j.imgLayerCaches||{},p=b[s];if(p){i=p;continue}if((!i||i.eles.length>=_||!r_(i.bb,c.boundingBox()))&&(i=h({insert:!0,after:i}),!i))return null;l||y?o.queueLayer(i,c):o.drawEleInLayer(i,c,s,n),i.eles.push(c),b[s]=i}return l||(y?null:a)},on.getEleLevelForLayerLevel=function(e){return e},on.drawEleInLayer=function(e,t,n,s){var r=this,o=this.renderer,i=e.context,a=t.boundingBox();a.w===0||a.h===0||!t.visible()||(n=r.getEleLevelForLayerLevel(n,s),o.setImgSmoothing(i,!1),o.drawCachedElement(i,t,null,null,n,THe),o.setImgSmoothing(i,!0))},on.levelIsComplete=function(e,t){var s,o,i,a=this,n=a.layersByLevel[e];if(!n||n.length===0)return!1;for(i=0,s=0;s<n.length;s++){if(o=n[s],o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===t.length},on.validateLayersElesOrdering=function(e,t){if(o=this.layersByLevel[e],o)for(i=0;i<o.length;i++){for(var o,i,r,s=o[i],a=-1,n=0;n<t.length;n++)if(s.eles[0]===t[n]){a=n;break}if(a<0){this.invalidateLayer(s);continue}for(r=a,n=0;n<s.eles.length;n++)if(s.eles[n]!==t[r+n]){this.invalidateLayer(s);break}}},on.updateElementsInLayers=function(e,t){for(var l=this,a=S4(e[0]),n=0;n<e.length;n++)for(var s,o=a?null:e[n],r=a?e[n]:e[n].ele,c=r._private.rscratch,d=c.imgLayerCaches=c.imgLayerCaches||{},i=p2;i<=K2;i++)s=d[i],s&&(o&&l.getEleLevelForLayerLevel(s.level)!==o.level||t(s,r,o))},on.haveLayers=function(){for(var t,s=this,n=!1,e=p2;e<=K2;e++)if(t=s.layersByLevel[e],t&&t.length>0){n=!0;break}return n},on.invalidateElements=function(t){var n=this;t.length!==0&&(n.lastInvalidationTime=ra(),t.length!==0&&!!n.haveLayers()&&n.updateElementsInLayers(t,e(function(e){n.invalidateLayer(e)},"invalAssocLayers")))},on.invalidateLayer=function(e){if(this.lastInvalidationTime=ra(),!e.invalid){var t,n,s=e.level,o=e.eles,i=this.layersByLevel[s];Ya(i,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(t=0;t<o.length;t++)n=o[t]._private.rscratch.imgLayerCaches,n&&(n[s]=null)}},on.refineElementTextures=function(t){var n=this;n.updateElementsInLayers(t,e(function(e){var i,o=e.replacement;if(o||(o=e.replacement=n.makeLayer(e.bb,e.level),o.replaces=e,o.eles=e.eles),!o.reqs)for(i=0;i<o.eles.length;i++)n.queueLayer(o,o.eles[i])},"refineEachEle"))},on.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},on.queueLayer=function(e,t){var i=this,s=i.layersQueue,n=e.elesQueue,o=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;n.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,s.updateItem(e)):(e.reqs=1,s.push(e))}},on.dequeue=function(e){for(var t,i,s=this,n=s.layersQueue,o=[],a=0;a<AHe&&n.size()!==0;){if(t=n.peek(),t.replacement){n.pop();continue}if(t.replaces&&t!==t.replaces.replacement){n.pop();continue}if(t.invalid){n.pop();continue}i=t.elesQueue.shift(),i&&(s.drawEleInLayer(t,i,t.level,e),a++),o.length===0&&o.push(!0),t.elesQueue.length===0&&(n.pop(),t.reqs=0,t.replaces&&s.applyLayerReplacement(t),s.requestRedraw())}return o},on.applyLayerReplacement=function(e){var t,n,s,o=this,i=o.layersByLevel[e.level],a=e.replaces,r=i.indexOf(a);if(!(r<0||a.invalid)){i[r]=e;for(t=0;t<e.eles.length;t++)n=e.eles[t]._private,s=n.imgLayerCaches=n.imgLayerCaches||{},s&&(s[e.level]=e);o.requestRedraw()}},on.requestRedraw=b0(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),on.setupDequeueing=iz.setupDequeueing({deqRedrawThreshold:wHe,deqCost:xHe,deqAvgCost:CHe,deqNoDrawCost:EHe,deqFastCost:kHe,deq:e(function(e,t){return e.dequeue(t)},"deq"),onDeqd:Ny,shouldRedraw:$w,priority:e(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),sD={},e(SEe,"polygon"),e(MEe,"triangleBackcurve"),e(tN,"triangleTee"),e(TEe,"circleTriangle"),e(zEe,"circle"),sD.arrowShapeImpl=function(e){return(PHe||(PHe={polygon:SEe,"triangle-backcurve":MEe,"triangle-tee":tN,"circle-triangle":TEe,"triangle-cross":tN,circle:zEe}))[e]},ai={},ai.drawElement=function(e,t,n,s,o,i){var a=this;t.isNode()?a.drawNode(e,t,n,s,o,i):a.drawEdge(e,t,n,s,o,i)},ai.drawElementOverlay=function(e,t){var n=this;t.isNode()?n.drawNodeOverlay(e,t):n.drawEdgeOverlay(e,t)},ai.drawElementUnderlay=function(e,t){var n=this;t.isNode()?n.drawNodeUnderlay(e,t):n.drawEdgeUnderlay(e,t)},ai.drawCachedElementPortion=function(e,t,n,s,o,i,a,r){if(l=this,c=n.getBoundingBox(t),c.w!==0&&c.h!==0)if(d=n.getElement(t,c,s,o,i),d!=null){if(u=r(l,t),u===0)return;var c,l,d,u,m,f,p,g,v,b,j,y,h=a(l,t),x=c.x1,_=c.y1,w=c.w,O=c.h;h!==0?(b=n.getRotationPoint(t),g=b.x,m=b.y,e.translate(g,m),e.rotate(h),v=l.getImgSmoothing(e),v||l.setImgSmoothing(e,!0),j=n.getRotationOffset(t),f=j.x,p=j.y):(f=x,p=_),u!==1&&(y=e.globalAlpha,e.globalAlpha=y*u),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,f,p,w,O),u!==1&&(e.globalAlpha=y),h!==0&&(e.rotate(-h),e.translate(-g,-m),v||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)},IHe=e(function(){return 0},"getZeroRotation"),BHe=e(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),VHe=e(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),$He=e(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),WHe=e(function(e,t){return t.effectiveOpacity()},"getOpacity"),G7=e(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity"),ai.drawCachedElement=function(e,t,n,s,o,i){var d,u,a=this,r=a.data,h=r.eleTxrCache,m=r.lblTxrCache,f=r.slbTxrCache,p=r.tlbTxrCache,l=t.boundingBox(),c=i===!0?h.reasons.highQuality:null;!(l.w===0||l.h===0||!t.visible())&&(!s||Wy(l,s))&&(d=t.isEdge(),u=t.element()._private.rscratch.badLine,a.drawElementUnderlay(e,t),a.drawCachedElementPortion(e,t,h,n,o,c,IHe,WHe),(!d||!u)&&a.drawCachedElementPortion(e,t,m,n,o,c,BHe,G7),d&&!u&&(a.drawCachedElementPortion(e,t,f,n,o,c,VHe,G7),a.drawCachedElementPortion(e,t,p,n,o,c,$He,G7)),a.drawElementOverlay(e,t))},ai.drawElements=function(e,t){for(var s,o=this,n=0;n<t.length;n++)s=t[n],o.drawElement(e,s)},ai.drawCachedElements=function(e,t,n,s){for(var i,a=this,o=0;o<t.length;o++)i=t[o],a.drawCachedElement(e,i,n,s)},ai.drawCachedNodes=function(e,t,n,s){for(var i,a=this,o=0;o<t.length;o++)i=t[o],i.isNode()&&a.drawCachedElement(e,i,n,s)},ai.drawLayeredElements=function(e,t,n,s){var o,i,r,c=this,a=c.data.lyrTxrCache.getLayers(t,n);if(a)for(i=0;i<a.length;i++)r=a[i],o=r.bb,o.w===0||o.h===0||e.drawImage(r.canvas,o.x1,o.y1,o.w,o.h);else c.drawCachedElements(e,t,n,s)},oa={},oa.drawEdge=function(t,n,s){var x=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],o=this,i=n._private.rscratch;if(!(l&&!n.visible())&&!(i.badLine||i.allpts==null||isNaN(i.allpts[0]))){s&&(a=s,t.translate(-a.x1,-a.y1));var a,O,u=l?n.pstyle("opacity").value:1,g=l?n.pstyle("line-opacity").value:1,h=n.pstyle("curve-style").value,m=n.pstyle("line-style").value,f=n.pstyle("width").pfValue,p=n.pstyle("line-cap").value,d=n.pstyle("line-outline-width").value,r=n.pstyle("line-outline-color").value,c=u*g,M=u*g,y=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;h==="straight-triangle"?(o.eleStrokeStyle(t,n,e),o.drawEdgeTrianglePath(n,t,i.allpts)):(t.lineWidth=f,t.lineCap=p,o.eleStrokeStyle(t,n,e),o.drawEdgePath(n,t,i.allpts,m),t.lineCap="butt")},"drawLine"),A=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;if(t.lineWidth=f+d,t.lineCap=p,d>0)o.colorStrokeStyle(t,r[0],r[1],r[2],e);else{t.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(n,t,i.allpts):(o.drawEdgePath(n,t,i.allpts,m),t.lineCap="butt")},"drawLineOutline"),k=e(function(){b&&o.drawEdgeOverlay(t,n)},"drawOverlay"),E=e(function(){b&&o.drawEdgeUnderlay(t,n)},"drawUnderlay"),v=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;o.drawArrowheads(t,n,e)},"drawArrows"),C=e(function(){o.drawElementText(t,n,null,x)},"drawText");if(t.lineJoin="round",O=n.pstyle("ghost").value==="yes",O){var w=n.pstyle("ghost-offset-x").pfValue,_=n.pstyle("ghost-offset-y").pfValue,S=n.pstyle("ghost-opacity").value,j=c*S;t.translate(w,_),y(j),v(j),t.translate(-w,-_)}else A();E(),y(),v(),k(),C(),s&&t.translate(a.x1,a.y1)}},cD=e(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()&&(s=n.pstyle("".concat(e,"-opacity")).value,s!==0)){var s,o=this,r=o.usePaths(),a=n._private.rscratch,c=n.pstyle("".concat(e,"-padding")).pfValue,l=2*c,i=n.pstyle("".concat(e,"-color")).value;t.lineWidth=l,a.edgeType==="self"&&!r?t.lineCap="butt":t.lineCap="round",o.colorStrokeStyle(t,i[0],i[1],i[2],s),o.drawEdgePath(n,t,a.allpts,"solid")}}},"drawEdgeOverlayUnderlay"),oa.drawEdgeOverlay=cD("overlay"),oa.drawEdgeUnderlay=cD("underlay"),oa.drawEdgePath=function(e,t,n,s){var i,r,c,l,d,u,m,f,p,o=e._private.rscratch,a=t,h=!1,g=this.usePaths(),b=e.pstyle("line-dash-pattern").pfValue,v=e.pstyle("line-dash-offset").pfValue;if(g&&(u=n.join("$"),m=o.pathCacheKey&&o.pathCacheKey===u,m?(d=t=o.pathCache,h=!0):(d=t=new Path2D,o.pathCacheKey=u,o.pathCache=d)),a.setLineDash)switch(s){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(b),a.lineDashOffset=v;break;case"solid":a.setLineDash([]);break}if(!h&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(i=2;i+3<n.length;i+=4)t.quadraticCurveTo(n[i],n[i+1],n[i+2],n[i+3]);break;case"straight":case"haystack":for(l=2;l+1<n.length;l+=2)t.lineTo(n[l],n[l+1]);break;case"segments":if(o.isRound){c=Cs(o.roundCorners);try{for(c.s();!(f=c.n()).done;)p=f.value,TN(t,p)}catch(e){c.e(e)}finally{c.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(r=2;r+1<n.length;r+=2)t.lineTo(n[r],n[r+1]);break}t=a,g?t.stroke(d):t.stroke(),t.setLineDash&&t.setLineDash([])},oa.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(a=e.pstyle("width").pfValue,s=0;s+1<n.length;s+=2){var s,a,o=[n[s+2]-n[s],n[s+3]-n[s+1]],r=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=[o[1]/r,-o[0]/r],i=[c[0]*a/2,c[1]*a/2];t.beginPath(),t.moveTo(n[s]-i[0],n[s+1]-i[1]),t.lineTo(n[s]+i[0],n[s+1]+i[1]),t.lineTo(n[s+2],n[s+3]),t.closePath(),t.fill()}},oa.drawArrowheads=function(e,t,n){var s=t._private.rscratch,o=s.edgeType==="haystack";o||this.drawArrowhead(e,t,"source",s.arrowStartX,s.arrowStartY,s.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",s.midX,s.midY,s.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",s.midX,s.midY,s.midsrcArrowAngle,n),o||this.drawArrowhead(e,t,"target",s.arrowEndX,s.arrowEndY,s.tgtArrowAngle,n)},oa.drawArrowhead=function(e,t,n,s,o,i,a){if(!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(i)||i==null)&&(r=this,l=t.pstyle(n+"-arrow-shape").value,l!=="none")){var r,c,l,f,p,g=t.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",m=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,u=t.pstyle(n+"-arrow-width"),h=u.value==="match-line"?d:u.pfValue;u.units==="%"&&(h*=d),f=t.pstyle("opacity").value,a===void 0&&(a=f),p=e.globalCompositeOperation,(a!==1||m==="hollow")&&(e.globalCompositeOperation="destination-out",r.colorFillStyle(e,255,255,255,1),r.colorStrokeStyle(e,255,255,255,1),r.drawArrowShape(t,e,g,d,l,h,s,o,i),e.globalCompositeOperation=p),c=t.pstyle(n+"-arrow-color").value,r.colorFillStyle(e,c[0],c[1],c[2],a),r.colorStrokeStyle(e,c[0],c[1],c[2],a),r.drawArrowShape(t,e,m,d,l,h,s,o,i)}},oa.drawArrowShape=function(e,t,n,s,o,i,a,r,c){var u,h=this,l=this.usePaths()&&o!=="triangle-cross",m=!1,b=t,j={x:a,y:r},y=e.pstyle("arrow-scale").value,d=this.getArrowWidth(s,y),f=h.arrowShapes[o];if(l){var p=h.arrowPathCache=h.arrowPathCache||[],g=Fa(o),v=p[g];v!=null?(u=t=v,m=!0):(u=t=new Path2D,p[g]=u)}m||(t.beginPath&&t.beginPath(),l?f.draw(t,1,0,{x:0,y:0},1):f.draw(t,d,c,j,s),t.closePath&&t.closePath()),t=b,l&&(t.translate(a,r),t.rotate(c),t.scale(d,d)),(n==="filled"||n==="both")&&(l?t.fill(u):t.fill()),(n==="hollow"||n==="both")&&(t.lineWidth=i/(l?d:1),t.lineJoin="miter",l?t.stroke(u):t.stroke()),l&&(t.scale(1/d,1/d),t.rotate(-c),t.translate(-a,-r))},q7={},q7.safeDrawImage=function(e,t,n,s,o,i,a,r,c,l){if(!(o<=0||i<=0||c<=0||l<=0))try{e.drawImage(t,n,s,o,i,a,r,c,l)}catch(e){ze(e)}},q7.drawInscribedImage=function(e,t,n,s,o){var a,r,m,f,v,j,y,w,O,x,C,E,T,c=this,A=n.position(),g=A.x,p=A.y,M=n.cy().style(),i=M.getIndexedStyle.bind(M),z=i(n,"background-fit","value",s),D=i(n,"background-repeat","value",s),P=n.width(),H=n.height(),S=n.padding()*2,u=P+(i(n,"background-width-relative-to","value",s)==="inner"?0:S),h=H+(i(n,"background-height-relative-to","value",s)==="inner"?0:S),b=n._private.rscratch,B=i(n,"background-clip","value",s),k=B==="node",V=i(n,"background-image-opacity","value",s)*o,N=i(n,"background-image-smoothing","value",s),_=n.pstyle("corner-radius").value;if(_!=="auto"&&(_=n.pstyle("corner-radius").pfValue),f=t.width||t.cachedW,v=t.height||t.cachedH,(f==null||v==null)&&(document.body.appendChild(t),f=t.cachedW=t.width||t.offsetWidth,v=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t)),r=f,a=v,i(n,"background-width","value",s)!=="auto"&&(i(n,"background-width","units",s)==="%"?r=i(n,"background-width","pfValue",s)*u:r=i(n,"background-width","pfValue",s)),i(n,"background-height","value",s)!=="auto"&&(i(n,"background-height","units",s)==="%"?a=i(n,"background-height","pfValue",s)*h:a=i(n,"background-height","pfValue",s)),r!==0&&a!==0){z==="contain"?(m=Math.min(u/r,h/a),r*=m,a*=m):z==="cover"&&(m=Math.max(u/r,h/a),r*=m,a*=m);var d=g-u/2,I=i(n,"background-position-x","units",s),F=i(n,"background-position-x","pfValue",s);I==="%"?d+=(u-r)*F:d+=F,x=i(n,"background-offset-x","units",s),w=i(n,"background-offset-x","pfValue",s),x==="%"?d+=(u-r)*w:d+=w;var l=p-h/2,R=i(n,"background-position-y","units",s),L=i(n,"background-position-y","pfValue",s);R==="%"?l+=(h-a)*L:l+=L,C=i(n,"background-offset-y","units",s),O=i(n,"background-offset-y","pfValue",s),C==="%"?l+=(h-a)*O:l+=O,b.pathCache&&(d-=g,l-=p,g=0,p=0),T=e.globalAlpha,e.globalAlpha=V,j=c.getImgSmoothing(e),y=!1,N==="no"&&j?(c.setImgSmoothing(e,!1),y=!0):N==="yes"&&!j&&(c.setImgSmoothing(e,!0),y=!0),D==="no-repeat"?(k&&(e.save(),b.pathCache?e.clip(b.pathCache):(c.nodeShapes[c.getNodeShape(n)].draw(e,g,p,u,h,_,b),e.clip())),c.safeDrawImage(e,t,0,0,f,v,d,l,r,a),k&&e.restore()):(E=e.createPattern(t,D),e.fillStyle=E,c.nodeShapes[c.getNodeShape(n)].draw(e,g,p,u,h,_,b),e.translate(d,l),e.fill(),e.translate(-d,-l)),e.globalAlpha=T,y&&c.setImgSmoothing(e,j)}},rc={},rc.eleTextBiggerThanMin=function(e,t){if(!t){var n,s,o=e.cy().zoom(),i=this.getPixelRatio(),a=Math.ceil(Uy(o*i));t=Math.pow(2,a)}return n=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue,!(n<s)},rc.drawElementText=function(e,t,n,s,o){if(a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],i=this,s==null){if(a&&!i.eleTextBiggerThanMin(t))return}else if(s===!1)return;if(t.isNode()){if(l=t.pstyle("label"),!l||!l.value)return;d=i.getLabelJustification(t),e.textAlign=d,e.textBaseline="bottom"}else{var i,a,r,c,l,d,f=t.element()._private.rscratch.badLine,u=t.pstyle("label"),h=t.pstyle("source-label"),m=t.pstyle("target-label");if(f||(!u||!u.value)&&(!h||!h.value)&&(!m||!m.value))return;e.textAlign="center",e.textBaseline="bottom"}r=!n,n&&(c=n,e.translate(-c.x1,-c.y1)),o==null?(i.drawText(e,t,null,r,a),t.isEdge()&&(i.drawText(e,t,"source",r,a),i.drawText(e,t,"target",r,a))):i.drawText(e,t,o,r,a),n&&e.translate(c.x1,c.y1)},rc.getFontCache=function(e){this.fontCaches=this.fontCaches||[];for(var t,n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},rc.setupTextStyle=function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=t.pstyle("font-style").strValue,r=t.pstyle("font-size").pfValue+"px",c=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,o=i?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,d=t.pstyle("text-outline-opacity").value*o,n=t.pstyle("color").value,s=t.pstyle("text-outline-color").value;e.font=a+" "+l+" "+r+" "+c,e.lineJoin="round",this.colorFillStyle(e,n[0],n[1],n[2],o),this.colorStrokeStyle(e,s[0],s[1],s[2],d)},e(k7,"roundRect"),rc.getTextAngle=function(e,t){var n,o,i=e._private,a=i.rscratch,r=t?t+"-":"",s=e.pstyle(r+"text-rotation");return s.strValue==="autorotate"?(o=ho(a,"labelAngle",t),n=e.isEdge()?o:0):s.strValue==="none"?n=0:n=s.pfValue,n},rc.drawText=function(e,t,n){var W=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],D=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],U=t._private,h=U.rscratch,z=D?t.effectiveOpacity():1;if(!D||z!==0&&t.pstyle("text-opacity").value!==0){n==="main"&&(n=null);var x,T,s=ho(h,"labelX",n),o=ho(h,"labelY",n),w=this.getLabelText(t,n);if(w!=null&&w!==""&&!isNaN(s)&&!isNaN(o)){this.setupTextStyle(e,t,D);var i,a,u,p,g,y,R,N=n?n+"-":"",d=ho(h,"labelWidth",n),_=ho(h,"labelHeight",n),$=t.pstyle(N+"text-margin-x").pfValue,V=t.pstyle(N+"text-margin-y").pfValue,B=t.isEdge(),f=t.pstyle("text-halign").value,S=t.pstyle("text-valign").value;switch(B&&(f="center",S="center"),s+=$,o+=V,W?u=this.getTextAngle(t,n):u=0,u!==0&&(T=s,x=o,e.translate(T,x),e.rotate(u),s=0,o=0),S){case"top":break;case"center":o+=_/2;break;case"bottom":o+=_;break}var E=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,v=t.pstyle("text-border-width").pfValue,O=t.pstyle("text-background-padding").pfValue,I=t.pstyle("text-background-shape").strValue,k=I.indexOf("round")===0,A=2;if(E>0||v>0&&C>0){switch(a=s-O,f){case"left":a-=d;break;case"center":a-=d/2;break}var m=o-_-O,l=d+2*O,c=_+2*O;if(E>0&&(R=e.fillStyle,y=t.pstyle("text-background-color").value,e.fillStyle="rgba("+y[0]+","+y[1]+","+y[2]+","+E*z+")",k?k7(e,a,m,l,c,A):e.fillRect(a,m,l,c),e.fillStyle=R),v>0&&C>0){var H=e.strokeStyle,P=e.lineWidth,F=t.pstyle("text-border-color").value,L=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+C*z+")",e.lineWidth=v,e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=v/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}(k?k7(e,a,m,l,c,A,"stroke"):e.strokeRect(a,m,l,c),L==="double")&&(i=v/2,k?k7(e,a+i,m+i,l-i*2,c-i*2,A,"stroke"):e.strokeRect(a+i,m+i,l-i*2,c-i*2)),e.setLineDash&&e.setLineDash([]),e.lineWidth=P,e.strokeStyle=H}}if(g=2*t.pstyle("text-outline-width").pfValue,g>0&&(e.lineWidth=g),t.pstyle("text-wrap").value==="wrap"){var b=ho(h,"labelWrapCachedLines",n),M=ho(h,"labelLineHeight",n),j=d/2,r=this.getLabelJustification(t);switch(r==="auto"||(f==="left"?r==="left"?s+=-d:r==="center"&&(s+=-j):f==="center"?r==="left"?s+=-j:r==="right"&&(s+=j):f==="right"&&(r==="center"?s+=j:r==="right"&&(s+=d))),S){case"top":o-=(b.length-1)*M;break;case"center":case"bottom":o-=(b.length-1)*M;break}for(p=0;p<b.length;p++)g>0&&e.strokeText(b[p],s,o),e.fillText(b[p],s,o),o+=M}else g>0&&e.strokeText(w,s,o),e.fillText(w,s,o);u!==0&&(e.rotate(-u),e.translate(-T,-x))}}},Cd={},Cd.drawNode=function(t,n,s){var r,l,ue=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],U=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],W=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],o=this,v=n._private,x=v.rscratch,u=n.position();if(!!k(u.x)&&!!k(u.y)&&!(W&&!n.visible())){var f,m=W?n.effectiveOpacity():1,d=o.usePaths(),B=!1,I=n.padding();r=n.width()+2*I,l=n.height()+2*I,s&&(b=s,t.translate(-b.x1,-b.y1));for(var he=n.pstyle("background-image"),_=he.value,D=new Array(_.length),j=new Array(_.length),L=0,g=0;g<_.length;g++)y=_[g],H=D[g]=y!=null&&y!=="none",H&&(Z=n.cy().style().getIndexedStyle(n,"background-image-crossorigin","value",g),L++,j[g]=o.getCachedImage(y,Z,function(){v.backgroundTimestamp=Date.now(),n.emitAndNotify("background")}));var b,y,A,H,Z,p=n.pstyle("background-blacken").value,h=n.pstyle("border-width").pfValue,V=n.pstyle("background-opacity").value*m,E=n.pstyle("border-color").value,z=n.pstyle("border-style").value,ee=n.pstyle("border-join").value,de=n.pstyle("border-cap").value,w=n.pstyle("border-position").value,le=n.pstyle("border-dash-pattern").pfValue,oe=n.pstyle("border-dash-offset").pfValue,F=n.pstyle("border-opacity").value*m,a=n.pstyle("outline-width").pfValue,C=n.pstyle("outline-color").value,T=n.pstyle("outline-style").value,se=n.pstyle("outline-opacity").value*m,c=n.pstyle("outline-offset").value,i=n.pstyle("corner-radius").value;i!=="auto"&&(i=n.pstyle("corner-radius").pfValue);var K=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;o.eleFillStyle(t,n,e)},"setupShapeColor"),q=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;o.colorStrokeStyle(t,E[0],E[1],E[2],e)},"setupBorderColor"),Y=e(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se;o.colorStrokeStyle(t,C[0],C[1],C[2],e)},"setupOutlineColor"),G=e(function(e,t,n,s){var a,r=o.nodePathCache=o.nodePathCache||[],c=Cx(n==="polygon"?n+","+s.join(","):n,""+t,""+e,""+i),l=r[c],d=!1;return l!=null?(a=l,d=!0,x.pathCache=a):(a=new Path2D,r[c]=x.pathCache=a),{path:a,cacheHit:d}},"getPath"),ne=n.pstyle("shape").strValue,te=n.pstyle("shape-polygon-points").pfValue;d&&(t.translate(u.x,u.y),A=G(r,l,ne,te),f=A.path,B=A.cacheHit);var J=e(function(){if(!B){var e=u;d&&(e={x:0,y:0}),o.nodeShapes[o.getNodeShape(n)].draw(f||t,e.x,e.y,r,l,i,x)}d?t.fill(f):t.fill()},"drawShape"),O=e(function(){for(var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=v.backgrounding,s=0,e=0;e<j.length;e++){if(i=n.cy().style().getIndexedStyle(n,"background-image-containment","value",e),a&&i==="over"||!a&&i==="inside"){s++;continue}D[e]&&j[e].complete&&!j[e].error&&(s++,o.drawInscribedImage(t,j[e],n,e,r))}v.backgrounding=s!==L,c!==v.backgrounding&&n.updateStyle(!1)},"drawImages"),Q=e(function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m;o.hasPie(n)&&(o.drawPie(t,n,s),e&&(d||o.nodeShapes[o.getNodeShape(n)].draw(t,u.x,u.y,r,l,i,x)))},"drawPie"),X=e(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,s=(p>0?p:-p)*n,e=p>0?0:255;p!==0&&(o.colorFillStyle(t,e,e,e,s),d?t.fill(f):t.fill())},"darken"),$=e(function(){if(h>0){if(t.lineWidth=h,t.lineCap=de,t.lineJoin=ee,t.setLineDash)switch(z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(le),t.lineDashOffset=oe;break;case"solid":case"double":t.setLineDash([]);break}if(w!=="center"){if(t.save(),t.lineWidth*=2,w==="inside")d?t.clip(f):t.clip();else{var n,e=new Path2D;e.rect(-r/2-h,-l/2-h,r+2*h,l+2*h),e.addPath(f),t.clip(e,"evenodd")}d?t.stroke(f):t.stroke(),t.restore()}else d?t.stroke(f):t.stroke();z==="double"&&(t.lineWidth=h/3,n=t.globalCompositeOperation,t.globalCompositeOperation="destination-out",d?t.stroke(f):t.stroke(),t.globalCompositeOperation=n),t.setLineDash&&t.setLineDash([])}},"drawBorder"),P=e(function(){if(a>0){if(t.lineWidth=a,t.lineCap="butt",t.setLineDash)switch(T){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}s=u,d&&(s={x:0,y:0}),m=o.getNodeShape(n),e=h,w==="inside"&&(e=0),w==="outside"&&(e*=2);var v,k=(r+e+(a+c))/r,C=(l+e+(a+c))/l,p=r*k,g=l*C,f=o.nodeShapes[m].points;if(d&&(z=G(p,g,m,f),v=z.path),m==="ellipse")o.drawEllipsePath(v||t,s.x,s.y,p,g);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(m)){var b=0,M=0,y=0;m==="round-diamond"?b=(e+c+a)*1.4:m==="round-heptagon"?(b=(e+c+a)*1.075,y=-(e/2+c+a)/35):m==="round-hexagon"?b=(e+c+a)*1.12:m==="round-pentagon"?(b=(e+c+a)*1.13,y=-(e/2+c+a)/15):m==="round-tag"?(b=(e+c+a)*1.12,M=(e/2+a+c)*.07):m==="round-triangle"&&(b=(e+c+a)*(Math.PI/2),y=-(e+c/2+a)/Math.PI),b!==0&&(k=(r+b)/r,p=r*k,["round-hexagon","round-tag"].includes(m)||(C=(l+b)/l,g=l*C)),i=i==="auto"?O_(p,g):i;for(var e,s,m,j,O,E,A,S,z,D,N,L,H=p/2,P=g/2,R=i+(e+a+c)/2,_=new Array(f.length/2),F=new Array(f.length/2),x=0;x<f.length/2;x++)_[x]={x:s.x+M+H*f[x*2],y:s.y+y+P*f[x*2+1]};O=_.length;for(S=_[O-1],j=0;j<O;j++)E=_[j%O],A=_[(j+1)%O],F[j]=b7(S,E,A,R),S=E,E=A;o.drawRoundPolygonPath(v||t,s.x+M,s.y+y,r*k,l*C,f,F)}else["roundrectangle","round-rectangle"].includes(m)?(i=i==="auto"?tc(p,g):i,o.drawRoundRectanglePath(v||t,s.x,s.y,p,g,i+(e+a+c)/2)):["cutrectangle","cut-rectangle"].includes(m)?(i=i==="auto"?Dy():i,o.drawCutRectanglePath(v||t,s.x,s.y,p,g,null,i+(e+a+c)/4)):["bottomroundrectangle","bottom-round-rectangle"].includes(m)?(i=i==="auto"?tc(p,g):i,o.drawBottomRoundRectanglePath(v||t,s.x,s.y,p,g,i+(e+a+c)/2)):m==="barrel"?o.drawBarrelPath(v||t,s.x,s.y,p,g):m.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(m)?(D=(e+a+c)/r,f=T2(F2(f,D)),o.drawPolygonPath(v||t,s.x,s.y,r,l,f)):(N=(e+a+c)/r,f=T2(F2(f,-N)),o.drawPolygonPath(v||t,s.x,s.y,r,l,f));(d?t.stroke(v):t.stroke(),T==="double")&&(t.lineWidth=e/3,L=t.globalCompositeOperation,t.globalCompositeOperation="destination-out",d?t.stroke(v):t.stroke(),t.globalCompositeOperation=L),t.setLineDash&&t.setLineDash([])}},"drawOutline"),ie=e(function(){U&&o.drawNodeOverlay(t,n,u,r,l)},"drawOverlay"),ae=e(function(){U&&o.drawNodeUnderlay(t,n,u,r,l)},"drawUnderlay"),re=e(function(){o.drawElementText(t,n,null,ue)},"drawText"),ce=n.pstyle("ghost").value==="yes";if(ce){var R=n.pstyle("ghost-offset-x").pfValue,N=n.pstyle("ghost-offset-y").pfValue,M=n.pstyle("ghost-opacity").value,S=M*m;t.translate(R,N),Y(),P(),K(M*V),J(),O(S,!0),q(M*F),$(),Q(p!==0||h!==0),O(S,!1),X(S),t.translate(-R,-N)}d&&t.translate(-u.x,-u.y),ae(),d&&t.translate(u.x,u.y),Y(),P(),K(),J(),O(m,!0),q(),$(),Q(p!==0||h!==0),O(m,!1),X(),d&&t.translate(-u.x,-u.y),re(),ie(),s&&t.translate(b.x1,b.y1)}},vD=e(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,s,o,i){if(a=this,n.visible()){var a,c,l=n.pstyle("".concat(e,"-padding")).pfValue,d=n.pstyle("".concat(e,"-opacity")).value,r=n.pstyle("".concat(e,"-color")).value,u=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;d>0&&((s=s||n.position(),o==null||i==null)&&(c=n.padding(),o=n.width()+2*c,i=n.height()+2*c),a.colorFillStyle(t,r[0],r[1],r[2],d),a.nodeShapes[u].draw(t,s.x,s.y,o+l*2,i+l*2,h),t.fill())}}},"drawNodeOverlayUnderlay"),Cd.drawNodeOverlay=vD("overlay"),Cd.drawNodeUnderlay=vD("underlay"),Cd.hasPie=function(e){return e=e[0],e._private.hasPie},Cd.drawPie=function(e,t,n,s){t=t[0],s=s||t.position();var i,p=t.cy().style(),r=t.pstyle("pie-size"),l=s.x,d=s.y,b=t.width(),v=t.height(),c=Math.min(b,v)/2,o=0,f=this.usePaths();f&&(l=0,d=0),r.units==="%"?c=c*r.pfValue:r.pfValue!==void 0&&(c=r.pfValue/2);for(i=1;i<=p.pieBackgroundN;i++){var h=t.pstyle("pie-"+i+"-background-size").value,u=t.pstyle("pie-"+i+"-background-color").value,g=t.pstyle("pie-"+i+"-background-opacity").value*n,a=h/100;a+o>1&&(a=1-o);var m=1.5*Math.PI+2*Math.PI*o,j=2*Math.PI*a,y=m+j;h===0||o>=1||o+a>1||(e.beginPath(),e.moveTo(l,d),e.arc(l,d,c,m,y),e.closePath(),this.colorFillStyle(e,u[0],u[1],u[2],g),e.fill(),o+=a)}},Nn={},JHe=100,Nn.getPixelRatio=function(){if(e=this.data.contexts[0],this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e,t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n},Nn.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],o=!0,s=0;s<n.length;s++)if(t=n[s],t.context===e){o=!1;break}return o&&(t={context:e},n.push(t)),t},Nn.createGradientStyleFor=function(e,t,n,s,o){var a,v=this.usePaths(),u=n.pstyle(t+"-gradient-stop-colors").value,g=n.pstyle(t+"-gradient-stop-positions").pfValue;if(s==="radial-gradient")if(n.isEdge()){var k=n.sourceEndpoint(),E=n.targetEndpoint(),d=n.midpoint(),O=gc(k,d),w=gc(E,d);a=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(O,w))}else{var h=v?{x:0,y:0}:n.position(),b=n.paddedWidth(),j=n.paddedHeight();a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(b,j))}else if(n.isEdge())f=n.sourceEndpoint(),m=n.targetEndpoint(),a=e.createLinearGradient(f.x,f.y,m.x,m.y);else{var m,f,i=v?{x:0,y:0}:n.position(),y=n.paddedWidth(),_=n.paddedHeight(),c=y/2,r=_/2,x=n.pstyle("background-gradient-direction").value;switch(x){case"to-bottom":a=e.createLinearGradient(i.x,i.y-r,i.x,i.y+r);break;case"to-top":a=e.createLinearGradient(i.x,i.y+r,i.x,i.y-r);break;case"to-left":a=e.createLinearGradient(i.x+c,i.y,i.x-c,i.y);break;case"to-right":a=e.createLinearGradient(i.x-c,i.y,i.x+c,i.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(i.x-c,i.y-r,i.x+c,i.y+r);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(i.x-c,i.y+r,i.x+c,i.y-r);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(i.x+c,i.y-r,i.x-c,i.y+r);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(i.x+c,i.y+r,i.x-c,i.y-r);break}}if(!a)return null;for(var C=g.length===u.length,p=u.length,l=0;l<p;l++)a.addColorStop(C?g[l]:l/(p-1),"rgba("+u[l][0]+","+u[l][1]+","+u[l][2]+","+o+")");return a},Nn.gradientFillStyle=function(e,t,n,s){var o=this.createGradientStyleFor(e,"background",t,n,s);if(!o)return null;e.fillStyle=o},Nn.colorFillStyle=function(e,t,n,s,o){e.fillStyle="rgba("+t+","+n+","+s+","+o+")"},Nn.eleFillStyle=function(e,t,n){var s,o=t.pstyle("background-fill").value;o==="linear-gradient"||o==="radial-gradient"?this.gradientFillStyle(e,t,o,n):(s=t.pstyle("background-color").value,this.colorFillStyle(e,s[0],s[1],s[2],n))},Nn.gradientStrokeStyle=function(e,t,n,s){var o=this.createGradientStyleFor(e,"line",t,n,s);if(!o)return null;e.strokeStyle=o},Nn.colorStrokeStyle=function(e,t,n,s,o){e.strokeStyle="rgba("+t+","+n+","+s+","+o+")"},Nn.eleStrokeStyle=function(e,t,n){var s,o=t.pstyle("line-fill").value;o==="linear-gradient"||o==="radial-gradient"?this.gradientStrokeStyle(e,t,o,n):(s=t.pstyle("line-color").value,this.colorStrokeStyle(e,s[0],s[1],s[2],n))},Nn.matchCanvasSize=function(e){var n,s,o,i,d,t=this,r=t.data,u=t.findContainerClientCoords(),c=u[2],l=u[3],a=t.getPixelRatio(),h=t.motionBlurPxRatio;if((e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(a=h),o=c*a,i=l*a,o!==t.canvasWidth||i!==t.canvasHeight){t.fontCaches=null,d=r.canvasContainer,d.style.width=c+"px",d.style.height=l+"px";for(s=0;s<t.CANVAS_LAYERS;s++)n=r.canvases[s],n.width=o,n.height=i,n.style.width=c+"px",n.style.height=l+"px";for(s=0;s<t.BUFFER_COUNT;s++)n=r.bufferCanvases[s],n.width=o,n.height=i,n.style.width=c+"px",n.style.height=l+"px";t.textureMult=1,a<=1&&(n=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,n.width=o*t.textureMult,n.height=i*t.textureMult),t.canvasWidth=o,t.canvasHeight=i,t.pixelRatio=a}},Nn.renderTo=function(e,t,n,s){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:s})},Nn.clearCanvas=function(){var t=this,s=t.data;function n(e){e.clearRect(0,0,t.canvasWidth,t.canvasHeight)}e(n,"clear"),n(s.contexts[t.NODE]),n(s.contexts[t.DRAG])},Nn.render=function(t){n=this,t=t||t_();var n,s,o,m,p,j,w,O,A,l=n.cy,u=t.forcedContext,b=t.drawAllLayers,T=t.drawOnlyNodeLayer,g=t.forcedZoom,y=t.forcedPan,r=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,h=n.data,i=h.canvasNeedsRedraw,_=n.textureOnViewport&&!u&&(n.pinching||n.hoverData.dragging||n.swipePanning||n.data.wheelZooming),a=t.motionBlur!==void 0?t.motionBlur:n.motionBlur,d=n.motionBlurPxRatio,P=l.hasCompoundNodes(),N=n.hoverData.draggingEles,R=!!(n.hoverData.selecting||n.touchData.selecting),a=a&&!u&&n.motionBlurEnabled&&!R,z=a;u||(n.prevPxRatio!==r&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container),n.redrawHint("eles",!0),n.redrawHint("drag",!0)),n.prevPxRatio=r),!u&&n.motionBlurTimeout&&clearTimeout(n.motionBlurTimeout),a&&(n.mbFrames==null&&(n.mbFrames=0),n.mbFrames++,n.mbFrames<3&&(z=!1),n.mbFrames>n.minMbLowQualFrames&&(n.motionBlurPxRatio=n.mbPxRBlurry)),n.clearingMotionBlur&&(n.motionBlurPxRatio=1),n.textureDrawLastFrame&&!_&&(i[n.NODE]=!0,i[n.SELECT_BOX]=!0);var M=l.style(),j=l.zoom(),D=g!==void 0?g:j,f=l.pan(),E={x:f.x,y:f.y},s={zoom:j,pan:{x:f.x,y:f.y}},x=n.prevViewport,U=x===void 0||s.zoom!==x.zoom||s.pan.x!==x.pan.x||s.pan.y!==x.pan.y;!U&&!(N&&!P)&&(n.motionBlurPxRatio=1),y&&(E=y),D*=r,E.x*=r,E.y*=r,m=n.getCachedZSortedEles();function C(e,t,s,o,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",n.colorFillStyle(e,255,255,255,n.motionBlurTransparency),e.fillRect(t,s,o,i),e.globalCompositeOperation=a}e(C,"mbclear");function v(e,t){var s,o,i,a;!n.clearingMotionBlur&&(e===h.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]||e===h.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG])?(s={x:f.x*d,y:f.y*d},o=j*d,i=n.canvasWidth*d,a=n.canvasHeight*d):(s=E,o=D,i=n.canvasWidth,a=n.canvasHeight),e.setTransform(1,0,0,1,0,0),t==="motionBlur"?C(e,0,0,i,a):!u&&(t===void 0||t)&&e.clearRect(0,0,i,a),b||(e.translate(s.x,s.y),e.scale(o,o)),y&&e.translate(y.x,y.y),g&&e.scale(g,g)}if(e(v,"setContextTransform"),_||(n.textureDrawLastFrame=!1),_){(n.textureDrawLastFrame=!0,!n.textureCache)&&(n.textureCache={},n.textureCache.bb=l.mutableElements().boundingBox(),n.textureCache.texture=n.data.bufferCanvases[n.TEXTURE_BUFFER],O=n.data.bufferContexts[n.TEXTURE_BUFFER],O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,n.canvasWidth*n.textureMult,n.canvasHeight*n.textureMult),n.render({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:r*n.textureMult}),s=n.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:n.canvasWidth,height:n.canvasHeight},s.mpan={x:(0-s.pan.x)/s.zoom,y:(0-s.pan.y)/s.zoom}),i[n.DRAG]=!1,i[n.NODE]=!1;var o=h.contexts[n.NODE],H=n.textureCache.texture,s=n.textureCache.viewport;o.setTransform(1,0,0,1,0,0),a?C(o,0,0,s.width,s.height):o.clearRect(0,0,s.width,s.height),w=M.core("outside-texture-bg-color").value,A=M.core("outside-texture-bg-opacity").value,n.colorFillStyle(o,w[0],w[1],w[2],A),o.fillRect(0,0,s.width,s.height),j=l.zoom(),v(o,!1),o.clearRect(s.mpan.x,s.mpan.y,s.width/s.zoom/r,s.height/s.zoom/r),o.drawImage(H,s.mpan.x,s.mpan.y,s.width/s.zoom/r,s.height/s.zoom/r)}else n.textureOnViewport&&!u&&(n.textureCache=null);var k=l.extent(),L=n.pinching||n.hoverData.dragging||n.swipePanning||n.data.wheelZooming||n.hoverData.draggingEles||n.cy.animated(),S=n.hideEdgesOnViewport&&L,c=[];if(c[n.NODE]=!i[n.NODE]&&a&&!n.clearedForMotionBlur[n.NODE]||n.clearingMotionBlur,c[n.NODE]&&(n.clearedForMotionBlur[n.NODE]=!0),c[n.DRAG]=!i[n.DRAG]&&a&&!n.clearedForMotionBlur[n.DRAG]||n.clearingMotionBlur,c[n.DRAG]&&(n.clearedForMotionBlur[n.DRAG]=!0),i[n.NODE]||b||T||c[n.NODE]){var p=a&&!c[n.NODE]&&d!==1,o=u||(p?n.data.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]:h.contexts[n.NODE]),I=a&&!p?"motionBlur":void 0;v(o,I),S?n.drawCachedNodes(o,m.nondrag,r,k):n.drawLayeredElements(o,m.nondrag,r,k),n.debug&&n.drawDebugPoints(o,m.nondrag),!b&&!a&&(i[n.NODE]=!1)}if(!T&&(i[n.DRAG]||b||c[n.DRAG])&&(p=a&&!c[n.DRAG]&&d!==1,o=u||(p?n.data.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]:h.contexts[n.DRAG]),v(o,a&&!p?"motionBlur":void 0),S?n.drawCachedNodes(o,m.drag,r,k):n.drawCachedElements(o,m.drag,r,k),n.debug&&n.drawDebugPoints(o,m.drag),!b&&!a&&(i[n.DRAG]=!1)),this.drawSelectionRectangle(t,v),a&&d!==1){var B=h.contexts[n.NODE],V=n.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE],$=h.contexts[n.DRAG],W=n.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG],F=e(function(e,t,s){e.setTransform(1,0,0,1,0,0),s||!z?e.clearRect(0,0,n.canvasWidth,n.canvasHeight):C(e,0,0,n.canvasWidth,n.canvasHeight);var o=d;e.drawImage(t,0,0,n.canvasWidth*o,n.canvasHeight*o,0,0,n.canvasWidth,n.canvasHeight)},"drawMotionBlur");(i[n.NODE]||c[n.NODE])&&(F(B,V,c[n.NODE]),i[n.NODE]=!1),(i[n.DRAG]||c[n.DRAG])&&(F($,W,c[n.DRAG]),i[n.DRAG]=!1)}n.prevViewport=s,n.clearingMotionBlur&&(n.clearingMotionBlur=!1,n.motionBlurCleared=!0,n.motionBlur=!0),a&&(n.motionBlurTimeout=setTimeout(function(){n.motionBlurTimeout=null,n.clearedForMotionBlur[n.NODE]=!1,n.clearedForMotionBlur[n.DRAG]=!1,n.motionBlur=!1,n.clearingMotionBlur=!_,n.mbFrames=0,i[n.NODE]=!0,i[n.DRAG]=!0,n.redraw()},JHe)),u||l.emit("render")},Nn.drawSelectionRectangle=function(e,t){var s,i,r,c,l,d,u,f,p,n=this,v=n.cy,a=n.data,o=v.style(),b=e.drawOnlyNodeLayer,m=e.drawAllLayers,h=a.canvasNeedsRedraw,g=e.forcedContext;(n.showFps||!b&&h[n.SELECT_BOX]&&!m)&&(s=g||a.contexts[n.SELECT_BOX],(t(s),n.selection[4]==1&&(n.hoverData.selecting||n.touchData.selecting))&&(r=n.cy.zoom(),l=o.core("selection-box-border-width").value/r,s.lineWidth=l,s.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",s.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),l>0&&(s.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",s.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))),a.bgActivePosistion&&!n.hoverData.selecting&&(r=n.cy.zoom(),d=a.bgActivePosistion,s.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",s.beginPath(),s.arc(d.x,d.y,o.core("active-bg-size").pfValue/r,0,2*Math.PI),s.fill()),i=n.lastRedrawTime,n.showFps&&i&&(i=Math.round(i),c=Math.round(1e3/i),u="1 frame = "+i+" ms = "+c+" fps",(s.setTransform(1,0,0,1,0,0),s.fillStyle="rgba(255, 0, 0, 0.75)",s.strokeStyle="rgba(255, 0, 0, 0.75)",s.font="30px Arial",!U2)&&(f=s.measureText(u),U2=f.actualBoundingBoxAscent),s.fillText(u,0,U2),p=60,s.strokeRect(0,U2+10,250,20),s.fillRect(0,U2+10,250*Math.min(c/p,1),20)),m||(h[n.SELECT_BOX]=!1))},e(DD,"compileShader"),e(LEe,"createProgram"),e(REe,"createTextureCanvas"),e(H7,"getEffectivePanZoom"),e(I7,"modelToRenderedPosition"),e(G8,"toWebGLColor"),e(Y8,"indexToVec4"),e(VEe,"vec4ToIndex"),e($Ee,"createTexture"),e(zD,"getTypeInfo"),e(MD,"createTypedArray"),e(KEe,"createTypedArrayView"),e(qEe,"createBufferStaticDraw"),e(Fs,"createBufferDynamicDraw"),e(GEe,"createPickingFrameBuffer"),OD=typeof Float32Array<"u"?Float32Array:Array,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),e(s4,"create"),e(lD,"identity"),e(ZEe,"multiply"),e(V8,"translate"),e(Yz,"rotate"),e(uv,"scale"),e(nke,"projection"),f2={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},h2=Kt({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),oIe=function(){function t(e,n){Ra(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=n.webglTexSize,this.rows=n.webglTexRows,this.enableWrapping=n.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=n.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return e(t,"Atlas"),Va(t,[{key:"getKeys",value:e(function(){return new Set(this.keyToLocation.keys())},"getKeys")},{key:"getScale",value:e(function(e){var n=e.w,s=e.h,r=this.texHeight,i=this.maxTexWidth,t=r/s,o=n*t,a=s*t;return o>i&&(t=i/n,o=n*t,a=s*t),{scale:t,texW:o,texH:a}},"getScale")},{key:"draw",value:e(function(t,n,s){var o=this,l=this.atlasSize,p=this.rows,i=this.texHeight,d=this.getScale(n),h=d.scale,r=d.texW,c=d.texH,a=[null,null],m=e(function(e,t){if(s&&t){var o=t.context,a=e.x,r=e.row,c=a,l=i*r;o.save(),o.translate(c,l),o.scale(h,h),s(o,n),o.restore()}},"drawAt"),u=e(function(){m(o.freePointer,o.canvas),a[0]={x:o.freePointer.x,y:o.freePointer.row*i,w:r,h:c},a[1]={x:o.freePointer.x+r,y:o.freePointer.row*i,w:0,h:c},o.freePointer.x+=r,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},"drawNormal"),g=e(function(){e=o.scratch,t=o.canvas,e.clear(),m({x:0,row:0},e);var e,t,s=l-o.freePointer.x,h=r-s,n=i;{var f=o.freePointer.x,p=o.freePointer.row*i,d=s;t.context.drawImage(e,0,0,d,n,f,p,d,n),a[0]={x:f,y:p,w:d,h:c}}{var v=s,g=(o.freePointer.row+1)*i,u=h;t&&t.context.drawImage(e,v,0,u,n,0,g,u,n),a[1]={x:0,y:g,w:u,h:c}}o.freePointer.x=h,o.freePointer.row++},"drawWrapped"),f=e(function(){o.freePointer.x=0,o.freePointer.row++},"moveToStartOfNextRow");if(this.freePointer.x+r<=l)u();else{if(this.freePointer.row>=p-1)return!1;this.freePointer.x===l?(f(),u()):this.enableWrapping?g():(f(),u())}return this.keyToLocation.set(t,a),this.needsBuffer=!0,a},"draw")},{key:"getOffsets",value:e(function(e){return this.keyToLocation.get(e)},"getOffsets")},{key:"isEmpty",value:e(function(){return this.freePointer.x===0&&this.freePointer.row===0},"isEmpty")},{key:"canFit",value:e(function(e){var t=this.atlasSize,n=this.rows,s=this.getScale(e),o=s.texW;return!(this.freePointer.x+o>t)||this.freePointer.row<n-1},"canFit")},{key:"bufferIfNeeded",value:e(function(e){this.texture||(this.texture=$Ee(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)},"bufferIfNeeded")},{key:"dispose",value:e(function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)},"dispose")}]),t}(),iIe=function(){function t(e,n){Ra(this,t),this.r=e,this.opts=n,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return e(t,"AtlasCollection"),Va(t,[{key:"getKeys",value:e(function(){return new Set(this.styleKeyToAtlas.keys())},"getKeys")},{key:"getIdsFor",value:e(function(e){var t=this.keyToIds.get(e);return t||(t=new Set,this.keyToIds.set(e,t)),t},"getIdsFor")},{key:"_createAtlas",value:e(function(){var e=this.r,t=this.opts;return new oIe(e,t)},"_createAtlas")},{key:"_getScratchCanvas",value:e(function(){if(!this.scratch){var n=this.r,e=this.opts,t=e.webglTexSize,s=Math.floor(t/e.webglTexRows);this.scratch=e.createTextureCanvas(n,t,s,"scratch")}return this.scratch},"_getScratchCanvas")},{key:"draw",value:e(function(e,t,n,s){if(this.styleKeyNeedsRedraw.has(t)){this.styleKeyNeedsRedraw.delete(t),this.deleteKey(e,t);var o,i=this.styleKeyToAtlas.get(t);i&&(i.forceGC=!0),this.styleKeyToAtlas.delete(t)}return o=this.styleKeyToAtlas.get(t),o||(o=this.atlases[this.atlases.length-1],(!o||!o.canFit(n))&&(o=this._createAtlas(),this.atlases.push(o)),o.draw(t,n,s),this.styleKeyToAtlas.set(t,o),this.getIdsFor(t).add(e),this.idToKey.set(e,t)),o},"draw")},{key:"getAtlas",value:e(function(e){return this.styleKeyToAtlas.get(e)},"getAtlas")},{key:"hasAtlas",value:e(function(e){return this.styleKeyToAtlas.has(e)},"hasAtlas")},{key:"deleteKey",value:e(function(e,t){this.idToKey.delete(e),this.getIdsFor(t).delete(e)},"deleteKey")},{key:"checkKeyIsInvalid",value:e(function(e,t){if(!this.idToKey.has(e))return!1;var n=this.idToKey.get(e);return n!=t&&(this.deleteKey(e,n),!0)},"checkKeyIsInvalid")},{key:"_getKeysToCollect",value:e(function(){var t,s,n=new Set,e=Cs(this.styleKeyToAtlas.keys());try{for(e.s();!(s=e.n()).done;)t=s.value,this.getIdsFor(t).size==0&&n.add(t)}catch(t){e.e(t)}finally{e.f()}return n},"_getKeysToCollect")},{key:"gc",value:e(function(){var o=this,l=this.atlases.some(function(e){return e.forceGC}),a=this._getKeysToCollect();if(a.size===0&&!l){console.log("nothing to garbage collect");return}var r,c,d,n=[],i=new Map,t=null,s=Cs(this.atlases);try{c=e(function(){var e=r.value,l=e.getKeys(),d=ske(a,l);if(d.size===0&&!e.forceGC)return n.push(e),l.forEach(function(t){return i.set(t,e)}),"continue";t||(t=o._createAtlas(),n.push(t)),s=Cs(l);try{for(s.s();!(u=s.n()).done;)if(c=u.value,!d.has(c)){var s,c,u,f=e.getOffsets(c),h=jt(f,2),m=h[0],p=h[1];t.canFit({w:m.w+p.w,h:m.h})||(t=o._createAtlas(),n.push(t)),o._copyTextureToNewAtlas(c,e,t),i.set(c,t)}}catch(e){s.e(e)}finally{s.f()}},"_loop");for(s.s();!(r=s.n()).done;)d=c()}catch(e){s.e(e)}finally{s.f()}this.atlases=n,this.styleKeyToAtlas=i},"gc")},{key:"_copyTextureToNewAtlas",value:e(function(e,t,n){var i,a,r,l=t.getOffsets(e),c=jt(l,2),s=c[0],o=c[1];o.w===0?n.draw(e,s,function(e){e.drawImage(t.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)}):(i=this._getScratchCanvas(),i.clear(),i.context.drawImage(t.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),i.context.drawImage(t.canvas,o.x,o.y,o.w,o.h,s.w,0,o.w,o.h),a=s.w+o.w,r=s.h,n.draw(e,{w:a,h:r},function(e){e.drawImage(i,0,0,a,r,0,0,a,r)}))},"_copyTextureToNewAtlas")},{key:"getCounts",value:e(function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}},"getCounts")}]),t}(),e(ske,"intersection"),aIe=function(){function t(e,n){Ra(this,t),this.r=e;var s=n;this.globalOptions=s,this.maxAtlases=s.webglTexPerBatch,this.atlasSize=s.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(s)}return e(t,"AtlasManager"),Va(t,[{key:"_cacheScratchCanvas",value:e(function(e){var n=-1,s=-1,t=null,o=e.createTextureCanvas;e.createTextureCanvas=function(e,i,a,r){return r?((!t||i!=n||a!=s)&&(n=i,s=a,t=o(e,i,a)),t):o(e,i,a)}},"_cacheScratchCanvas")},{key:"addRenderType",value:e(function(e,t){var n=new iIe(this.r,this.globalOptions),s=t;this.renderTypes.set(e,ee({type:e,atlasCollection:n},s))},"addRenderType")},{key:"getRenderTypes",value:e(function(){return rI(this.renderTypes.values())},"getRenderTypes")},{key:"getRenderTypeOpts",value:e(function(e){return this.renderTypes.get(e)},"getRenderTypeOpts")},{key:"invalidate",value:e(function(e){var t,n,o,i,c,l,h,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=r.forceRedraw,p=m!==void 0&&m,u=r.filterEle,g=u===void 0?function(){return!0}:u,d=r.filterType,f=d===void 0?function(){return!0}:d,a=!1,s=Cs(e);try{for(s.s();!(h=s.n()).done;)if(i=h.value,g(i)){c=i.id(),n=Cs(this.getRenderTypes());try{for(n.s();!(l=n.n()).done;)t=l.value,f(t.type)&&(o=t.getKey(i),p?(t.atlasCollection.deleteKey(c,o),t.atlasCollection.styleKeyNeedsRedraw.add(o),a=!0):a|=t.atlasCollection.checkKeyIsInvalid(c,o))}catch(e){n.e(e)}finally{n.f()}}}catch(e){s.e(e)}finally{s.f()}return a},"invalidate")},{key:"gc",value:e(function(){var t,n,e=Cs(this.getRenderTypes());try{for(e.s();!(t=e.n()).done;)n=t.value,n.atlasCollection.gc()}catch(t){e.e(t)}finally{e.f()}},"gc")},{key:"isRenderable",value:e(function(e,t){var n=this.getRenderTypeOpts(t);return n&&n.isVisible(e)},"isRenderable")},{key:"startBatch",value:e(function(){this.batchAtlases=[]},"startBatch")},{key:"getAtlasCount",value:e(function(){return this.batchAtlases.length},"getAtlasCount")},{key:"getAtlases",value:e(function(){return this.batchAtlases},"getAtlases")},{key:"getOrCreateAtlas",value:e(function(e,t,n){var s=this.renderTypes.get(n),o=s.getKey(e),i=e.id();return s.atlasCollection.draw(i,o,t,function(n){s.drawElement(n,e,t,!0,!0)})},"getOrCreateAtlas")},{key:"getAtlasIndexForBatch",value:e(function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t},"getAtlasIndexForBatch")},{key:"getIndexArray",value:e(function(){return Array.from({length:this.maxAtlases},function(e,t){return t})},"getIndexArray")},{key:"getAtlasInfo",value:e(function(e,t){var n=this.renderTypes.get(t),s=n.getBoundingBox(e),o=this.getOrCreateAtlas(e,s,t),i=this.getAtlasIndexForBatch(o);if(i!==void 0){var a=n.getKey(e),l=o.getOffsets(a),r=jt(l,2),c=r[0],d=r[1];return{atlasID:i,tex:c,tex1:c,tex2:d,bb:s,type:t,styleKey:a}}},"getAtlasInfo")},{key:"canAddToCurrentBatch",value:e(function(e,t){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var n=this.renderTypes.get(t),o=n.getKey(e),s=n.atlasCollection.getAtlas(o);return s&&this.batchAtlases.includes(s)}return!0},"canAddToCurrentBatch")},{key:"setTransformMatrix",value:e(function(e,t,n){var o,a,r,c,l,h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=t.bb,p=t.type,u=t.tex1,f=t.tex2,s=this.getRenderTypeOpts(p),m=s.getPadding?s.getPadding(n):0,i=u.w/(u.w+f.w);if(h||(i=1-i),o=this.getAdjustedBB(b,m,h,i),lD(e),r=s.getRotation?s.getRotation(n):0,r!==0){var d=s.getRotationPoint(n),g=d.x,v=d.y;V8(e,e,[g,v]),Yz(e,e,r),a=s.getRotationOffset(n),l=a.x+o.xOffset,c=a.y}else l=o.x1,c=o.y1;V8(e,e,[l,c]),uv(e,e,[o.w,o.h])},"setTransformMatrix")},{key:"getTransformMatrix",value:e(function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=s4();return this.setTransformMatrix(n,e,t,s),n},"getTransformMatrix")},{key:"getAdjustedBB",value:e(function(e,t,n,s){var i,a,r=e.x1,c=e.y1,o=e.w,l=e.h;return t&&(r-=t,c-=t,o+=2*t,l+=2*t),i=0,a=o*s,n&&s<1?o=a:!n&&s<1&&(i=o-a,r+=i,o=a),{x1:r,y1:c,w:o,h:l,xOffset:i}},"getAdjustedBB")},{key:"getDebugInfo",value:e(function(){t=[],e=Cs(this.renderTypes);try{for(e.s();!(n=e.n()).done;){var e,t,n,s=jt(n.value,2),i=s[0],a=s[1],o=a.atlasCollection.getCounts(),r=o.keyCount,c=o.atlasCount;t.push({type:i,keyCount:r,atlasCount:c})}}catch(t){e.e(t)}finally{e.f()}return t},"getDebugInfo")}]),t}(),N7=0,PD=1,HD=2,T7=3,uIe=function(){function t(e,n,s){Ra(this,t),this.r=e,this.gl=n,this.maxInstances=s.webglBatchSize,this.maxAtlases=s.webglTexPerBatch,this.atlasSize=s.webglTexSize,this.bgColor=s.bgColor,s.enableWrapping=!0,s.createTextureCanvas=REe,this.atlasManager=new aIe(e,s),this.program=this.createShaderProgram(f2.SCREEN),this.pickingProgram=this.createShaderProgram(f2.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return e(t,"ElementDrawingWebGL"),Va(t,[{key:"addTextureRenderType",value:e(function(e,t){this.atlasManager.addRenderType(e,t)},"addTextureRenderType")},{key:"invalidate",value:e(function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.type,s=this.atlasManager;return n?s.invalidate(t,{filterType:e(function(e){return e===n},"filterType"),forceRedraw:!0}):s.invalidate(t)},"invalidate")},{key:"gc",value:e(function(){this.atlasManager.gc()},"gc")},{key:"createShaderProgram",value:e(function(e){var s,n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(N7,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(PD,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(HD,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(T7,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(N7,`) {
          `).concat(o.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(T7,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(e.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),t=LEe(n,i,a);t.aPosition=n.getAttribLocation(t,"aPosition"),t.aIndex=n.getAttribLocation(t,"aIndex"),t.aVertType=n.getAttribLocation(t,"aVertType"),t.aAtlasId=n.getAttribLocation(t,"aAtlasId"),t.aTex1=n.getAttribLocation(t,"aTex1"),t.aTex2=n.getAttribLocation(t,"aTex2"),t.aScaleRotate1=n.getAttribLocation(t,"aScaleRotate1"),t.aTranslate1=n.getAttribLocation(t,"aTranslate1"),t.aScaleRotate2=n.getAttribLocation(t,"aScaleRotate2"),t.aTranslate2=n.getAttribLocation(t,"aTranslate2"),t.aPointAPointB=n.getAttribLocation(t,"aPointAPointB"),t.aPointCPointD=n.getAttribLocation(t,"aPointCPointD"),t.aLineWidth=n.getAttribLocation(t,"aLineWidth"),t.aEdgeColor=n.getAttribLocation(t,"aEdgeColor"),t.uPanZoomMatrix=n.getUniformLocation(t,"uPanZoomMatrix"),t.uAtlasSize=n.getUniformLocation(t,"uAtlasSize"),t.uBGColor=n.getUniformLocation(t,"uBGColor"),t.uTextures=[];for(s=0;s<this.atlasManager.maxAtlases;s++)t.uTextures.push(n.getUniformLocation(t,"uTexture".concat(s)));return t},"createShaderProgram")},{key:"createVAO",value:e(function(){s=[0,0,1,0,1,1,0,0,1,1,0,1],o=[].concat(s,s),this.vertexCount=o.length/2;var s,o,n=this.maxInstances,e=this.gl,t=this.program,i=e.createVertexArray();return e.bindVertexArray(i),qEe(e,"vec2",t.aPosition,o),this.indexBuffer=Fs(e,n,"vec4",t.aIndex),this.vertTypeBuffer=Fs(e,n,"int",t.aVertType),this.atlasIdBuffer=Fs(e,n,"int",t.aAtlasId),this.tex1Buffer=Fs(e,n,"vec4",t.aTex1),this.tex2Buffer=Fs(e,n,"vec4",t.aTex2),this.scaleRotate1Buffer=Fs(e,n,"vec4",t.aScaleRotate1),this.translate1Buffer=Fs(e,n,"vec2",t.aTranslate1),this.scaleRotate2Buffer=Fs(e,n,"vec4",t.aScaleRotate2),this.translate2Buffer=Fs(e,n,"vec2",t.aTranslate2),this.pointAPointBBuffer=Fs(e,n,"vec4",t.aPointAPointB),this.pointCPointDBuffer=Fs(e,n,"vec4",t.aPointCPointD),this.lineWidthBuffer=Fs(e,n,"float",t.aLineWidth),this.edgeColorBuffer=Fs(e,n,"vec4",t.aEdgeColor),e.bindVertexArray(null),i},"createVAO")},{key:"buffers",get:e(function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return e.endsWith("Buffer")}).map(function(t){return e[t]})),this._buffers},"get")},{key:"startFrame",value:e(function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f2.SCREEN;this.panZoomMatrix=e,this.debugInfo=t,this.renderTarget=n,this.startBatch()},"startFrame")},{key:"startBatch",value:e(function(){this.instanceCount=0,this.atlasManager.startBatch()},"startBatch")},{key:"endFrame",value:e(function(){this.endBatch()},"endFrame")},{key:"getTempMatrix",value:e(function(){return this.tempMatrix=this.tempMatrix||s4()},"getTempMatrix")},{key:"drawTexture",value:e(function(e,t,n){if(i=this.atlasManager,i.isRenderable(e,n)){i.canAddToCurrentBatch(e,n)||this.endBatch(),s=this.instanceCount,this.vertTypeBuffer.getView(s)[0]=N7,g=this.indexBuffer.getView(s),Y8(t,g);var s,i,r,c,l,h,m,g,a=i.getAtlasInfo(e,n,a),b=a.atlasID,d=a.tex1,u=a.tex2,v=this.atlasIdBuffer.getView(s);v[0]=b,c=this.tex1Buffer.getView(s),c[0]=d.x,c[1]=d.y,c[2]=d.w,c[3]=d.h,l=this.tex2Buffer.getView(s),l[0]=u.x,l[1]=u.y,l[2]=u.w,l[3]=u.h;for(var o=this.getTempMatrix(),f=0,p=[1,2];f<p.length;f++)h=p[f],i.setTransformMatrix(o,a,e,h===1),r=this["scaleRotate".concat(h,"Buffer")].getView(s),r[0]=o[0],r[1]=o[1],r[2]=o[3],r[3]=o[4],m=this["translate".concat(h,"Buffer")].getView(s),m[0]=o[6],m[1]=o[7];this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawTexture")},{key:"drawEdgeArrow",value:e(function(e,t,n){if(o=e._private.rscratch,(n==="source"?(a=o.arrowStartX,r=o.arrowStartY,c=o.srcArrowAngle):(a=o.arrowEndX,r=o.arrowEndY,c=o.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(r)||r==null||isNaN(c)||c==null))&&(u=e.pstyle(n+"-arrow-shape").value,u!=="none")){var o,i,a,r,c,l,d,u,m,f,y=e.pstyle(n+"-arrow-color").value,j=e.pstyle("opacity").value,b=e.pstyle("line-opacity").value,v=j*b,p=e.pstyle("width").pfValue,g=e.pstyle("arrow-scale").value,h=this.r.getArrowWidth(p,g),s=this.getTempMatrix();lD(s),V8(s,s,[a,r]),uv(s,s,[h,h]),Yz(s,s,c),i=this.instanceCount,this.vertTypeBuffer.getView(i)[0]=T7,m=this.indexBuffer.getView(i),Y8(t,m),f=this.edgeColorBuffer.getView(i),G8(y,v,f),l=this.scaleRotate1Buffer.getView(i),l[0]=s[0],l[1]=s[1],l[2]=s[3],l[3]=s[4],d=this.translate1Buffer.getView(i),d[0]=s[6],d[1]=s[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawEdgeArrow")},{key:"drawEdgeLine",value:e(function(e,t){var E=e.pstyle("opacity").value,k=e.pstyle("line-opacity").value,f=e.pstyle("width").pfValue,y=e.pstyle("line-color").value,_=E*k,n=this.getEdgePoints(e);if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),n.length==4)i=this.instanceCount,this.vertTypeBuffer.getView(i)[0]=PD,O=this.indexBuffer.getView(i),Y8(t,O),w=this.edgeColorBuffer.getView(i),G8(y,_,w),m=this.lineWidthBuffer.getView(i),m[0]=f,c=this.pointAPointBBuffer.getView(i),c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch();else for(s=0;s<n.length-2;s+=2){o=this.instanceCount,this.vertTypeBuffer.getView(o)[0]=HD,p=this.indexBuffer.getView(o),Y8(t,p),g=this.edgeColorBuffer.getView(o),G8(y,_,g),v=this.lineWidthBuffer.getView(o),v[0]=f;var s,o,i,a,r,c,m,p,g,v,w,O,b=n[s-2],j=n[s-1],l=n[s],h=n[s+1],u=n[s+2],d=n[s+3],x=n[s+4],C=n[s+5];s==0&&(b=2*l-u+.001,j=2*h-d+.001),s==n.length-4&&(x=2*u-l+.001,C=2*d-h+.001),r=this.pointAPointBBuffer.getView(o),r[0]=b,r[1]=j,r[2]=l,r[3]=h,a=this.pointCPointDBuffer.getView(o),a[0]=u,a[1]=d,a[2]=x,a[3]=C,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawEdgeLine")},{key:"getEdgePoints",value:e(function(e){var n,s=e._private.rscratch,t=s.allpts;return t.length==4?t:(n=this.getNumSegments(e),this.getCurveSegmentPoints(t,n))},"getEdgePoints")},{key:"getNumSegments",value:e(function(){var t=15;return Math.min(Math.max(t,5),this.maxInstances)},"getNumSegments")},{key:"getCurveSegmentPoints",value:e(function(e,t){if(e.length==4)return e;for(var o,s=Array((t+1)*2),n=0;n<=t;n++)n==0?(s[0]=e[0],s[1]=e[1]):n==t?(s[n*2]=e[e.length-2],s[n*2+1]=e[e.length-1]):(o=n/t,this.setCurvePoint(e,o,s,n*2));return s},"getCurveSegmentPoints")},{key:"setCurvePoint",value:e(function(e,t,n,s){if(e.length<=2)n[s]=e[0],n[s+1]=e[1];else{for(var a,r,i=Array(e.length-2),o=0;o<i.length;o+=2)a=(1-t)*e[o]+t*e[o+2],r=(1-t)*e[o+1]+t*e[o+3],i[o]=a,i[o+1]=r;return this.setCurvePoint(i,t,n,s)}},"setCurvePoint")},{key:"endBatch",value:e(function(){var t,n,s,o,a,r,c,l,e=this.gl,d=this.vao,u=this.vertexCount,i=this.instanceCount;if(i!==0){n=this.renderTarget.picking?this.pickingProgram:this.program,e.useProgram(n),e.bindVertexArray(d),o=Cs(this.buffers);try{for(o.s();!(r=o.n()).done;)c=r.value,c.bufferSubData(i)}catch(e){o.e(e)}finally{o.f()}for(s=this.atlasManager.getAtlases(),a=0;a<s.length;a++)s[a].bufferIfNeeded(e);for(t=0;t<s.length;t++)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,s[t].texture),e.uniform1i(n.uTextures[t],t);e.uniformMatrix3fv(n.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(n.uAtlasSize,this.atlasManager.atlasSize),l=G8(this.bgColor,1),e.uniform4fv(n.uBGColor,l),e.drawArraysInstanced(e.TRIANGLES,0,u,i),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:i,atlasCount:s.length}),this.startBatch()}},"endBatch")},{key:"getDebugInfo",value:e(function(){return this.debugInfo},"getDebugInfo")},{key:"getAtlasDebugInfo",value:e(function(){return this.atlasManager.getDebugInfo()},"getAtlasDebugInfo")}]),t}(),e(rz,"fillStyle"),hIe=function(){function t(e){Ra(this,t),this.r=e}return e(t,"OverlayUnderlayRenderer"),Va(t,[{key:"getStyleKey",value:e(function(e,t){var n=this.getStyle(e,t),s=n.shape,o=n.opacity,i=n.color;if(!s)return null;var a=t.width(),r=t.height(),c=rz(i,o);return Fa("".concat(s,"-").concat(a,"-").concat(r,"-").concat(c))},"getStyleKey")},{key:"isVisible",value:e(function(e,t){var n=t.pstyle("".concat(e,"-opacity")).value;return n>0},"isVisible")},{key:"getStyle",value:e(function(e,t){var n=t.pstyle("".concat(e,"-opacity")).value,s=t.pstyle("".concat(e,"-color")).value,o=t.pstyle("".concat(e,"-shape")).value;return{opacity:n,color:s,shape:o}},"getStyle")},{key:"getPadding",value:e(function(e,t){return t.pstyle("".concat(e,"-padding")).pfValue},"getPadding")},{key:"draw",value:e(function(e,t,n,s){if(this.isVisible(e,n)){var c=this.r,o=s.w,i=s.h,l=o/2,d=i/2,a=this.getStyle(e,n),r=a.shape,u=a.color,h=a.opacity;t.save(),t.fillStyle=rz(u,h),r==="round-rectangle"||r==="roundrectangle"?c.drawRoundRectanglePath(t,l,d,o,i,"auto"):r==="ellipse"&&c.drawEllipsePath(t,l,d,o,i),t.fill(),t.restore()}},"draw")}]),t}(),e(ike,"getBGColor"),vN={},vN.initWebgl=function(t,n){var i,a,r,c,s=this,o=s.data.contexts[s.WEBGL],l=t.cy.container();t.bgColor=ike(l),t.webglTexSize=Math.min(t.webglTexSize,o.getParameter(o.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS)),s.webglDebug=t.webglDebug,s.webglDebugShowAtlases=t.webglDebugShowAtlases,console.log("max texture units",o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",o.getParameter(o.MAX_TEXTURE_SIZE)),console.log("webgl options",t),s.pickingFrameBuffer=GEe(o),s.pickingFrameBuffer.needsDraw=!0,a=e(function(e){return s.getTextAngle(e,null)},"getLabelRotation"),r=e(function(e){var t=e.pstyle("label");return t&&t.value},"isLabelVisible"),s.eleDrawing=new uIe(s,o,t),i=new hIe(s),s.eleDrawing.addTextureRenderType("node-body",h2({getKey:n.getStyleKey,getBoundingBox:n.getElementBox,drawElement:n.drawElement,isVisible:e(function(e){return e.visible()},"isVisible")})),s.eleDrawing.addTextureRenderType("node-label",h2({getKey:n.getLabelKey,getBoundingBox:n.getLabelBox,drawElement:n.drawLabel,getRotation:a,getRotationPoint:n.getLabelRotationPoint,getRotationOffset:n.getLabelRotationOffset,isVisible:r})),s.eleDrawing.addTextureRenderType("node-overlay",h2({getBoundingBox:n.getElementBox,getKey:e(function(e){return i.getStyleKey("overlay",e)},"getKey"),drawElement:e(function(e,t,n){return i.draw("overlay",e,t,n)},"drawElement"),isVisible:e(function(e){return i.isVisible("overlay",e)},"isVisible"),getPadding:e(function(e){return i.getPadding("overlay",e)},"getPadding")})),s.eleDrawing.addTextureRenderType("node-underlay",h2({getBoundingBox:n.getElementBox,getKey:e(function(e){return i.getStyleKey("underlay",e)},"getKey"),drawElement:e(function(e,t,n){return i.draw("underlay",e,t,n)},"drawElement"),isVisible:e(function(e){return i.isVisible("underlay",e)},"isVisible"),getPadding:e(function(e){return i.getPadding("underlay",e)},"getPadding")})),s.eleDrawing.addTextureRenderType("edge-label",h2({getKey:n.getLabelKey,getBoundingBox:n.getLabelBox,drawElement:n.drawLabel,getRotation:a,getRotationPoint:n.getLabelRotationPoint,getRotationOffset:n.getLabelRotationOffset,isVisible:r})),c=b0(function(){console.log("garbage collect flag set"),s.data.gc=!0},1e4),s.onUpdateEleCalcs(function(e,t){var n=!1;t&&t.length>0&&(n|=s.eleDrawing.invalidate(t)),n&&c()}),ake(s)},e(ake,"overrideCanvasRendererFunctions"),e(rke,"clearWebgl"),e(cke,"clearCanvas"),e(lke,"createPanZoomMatrix"),e(sz,"setContextTransform"),e(uke,"drawSelectionRectangle"),e(hke,"drawAxes"),e(mke,"drawAtlases"),e(fke,"getPickingIndexes"),e(pke,"findNearestElementsWebgl"),e(ZT,"renderWebgl"),Ia={},Ia.drawPolygonPath=function(e,t,n,s,o,i){var a,r=s/2,c=o/2;e.beginPath&&e.beginPath(),e.moveTo(t+r*i[0],n+c*i[1]);for(a=1;a<i.length/2;a++)e.lineTo(t+r*i[a*2],n+c*i[a*2+1]);e.closePath()},Ia.drawRoundPolygonPath=function(e,t,n,s,o,i,a){a.forEach(function(t){return TN(e,t)}),e.closePath()},Ia.drawRoundRectanglePath=function(e,t,n,s,o,i){var r=s/2,a=o/2,c=i==="auto"?tc(s,o):Math.min(i,a,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+r,n-a,t+r,n,c),e.arcTo(t+r,n+a,t,n+a,c),e.arcTo(t-r,n+a,t-r,n,c),e.arcTo(t-r,n-a,t,n-a,c),e.lineTo(t,n-a),e.closePath()},Ia.drawBottomRoundRectanglePath=function(e,t,n,s,o,i){var r=s/2,a=o/2,c=i==="auto"?tc(s,o):i;e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+r,n-a),e.lineTo(t+r,n),e.arcTo(t+r,n+a,t,n+a,c),e.arcTo(t-r,n+a,t-r,n,c),e.lineTo(t-r,n-a),e.lineTo(t,n-a),e.closePath()},Ia.drawCutRectanglePath=function(e,t,n,s,o,i,a){var r=s/2,c=o/2,l=a==="auto"?Dy():a;e.beginPath&&e.beginPath(),e.moveTo(t-r+l,n-c),e.lineTo(t+r-l,n-c),e.lineTo(t+r,n-c+l),e.lineTo(t+r,n+c-l),e.lineTo(t+r-l,n+c),e.lineTo(t-r+l,n+c),e.lineTo(t-r,n+c-l),e.lineTo(t-r,n-c+l),e.closePath()},Ia.drawBarrelPath=function(e,t,n,s,o){var m=s/2,f=o/2,i=t-m,r=t+m,a=n-f,c=n+f,h=Fy(s,o),l=h.widthOffset,d=h.heightOffset,u=h.ctrlPtOffsetPct*l;e.beginPath&&e.beginPath(),e.moveTo(i,a+d),e.lineTo(i,c-d),e.quadraticCurveTo(i+u,c,i+l,c),e.lineTo(r-l,c),e.quadraticCurveTo(r-u,c,r,c-d),e.lineTo(r,a+d),e.quadraticCurveTo(r-u,a,r-l,a),e.lineTo(i+l,a),e.quadraticCurveTo(i+u,a,i,a+d),e.closePath()},yN=Math.sin(0),wN=Math.cos(0),h7={},d7={},$N=Math.PI/40;for(Ku=0*Math.PI;Ku<2*Math.PI;Ku+=$N)h7[Ku]=Math.sin(Ku),d7[Ku]=Math.cos(Ku);Ia.drawEllipsePath=function(e,t,n,s,o){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,s/2,o/2,0,0,2*Math.PI);else for(var a,r,c=s/2,l=o/2,i=0*Math.PI;i<2*Math.PI;i+=$N)a=t-c*h7[i]*yN+c*d7[i]*wN,r=n+l*d7[i]*yN+l*h7[i]*wN,i===0?e.moveTo(a,r):e.lineTo(a,r);e.closePath()},B0={},B0.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},B0.bufferCanvasImage=function(e){var n,i,r,c,d,h,m,u=this.cy,g=u.mutableElements(),a=g.boundingBox(),f=this.findContainerClientCoords(),s=e.full?Math.ceil(a.w):f[2],o=e.full?Math.ceil(a.h):f[3],p=k(e.maxWidth)||k(e.maxHeight),l=this.getPixelRatio(),t=1;return e.scale!==void 0?(s*=e.scale,o*=e.scale,t=e.scale):p&&(c=1/0,d=1/0,k(e.maxWidth)&&(c=t*e.maxWidth/s),k(e.maxHeight)&&(d=t*e.maxHeight/o),t=Math.min(c,d),s*=t,o*=t),p||(s*=l,o*=l,t*=l),i=document.createElement("canvas"),i.width=s,i.height=o,i.style.width=s+"px",i.style.height=o+"px",n=i.getContext("2d"),s>0&&o>0&&(n.clearRect(0,0,s,o),n.globalCompositeOperation="source-over",h=this.getCachedZSortedEles(),e.full?(n.translate(-a.x1*t,-a.y1*t),n.scale(t,t),this.drawElements(n,h),n.scale(1/t,1/t),n.translate(a.x1*t,a.y1*t)):(m=u.pan(),r={x:m.x*t,y:m.y*t},t*=u.zoom(),n.translate(r.x,r.y),n.scale(t,t),this.drawElements(n,h),n.scale(1/t,1/t),n.translate(-r.x,-r.y)),e.bg&&(n.globalCompositeOperation="destination-over",n.fillStyle=e.bg,n.rect(0,0,s,o),n.fill())),i},e(vke,"b64ToBlob"),e(QT,"b64UriToB64"),e(WT,"output"),B0.png=function(e){return WT(e,this.bufferCanvasImage(e),"image/png")},B0.jpg=function(e){return WT(e,this.bufferCanvasImage(e),"image/jpeg")},KN={},KN.nodeShapeImpl=function(e,t,n,s,o,i,a,r){switch(e){case"ellipse":return this.drawEllipsePath(t,n,s,o,i);case"polygon":return this.drawPolygonPath(t,n,s,o,i,a);case"round-polygon":return this.drawRoundPolygonPath(t,n,s,o,i,a,r);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,s,o,i,r);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,s,o,i,a,r);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,s,o,i,r);case"barrel":return this.drawBarrelPath(t,n,s,o,i)}},OIe=$T,ge=$T.prototype,ge.CANVAS_LAYERS=3,ge.SELECT_BOX=0,ge.DRAG=1,ge.NODE=2,ge.WEBGL=3,ge.CANVAS_TYPES=["2d","2d","2d","webgl2"],ge.BUFFER_COUNT=3,ge.TEXTURE_BUFFER=0,ge.MOTIONBLUR_BUFFER_NODE=1,ge.MOTIONBLUR_BUFFER_DRAG=2,e($T,"CanvasRenderer"),ge.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[ge.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[ge.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[ge.SELECT_BOX]=t;break;case"gc":n.data.gc=!0;break}},CIe=typeof Path2D<"u",ge.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},ge.usePaths=function(){return CIe&&this.pathsEnabled},ge.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},ge.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},ge.makeOffscreenCanvas=function(e,t){if((typeof OffscreenCanvas>"u"?"undefined":Wt(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(e,t);else{var n,s=this.cy.window(),o=s.document;n=o.createElement("canvas"),n.width=e,n.height=t}return n},[sD,ai,oa,q7,rc,Cd,Nn,vN,Ia,B0,KN].forEach(function(e){ee(ge,e)}),EIe=[{name:"null",impl:DN},{name:"base",impl:YT},{name:"canvas",impl:OIe}],kIe=[{type:"layout",extensions:ZRe},{type:"renderer",extensions:EIe}],XN={},ZN={},e(VT,"setExtension"),e(BT,"getExtension"),e(Oke,"setModule"),e(xke,"getModule"),n7=e(function(){if(arguments.length===2)return BT.apply(null,arguments);if(arguments.length===3)return VT.apply(null,arguments);if(arguments.length===4)return xke.apply(null,arguments);if(arguments.length===5)return Oke.apply(null,arguments);it("Invalid extension access syntax")},"extension"),A1.prototype.extension=n7,kIe.forEach(function(e){e.extensions.forEach(function(t){VT(e.type,t.name,t.impl)})}),eL=e(function e(){if(!(this instanceof e))return new e;this.length=0},"Stylesheet"),Gc=eL.prototype,Gc.instanceString=function(){return"stylesheet"},Gc.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},Gc.css=function(e,t){if(s=this.length-1,Y(e))this[s].properties.push({name:e,value:t});else if(Oe(e))for(var n,s,i,a,l,d,r=e,c=Object.keys(r),o=0;o<c.length;o++)n=c[o],i=r[n],i!=null&&(a=vn.properties[n]||vn.properties[Am(n)],a!=null&&(l=a.name,d=i,this[s].properties.push({name:l,value:d})));return this},Gc.style=Gc.css,Gc.generateStyle=function(e){var t=new vn(e);return this.appendToStyle(t)},Gc.appendToStyle=function(e){for(t=0;t<this.length;t++){var t,n,s,o=this[t],a=o.selector,i=o.properties;e.selector(a);for(n=0;n<i.length;n++)s=i[n],e.css(s.name,s.value)}return e},zIe="3.31.0",Bo=e(function(e){if(e===void 0&&(e={}),Oe(e))return new A1(e);if(Y(e))return n7.apply(n7,arguments)},"cytoscape"),Bo.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Bo),e.apply(null,t),this},Bo.warnings=function(e){return p_(e)},Bo.version=zIe,Bo.stylesheet=Bo.Stylesheet=eL}),sL=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s():typeof define=="function"&&define.amd?define([],s):typeof t=="object"?t.layoutBase=s():e.layoutBase=s()},"webpackUniversalModuleDefinition")(t,function(){return function(t){var s={};function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return e(n,"__webpack_require__"),n.m=t,n.c=s,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var s=t&&t.__esModule?e(function(){return t.default},"getDefault"):e(function(){return t},"getModuleExports");return n.d(s,"a",s),s},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(t){"use strict";function o(){}e(o,"LayoutConstants"),o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,t.exports=o},function(t,n,s){"use strict";var r,i=s(2),c=s(8),a=s(9);function o(e,t,n){i.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}e(o,"LEdge"),o.prototype=Object.create(i.prototype);for(r in i)o[r]=i[r];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),s=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==s)break;n=n.getOwner().getParent()}return null},o.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=c.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=o},function(t){"use strict";function o(e){this.vGraphObject=e}e(o,"LGraphObject"),t.exports=o},function(t,n,s){"use strict";var u,a=s(2),r=s(10),l=s(13),i=s(0),d=s(16),c=s(4);function o(e,t,n,s){n==null&&s==null&&(s=t),a.call(this,s),e.graphManager!=null&&(e=e.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=e,n!=null&&t!=null?this.rect=new l(t.x,t.y,n.width,n.height):this.rect=new l}e(o,"LNode"),o.prototype=Object.create(a.prototype);for(u in a)o[u]=a[u];o.prototype.getEdges=function(){return this.edges},o.prototype.getChild=function(){return this.child},o.prototype.getOwner=function(){return this.owner},o.prototype.getWidth=function(){return this.rect.width},o.prototype.setWidth=function(e){this.rect.width=e},o.prototype.getHeight=function(){return this.rect.height},o.prototype.setHeight=function(e){this.rect.height=e},o.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},o.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},o.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},o.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},o.prototype.getRect=function(){return this.rect},o.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},o.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},o.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},o.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},o.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},o.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},o.prototype.getEdgeListToNode=function(e){var s,t=[],n=this;return n.edges.forEach(function(s){if(s.target==e){if(s.source!=n)throw"Incorrect edge source!";t.push(s)}}),t},o.prototype.getEdgesBetween=function(e){var s,n=[],t=this;return t.edges.forEach(function(s){if(s.source!=t&&s.target!=t)throw"Incorrect edge source and/or target";(s.target==e||s.source==e)&&n.push(s)}),n},o.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},o.prototype.withChildren=function(){if(e=new Set,e.add(this),this.child!=null)for(var e,n,s,o=this.child.getNodes(),t=0;t<o.length;t++)n=o[t],s=n.withChildren(),s.forEach(function(t){e.add(t)});return e},o.prototype.getNoOfChildren=function(){if(e=0,this.child==null)e=1;else for(var e,n,s=this.child.getNodes(),t=0;t<s.length;t++)n=s[t],e+=n.getNoOfChildren();return e==0&&(e=1),e},o.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},o.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},o.prototype.scatter=function(){var e=-i.INITIAL_WORLD_BOUNDARY,o=i.INITIAL_WORLD_BOUNDARY,n=i.WORLD_CENTER_X+d.nextDouble()*(o-e)+e,t=-i.INITIAL_WORLD_BOUNDARY,a=i.INITIAL_WORLD_BOUNDARY,s=i.WORLD_CENTER_Y+d.nextDouble()*(a-t)+t;this.rect.x=n,this.rect.y=s},o.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0&&(e=this.getChild(),e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS)){var e,n=e.getRight()-e.getLeft(),t=e.getBottom()-e.getTop();this.labelWidth>n&&(this.rect.x-=(this.labelWidth-n)/2,this.setWidth(this.labelWidth)),this.labelHeight>t&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-t)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-t),this.setHeight(this.labelHeight))}},o.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},o.prototype.transform=function(e){t=this.rect.x,t>i.WORLD_BOUNDARY?t=i.WORLD_BOUNDARY:t<-i.WORLD_BOUNDARY&&(t=-i.WORLD_BOUNDARY),n=this.rect.y,n>i.WORLD_BOUNDARY?n=i.WORLD_BOUNDARY:n<-i.WORLD_BOUNDARY&&(n=-i.WORLD_BOUNDARY);var t,n,o=new c(t,n),s=e.inverseTransformPoint(o);this.setLocation(s.x,s.y)},o.prototype.getLeft=function(){return this.rect.x},o.prototype.getRight=function(){return this.rect.x+this.rect.width},o.prototype.getTop=function(){return this.rect.y},o.prototype.getBottom=function(){return this.rect.y+this.rect.height},o.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=o},function(t){"use strict";function o(e,t){e==null&&t==null?(this.x=0,this.y=0):(this.x=e,this.y=t)}e(o,"PointD"),o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(e){this.x=e},o.prototype.setY=function(e){this.y=e},o.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},t.exports=o},function(t,n,s){"use strict";var l,a=s(2),i=s(10),r=s(0),d=s(6),u=s(3),h=s(1),c=s(13),m=s(12),f=s(11);function o(e,t,n){a.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=r.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,t!=null&&t instanceof d?this.graphManager=t:t!=null&&t instanceof Layout&&(this.graphManager=t.graphManager)}e(o,"LGraph"),o.prototype=Object.create(a.prototype);for(l in a)o[l]=a[l];o.prototype.getNodes=function(){return this.nodes},o.prototype.getEdges=function(){return this.edges},o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getParent=function(){return this.parent},o.prototype.getLeft=function(){return this.left},o.prototype.getRight=function(){return this.right},o.prototype.getTop=function(){return this.top},o.prototype.getBottom=function(){return this.bottom},o.prototype.isConnected=function(){return this.isConnected},o.prototype.add=function(e,t,n){if(t==null&&n==null){var s,o=e;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(o)>-1)throw"Node already in graph!";return o.owner=this,this.getNodes().push(o),o}if(s=e,!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(s.source=t,s.target=n,s.isInterGraph=!1,this.getEdges().push(s),t.edges.push(s),n!=t&&n.edges.push(s),s)},o.prototype.remove=function(e){if(n=e,e instanceof u){if(n==null)throw"Node is null!";if(n.owner==null||n.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var t,n,s,i,a,r=n.edges.slice(),c=r.length,o=0;o<c;o++)t=r[o],t.isInterGraph?this.graphManager.remove(t):t.source.owner.remove(t);if(s=this.nodes.indexOf(n),s==-1)throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(e instanceof h){if(t=e,t==null)throw"Edge is null!";if(t.source==null||t.target==null)throw"Source and/or target is null!";if(!(t.source.owner!=null&&t.target.owner!=null&&t.source.owner==this&&t.target.owner==this))throw"Source and/or target owner is invalid!";if(i=t.source.edges.indexOf(t),a=t.target.edges.indexOf(t),!(i>-1&&a>-1))throw"Source and/or target doesn't know this edge!";if(t.source.edges.splice(i,1),t.target!=t.source&&t.target.edges.splice(a,1),s=t.source.owner.getEdges().indexOf(t),s==-1)throw"Not in owner's edge list!";t.source.owner.getEdges().splice(s,1)}},o.prototype.updateLeftTop=function(){for(var t,o,a,c,e=i.MAX_VALUE,s=i.MAX_VALUE,n=this.getNodes(),l=n.length,r=0;r<l;r++)c=n[r],o=c.getTop(),a=c.getLeft(),e>o&&(e=o),s>a&&(s=a);return e==i.MAX_VALUE?null:(n[0].getParent().paddingLeft!=null?t=n[0].getParent().paddingLeft:t=this.margin,this.left=s-t,this.top=e-t,new m(this.left,this.top))},o.prototype.updateBounds=function(e){for(var t,n,s,d,u,h,f,o=i.MAX_VALUE,p=-i.MAX_VALUE,a=i.MAX_VALUE,l=-i.MAX_VALUE,r=this.nodes,g=r.length,m=0;m<g;m++)n=r[m],e&&n.child!=null&&n.updateBounds(),f=n.getLeft(),h=n.getRight(),u=n.getTop(),d=n.getBottom(),o>f&&(o=f),p<h&&(p=h),a>u&&(a=u),l<d&&(l=d);t=new c(o,a,p-o,l-a),o==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),r[0].getParent().paddingLeft!=null?s=r[0].getParent().paddingLeft:s=this.margin,this.left=t.x-s,this.right=t.x+t.width+s,this.top=t.y-s,this.bottom=t.y+t.height+s},o.calculateBounds=function(e){for(var t,r,l,d,u,m,n=i.MAX_VALUE,o=-i.MAX_VALUE,s=i.MAX_VALUE,a=-i.MAX_VALUE,f=e.length,h=0;h<f;h++)t=e[h],r=t.getLeft(),l=t.getRight(),d=t.getTop(),u=t.getBottom(),n>r&&(n=r),o<l&&(o=l),s>d&&(s=d),a<u&&(a=u);return m=new c(n,s,o-n,a-s),m},o.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},o.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},o.prototype.calcEstimatedSize=function(){for(var s,e=0,n=this.nodes,o=n.length,t=0;t<o;t++)s=n[t],e+=s.calcEstimatedSize();return e==0?this.estimatedSize=r.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=e/Math.sqrt(this.nodes.length),this.estimatedSize},o.prototype.updateConnected=function(){if(r=this,this.nodes.length==0){this.isConnected=!0;return}var s,o,i,a,r,c,l,d,t=new f,e=new Set,n=this.nodes[0],u=n.withChildren();for(u.forEach(function(n){t.push(n),e.add(n)});t.length!==0;){n=t.shift(),i=n.getEdges();for(c=i.length,o=0;o<c;o++)l=i[o],(s=l.getOtherEndInGraph(n,this),s!=null&&!e.has(s))&&(d=s.withChildren(),d.forEach(function(n){t.push(n),e.add(n)}))}this.isConnected=!1,e.size>=this.nodes.length&&(a=0,e.forEach(function(e){e.owner==r&&a++}),a==this.nodes.length&&(this.isConnected=!0))},t.exports=o},function(t,n,s){"use strict";var i,a=s(1);function o(e){i=s(5),this.layout=e,this.graphs=[],this.edges=[]}e(o,"LGraphManager"),o.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(e,t,n,s,o){if(n==null&&s==null&&o==null){if(e==null)throw"Graph is null!";if(t==null)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),e.parent!=null)throw"Already has a parent!";if(t.child!=null)throw"Already has a child!";return e.parent=t,t.child=e,e}o=n,s=t,n=e;var i=s.getOwner(),a=o.getOwner();if(i==null||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(a==null||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==a)return n.isInterGraph=!1,i.add(n,s,o);if(n.isInterGraph=!0,n.source=s,n.target=o,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),n.source==null||n.target==null)throw"Edge source and/or target is null!";if(n.source.edges.indexOf(n)!=-1||n.target.edges.indexOf(n)!=-1)throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(e){if(e instanceof i){if(n=e,n.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(n==this.rootGraph||n.parent!=null&&n.parent.graphManager==this))throw"Invalid parent node!";for(var t,n,s,r,d,c=[],c=c.concat(n.getEdges()),l=c.length,o=0;o<l;o++)t=c[o],n.remove(t);for(r=[],r=r.concat(n.getNodes()),l=r.length,o=0;o<l;o++)d=r[o],n.remove(d);n==this.rootGraph&&this.setRootGraph(null),s=this.graphs.indexOf(n),this.graphs.splice(s,1),n.parent=null}else if(e instanceof a){if(t=e,t==null)throw"Edge is null!";if(!t.isInterGraph)throw"Not an inter-graph edge!";if(t.source==null||t.target==null)throw"Source and/or target is null!";if(t.source.edges.indexOf(t)==-1||t.target.edges.indexOf(t)==-1)throw"Source and/or target doesn't know this edge!";if(s=t.source.edges.indexOf(t),t.source.edges.splice(s,1),s=t.target.edges.indexOf(t),t.target.edges.splice(s,1),t.source.owner==null||t.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(t.source.owner.getGraphManager().edges.indexOf(t)==-1)throw"Not in owner graph manager's edge list!";s=t.source.owner.getGraphManager().edges.indexOf(t),t.source.owner.getGraphManager().edges.splice(s,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var e=[],n=this.getGraphs(),s=n.length,t=0;t<s;t++)e=e.concat(n[t].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var e=[],t=this.getGraphs(),s=t.length,n=0;n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,e.parent==null&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,t){if(e==null||t==null)throw"assert failed";if(e==t)return!0;var n,s=e.getOwner();do{if(n=s.getParent(),n==null)break;if(n==t)return!0;if(s=n.getOwner(),s==null)break}while(!0)s=t.getOwner();do{if(n=s.getParent(),n==null)break;if(n==e)return!0;if(s=n.getOwner(),s==null)break}while(!0)return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,s,o,a=this.getAllEdges(),r=a.length,i=0;i<r;i++){if(e=a[i],n=e.source,s=e.target,e.lca=null,e.sourceInLca=n,e.targetInLca=s,n==s){e.lca=n.getOwner();continue}for(o=n.getOwner();e.lca==null;){for(e.targetInLca=s,t=s.getOwner();e.lca==null;){if(t==o){e.lca=t;break}if(t==this.rootGraph)break;if(e.lca!=null)throw"assert failed";e.targetInLca=t.getParent(),t=e.targetInLca.getOwner()}if(o==this.rootGraph)break;e.lca==null&&(e.sourceInLca=o.getParent(),o=e.sourceInLca.getOwner())}if(e.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();var n,s=e.getOwner();do{if(s==null)break;n=t.getOwner();do{if(n==null)break;if(n==s)return n;n=n.getParent().getOwner()}while(!0)s=s.getParent().getOwner()}while(!0)return s},o.prototype.calcInclusionTreeDepths=function(e,t){e==null&&t==null&&(e=this.rootGraph,t=1);for(var n,o=e.getNodes(),i=o.length,s=0;s<i;s++)n=o[s],n.inclusionTreeDepth=t,n.child!=null&&this.calcInclusionTreeDepths(n.child,t+1)},o.prototype.includesInvalidEdge=function(){for(var e,n=this.edges.length,t=0;t<n;t++)if(e=this.edges[t],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},t.exports=o},function(t,n,s){"use strict";var a,i=s(0);function o(){}e(o,"FDLayoutConstants");for(a in i)o[a]=i[a];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=o},function(t,n,s){"use strict";var i=s(12);function o(){}e(o,"IGeometry"),o.calcSeparationAmount=function(e,t,n,s){if(!e.intersects(t))throw"assert failed";o=new Array(2),this.decideDirectionsForOverlappingNodes(e,t,o),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom())),i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX())),t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var o,i,r=i*n[0],a=n[1]/i;n[0]<a?a=n[0]:r=n[1],n[0]=-1*o[0]*(a/2+s),n[1]=-1*o[1]*(r/2+s)},o.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},o.getIntersection2=function(e,t,n){var i=e.getCenterX(),a=e.getCenterY(),o=t.getCenterX(),r=t.getCenterY();if(e.intersects(t))return n[0]=i,n[1]=a,n[2]=o,n[3]=r,!0;var z=e.getX(),_=e.getY(),T=e.getRight(),w=e.getX(),y=e.getBottom(),F=e.getRight(),M=e.getWidthHalf(),S=e.getHeightHalf(),A=t.getX(),b=t.getY(),k=t.getRight(),E=t.getX(),j=t.getBottom(),C=t.getRight(),x=t.getWidthHalf(),O=t.getHeightHalf(),p=!1,h=!1;if(i===o){{if(a>r)return n[0]=i,n[1]=_,n[2]=o,n[3]=j,!1;if(a<r)return n[0]=i,n[1]=y,n[2]=o,n[3]=b,!1}}else if(a===r){{if(i>o)return n[0]=z,n[1]=a,n[2]=k,n[3]=r,!1;if(i<o)return n[0]=T,n[1]=a,n[2]=A,n[3]=r,!1}}else{var m=e.height/e.width,f=t.height/t.width,s=(r-a)/(o-i),g=void 0,v=void 0,u=void 0,d=void 0,c=void 0,l=void 0;if(-m===s?i>o?(n[0]=w,n[1]=y,p=!0):(n[0]=T,n[1]=_,p=!0):m===s&&(i>o?(n[0]=z,n[1]=_,p=!0):(n[0]=F,n[1]=y,p=!0)),-f===s?o>i?(n[2]=E,n[3]=j,h=!0):(n[2]=k,n[3]=b,h=!0):f===s&&(o>i?(n[2]=A,n[3]=b,h=!0):(n[2]=C,n[3]=j,h=!0)),p&&h)return!1;if(i>o?a>r?(g=this.getCardinalDirection(m,s,4),v=this.getCardinalDirection(f,s,2)):(g=this.getCardinalDirection(-m,s,3),v=this.getCardinalDirection(-f,s,1)):a>r?(g=this.getCardinalDirection(-m,s,1),v=this.getCardinalDirection(-f,s,3)):(g=this.getCardinalDirection(m,s,2),v=this.getCardinalDirection(f,s,4)),!p)switch(g){case 1:d=_,u=i+-S/s,n[0]=u,n[1]=d;break;case 2:u=F,d=a+M*s,n[0]=u,n[1]=d;break;case 3:d=y,u=i+S/s,n[0]=u,n[1]=d;break;case 4:u=w,d=a+-M*s,n[0]=u,n[1]=d;break}if(!h)switch(v){case 1:l=b,c=o+-O/s,n[2]=c,n[3]=l;break;case 2:c=C,l=r+x*s,n[2]=c,n[3]=l;break;case 3:l=j,c=o+O/s,n[2]=c,n[3]=l;break;case 4:c=E,l=r+-x*s,n[2]=c,n[3]=l;break}}return!1},o.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},o.getIntersection=function(e,t,n,s){if(s==null)return this.getIntersection2(e,t,n);var b=e.x,_=e.y,y=t.x,j=t.y,h=n.x,v=n.y,g=s.x,p=s.y,m=void 0,f=void 0,a=void 0,u=void 0,d=void 0,l=void 0,c=void 0,r=void 0,o=void 0;return a=j-_,d=b-y,c=y*_-b*j,u=p-v,l=h-g,r=g*v-h*p,o=a*l-u*d,o===0?null:(m=(d*r-l*c)/o,f=(u*c-a*r)/o,new i(m,f))},o.angleOfVector=function(e,t,n,s){var o=void 0;return e!==n?(o=Math.atan((s-t)/(n-e)),n<e?o+=Math.PI:s<t&&(o+=this.TWO_PI)):s<t?o=this.ONE_AND_HALF_PI:o=this.HALF_PI,o},o.doIntersect=function(e,t,n,s){var l,d,o=e.x,i=e.y,u=t.x,h=t.y,m=n.x,f=n.y,a=s.x,r=s.y,c=(u-o)*(r-f)-(a-m)*(h-i);return c!==0&&(l=((r-f)*(a-o)+(m-a)*(r-i))/c,d=((i-h)*(a-o)+(u-o)*(r-i))/c,0<l&&l<1&&0<d&&d<1)},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,t.exports=o},function(t){"use strict";function o(){}e(o,"IMath"),o.sign=function(e){return e>0?1:e<0?-1:0},o.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},o.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},t.exports=o},function(t){"use strict";function o(){}e(o,"Integer"),o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,t.exports=o},function(t){"use strict";r=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(c,"_classCallCheck");var r,a=e(function(e){return{value:e,next:null,prev:null}},"nodeFrom"),o=e(function(e,t,n,s){return e!==null?e.next=t:s.head=t,n!==null?n.prev=t:s.tail=t,t.prev=e,t.next=n,s.length++,t},"add"),i=e(function(e,t){var n=e.prev,s=e.next;return n!==null?n.next=s:t.head=s,s!==null?s.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},"_remove"),l=function(){function t(e){var n=this;c(this,t),this.length=0,this.head=null,this.tail=null,e?.forEach(function(e){return n.push(e)})}return e(t,"LinkedList"),r(t,[{key:"size",value:e(function(){return this.length},"size")},{key:"insertBefore",value:e(function(e,t){return o(t.prev,a(e),t,this)},"insertBefore")},{key:"insertAfter",value:e(function(e,t){return o(t,a(e),t.next,this)},"insertAfter")},{key:"insertNodeBefore",value:e(function(e,t){return o(t.prev,e,t,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:e(function(e,t){return o(t,e,t.next,this)},"insertNodeAfter")},{key:"push",value:e(function(e){return o(this.tail,a(e),null,this)},"push")},{key:"unshift",value:e(function(e){return o(null,a(e),this.head,this)},"unshift")},{key:"remove",value:e(function(e){return i(e,this)},"remove")},{key:"pop",value:e(function(){return i(this.tail,this).value},"pop")},{key:"popNode",value:e(function(){return i(this.tail,this)},"popNode")},{key:"shift",value:e(function(){return i(this.head,this).value},"shift")},{key:"shiftNode",value:e(function(){return i(this.head,this)},"shiftNode")},{key:"get_object_at",value:e(function(e){if(e<=this.length()){for(var n=1,t=this.head;n<e;)t=t.next,n++;return t.value}},"get_object_at")},{key:"set_object_at",value:e(function(e,t){if(e<=this.length()){for(var s=1,n=this.head;s<e;)n=n.next,s++;n.value=t}},"set_object_at")}]),t}();t.exports=l},function(t){"use strict";function o(e,t,n){this.x=null,this.y=null,e==null&&t==null&&n==null?(this.x=0,this.y=0):typeof e=="number"&&typeof t=="number"&&n==null?(this.x=e,this.y=t):e.constructor.name=="Point"&&t==null&&n==null&&(n=e,this.x=n.x,this.y=n.y)}e(o,"Point"),o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(e,t,n){e.constructor.name=="Point"&&t==null&&n==null?(n=e,this.setLocation(n.x,n.y)):typeof e=="number"&&typeof t=="number"&&n==null&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},o.prototype.move=function(e,t){this.x=e,this.y=t},o.prototype.translate=function(e,t){this.x+=e,this.y+=t},o.prototype.equals=function(e){if(e.constructor.name=="Point"){var t=e;return this.x==t.x&&this.y==t.y}return this==e},o.prototype.toString=function(){return(new o).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=o},function(t){"use strict";function o(e,t,n,s){this.x=0,this.y=0,this.width=0,this.height=0,e!=null&&t!=null&&n!=null&&s!=null&&(this.x=e,this.y=t,this.width=n,this.height=s)}e(o,"RectangleD"),o.prototype.getX=function(){return this.x},o.prototype.setX=function(e){this.x=e},o.prototype.getY=function(){return this.y},o.prototype.setY=function(e){this.y=e},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(e){this.width=e},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(e){this.height=e},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},t.exports=o},function(t){"use strict";var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}e(o,"UniqueIDGeneretor"),o.lastID=0,o.createID=function(e){return o.isPrimitive(e)?e:(e.uniqueID!=null||(e.uniqueID=o.getString(),o.lastID++),e.uniqueID)},o.getString=function(e){return e==null&&(e=o.lastID),"Object#"+e},o.isPrimitive=function(e){var t=typeof e>"u"?"undefined":i(e);return e==null||t!="object"&&t!="function"},t.exports=o},function(t,n,s){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e(a,"_toConsumableArray");var i=s(0),r=s(6),c=s(3),l=s(1),d=s(5),u=s(4),m=s(17),h=s(27);function o(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new r(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,e!=null&&(this.isRemoteUse=e)}e(o,"Layout"),o.RANDOM_SEED=1,o.prototype=Object.create(h.prototype),o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},o.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},o.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},o.prototype.newGraphManager=function(){var e=new r(this);return this.graphManager=e,e},o.prototype.newGraph=function(e){return new d(null,this.graphManager,e)},o.prototype.newNode=function(e){return new c(this.graphManager,e)},o.prototype.newEdge=function(e){return new l(null,null,e)},o.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},o.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var e;return this.checkLayoutSuccess()?e=!1:e=this.layout(),i.ANIMATE!=="during"&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},o.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},o.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t,s,o,n=this.graphManager.getAllEdges(),e=0;e<n.length;e++)s=n[e];for(t=this.graphManager.getRoot().getNodes(),e=0;e<t.length;e++)o=t[e];this.update(this.graphManager.getRoot())}},o.prototype.update=function(e){if(e==null)this.update2();else if(e instanceof c){if(t=e,t.getChild()!=null)for(var t,n,s,a,r,u,i=t.getChild().getNodes(),o=0;o<i.length;o++)update(i[o]);t.vGraphObject!=null&&(a=t.vGraphObject,a.update(t))}else e instanceof l?(n=e,n.vGraphObject!=null&&(r=n.vGraphObject,r.update(n))):e instanceof d&&(s=e,s.vGraphObject!=null&&(u=s.vGraphObject,u.update(s)))},o.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},o.prototype.transform=function(e){if(e==null)this.transform(new u(0,0));else{var n,o,i,t=new m,s=this.graphManager.getRoot().updateLeftTop();if(s!=null){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(s.x),t.setDeviceOrgY(s.y);for(o=this.getAllNodes(),n=0;n<o.length;n++)i=o[n],i.transform(t)}}},o.prototype.positionNodesRandomly=function(e){if(e==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,o=e.getNodes(),s=0;s<o.length;s++)t=o[s],n=t.getChild(),n==null||n.getNodes().length==0?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},o.prototype.getFlatForest=function(){for(var t,o,l,h,m,p,r=[],c=!0,u=this.graphManager.getRoot().getNodes(),f=!0,e=0;e<u.length;e++)u[e].getChild()!=null&&(f=!1);if(!f)return r;var i=new Set,s=[],d=new Map,n=[];for(n=n.concat(u);n.length>0&&c;){for(s.push(n[0]);s.length>0&&c;){t=s[0],s.splice(0,1),i.add(t);for(h=t.getEdges(),e=0;e<h.length;e++)if(o=h[e].getOtherEnd(t),d.get(t)!=o)if(i.has(o)){c=!1;break}else s.push(o),d.set(o,t)}if(c){l=[].concat(a(i)),r.push(l);for(e=0;e<l.length;e++)p=l[e],m=n.indexOf(p),m>-1&&n.splice(m,1);i=new Set,d=new Map}else r=[]}return r},o.prototype.createDummyNodesForBendpoints=function(e){for(var t,n,s=[],o=e.source,i=this.graphManager.calcLowestCommonAncestor(e.source,e.target),a=0;a<e.bendpoints.length;a++)t=this.newNode(null),t.setRect(new Point(0,0),new Dimension(1,1)),i.add(t),n=this.newEdge(null),this.graphManager.add(n,o,t),s.add(t),o=t;return n=this.newEdge(null),this.graphManager.add(n,o,e.target),this.edgeToDummyNodes.set(e,s),e.isInterGraph()?this.graphManager.remove(e):i.remove(e),s},o.prototype.createBendpointsFromDummyNodes=function(){for(e=[],e=e.concat(this.graphManager.getAllEdges()),e=[].concat(a(this.edgeToDummyNodes.keys())).concat(e),s=0;s<e.length;s++)if(t=e[s],t.bendpoints.length>0){for(i=this.edgeToDummyNodes.get(t),n=0;n<i.length;n++){var e,t,n,s,i,o=i[n],r=new u(o.getCenterX(),o.getCenterY()),c=t.bendpoints.get(n);c.x=r.x,c.y=r.y,o.getOwner().remove(o)}this.graphManager.add(t,t.source,t.target)}},o.transform=function(e,t,n,s){if(n!=null&&s!=null){var i,a,r,c,o=t;return e<=50?(r=t/n,o-=(t-r)/50*(50-e)):(c=t*s,o+=(c-t)/50*(e-50)),o}return e<=50?(i=9*t/500,a=t/10):(i=9*t/50,a=-8*t),i*e+a},o.findCenterOfTree=function(e){var n,s,o,l,d,u,h,t=[],t=t.concat(e),i=[],a=new Map,r=!1,c=null;(t.length==1||t.length==2)&&(r=!0,c=t[0]);for(n=0;n<t.length;n++)s=t[n],u=s.getNeighborsList().size,a.set(s,s.getNeighborsList().size),u==1&&i.push(s);o=[];for(o=o.concat(i);!r;){l=[],l=l.concat(o),o=[];for(n=0;n<t.length;n++)s=t[n],d=t.indexOf(s),d>=0&&t.splice(d,1),h=s.getNeighborsList(),h.forEach(function(e){if(i.indexOf(e)<0){var n=a.get(e),t=n-1;t==1&&o.push(e),a.set(e,t)}});i=i.concat(o),(t.length==1||t.length==2)&&(r=!0,c=t[0])}return c},o.prototype.setGraphManager=function(e){this.graphManager=e},t.exports=o},function(t){"use strict";function o(){}e(o,"RandomSeed"),o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},t.exports=o},function(t,n,s){"use strict";var i=s(4);function o(){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}e(o,"Transform"),o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(e){this.lworldExtX=e},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(e){this.lworldExtY=e},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},o.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return n!=0&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},o.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return n!=0&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},o.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return n!=0&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},o.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return n!=0&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},o.prototype.inverseTransformPoint=function(e){var t=new i(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return t},t.exports=o},function(t,n,s){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e(r,"_toConsumableArray");var d,a=s(15),o=s(7),u=s(0),c=s(8),l=s(9);function i(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}e(i,"FDLayout"),i.prototype=Object.create(a.prototype);for(d in a)i[d]=a[d];i.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},i.prototype.calcIdealEdgeLengths=function(){for(var e,n,s,i,a,r,c=this.getGraphManager().getAllEdges(),t=0;t<c.length;t++)e=c[t],e.idealLength=this.idealEdgeLength,e.isInterGraph&&(s=e.getSource(),i=e.getTarget(),a=e.getSourceInLca().getEstimatedSize(),r=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=a+r-2*u.SIMPLE_NODE_SIZE),n=e.getLca().getInclusionTreeDepth(),e.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(s.getInclusionTreeDepth()+i.getInclusionTreeDepth()-2*n))},i.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var e,n=this.getAllEdges(),t=0;t<n.length;t++)e=n[t],this.calcSpringForce(e,e.idealLength)},i.prototype.calcRepulsionForces=function(){var e,t,s,i,a,r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&r&&this.updateGrid(),a=new Set,e=0;e<n.length;e++)t=n[e],this.calculateRepulsionForceOfANode(t,a,r,c),a.add(t);else for(e=0;e<n.length;e++)for(t=n[e],s=e+1;s<n.length;s++)i=n[s],t.getOwner()==i.getOwner()&&this.calcRepulsionForce(t,i)},i.prototype.calcGravitationalForces=function(){for(var t,n=this.getAllNodesToApplyGravitation(),e=0;e<n.length;e++)t=n[e],this.calcGravitationalForce(t)},i.prototype.moveNodes=function(){for(var n,t=this.getAllNodes(),e=0;e<t.length;e++)n=t[e],n.move()},i.prototype.calcSpringForce=function(e,t){var n,i,a,r,s=e.getSource(),o=e.getTarget();if(this.uniformLeafNodeSizes&&s.getChild()==null&&o.getChild()==null)e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;n=e.getLength(),n!=0&&(i=this.springConstant*(n-t),a=i*(e.lengthX/n),r=i*(e.lengthY/n),s.springForceX+=a,s.springForceY+=r,o.springForceX-=a,o.springForceY-=r)},i.prototype.calcRepulsionForce=function(e,t){var n,s,i,a,h,f,p,g,r=e.getRect(),d=t.getRect(),m=new Array(2),u=new Array(4);r.intersects(d)?(c.calcSeparationAmount(r,d,m,o.DEFAULT_EDGE_LENGTH/2),i=2*m[0],a=2*m[1],h=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren),e.repulsionForceX-=h*i,e.repulsionForceY-=h*a,t.repulsionForceX+=h*i,t.repulsionForceY+=h*a):(this.uniformLeafNodeSizes&&e.getChild()==null&&t.getChild()==null?(n=d.getCenterX()-r.getCenterX(),s=d.getCenterY()-r.getCenterY()):(c.getIntersection(r,d,u),n=u[2]-u[0],s=u[3]-u[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=l.sign(n)*o.MIN_REPULSION_DIST),Math.abs(s)<o.MIN_REPULSION_DIST&&(s=l.sign(s)*o.MIN_REPULSION_DIST),f=n*n+s*s,p=Math.sqrt(f),g=this.repulsionConstant*e.noOfChildren*t.noOfChildren/f,i=g*n/p,a=g*s/p,e.repulsionForceX-=i,e.repulsionForceY-=a,t.repulsionForceX+=i,t.repulsionForceY+=a)},i.prototype.calcGravitationalForce=function(e){var n,t=e.getOwner(),r=(t.getRight()+t.getLeft())/2,c=(t.getTop()+t.getBottom())/2,s=e.getCenterX()-r,o=e.getCenterY()-c,i=Math.abs(s)+e.getWidth()/2,a=Math.abs(o)+e.getHeight()/2;e.getOwner()==this.graphManager.getRoot()?(n=t.getEstimatedSize()*this.gravityRangeFactor,(i>n||a>n)&&(e.gravitationForceX=-this.gravityConstant*s,e.gravitationForceY=-this.gravityConstant*o)):(n=t.getEstimatedSize()*this.compoundGravityRangeFactor,(i>n||a>n)&&(e.gravitationForceX=-this.gravityConstant*s*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},i.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,n=this.graphManager.getAllNodes(),t=0;t<n.length;t++)e=n[t],e.noOfChildren=e.getNoOfChildren()},i.prototype.calcGrid=function(e){for(var s,n=0,o=0,n=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),o=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange)),i=new Array(n),t=0;t<n;t++)i[t]=new Array(o);for(t=0;t<n;t++)for(s=0;s<o;s++)i[t][s]=new Array;return i},i.prototype.addNodeToGrid=function(e,t,n){for(var s,o=0,i=0,a=0,r=0,o=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),r=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange)),c=o;c<=i;c++)for(s=a;s<=r;s++)this.grid[c][s].push(e),e.setGridCoordinates(o,i,a,r)},i.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},i.prototype.calculateRepulsionForceOfANode=function(e,t,n,s){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&n||s){l=new Set,e.surrounding=new Array;for(var i,c,l,u,h,m,d=this.grid,a=e.startX-1;a<e.finishX+2;a++)for(c=e.startY-1;c<e.finishY+2;c++)if(!(a<0||c<0||a>=d.length||c>=d[0].length))for(u=0;u<d[a][c].length;u++)i=d[a][c][u],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!l.has(i)&&(h=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),m=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2),h<=this.repulsionRange&&m<=this.repulsionRange&&l.add(i));e.surrounding=[].concat(r(l))}for(a=0;a<e.surrounding.length;a++)this.calcRepulsionForce(e,e.surrounding[a])},i.prototype.calcRepulsionRange=function(){return 0},t.exports=i},function(t,n,s){"use strict";var a,o=s(1),r=s(7);function i(e,t,n){o.call(this,e,t,n),this.idealLength=r.DEFAULT_EDGE_LENGTH}e(i,"FDLayoutEdge"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},function(t,n,s){"use strict";var a,i=s(3);function o(e,t,n,s){i.call(this,e,t,n,s),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}e(o,"FDLayoutNode"),o.prototype=Object.create(i.prototype);for(a in i)o[a]=i[a];o.prototype.setGridCoordinates=function(e,t,n,s){this.startX=e,this.finishX=t,this.startY=n,this.finishY=s},t.exports=o},function(t){"use strict";function o(e,t){this.width=0,this.height=0,e!==null&&t!==null&&(this.height=t,this.width=e)}e(o,"DimensionD"),o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(e){this.width=e},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(e){this.height=e},t.exports=o},function(t,n,s){"use strict";var i=s(14);function o(){this.map={},this.keys=[]}e(o,"HashMap"),o.prototype.put=function(e,t){var n=i.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},o.prototype.contains=function(e){var t=i.createID(e);return this.map[e]!=null},o.prototype.get=function(e){var t=i.createID(e);return this.map[t]},o.prototype.keySet=function(){return this.keys},t.exports=o},function(t,n,s){"use strict";var i=s(14);function o(){this.set={}}e(o,"HashSet"),o.prototype.add=function(e){var t=i.createID(e);this.contains(t)||(this.set[t]=e)},o.prototype.remove=function(e){delete this.set[i.createID(e)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(e){return this.set[i.createID(e)]==e},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(e){for(var n=Object.keys(this.set),s=n.length,t=0;t<s;t++)e.push(this.set[n[t]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(e){for(var n,s=e.length,t=0;t<s;t++)n=e[t],this.add(n)},t.exports=o},function(t,n,s){"use strict";i=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(a,"_classCallCheck");var i,o=s(11),r=function(){function t(e,n){a(this,t),(n!==null||n!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var s=void 0;e instanceof o?s=e.size():s=e.length,this._quicksort(e,0,s-1)}return e(t,"Quicksort"),i(t,[{key:"_quicksort",value:e(function(e,t,n){if(t<n){var s=this._partition(e,t,n);this._quicksort(e,t,s),this._quicksort(e,s+1,n)}},"_quicksort")},{key:"_partition",value:e(function(e,t,n){for(var i=this._get(e,t),o=t,s=n;;){for(;this.compareFunction(i,this._get(e,s));)s--;for(;this.compareFunction(this._get(e,o),i);)o++;if(o<s)this._swap(e,o,s),o++,s--;else return s}},"_partition")},{key:"_get",value:e(function(e,t){return e instanceof o?e.get_object_at(t):e[t]},"_get")},{key:"_set",value:e(function(e,t,n){e instanceof o?e.set_object_at(t,n):e[t]=n},"_set")},{key:"_swap",value:e(function(e,t,n){var s=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,s)},"_swap")},{key:"_defaultCompareFunction",value:e(function(e,t){return t>e},"_defaultCompareFunction")}]),t}();t.exports=r},function(t){"use strict";var i,a=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(o,"_classCallCheck"),i=function(){function t(e,n){var s,i,a,r,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,t),this.sequence1=e,this.sequence2=n,this.match_score=c,this.mismatch_penalty=l,this.gap_penalty=d,this.iMax=e.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(i=0;i<this.iMax;i++){this.tracebackGrid[i]=new Array(this.jMax);for(r=0;r<this.jMax;r++)this.tracebackGrid[i][r]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return e(t,"NeedlemanWunsch"),a(t,[{key:"getScore",value:e(function(){return this.score},"getScore")},{key:"getAlignments",value:e(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:e(function(){for(n=1;n<this.jMax;n++)this.grid[0][n]=this.grid[0][n-1]+this.gap_penalty,this.tracebackGrid[0][n]=[!1,!1,!0];for(s=1;s<this.iMax;s++)this.grid[s][0]=this.grid[s-1][0]+this.gap_penalty,this.tracebackGrid[s][0]=[!1,!0,!1];for(e=1;e<this.iMax;e++)for(t=1;t<this.jMax;t++){o=void 0,this.sequence1[e-1]===this.sequence2[t-1]?o=this.grid[e-1][t-1]+this.match_score:o=this.grid[e-1][t-1]+this.mismatch_penalty;var e,t,n,s,o,r=this.grid[e-1][t]+this.gap_penalty,c=this.grid[e][t-1]+this.gap_penalty,a=[o,r,c],i=this.arrayAllMaxIndexes(a);this.grid[e][t]=a[i[0]],this.tracebackGrid[e][t]=[i.includes(0),i.includes(1),i.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:e(function(){t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var t,e=t[0],n=this.tracebackGrid[e.pos[0]][e.pos[1]];n[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),n[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),n[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),e.pos[0]===0&&e.pos[1]===0&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:e(function(e,t){for(var s=[],n=-1;(n=e.indexOf(t,n+1))!==-1;)s.push(n);return s},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:e(function(e){return this.getAllIndexes(e,Math.max.apply(null,e))},"arrayAllMaxIndexes")}]),t}(),t.exports=i},function(t,n,s){"use strict";var o=e(function(){},"layoutBase");o.FDLayout=s(18),o.FDLayoutConstants=s(7),o.FDLayoutEdge=s(19),o.FDLayoutNode=s(20),o.DimensionD=s(21),o.HashMap=s(22),o.HashSet=s(23),o.IGeometry=s(8),o.IMath=s(9),o.Integer=s(10),o.Point=s(12),o.PointD=s(4),o.RandomSeed=s(16),o.RectangleD=s(13),o.Transform=s(17),o.UniqueIDGeneretor=s(14),o.Quicksort=s(24),o.LinkedList=s(11),o.LGraphObject=s(2),o.LGraph=s(5),o.LEdge=s(1),o.LGraphManager=s(6),o.LNode=s(3),o.Layout=s(15),o.LayoutConstants=s(0),o.NeedlemanWunsch=s(25),t.exports=o},function(t){"use strict";function o(){this.listeners=[]}e(o,"Emitter");var i=o.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var s,n=this.listeners.length;n>=0;n--)s=this.listeners[n],s.event===e&&s.callback===t&&this.listeners.splice(n,1)},i.emit=function(e,t){for(var s,n=0;n<this.listeners.length;n++)s=this.listeners[n],e===s.event&&s.callback(t)},t.exports=o}])})}),aL=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s(sL()):typeof define=="function"&&define.amd?define(["layout-base"],s):typeof t=="object"?t.coseBase=s(sL()):e.coseBase=s(e.layoutBase)},"webpackUniversalModuleDefinition")(t,function(t){return function(t){var s={};function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return e(n,"__webpack_require__"),n.m=t,n.c=s,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var s=t&&t.__esModule?e(function(){return t.default},"getDefault"):e(function(){return t},"getModuleExports");return n.d(s,"a",s),s},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e){e.exports=t},function(t,n,s){"use strict";var a,i=s(0).FDLayoutConstants;function o(){}e(o,"CoSEConstants");for(a in i)o[a]=i[a];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=o},function(t,n,s){"use strict";var a,o=s(0).FDLayoutEdge;function i(e,t,n){o.call(this,e,t,n)}e(i,"CoSEEdge"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},function(t,n,s){"use strict";var a,o=s(0).LGraph;function i(e,t,n){o.call(this,e,t,n)}e(i,"CoSEGraph"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},function(t,n,s){"use strict";var a,o=s(0).LGraphManager;function i(e){o.call(this,e)}e(i,"CoSEGraphManager"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},function(t,n,s){"use strict";var r,i=s(0).FDLayoutNode,a=s(0).IMath;function o(e,t,n,s){i.call(this,e,t,n,s)}e(o,"CoSENode"),o.prototype=Object.create(i.prototype);for(r in i)o[r]=i[r];o.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*a.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*a.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(e,t){for(var n,o=this.getChild().getNodes(),s=0;s<o.length;s++)n=o[s],n.getChild()==null?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},o.prototype.setPred1=function(e){this.pred1=e},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(e){this.next=e},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(e){this.processed=e},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,n,s){"use strict";var d,c=s(0).FDLayout,y=s(4),j=s(3),u=s(5),p=s(2),a=s(1),i=s(0).FDLayoutConstants,l=s(0).LayoutConstants,m=s(0).Point,r=s(0).PointD,f=s(0).Layout,h=s(0).Integer,g=s(0).IGeometry,v=s(0).LGraph,b=s(0).Transform;function o(){c.call(this),this.toBeTiled={}}e(o,"CoSELayout"),o.prototype=Object.create(c.prototype);for(d in c)o[d]=c[d];o.prototype.newGraphManager=function(){var e=new y(this);return this.graphManager=e,e},o.prototype.newGraph=function(e){return new j(null,this.graphManager,e)},o.prototype.newNode=function(e){return new u(this.graphManager,e)},o.prototype.newEdge=function(e){return new p(null,null,e)},o.prototype.initParameters=function(){c.prototype.initParameters.call(this,arguments),this.isSubLayout||(a.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=a.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=i.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=i.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/i.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=i.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},o.prototype.layout=function(){var e=l.DEFAULT_CREATE_BENDS_AS_NEEDED;return e&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},o.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(a.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var n,e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t)}}else n=this.getFlatForest(),n.length>0?this.positionNodesRadially(n):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)}),this.graphManager.setAllNodesToApplyGravitation(t),this.positionNodesRandomly());return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},o.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%i.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e,t,n=new Set(this.getAllNodes()),s=this.nodesWithGravity.filter(function(e){return n.has(e)});this.graphManager.setAllNodesToApplyGravitation(s),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}return e=!this.isTreeGrowing&&!this.isGrowthFinished,t=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished,this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(e,t),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},o.prototype.getPositionsData=function(){for(var e,s,n=this.graphManager.getAllNodes(),o={},t=0;t<n.length;t++)e=n[t].rect,s=n[t].id,o[s]={id:s,x:e.getCenterX(),y:e.getCenterY(),w:e.width,h:e.height};return o},o.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if(i.ANIMATE==="during")this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},o.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],s=this.graphManager.getGraphs(),o=s.length;for(t=0;t<o;t++)e=s[t],e.updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},o.prototype.createBendpoints=function(){n=[],n=n.concat(this.graphManager.getAllEdges()),s=new Set;for(o=0;o<n.length;o++){if(t=n[o],!s.has(t)){var e,t,n,s,o,i,l,a=t.getSource(),c=t.getTarget();if(a==c)t.getBendpoints().push(new r),t.getBendpoints().push(new r),this.createDummyNodesForBendpoints(t),s.add(t);else if(e=[],e=e.concat(a.getEdgeListToNode(c)),e=e.concat(c.getEdgeListToNode(a)),!s.has(e[0])){if(e.length>1)for(i=0;i<e.length;i++)l=e[i],l.getBendpoints().push(new r),this.createDummyNodesForBendpoints(l);e.forEach(function(e){s.add(e)})}}if(s.size==n.length)break}},o.prototype.positionNodesRadially=function(e){for(var u,h,i=new m(0,0),p=Math.ceil(Math.sqrt(e.length)),s=0,c=0,d=0,t=new r(0,0),n=0;n<e.length;n++)n%p==0&&(d=0,c=s,n!=0&&(c+=a.DEFAULT_COMPONENT_SEPERATION),s=0),u=e[n],h=f.findCenterOfTree(u),i.x=d,i.y=c,t=o.radialLayout(u,h,i),t.y>s&&(s=Math.floor(t.y)),d=Math.floor(t.x+a.DEFAULT_COMPONENT_SEPERATION);this.transform(new r(l.WORLD_CENTER_X-t.x/2,l.WORLD_CENTER_Y-t.y/2))},o.radialLayout=function(e,t,n){l=Math.max(this.maxDiagonalInTree(e),a.DEFAULT_RADIAL_SEPARATION),o.branchRadialLayout(t,null,0,359,0,l);var c,l,d,u,i=v.calculateBounds(e),s=new b;s.setDeviceOrgX(i.getMinX()),s.setDeviceOrgY(i.getMinY()),s.setWorldOrgX(n.x),s.setWorldOrgY(n.y);for(c=0;c<e.length;c++)d=e[c],d.transform(s);return u=new r(i.getMaxX(),i.getMaxY()),s.inverseTransformPoint(u)},o.branchRadialLayout=function(e,t,n,s,i,a){l=(s-n+1)/2,l<0&&(l+=180);var r,c,l,u,h,m,f,y,_,w,C=(l+n)%360,j=C*g.TWO_PI/360,E=Math.cos(j),x=i*Math.cos(j),O=i*Math.sin(j);e.setCenter(x,O),r=[],r=r.concat(e.getEdges()),c=r.length,t!=null&&c--;for(var b,p=0,v=r.length,d=e.getEdgesBetween(t);d.length>1;)_=d[0],d.splice(0,1),f=r.indexOf(_),f>=0&&r.splice(f,1),v--,c--;t!=null?b=(r.indexOf(d[0])+1)%v:b=0;for(m=Math.abs(s-n)/c,u=b;p!=c;u=++u%v)h=r[u].getOtherEnd(e),h!=t&&(y=(n+p*m)%360,w=(y+m)%360,o.branchRadialLayout(h,e,y,w,i+a,a),p++)},o.maxDiagonalInTree=function(e){for(var s,o,t=h.MIN_VALUE,n=0;n<e.length;n++)o=e[n],s=o.getDiagonal(),s>t&&(t=s);return t},o.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},o.prototype.groupZeroDegreeMembers=function(){s=this,e={},this.memberGroups={},this.idToDummyNode={};for(var e,n,s,o,a,i=[],r=this.graphManager.getAllNodes(),t=0;t<r.length;t++)n=r[t],a=n.getParent(),this.getNodeDegreeWithChildren(n)===0&&(a.id==null||!this.getToBeTiled(a))&&i.push(n);for(t=0;t<i.length;t++)n=i[t],o=n.getParent().id,typeof e[o]>"u"&&(e[o]=[]),e[o]=e[o].concat(n);Object.keys(e).forEach(function(t){if(e[t].length>1){i="DummyCompound_"+t,s.memberGroups[i]=e[t];var i,a,r,c,l,o=e[t][0].getParent(),n=new u(s.graphManager);n.id=i,n.paddingLeft=o.paddingLeft||0,n.paddingRight=o.paddingRight||0,n.paddingBottom=o.paddingBottom||0,n.paddingTop=o.paddingTop||0,s.idToDummyNode[i]=n,l=s.getGraphManager().add(s.newGraph(),n),r=o.getChild(),r.add(n);for(a=0;a<e[t].length;a++)c=e[t][a],r.remove(c),l.add(c)}})},o.prototype.clearCompounds=function(){var e,t={},n={};this.performDFSOnCompounds();for(e=0;e<this.compoundOrder.length;e++)n[this.compoundOrder[e].id]=this.compoundOrder[e],t[this.compoundOrder[e].id]=[].concat(this.compoundOrder[e].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[e].getChild()),this.compoundOrder[e].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,n)},o.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var s=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],s.paddingLeft+s.paddingRight),s.rect.width=t[n].width,s.rect.height=t[n].height})},o.prototype.repopulateCompounds=function(){for(t=this.compoundOrder.length-1;t>=0;t--){var t,e=this.compoundOrder[t],n=e.id,s=e.paddingLeft,o=e.paddingTop;this.adjustLocations(this.tiledMemberPack[n],e.rect.x,e.rect.y,s,o)}},o.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var s=e.idToDummyNode[n],o=s.paddingLeft,i=s.paddingTop;e.adjustLocations(t[n],s.rect.x,s.rect.y,o,i)})},o.prototype.getToBeTiled=function(e){if(t=e.id,this.toBeTiled[t]!=null)return this.toBeTiled[t];if(s=e.getChild(),s==null)return this.toBeTiled[t]=!1,!1;for(var t,n,s,i=s.getNodes(),o=0;o<i.length;o++){if(n=i[o],this.getNodeDegree(n)>0)return this.toBeTiled[t]=!1,!1;if(n.getChild()==null){this.toBeTiled[n.id]=!1;continue}if(!this.getToBeTiled(n))return this.toBeTiled[t]=!1,!1}return this.toBeTiled[t]=!0,!0},o.prototype.getNodeDegree=function(e){for(var s,i=e.id,o=e.getEdges(),t=0,n=0;n<o.length;n++)s=o[n],s.getSource().id!==s.getTarget().id&&(t=t+1);return t},o.prototype.getNodeDegreeWithChildren=function(e){if(t=this.getNodeDegree(e),e.getChild()==null)return t;for(var t,o,s=e.getChild().getNodes(),n=0;n<s.length;n++)o=s[n],t+=this.getNodeDegreeWithChildren(o);return t},o.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},o.prototype.fillCompexOrderByDFS=function(e){for(var t,n=0;n<e.length;n++)t=e[n],t.getChild()!=null&&this.fillCompexOrderByDFS(t.getChild().getNodes()),this.getToBeTiled(t)&&this.compoundOrder.push(t)},o.prototype.adjustLocations=function(e,t,n,s,o){t+=s,n+=o;for(var i,a,r,l,d=t,c=0;c<e.rows.length;c++){l=e.rows[c],t=d;for(a=0,r=0;r<l.length;r++)i=l[r],i.rect.x=t,i.rect.y=n,t+=i.rect.width+e.horizontalPadding,i.rect.height>a&&(a=i.rect.height);n+=a+e.verticalPadding}},o.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(s){var o=t[s];n.tiledMemberPack[s]=n.tileNodes(e[s],o.paddingLeft+o.paddingRight),o.rect.width=n.tiledMemberPack[s].width,o.rect.height=n.tiledMemberPack[s].height})},o.prototype.tileNodes=function(e,t){var s,o,i=a.TILING_PADDING_VERTICAL,r=a.TILING_PADDING_HORIZONTAL,n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:i,horizontalPadding:r};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(o=0;o<e.length;o++)s=e[o],n.rows.length==0?this.insertNodeToRow(n,s,0,t):this.canAddHorizontal(n,s.rect.width,s.rect.height)?this.insertNodeToRow(n,s,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,s,n.rows.length,t),this.shiftToLastRow(n);return n},o.prototype.insertNodeToRow=function(e,t,n,s){var o,i,a,r,c=s;n==e.rows.length&&(r=[],e.rows.push(r),e.rowWidth.push(c),e.rowHeight.push(0)),o=e.rowWidth[n]+t.rect.width,e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o),a=t.rect.height,n>0&&(a+=e.verticalPadding),i=0,a>e.rowHeight[n]&&(i=e.rowHeight[n],e.rowHeight[n]=a,i=e.rowHeight[n]-i),e.height+=i,e.rows[n].push(t)},o.prototype.getShortestRowIndex=function(e){for(var n=-1,s=Number.MAX_VALUE,t=0;t<e.rows.length;t++)e.rowWidth[t]<s&&(n=t,s=e.rowWidth[t]);return n},o.prototype.getLongestRowIndex=function(e){for(var n=-1,s=Number.MIN_VALUE,t=0;t<e.rows.length;t++)e.rowWidth[t]>s&&(n=t,s=e.rowWidth[t]);return n},o.prototype.canAddHorizontal=function(e,t,n){var s,o,i,r,a=this.getShortestRowIndex(e);return a<0||(r=e.rowWidth[a],r+e.horizontalPadding+t<=e.width||(s=0,e.rowHeight[a]<n&&a>0&&(s=n+e.verticalPadding-e.rowHeight[a]),e.width-r>=t+e.horizontalPadding?o=(e.height+s)/(r+t+e.horizontalPadding):o=(e.height+s)/e.width,s=n+e.verticalPadding,e.width<t?i=(e.height+s)/t:i=(e.height+s)/e.width,i<1&&(i=1/i),o<1&&(o=1/o),o<i))},o.prototype.shiftToLastRow=function(e){var o,i,c,l,n=this.getLongestRowIndex(e),t=e.rowWidth.length-1,s=e.rows[n],a=s[s.length-1],r=a.width+e.horizontalPadding;if(e.width-e.rowWidth[t]>r&&n!=t){s.splice(-1,1),e.rows[t].push(a),e.rowWidth[n]=e.rowWidth[n]-r,e.rowWidth[t]=e.rowWidth[t]+r,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(o=Number.MIN_VALUE,i=0;i<s.length;i++)s[i].height>o&&(o=s[i].height);n>0&&(o+=e.verticalPadding),c=e.rowHeight[n]+e.rowHeight[t],e.rowHeight[n]=o,e.rowHeight[t]<a.height+e.verticalPadding&&(e.rowHeight[t]=a.height+e.verticalPadding),l=e.rowHeight[n]+e.rowHeight[t],e.height+=l-c,this.shiftToLastRow(e)}},o.prototype.tilingPreLayout=function(){a.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},o.prototype.tilingPostLayout=function(){a.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},o.prototype.reduceTrees=function(){for(var e,t,n,o,i,a,r=[],s=!0;s;){for(i=this.graphManager.getAllNodes(),t=[],s=!1,o=0;o<i.length;o++)e=i[o],e.getEdges().length==1&&!e.getEdges()[0].isInterGraph&&e.getChild()==null&&(t.push([e,e.getEdges()[0],e.getOwner()]),s=!0);if(s==!0){for(a=[],n=0;n<t.length;n++)t[n][0].getEdges().length==1&&(a.push(t[n]),t[n][0].getOwner().remove(t[n][0]));r.push(a),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=r},o.prototype.growTree=function(e){for(var t,o=e.length,s=e[o-1],n=0;n<s.length;n++)t=s[n],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},o.prototype.findPlaceforPrunedNode=function(e){a=e[0],a==e[1].source?o=e[1].target:o=e[1].source;var n,s,o,a,r,c,l,m,g,p=o.startX,d=o.finishX,f=o.startY,u=o.finishY,y=0,j=0,v=0,b=0,t=[y,v,j,b];if(f>0)for(s=p;s<=d;s++)t[0]+=this.grid[s][f-1].length+this.grid[s][f].length-1;if(d<this.grid.length-1)for(s=f;s<=u;s++)t[1]+=this.grid[d+1][s].length+this.grid[d][s].length-1;if(u<this.grid[0].length-1)for(s=p;s<=d;s++)t[2]+=this.grid[s][u+1].length+this.grid[s][u].length-1;if(p>0)for(s=f;s<=u;s++)t[3]+=this.grid[p-1][s].length+this.grid[p][s].length-1;for(l=h.MAX_VALUE,c=0;c<t.length;c++)t[c]<l?(l=t[c],m=1,g=c):t[c]==l&&m++;m==3&&l==0?t[0]==0&&t[1]==0&&t[2]==0?n=1:t[0]==0&&t[1]==0&&t[3]==0?n=0:t[0]==0&&t[2]==0&&t[3]==0?n=3:t[1]==0&&t[2]==0&&t[3]==0&&(n=2):m==2&&l==0?(r=Math.floor(Math.random()*2),t[0]==0&&t[1]==0?r==0?n=0:n=1:t[0]==0&&t[2]==0?r==0?n=0:n=2:t[0]==0&&t[3]==0?r==0?n=0:n=3:t[1]==0&&t[2]==0?r==0?n=1:n=2:t[1]==0&&t[3]==0?r==0?n=1:n=3:r==0?n=2:n=3):m==4&&l==0?(r=Math.floor(Math.random()*4),n=r):n=g,n==0?a.setCenter(o.getCenterX(),o.getCenterY()-o.getHeight()/2-i.DEFAULT_EDGE_LENGTH-a.getHeight()/2):n==1?a.setCenter(o.getCenterX()+o.getWidth()/2+i.DEFAULT_EDGE_LENGTH+a.getWidth()/2,o.getCenterY()):n==2?a.setCenter(o.getCenterX(),o.getCenterY()+o.getHeight()/2+i.DEFAULT_EDGE_LENGTH+a.getHeight()/2):a.setCenter(o.getCenterX()-o.getWidth()/2-i.DEFAULT_EDGE_LENGTH-a.getWidth()/2,o.getCenterY())},t.exports=o},function(e,t,n){"use strict";var s={};s.layoutBase=n(0),s.CoSEConstants=n(1),s.CoSEEdge=n(2),s.CoSEGraph=n(3),s.CoSEGraphManager=n(4),s.CoSELayout=n(6),s.CoSENode=n(5),e.exports=s}])})}),PIe=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s(aL()):typeof define=="function"&&define.amd?define(["cose-base"],s):typeof t=="object"?t.cytoscapeCoseBilkent=s(aL()):e.cytoscapeCoseBilkent=s(e.coseBase)},"webpackUniversalModuleDefinition")(t,function(t){return function(t){var s={};function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return e(n,"__webpack_require__"),n.m=t,n.c=s,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var s=t&&t.__esModule?e(function(){return t.default},"getDefault"):e(function(){return t},"getModuleExports");return n.d(s,"a",s),s},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=t},function(t,n,s){"use strict";var c,u,a=s(0).layoutBase.LayoutConstants,i=s(0).layoutBase.FDLayoutConstants,o=s(0).CoSEConstants,h=s(0).CoSELayout,l=s(0).CoSENode,m=s(0).layoutBase.PointD,f=s(0).layoutBase.DimensionD,p={ready:e(function(){},"ready"),stop:e(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function d(e,t){var n,s={};for(n in e)s[n]=e[n];for(n in t)s[n]=t[n];return s}e(d,"extend");function r(e){this.options=d(p,e),u(this.options)}e(r,"_CoSELayout"),u=e(function(e){e.nodeRepulsion!=null&&(o.DEFAULT_REPULSION_STRENGTH=i.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),e.idealEdgeLength!=null&&(o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),e.edgeElasticity!=null&&(o.DEFAULT_SPRING_STRENGTH=i.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),e.nestingFactor!=null&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),e.gravity!=null&&(o.DEFAULT_GRAVITY_STRENGTH=i.DEFAULT_GRAVITY_STRENGTH=e.gravity),e.numIter!=null&&(o.MAX_ITERATIONS=i.MAX_ITERATIONS=e.numIter),e.gravityRange!=null&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=i.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),e.gravityCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),e.gravityRangeCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),e.initialEnergyOnIncremental!=null&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=i.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),e.quality=="draft"?a.QUALITY=0:e.quality=="proof"?a.QUALITY=2:a.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=a.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!e.randomize,o.ANIMATE=i.ANIMATE=a.ANIMATE=e.animate,o.TILE=e.tile,o.TILING_PADDING_VERTICAL=typeof e.tilingPaddingVertical=="function"?e.tilingPaddingVertical.call():e.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL=typeof e.tilingPaddingHorizontal=="function"?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal},"getUserOptions"),r.prototype.run=function(){var o,i,a,r,c,m,f,p,g,s=this.options,v=this.idToLNode={},n=this.layout=new h,t=this;t.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this}),r=n.newGraphManager(),this.gm=r,f=this.options.eles.nodes(),c=this.options.eles.edges(),this.root=r.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(f),n);for(a=0;a<c.length;a++){var l=c[a],d=this.idToLNode[l.data("source")],u=this.idToLNode[l.data("target")];d!==u&&d.getEdgesBetween(u).length==0&&(p=r.add(n.newEdge(),d,u),p.id=l.id())}return m=e(function(e,n){typeof e=="number"&&(e=n);var o=e.data("id"),s=t.idToLNode[o];return{x:s.getRect().getCenterX(),y:s.getRect().getCenterY()}},"getPositions"),g=e(function a(){for(var r,c,l=e(function(){s.fit&&s.cy.fit(s.eles,s.padding),o||(o=!0,t.cy.one("layoutready",s.ready),t.cy.trigger({type:"layoutready",layout:t}))},"afterReposition"),u=t.options.refresh,d=0;d<u&&!c;d++)c=t.stopped||t.layout.tick();if(c){n.checkLayoutSuccess()&&!n.isSubLayout&&n.doPostLayout(),n.tilingPostLayout&&n.tilingPostLayout(),n.isLayoutFinished=!0,t.options.eles.nodes().positions(m),l(),t.cy.one("layoutstop",t.options.stop),t.cy.trigger({type:"layoutstop",layout:t}),i&&cancelAnimationFrame(i),o=!1;return}r=t.layout.getPositionsData(),s.eles.nodes().positions(function(e,t){if(typeof e=="number"&&(e=t),!e.isParent()){for(var o=e.id(),n=r[o],s=e;n==null&&(n=r[s.data("parent")]||r["DummyCompound_"+s.data("parent")],r[o]=n,s=s.parent()[0],s!=null););return n!=null?{x:n.x,y:n.y}:{x:e.position("x"),y:e.position("y")}}}),l(),i=requestAnimationFrame(a)},"iterateAnimated"),n.addListener("layoutstarted",function(){t.options.animate==="during"&&(i=requestAnimationFrame(g))}),n.runLayout(),this.options.animate!=="during"&&(t.options.eles.nodes().not(":parent").layoutPositions(t,t.options,m),o=!1),this},r.prototype.getTopMostNodes=function(e){for(var s,n={},t=0;t<e.length;t++)n[e[t].id()]=!0;return s=e.filter(function(e,t){typeof e=="number"&&(e=t);for(var s=e.parent()[0];s!=null;){if(n[s.id()])return!1;s=s.parent()[0]}return!0}),s},r.prototype.processChildrenList=function(e,t,n){for(c=t.length,i=0;i<c;i++){var o,i,c,d,s=t[i],r=s.children(),a=s.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(s.outerWidth()!=null&&s.outerHeight()!=null?o=e.add(new l(n.graphManager,new m(s.position("x")-a.w/2,s.position("y")-a.h/2),new f(parseFloat(a.w),parseFloat(a.h)))):o=e.add(new l(this.graphManager)),o.id=s.data("id"),o.paddingLeft=parseInt(s.css("padding")),o.paddingTop=parseInt(s.css("padding")),o.paddingRight=parseInt(s.css("padding")),o.paddingBottom=parseInt(s.css("padding")),this.options.nodeDimensionsIncludeLabels&&s.isParent()){var u=s.boundingBox({includeLabels:!0,includeNodes:!1}).w,h=s.boundingBox({includeLabels:!0,includeNodes:!1}).h,p=s.css("text-halign");o.labelWidth=u,o.labelHeight=h,o.labelPos=p}this.idToLNode[s.data("id")]=o,isNaN(o.rect.x)&&(o.rect.x=0),isNaN(o.rect.y)&&(o.rect.y=0),r!=null&&r.length>0&&(d=n.getGraphManager().add(n.newGraph(),o),this.processChildrenList(d,r,n))}},r.prototype.stop=function(){return this.stopped=!0,this},c=e(function(e){e("layout","cose-bilkent",r)},"register"),typeof cytoscape<"u"&&c(cytoscape),t.exports=c}])})});function HIe(e,t,n,s,o){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("transform","translate("+(o.width-t)/2+", "+n+")")}XIe=n(()=>{"use strict";Rs(),se(),IIe=12,BIe=e(function(e,t,n,s){t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 ${n.height-5} v${-n.height+2*5} q0,-5 5,-5 h${n.width-2*5} q5,0 5,5 v${n.height-5} H0 Z`),t.append("line").attr("class","node-line-"+s).attr("x1",0).attr("y1",n.height).attr("x2",n.width).attr("y2",n.height)},"defaultBkg"),VIe=e(function(e,t,n){t.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("height",n.height).attr("width",n.width)},"rectBkg"),$Ie=e(function(e,t,n){let s=n.width,i=n.height,o=.15*s,c=.25*s,a=.35*s,r=.2*s;t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 0 a${o},${o} 0 0,1 ${s*.25},${-1*s*.1}
      a${a},${a} 1 0,1 ${s*.4},${-1*s*.1}
      a${c},${c} 1 0,1 ${s*.35},${1*s*.2}

      a${o},${o} 1 0,1 ${s*.15},${1*i*.35}
      a${r},${r} 1 0,1 ${-1*s*.15},${1*i*.65}

      a${c},${o} 1 0,1 ${-1*s*.25},${s*.15}
      a${a},${a} 1 0,1 ${-1*s*.5},0
      a${o},${o} 1 0,1 ${-1*s*.25},${-1*s*.15}

      a${o},${o} 1 0,1 ${-1*s*.1},${-1*i*.35}
      a${r},${r} 1 0,1 ${s*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),WIe=e(function(e,t,n){let o=n.width,i=n.height,s=.15*o;t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 0 a${s},${s} 1 0,0 ${o*.25},${-1*i*.1}
      a${s},${s} 1 0,0 ${o*.25},0
      a${s},${s} 1 0,0 ${o*.25},0
      a${s},${s} 1 0,0 ${o*.25},${1*i*.1}

      a${s},${s} 1 0,0 ${o*.15},${1*i*.33}
      a${s*.8},${s*.8} 1 0,0 0,${1*i*.34}
      a${s},${s} 1 0,0 ${-1*o*.15},${1*i*.33}

      a${s},${s} 1 0,0 ${-1*o*.25},${i*.15}
      a${s},${s} 1 0,0 ${-1*o*.25},0
      a${s},${s} 1 0,0 ${-1*o*.25},0
      a${s},${s} 1 0,0 ${-1*o*.25},${-1*i*.15}

      a${s},${s} 1 0,0 ${-1*o*.1},${-1*i*.33}
      a${s*.8},${s*.8} 1 0,0 0,${-1*i*.34}
      a${s},${s} 1 0,0 ${o*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),UIe=e(function(e,t,n){t.append("circle").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("r",n.width/2)},"circleBkg"),e(HIe,"insertPolygonShape"),KIe=e(function(e,t,n){let s=n.height,o=s/4,i=n.width-n.padding+2*o,a=[{x:o,y:0},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}];HIe(t,i,s,a,n)},"hexagonBkg"),qIe=e(function(e,t,n){t.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("height",n.height).attr("rx",n.padding).attr("ry",n.padding).attr("width",n.width)},"roundedRectBkg"),YIe=e(async function(e,t,n,s,o){let d=o.htmlLabels,i=s%(IIe-1),c=t.append("g");n.section=i;let u="section-"+i;i<0&&(u+=" section-root"),c.attr("class",(n.class?n.class+" ":"")+"mindmap-node "+u);let a=c.append("g"),r=c.append("g"),h=n.descr.replace(/(<br\/*>)/g,`
`);await ms(r,h,{useHtmlLabels:d,width:n.width,classes:"mindmap-node-label"},o),d||r.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let l=r.node().getBBox(),[m]=Ka(o.fontSize);if(n.height=l.height+m*1.1*.5+n.padding,n.width=l.width+2*n.padding,n.icon)if(n.type===e.nodeType.CIRCLE)n.height+=50,n.width+=50,c.append("foreignObject").attr("height","50px").attr("width",n.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+i+" "+n.icon),r.attr("transform","translate("+n.width/2+", "+(n.height/2-1.5*n.padding)+")");else{n.width+=50;let e=n.height;n.height=Math.max(e,60);let t=Math.abs(n.height-e);c.append("foreignObject").attr("width","60px").attr("height",n.height).attr("style","text-align: center;margin-top:"+t/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+i+" "+n.icon),r.attr("transform","translate("+(25+n.width/2)+", "+(t/2+n.padding/2)+")")}else if(d){let e=(n.width-l.width)/2,t=(n.height-l.height)/2;r.attr("transform","translate("+e+", "+t+")")}else{let e=n.width/2,t=n.padding/2;r.attr("transform","translate("+e+", "+t+")")}switch(n.type){case e.nodeType.DEFAULT:BIe(e,a,n,i);break;case e.nodeType.ROUNDED_RECT:qIe(e,a,n,i);break;case e.nodeType.RECT:VIe(e,a,n,i);break;case e.nodeType.CIRCLE:a.attr("transform","translate("+n.width/2+", "+ +n.height/2+")"),UIe(e,a,n,i);break;case e.nodeType.CLOUD:$Ie(e,a,n,i);break;case e.nodeType.BANG:WIe(e,a,n,i);break;case e.nodeType.HEXAGON:KIe(e,a,n,i);break}return e.setElementForId(n.id,c),n.height},"drawNode"),GIe=e(function(e,t){let n=e.getElementById(t.id),s=t.x||0,o=t.y||0;n.attr("transform","translate("+s+","+o+")")},"positionNode")});async function rL(e,t,n,s,o){await YIe(e,t,n,s,o),n.children&&await Promise.all(n.children.map((n,i)=>rL(e,t,n,s<0?i:s,o)))}function ZIe(e,t){t.edges().map((t,n)=>{let s=t.data();if(t[0]._private.bodyBounds){let o=t[0]._private.rscratch;a.trace("Edge: ",n,s),e.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+s.section+" edge-depth-"+s.depth)}})}function lL(e,t,n,s){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:s,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(o=>{lL(o,t,n,s+1),t.add({group:"edges",data:{id:`${e.id}_${o.id}`,source:e.id,target:o.id,depth:s,section:o.section}})})}function eBe(e,t){return new Promise(n=>{let o=y("body").append("div").attr("id","cy").attr("style","display:none"),s=Bo({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});o.remove(),lL(e,s,t,0),s.nodes().forEach(function(e){e.layoutDimensions=()=>{let t=e.data();return{w:t.width,h:t.height}}}),s.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),s.ready(e=>{a.info("Ready",e),n(s)})})}function tBe(e,t){t.nodes().map((t,n)=>{let s=t.data();s.x=t.position().x,s.y=t.position().y,GIe(e,s);let o=e.getElementById(s.nodeId);a.info("Id:",n,"Position: (",t.position().x,", ",t.position().y,")",s),o.attr("transform",`translate(${t.position().x-s.width/2}, ${t.position().y-s.height/2})`),o.attr("attr",`apa-${n})`)})}iBe=n(()=>{"use strict";nL(),nBe=Sn(PIe(),1),he(),P(),x(),xi(),Ht(),XIe(),bs(),Bo.use(nBe.default),e(rL,"drawNodes"),e(ZIe,"drawEdges"),e(lL,"addNodes"),e(eBe,"layoutMindmap"),e(tBe,"positionNodes"),sBe=e(async(e,t,n,s)=>{a.debug(`Rendering mindmap diagram
`+e);let i=s.db,r=i.getMindmap();if(!r)return;let o=u();o.htmlLabels=!1;let c=Ei(t),l=c.append("g");l.attr("class","mindmap-edges");let d=c.append("g");d.attr("class","mindmap-nodes"),await rL(i,d,r,-1,o);let h=await eBe(r,o);ZIe(l,h),tBe(i,h),tu(void 0,c,o.mindmap?.padding??ye.mindmap.padding,o.mindmap?.useMaxWidth??ye.mindmap.useMaxWidth)},"draw"),oBe={draw:sBe}}),lBe=n(()=>{"use strict";Js(),aBe=e(e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++)e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t],za(e["lineColor"+t])?e["lineColor"+t]=z(e["lineColor"+t],20):e["lineColor"+t]=V(e["lineColor"+t],20);for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let s=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${e["cScale"+n]};
    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${s};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),rBe=e(e=>`
  .edge {
    stroke-width: 3;
  }
  ${aBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),cBe=rBe}),hL={},de(hL,{diagram:()=>uBe}),hBe=n(()=>{"use strict";axe(),Oxe(),iBe(),lBe(),uBe={db:wxe,renderer:oBe,parser:ixe,styles:cBe}}),pBe=n(()=>{"use strict";Y5=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),w=[1,4],d=[1,13],r=[1,12],l=[1,15],c=[1,16],o=[1,20],a=[1,19],h=[6,7,8],_=[1,26],f=[1,24],j=[1,25],n=[6,7,11],p=[1,31],s=[6,7,11,24],g=[1,6,13,16,17,20,23],v=[1,35],b=[1,36],i=[1,6,7,11,13,16,17,20,23],y=[1,38],m={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 6:case 7:return s;case 8:s.getLogger().trace("Stop NL ");break;case 9:s.getLogger().trace("Stop EOF ");break;case 11:s.getLogger().trace("Stop NL2 ");break;case 12:s.getLogger().trace("Stop EOF2 ");break;case 15:s.getLogger().info("Node: ",i[r-1].id),s.addNode(i[r-2].length,i[r-1].id,i[r-1].descr,i[r-1].type,i[r]);break;case 16:s.getLogger().info("Node: ",i[r].id),s.addNode(i[r-1].length,i[r].id,i[r].descr,i[r].type);break;case 17:s.getLogger().trace("Icon: ",i[r]),s.decorateNode({icon:i[r]});break;case 18:case 23:s.decorateNode({class:i[r]});break;case 19:s.getLogger().trace("SPACELIST");break;case 20:s.getLogger().trace("Node: ",i[r-1].id),s.addNode(0,i[r-1].id,i[r-1].descr,i[r-1].type,i[r]);break;case 21:s.getLogger().trace("Node: ",i[r].id),s.addNode(0,i[r].id,i[r].descr,i[r].type);break;case 22:s.decorateNode({icon:i[r]});break;case 27:s.getLogger().trace("node found ..",i[r-2]),this.$={id:i[r-1],descr:i[r-1],type:s.getType(i[r-2],i[r])};break;case 28:this.$={id:i[r],descr:i[r],type:0};break;case 29:s.getLogger().trace("node found ..",i[r-3]),this.$={id:i[r-3],descr:i[r-1],type:s.getType(i[r-2],i[r])};break;case 30:this.$=i[r-1]+i[r];break;case 31:this.$=i[r];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:w},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:w},{6:d,7:[1,10],9:9,12:11,13:r,14:14,16:l,17:c,18:17,19:18,20:o,23:a},t(h,[2,3]),{1:[2,2]},t(h,[2,4]),t(h,[2,5]),{1:[2,6],6:d,12:21,13:r,14:14,16:l,17:c,18:17,19:18,20:o,23:a},{6:d,9:22,12:11,13:r,14:14,16:l,17:c,18:17,19:18,20:o,23:a},{6:_,7:f,10:23,11:j},t(n,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:o,23:a}),t(n,[2,19]),t(n,[2,21],{15:30,24:p}),t(n,[2,22]),t(n,[2,23]),t(s,[2,25]),t(s,[2,26]),t(s,[2,28],{20:[1,32]}),{21:[1,33]},{6:_,7:f,10:34,11:j},{1:[2,7],6:d,12:21,13:r,14:14,16:l,17:c,18:17,19:18,20:o,23:a},t(g,[2,14],{7:v,11:b}),t(i,[2,8]),t(i,[2,9]),t(i,[2,10]),t(n,[2,16],{15:37,24:p}),t(n,[2,17]),t(n,[2,18]),t(n,[2,20],{24:y}),t(s,[2,31]),{21:[1,39]},{22:[1,40]},t(g,[2,13],{7:v,11:b}),t(i,[2,11]),t(i,[2,12]),t(n,[2,15],{24:y}),t(s,[2,30]),{22:[1,41]},t(s,[2,27]),t(s,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},O=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return this.pushState("shapeData"),t.yytext="",24;break;case 1:return this.pushState("shapeDataStr"),24;break;case 2:return this.popState(),24;break;case 3:let n=/\n\s*/g;return t.yytext=t.yytext.replace(n,"<br/>"),24;break;case 4:return 24;case 5:this.popState();break;case 6:return e.getLogger().trace("Found comment",t.yytext),6;break;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;break;case 10:this.popState();break;case 11:e.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return e.getLogger().trace("SPACELINE"),6;break;case 13:return 7;case 14:return 16;case 15:e.getLogger().trace("end icon"),this.popState();break;case 16:return e.getLogger().trace("Exploding node"),this.begin("NODE"),20;break;case 17:return e.getLogger().trace("Cloud"),this.begin("NODE"),20;break;case 18:return e.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;break;case 19:return e.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;break;case 20:return this.begin("NODE"),20;break;case 21:return this.begin("NODE"),20;break;case 22:return this.begin("NODE"),20;break;case 23:return this.begin("NODE"),20;break;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:e.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return e.getLogger().trace("description:",t.yytext),"NODE_DESCR";break;case 32:this.popState();break;case 33:return this.popState(),e.getLogger().trace("node end ))"),"NODE_DEND";break;case 34:return this.popState(),e.getLogger().trace("node end )"),"NODE_DEND";break;case 35:return this.popState(),e.getLogger().trace("node end ...",t.yytext),"NODE_DEND";break;case 36:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 37:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";break;case 38:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";break;case 39:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 40:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";break;case 41:return e.getLogger().trace("Long description:",t.yytext),21;break;case 42:return e.getLogger().trace("Long description:",t.yytext),21;break}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^([\n){}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[)]\))/i,/^(?:[)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^)\](}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return t}();m.lexer=O;function u(){this.yy={}}return e(u,"Parser"),u.prototype=m,m.Parser=u,new u}(),Y5.parser=Y5,fBe=Y5}),DBe=n(()=>{"use strict";P(),me(),x(),bs(),i9(),qs=[],q5=[],K5=0,U5={},yBe=e(()=>{qs=[],q5=[],K5=0,U5={}},"clear"),_Be=e(e=>{if(qs.length===0)return null;let n=qs[0].level,t=null;for(let e=qs.length-1;e>=0;e--)if(qs[e].level===n&&!t&&(t=qs[e]),qs[e].level<n)throw new Error('Items without section detected, found section ("'+qs[e].label+'")');return e===t?.level?null:t},"getSection"),bL=e(function(){return q5},"getSections"),OBe=e(function(){let n=[],e=[],s=bL(),t=u();for(let n of s){let o={id:n.id,label:Ie(n.label??"",t),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:t.look};e.push(o);let i=qs.filter(e=>e.parentId===n.id);for(let s of i){let o={id:s.id,parentId:n.id,label:Ie(s.label??"",t),isGroup:!1,ticket:s?.ticket,priority:s?.priority,assigned:s?.assigned,icon:s?.icon,shape:"kanbanItem",level:s.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(o)}}return{nodes:e,edges:n,other:{},config:u()}},"getData"),xBe=e((e,t,n,s,o)=>{let a=u(),r=a.mindmap?.padding??ye.mindmap.padding;switch(s){case At.ROUNDED_RECT:case At.RECT:case At.HEXAGON:r*=2}let i={id:Ie(t,a)||"kbn"+K5++,level:e,label:Ie(n,a),width:a.mindmap?.maxNodeWidth??ye.mindmap.maxNodeWidth,padding:r,isGroup:!1};if(o!==void 0){let t;o.includes(`
`)?t=o+`
`:t=`{
`+o+`
}`;let e=r9(t,{schema:c9});if(e.shape&&(e.shape!==e.shape.toLowerCase()||e.shape.includes("_")))throw new Error(`No such shape: ${e.shape}. Shape names should be lowercase.`);e?.shape&&e.shape==="kanbanItem"&&(i.shape=e?.shape),e?.label&&(i.label=e?.label),e?.icon&&(i.icon=e?.icon.toString()),e?.assigned&&(i.assigned=e?.assigned.toString()),e?.ticket&&(i.ticket=e?.ticket.toString()),e?.priority&&(i.priority=e?.priority)}let c=_Be(e);c?i.parentId=c.id||"kbn"+K5++:q5.push(i),qs.push(i)},"addNode"),At={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},EBe=e((e,t)=>{switch(a.debug("In get type",e,t),e){case"[":return At.RECT;case"(":return t===")"?At.ROUNDED_RECT:At.CLOUD;case"((":return At.CIRCLE;case")":return At.CLOUD;case"))":return At.BANG;case"{{":return At.HEXAGON;default:return At.DEFAULT}},"getType"),kBe=e((e,t)=>{U5[e]=t},"setElementForId"),ABe=e(e=>{if(!e)return;let t=u(),n=qs[qs.length-1];e.icon&&(n.icon=Ie(e.icon,t)),e.class&&(n.cssClasses=Ie(e.class,t))},"decorateNode"),SBe=e(e=>{switch(e){case At.DEFAULT:return"no-border";case At.RECT:return"rect";case At.ROUNDED_RECT:return"rounded-rect";case At.CIRCLE:return"circle";case At.CLOUD:return"cloud";case At.BANG:return"bang";case At.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),MBe=e(()=>a,"getLogger"),FBe=e(e=>U5[e],"getElementById"),TBe={clear:yBe,addNode:xBe,getSections:bL,getData:OBe,nodeType:At,getType:EBe,setElementForId:kBe,decorateNode:ABe,type2Str:SBe,getLogger:MBe,getElementById:FBe},zBe=TBe}),RBe=n(()=>{"use strict";P(),x(),xi(),Ht(),bs(),Qg(),Ng(),NBe=e(async(e,t,n,s)=>{a.debug(`Rendering kanban diagram
`+e);let h=s.db.getData(),o=u();o.htmlLabels=!1;let l=Ei(t),m=l.append("g");m.attr("class","sections");let f=l.append("g");f.attr("class","items");let p=h.nodes.filter(e=>e.isGroup),i=0,r=10,g=[],c=25;for(let e of p){let t=o?.kanban?.sectionWidth||200;i=i+1,e.x=t*i+(i-1)*r/2,e.width=t,e.y=0,e.height=t*3,e.rx=5,e.ry=5,e.cssClasses=e.cssClasses+" section-"+i;let n=await n5(m,e);c=Math.max(c,n?.labelBBox?.height),g.push(n)}let d=0;for(let t of p){let i=g[d];d=d+1;let n=o?.kanban?.sectionWidth||200,s=-n*3/2+c,e=s,a=h.nodes.filter(e=>e.parentId===t.id);for(let s of a){if(s.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");s.x=t.x,s.width=n-1.5*r;let i=(await Hg(f,s,{config:o})).node().getBBox();s.y=e+i.height/2,await Rg(s),e=s.y+i.height/2+r/2}let l=i.cluster.select("rect"),u=Math.max(e-s+3*r,50)+(c-25);l.attr("height",u)}tu(void 0,l,o.mindmap?.padding??ye.kanban.padding,o.mindmap?.useMaxWidth??ye.kanban.useMaxWidth)},"draw"),LBe={draw:NBe}}),BBe=n(()=>{"use strict";Js(),PBe=e(t=>{let n="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],za(t["lineColor"+e])?t["lineColor"+e]=z(t["lineColor"+e],20):t["lineColor"+e]=V(t["lineColor"+e],20);let s=e((e,n)=>t.darkMode?V(e,n):z(e,n),"adjuster");for(let e=0;e<t.THEME_COLOR_LIMIT;e++){let o=""+(17-3*e);n+=`
    .section-${e-1} rect, .section-${e-1} path, .section-${e-1} circle, .section-${e-1} polygon, .section-${e-1} path  {
      fill: ${s(t["cScale"+e],10)};
      stroke: ${s(t["cScale"+e],10)};

    }
    .section-${e-1} text {
     fill: ${t["cScaleLabel"+e]};
    }
    .node-icon-${e-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+e]};
    }
    .section-edge-${e-1}{
      stroke: ${t["cScale"+e]};
    }
    .edge-depth-${e-1}{
      stroke-width: ${o};
    }
    .section-${e-1} line {
      stroke: ${t["cScaleInv"+e]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    text-decoration: underline;
  }
    `}return n},"genSections"),HBe=e(e=>`
  .edge {
    stroke-width: 3;
  }
  ${PBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),IBe=HBe}),jL={},de(jL,{diagram:()=>$Be}),WBe=n(()=>{"use strict";pBe(),DBe(),RBe(),BBe(),$Be={db:zBe,renderer:LBe,parser:fBe,styles:IBe}}),qBe=n(()=>{"use strict";V5=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),s=[1,9],n=[1,10],o=[1,5,10,12],a={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 7:let e=s.findOrCreateNode(i[r-4].trim().replaceAll('""','"')),t=s.findOrCreateNode(i[r-2].trim().replaceAll('""','"')),n=parseFloat(i[r].trim());s.addLink(e,t,n);break;case 8:case 9:case 11:this.$=i[r];break;case 10:this.$=i[r-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:s,20:n},{1:[2,6],7:11,10:[1,12]},t(n,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(o,[2,8]),t(o,[2,9]),{19:[1,16]},t(o,[2,11]),{1:[2,1]},{1:[2,5]},t(n,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:s,20:n},{15:18,16:7,17:8,18:s,20:n},{18:[1,19]},t(n,[2,3]),{12:[1,20]},t(o,[2,10]),{15:21,16:7,17:8,18:s,20:n},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},r=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return this.pushState("csv"),4;break;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;break;case 5:return 20;case 6:return this.popState("escaped_text"),18;break;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return t}();a.lexer=r;function i(){this.yy={}}return e(i,"Parser"),i.prototype=a,a.Parser=i,new i}(),V5.parser=V5,yh=V5}),aVe=n(()=>{"use strict";P(),me(),_t(),Eh=[],kh=[],Sh=new Map,QBe=e(()=>{Eh=[],kh=[],Sh=new Map,Tt()},"clear"),ZBe=class{constructor(e,t,n=0){this.source=e,this.target=t,this.value=n}static{e(this,"SankeyLink")}},JBe=e((e,t,n)=>{Eh.push(new ZBe(e,t,n))},"addLink"),eVe=class{constructor(e){this.ID=e}static{e(this,"SankeyNode")}},tVe=e(e=>{e=w.sanitizeText(e,u());let t=Sh.get(e);return t===void 0&&(t=new eVe(e),Sh.set(e,t),kh.push(t)),t},"findOrCreateNode"),nVe=e(()=>kh,"getNodes"),sVe=e(()=>Eh,"getLinks"),oVe=e(()=>({nodes:kh.map(e=>({id:e.ID})),links:Eh.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),iVe={nodesMap:Sh,getConfig:e(()=>u().sankey,"getConfig"),getNodes:nVe,getLinks:sVe,getGraph:oVe,addLink:JBe,findOrCreateNode:tVe,getAccTitle:Yt,setAccTitle:It,getAccDescription:Qt,setAccDescription:Gt,getDiagramTitle:Ft,setDiagramTitle:nn,clear:QBe}});function NL(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n<t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}cVe=n(()=>{"use strict";e(NL,"max")});function LL(e,t){let n;if(t===void 0)for(let t of e)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}dVe=n(()=>{"use strict";e(LL,"min")});function P5(e,t){let n=0;if(t===void 0)for(let t of e)(t=+t)&&(n+=t);else{let s=-1;for(let o of e)(o=+t(o,++s,e))&&(n+=o)}return n}hVe=n(()=>{"use strict";e(P5,"sum")}),BL=n(()=>{"use strict";cVe(),dVe(),hVe()});function fVe(e){return e.target.depth}function pVe(e){return e.depth}function gVe(e,t){return t-1-e.height}function VL(e,t){return e.sourceLinks.length?e.depth:t-1}function bVe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?LL(e.sourceLinks,fVe)-1:0}WL=n(()=>{"use strict";BL(),e(fVe,"targetDepth"),e(pVe,"left"),e(gVe,"right"),e(VL,"justify"),e(bVe,"center")});function zh(e){return function(){return e}}_Ve=n(()=>{"use strict";e(zh,"constant")});function KL(e,t){return Nh(e.source,t.source)||e.index-t.index}function YL(e,t){return Nh(e.target,t.target)||e.index-t.index}function Nh(e,t){return e.y0-t.y0}function R5(e){return e.value}function EVe(e){return e.index}function kVe(e){return e.nodes}function AVe(e){return e.links}function XL(e,t){let n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function QL({nodes:e}){for(let t of e){let n=t.y0,s=n;for(let e of t.sourceLinks)e.y0=n+e.width/2,n+=e.width;for(let e of t.targetLinks)e.y1=s+e.width/2,s+=e.width}}function FVe(){let a=0,s=0,c=1,o=1,l=24,p=8,n,u=EVe,f=VL,r,i,v=kVe,m=AVe,d=6;function t(){let e={nodes:v.apply(null,arguments),links:m.apply(null,arguments)};return A(e),y(e),k(e),E(e),w(e),QL(e),e}e(t,"sankey"),t.update=function(e){return QL(e),e},t.nodeId=function(e){return arguments.length?(u=typeof e=="function"?e:zh(e),t):u},t.nodeAlign=function(e){return arguments.length?(f=typeof e=="function"?e:zh(e),t):f},t.nodeSort=function(e){return arguments.length?(r=e,t):r},t.nodeWidth=function(e){return arguments.length?(l=+e,t):l},t.nodePadding=function(e){return arguments.length?(p=n=+e,t):p},t.nodes=function(e){return arguments.length?(v=typeof e=="function"?e:zh(e),t):v},t.links=function(e){return arguments.length?(m=typeof e=="function"?e:zh(e),t):m},t.linkSort=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(a=s=0,c=+e[0],o=+e[1],t):[c-a,o-s]},t.extent=function(e){return arguments.length?(a=+e[0][0],c=+e[1][0],s=+e[0][1],o=+e[1][1],t):[[a,s],[c,o]]},t.iterations=function(e){return arguments.length?(d=+e,t):d};function A({nodes:e,links:t}){for(let[n,t]of e.entries())t.index=n,t.sourceLinks=[],t.targetLinks=[];let n=new Map(e.map((t,n)=>[u(t,n,e),t]));for(let[i,e]of t.entries()){e.index=i;let{source:s,target:o}=e;typeof s!="object"&&(s=e.source=XL(n,s)),typeof o!="object"&&(o=e.target=XL(n,o)),s.sourceLinks.push(e),o.targetLinks.push(e)}if(i!=null)for(let{sourceLinks:t,targetLinks:n}of e)t.sort(i),n.sort(i)}e(A,"computeNodeLinks");function y({nodes:e}){for(let t of e)t.value=t.fixedValue===void 0?Math.max(P5(t.sourceLinks,R5),P5(t.targetLinks,R5)):t.fixedValue}e(y,"computeNodeValues");function k({nodes:e}){let o=e.length,t=new Set(e),n=new Set,s=0;for(;t.size;){for(let e of t){e.depth=s;for(let{target:t}of e.sourceLinks)n.add(t)}if(++s>o)throw new Error("circular link");t=n,n=new Set}}e(k,"computeNodeDepths");function E({nodes:e}){let o=e.length,t=new Set(e),n=new Set,s=0;for(;t.size;){for(let e of t){e.height=s;for(let{source:t}of e.targetLinks)n.add(t)}if(++s>o)throw new Error("circular link");t=n,n=new Set}}e(E,"computeNodeHeights");function C({nodes:e}){let n=NL(e,e=>e.depth)+1,s=(c-a-l)/(n-1),t=new Array(n);for(let o of e){let i=Math.max(0,Math.min(n-1,Math.floor(f.call(null,o,n))));o.layer=i,o.x0=a+i*s,o.x1=o.x0+l,t[i]?t[i].push(o):t[i]=[o]}if(r)for(let e of t)e.sort(r);return t}e(C,"computeNodeLayers");function _(e){let t=LL(e,e=>(o-s-(e.length-1)*n)/P5(e,R5));for(let a of e){let i=s;for(let e of a){e.y0=i,e.y1=i+e.value*t,i=e.y1+n;for(let n of e.sourceLinks)n.width=n.value*t}i=(o-i+n)/(a.length+1);for(let e=0;e<a.length;++e){let t=a[e];t.y0+=i*(e+1),t.y1+=i*(e+1)}S(a)}}e(_,"initializeNodeBreadths");function w(e){let t=C(e);n=Math.min(p,(o-s)/(NL(t,e=>e.length)-1)),_(t);for(let e=0;e<d;++e){let n=Math.pow(.99,e),s=Math.max(1-n,(e+1)/d);x(t,n,s),O(t,n,s)}}e(w,"computeNodeBreadths");function O(e,t,n){for(let s=1,i=e.length;s<i;++s){let o=e[s];for(let e of o){let s=0,n=0;for(let{source:t,value:i}of e.targetLinks){let o=i*(e.layer-t.layer);s+=M(t,e)*o,n+=o}if(!(n>0))continue;let i=(s/n-e.y0)*t;e.y0+=i,e.y1+=i,g(e)}r===void 0&&o.sort(Nh),h(o,n)}}e(O,"relaxLeftToRight");function x(e,t,n){for(let i=e.length,s=i-2;s>=0;--s){let o=e[s];for(let e of o){let s=0,n=0;for(let{target:t,value:i}of e.sourceLinks){let o=i*(t.layer-e.layer);s+=F(e,t)*o,n+=o}if(!(n>0))continue;let i=(s/n-e.y0)*t;e.y0+=i,e.y1+=i,g(e)}r===void 0&&o.sort(Nh),h(o,n)}}e(x,"relaxRightToLeft");function h(e,t){let i=e.length>>1,a=e[i];b(e,a.y0-n,i-1,t),j(e,a.y1+n,i+1,t),b(e,o,e.length-1,t),j(e,s,0,t)}e(h,"resolveCollisions");function j(e,t,s,o){for(;s<e.length;++s){let i=e[s],a=(t-i.y0)*o;a>1e-6&&(i.y0+=a,i.y1+=a),t=i.y1+n}}e(j,"resolveCollisionsTopToBottom");function b(e,t,s,o){for(;s>=0;--s){let i=e[s],a=(i.y1-t)*o;a>1e-6&&(i.y0-=a,i.y1-=a),t=i.y0-n}}e(b,"resolveCollisionsBottomToTop");function g({sourceLinks:e,targetLinks:t}){if(i===void 0){for(let{source:{sourceLinks:e}}of t)e.sort(YL);for(let{target:{targetLinks:t}}of e)t.sort(KL)}}e(g,"reorderNodeLinks");function S(e){if(i===void 0)for(let{sourceLinks:t,targetLinks:n}of e)t.sort(YL),n.sort(KL)}e(S,"reorderLinks");function M(e,t){let s=e.y0-(e.sourceLinks.length-1)*n/2;for(let{target:o,width:i}of e.sourceLinks){if(o===t)break;s+=i+n}for(let{source:n,width:o}of t.targetLinks){if(n===e)break;s-=o}return s}e(M,"targetTop");function F(e,t){let s=t.y0-(t.targetLinks.length-1)*n/2;for(let{source:o,width:i}of t.targetLinks){if(o===e)break;s+=i+n}for(let{target:n,width:o}of e.sourceLinks){if(n===t)break;s-=o}return s}return e(F,"sourceTop"),t}TVe=n(()=>{"use strict";BL(),WL(),_Ve(),e(KL,"ascendingSourceBreadth"),e(YL,"ascendingTargetBreadth"),e(Nh,"ascendingBreadth"),e(R5,"value"),e(EVe,"defaultId"),e(kVe,"defaultNodes"),e(AVe,"defaultLinks"),e(XL,"find"),e(QL,"computeLinkBreadths"),e(FVe,"Sankey")});function N5(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oR(){return new N5}IVe=n(()=>{"use strict";C5=Math.PI,O5=2*C5,Yr=1e-6,PVe=O5-Yr,e(N5,"Path"),e(oR,"path"),N5.prototype=oR.prototype={constructor:N5,moveTo:e(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:e(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:e(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:e(function(e,t,n,s){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+s)},"quadraticCurveTo"),bezierCurveTo:e(function(e,t,n,s,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +s+","+(this._x1=+o)+","+(this._y1=+i)},"bezierCurveTo"),arcTo:e(function(e,t,n,s,o){e=+e,t=+t,n=+n,s=+s,o=+o;var f=this._x1,m=this._y1,r=n-e,c=s-t,i=f-e,a=m-t,d=i*i+a*a;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Yr)if(!(Math.abs(a*r-c*i)>Yr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var u=n-f,l=s-m,p=r*r+c*c,y=u*u+l*l,g=Math.sqrt(p),v=Math.sqrt(d),b=o*Math.tan((C5-Math.acos((p+d-y)/(2*g*v)))/2),h=b/v,j=b/g;Math.abs(h-1)>Yr&&(this._+="L"+(e+h*i)+","+(t+h*a)),this._+="A"+o+","+o+",0,0,"+ +(a*u>i*l)+","+(this._x1=e+j*r)+","+(this._y1=t+j*c)}},"arcTo"),arc:e(function(e,t,n,s,o,i){e=+e,t=+t,n=+n,i=!!i;var d=n*Math.cos(s),u=n*Math.sin(s),r=e+d,c=t+u,l=1^i,a=i?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+r+","+c:(Math.abs(this._x1-r)>Yr||Math.abs(this._y1-c)>Yr)&&(this._+="L"+r+","+c),n&&(a<0&&(a=a%O5+O5),a>PVe?this._+="A"+n+","+n+",0,1,"+l+","+(e-d)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=r)+","+(this._y1=c):a>Yr&&(this._+="A"+n+","+n+",0,"+ +(a>=C5)+","+l+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},"arc"),rect:e(function(e,t,n,s){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},"rect"),toString:e(function(){return this._},"toString")},HVe=oR}),BVe=n(()=>{"use strict";IVe()});function ER(t){return e(function(){return t},"constant")}$Ve=n(()=>{"use strict";e(ER,"default")});function WVe(e){return e[0]}function UVe(e){return e[1]}KVe=n(()=>{"use strict";e(WVe,"x"),e(UVe,"y")}),YVe=n(()=>{"use strict";qVe=Array.prototype.slice});function GVe(e){return e.source}function XVe(e){return e.target}function QVe(t){var a=GVe,r=XVe,o=WVe,i=UVe,s=null;function n(){var n,e=qVe.call(arguments),c=a.apply(this,e),l=r.apply(this,e);if(s||(s=n=HVe()),t(s,+o.apply(this,(e[0]=c,e)),+i.apply(this,e),+o.apply(this,(e[0]=l,e)),+i.apply(this,e)),n)return s=null,n+""||null}return e(n,"link"),n.source=function(e){return arguments.length?(a=e,n):a},n.target=function(e){return arguments.length?(r=e,n):r},n.x=function(e){return arguments.length?(o=typeof e=="function"?e:ER(+e),n):o},n.y=function(e){return arguments.length?(i=typeof e=="function"?e:ER(+e),n):i},n.context=function(e){return arguments.length?(s=e??null,n):s},n}function ZVe(e,t,n,s,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+s)/2,n,t,o,s,o)}function JVe(){return QVe(ZVe)}e$e=n(()=>{"use strict";BVe(),YVe(),$Ve(),KVe(),e(GVe,"linkSource"),e(XVe,"linkTarget"),e(QVe,"link"),e(ZVe,"curveHorizontal"),e(JVe,"linkHorizontal")}),t$e=n(()=>{"use strict";e$e()});function n$e(e){return[e.source.x1,e.y0]}function s$e(e){return[e.target.x0,e.y1]}function o$e(){return JVe().source(n$e).target(s$e)}i$e=n(()=>{"use strict";t$e(),e(n$e,"horizontalSource"),e(s$e,"horizontalTarget"),e(o$e,"default")}),a$e=n(()=>{"use strict";TVe(),WL(),i$e()}),c$e=n(()=>{"use strict";UR=class t{static{e(this,"Uid")}static{this.count=0}static next(e){return new t(e+ ++t.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}}}),h$e=n(()=>{"use strict";P(),he(),a$e(),Ht(),c$e(),l$e={left:pVe,right:gVe,center:bVe,justify:VL},d$e=e(function(t,n,s,o){let{securityLevel:p,sankey:i}=u(),a=pA.sankey,g;p==="sandbox"&&(g=y("#i"+n));let w=y(p==="sandbox"?g.nodes()[0].contentDocument.body:"body"),l=p==="sandbox"?w.select(`[id="${n}"]`):y(`[id="${n}"]`),m=i?.width??a.width,E=i?.height??a.width,C=i?.useMaxWidth??a.useMaxWidth,x=i?.nodeAlignment??a.nodeAlignment,j=i?.prefix??a.prefix,b=i?.suffix??a.suffix,h=i?.showValues??a.showValues,d=o.db.getGraph(),_=l$e[x];FVe().nodeId(e=>e.id).nodeWidth(10).nodePadding(10+(h?15:0)).nodeAlign(_).extent([[0,0],[m,E]])(d);let r=v6($ve);l.append("g").attr("class","nodes").selectAll(".node").data(d.nodes).join("g").attr("class","node").attr("id",e=>(e.uid=UR.next("node-")).id).attr("transform",function(e){return"translate("+e.x0+","+e.y0+")"}).attr("x",e=>e.x0).attr("y",e=>e.y0).append("rect").attr("height",e=>e.y1-e.y0).attr("width",e=>e.x1-e.x0).attr("fill",e=>r(e.id));let O=e(({id:e,value:t})=>h?`${e}
${j}${Math.round(t*100)/100}${b}`:e,"getText");l.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(d.nodes).join("text").attr("x",e=>e.x0<m/2?e.x1+6:e.x0-6).attr("y",e=>(e.y1+e.y0)/2).attr("dy",`${h?"0":"0.35"}em`).attr("text-anchor",e=>e.x0<m/2?"start":"end").text(O);let v=l.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(d.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),f=i?.linkColor??"gradient";if(f==="gradient"){let e=v.append("linearGradient").attr("id",e=>(e.uid=UR.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",e=>e.source.x1).attr("x2",e=>e.target.x0);e.append("stop").attr("offset","0%").attr("stop-color",e=>r(e.source.id)),e.append("stop").attr("offset","100%").attr("stop-color",e=>r(e.target.id))}let c;switch(f){case"gradient":c=e(e=>e.uid,"coloring");break;case"source":c=e(e=>r(e.source.id),"coloring");break;case"target":c=e(e=>r(e.target.id),"coloring");break;default:c=f}v.append("path").attr("d",o$e()).attr("stroke",c).attr("stroke-width",e=>Math.max(1,e.width)),tu(void 0,l,0,C)},"draw"),u$e={draw:d$e}}),f$e=n(()=>{"use strict";m$e=e(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")}),v$e=n(()=>{"use strict";p$e=e(e=>`.label {
      font-family: ${e.fontFamily};
    }`,"getStyles"),g$e=p$e}),qR={},de(qR,{diagram:()=>y$e}),_$e=n(()=>{"use strict";qBe(),aVe(),h$e(),f$e(),v$e(),j$e=yh.parse.bind(yh),yh.parse=e=>j$e(m$e(e)),y$e={styles:g$e,parser:yh,db:iVe,renderer:u$e}}),hP=n(()=>{"use strict";sn(),bs(),se(),_t(),JR={packet:[]},r5=structuredClone(JR),x$e=ye.packet,C$e=e(()=>{let e=yo({...x$e,...De().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),E$e=e(()=>r5.packet,"getPacket"),k$e=e(e=>{e.length>0&&r5.packet.push(e)},"pushWord"),A$e=e(()=>{Tt(),r5=structuredClone(JR)},"clear"),Wl={pushWord:k$e,getPacket:E$e,getConfig:C$e,clear:A$e,setAccTitle:It,getAccTitle:Yt,setDiagramTitle:nn,getDiagramTitle:Ft,getAccDescription:Qt,setAccDescription:Gt}}),N$e=n(()=>{"use strict";Wu(),x(),T0(),hP(),F$e=1e4,T$e=e(e=>{N0(e,Wl);let n=-1,t=[],s=1,{bitsPerRow:o}=Wl.getConfig();for(let{start:i,end:r,label:c}of e.blocks){if(r&&r<i)throw new Error(`Packet block ${i} - ${r} is invalid. End must be greater than start.`);if(i!==n+1)throw new Error(`Packet block ${i} - ${r??i} is not contiguous. It should start from ${n+1}.`);for(n=r??i,a.debug(`Packet block ${i} - ${n} with label ${c}`);t.length<=o+1&&Wl.getPacket().length<F$e;){let[e,l]=z$e({start:i,end:r,label:c},s,o);if(t.push(e),e.end+1===s*o&&(Wl.pushWord(t),t=[],s++),!l)break;({start:i,end:r,label:c}=l)}}Wl.pushWord(t)},"populate"),z$e=e((e,t,n)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*n?[e,void 0]:[{start:e.start,end:t*n-1,label:e.label},{start:t*n,end:e.end,label:e.label}]},"getNextFittingBlock"),D$e={parse:e(async e=>{let t=await Jc("packet",e);a.debug(t),T$e(t)},"parse")}}),H$e=n(()=>{"use strict";xi(),Ht(),L$e=e((e,t,n,s)=>{let i=s.db,a=i.getConfig(),{rowHeight:l,paddingY:m,bitWidth:f,bitsPerRow:p}=a,d=i.getPacket(),u=i.getDiagramTitle(),h=l+m,r=h*(d.length+1)-(u?0:l),c=f*p+2,o=Ei(t);o.attr("viewbox",`0 0 ${c} ${r}`),ls(o,r,c,a.useMaxWidth);for(let[e,t]of d.entries())R$e(o,t,e,a);o.append("text").text(u).attr("x",c/2).attr("y",r-h/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),R$e=e((e,t,n,{rowHeight:s,paddingX:o,paddingY:i,bitWidth:a,bitsPerRow:r,showBits:c})=>{let l=e.append("g"),d=n*(s+i)+i;for(let e of t){let n=e.start%r*a+1,i=(e.end-e.start+1)*a-o;if(l.append("rect").attr("x",n).attr("y",d).attr("width",i).attr("height",s).attr("class","packetBlock"),l.append("text").attr("x",n+i/2).attr("y",d+s/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(e.label),!c)continue;let u=e.end===e.start,h=d-2;l.append("text").attr("x",n+(u?i/2:0)).attr("y",h).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",u?"middle":"start").text(e.start),u||l.append("text").attr("x",n+i).attr("y",h).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(e.end)}},"drawWord"),P$e={draw:L$e}}),V$e=n(()=>{"use strict";se(),I$e={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},B$e=e(({packet:e}={})=>{let t=yo(I$e,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")}),fP={},de(fP,{diagram:()=>W$e}),U$e=n(()=>{"use strict";hP(),N$e(),H$e(),V$e(),W$e={parser:D$e,db:Wl,renderer:P$e,styles:B$e}}),OP=n(()=>{"use strict";sn(),bs(),se(),_t(),Rl={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},yP={axes:[],curves:[],options:Rl},wc=structuredClone(yP),G$e=ye.radar,X$e=e(()=>yo({...G$e,...De().radar}),"getConfig"),_P=e(()=>wc.axes,"getAxes"),Z$e=e(()=>wc.curves,"getCurves"),J$e=e(()=>wc.options,"getOptions"),eWe=e(e=>{wc.axes=e.map(e=>({name:e.name,label:e.label??e.name}))},"setAxes"),tWe=e(e=>{wc.curves=e.map(e=>({name:e.name,label:e.label??e.name,entries:nWe(e.entries)}))},"setCurves"),nWe=e(e=>{if(e[0].axis==null)return e.map(e=>e.value);let t=_P();if(t.length===0)throw new Error("Axes must be populated before curves for reference entries");return t.map(t=>{let n=e.find(e=>e.axis?.$refText===t.name);if(n===void 0)throw new Error("Missing entry for axis "+t.label);return n.value})},"computeCurveEntries"),sWe=e(e=>{let t=e.reduce((e,t)=>(e[t.name]=t,e),{});wc.options={showLegend:t.showLegend?.value??Rl.showLegend,ticks:t.ticks?.value??Rl.ticks,max:t.max?.value??Rl.max,min:t.min?.value??Rl.min,graticule:t.graticule?.value??Rl.graticule}},"setOptions"),oWe=e(()=>{Tt(),wc=structuredClone(yP)},"clear"),z4={getAxes:_P,getCurves:Z$e,getOptions:J$e,setAxes:eWe,setCurves:tWe,setOptions:sWe,getConfig:X$e,clear:oWe,setAccTitle:It,getAccTitle:Yt,setDiagramTitle:nn,getDiagramTitle:Ft,getAccDescription:Qt,setAccDescription:Gt}}),lWe=n(()=>{"use strict";Wu(),x(),T0(),OP(),rWe=e(e=>{N0(e,z4);let{axes:t,curves:n,options:s}=e;z4.setAxes(t),z4.setCurves(n),z4.setOptions(s)},"populate"),cWe={parse:e(async e=>{let t=await Jc("radar",e);a.debug(t),rWe(t)},"parse")}});function dWe(e,t,n,s,o,i,a){let r=t.length,c=Math.min(a.width,a.height)/2;n.forEach((t,n)=>{if(t.entries.length!==r)return;let l=t.entries.map((e,t)=>{let n=2*Math.PI*t/r-Math.PI/2,i=uWe(e,s,o,c),a=i*Math.cos(n),l=i*Math.sin(n);return{x:a,y:l}});i==="circle"?e.append("path").attr("d",hWe(l,a.curveTension)).attr("class",`radarCurve-${n}`):i==="polygon"&&e.append("polygon").attr("points",l.map(e=>`${e.x},${e.y}`).join(" ")).attr("class",`radarCurve-${n}`)})}function uWe(e,t,n,s){let o=Math.min(Math.max(e,t),n);return s*(o-t)/(n-t)}function hWe(e,t){let n=e.length,s=`M${e[0].x},${e[0].y}`;for(let o=0;o<n;o++){let r=e[(o-1+n)%n],a=e[o],i=e[(o+1)%n],c=e[(o+2)%n],l={x:a.x+(i.x-r.x)*t,y:a.y+(i.y-r.y)*t},d={x:i.x-(c.x-a.x)*t,y:i.y-(c.y-a.y)*t};s+=` C${l.x},${l.y} ${d.x},${d.y} ${i.x},${i.y}`}return`${s} Z`}function mWe(e,t,n,s){if(!n)return;let o=(s.width/2+s.marginRight)*3/4,i=-(s.height/2+s.marginTop)*3/4,a=20;t.forEach((t,n)=>{let s=e.append("g").attr("transform",`translate(${o}, ${i+n*a})`);s.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${n}`),s.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(t.label)})}jWe=n(()=>{"use strict";xi(),fWe=e((e,t,n,s)=>{let a=s.db,c=a.getAxes(),l=a.getCurves(),i=a.getOptions(),o=a.getConfig(),u=a.getDiagramTitle(),h=Ei(t),r=pWe(h,o),m=i.max??Math.max(...l.map(e=>Math.max(...e.entries))),f=i.min,d=Math.min(o.width,o.height)/2;gWe(r,c,d,i.ticks,i.graticule),vWe(r,c,d,o),dWe(r,c,l,f,m,i.graticule,o),mWe(r,l,i.showLegend,o),r.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-o.height/2-o.marginTop)},"draw"),pWe=e((e,t)=>{let n=t.width+t.marginLeft+t.marginRight,s=t.height+t.marginTop+t.marginBottom,o={x:t.marginLeft+t.width/2,y:t.marginTop+t.height/2};return e.attr("viewbox",`0 0 ${n} ${s}`).attr("width",n).attr("height",s),e.append("g").attr("transform",`translate(${o.x}, ${o.y})`)},"drawFrame"),gWe=e((e,t,n,s,o)=>{if(o==="circle")for(let t=0;t<s;t++){let o=n*(t+1)/s;e.append("circle").attr("r",o).attr("class","radarGraticule")}else if(o==="polygon"){let o=t.length;for(let i=0;i<s;i++){let a=n*(i+1)/s,r=t.map((e,t)=>{let n=2*t*Math.PI/o-Math.PI/2,s=a*Math.cos(n),i=a*Math.sin(n);return`${s},${i}`}).join(" ");e.append("polygon").attr("points",r).attr("class","radarGraticule")}}},"drawGraticule"),vWe=e((e,t,n,s)=>{let o=t.length;for(let i=0;i<o;i++){let r=t[i].label,a=2*i*Math.PI/o-Math.PI/2;e.append("line").attr("x1",0).attr("y1",0).attr("x2",n*s.axisScaleFactor*Math.cos(a)).attr("y2",n*s.axisScaleFactor*Math.sin(a)).attr("class","radarAxisLine"),e.append("text").text(r).attr("x",n*s.axisLabelFactor*Math.cos(a)).attr("y",n*s.axisLabelFactor*Math.sin(a)).attr("class","radarAxisLabel")}},"drawAxes"),e(dWe,"drawCurves"),e(uWe,"relativeRadius"),e(hWe,"closedRoundCurve"),e(mWe,"drawLegend"),bWe={draw:fWe}}),OWe=n(()=>{"use strict";se(),Gm(),sn(),yWe=e((e,t)=>{let n="";for(let s=0;s<e.THEME_COLOR_LIMIT;s++){let o=e[`cScale${s}`];n+=`
		.radarCurve-${s} {
			color: ${o};
			fill: ${o};
			fill-opacity: ${t.curveOpacity};
			stroke: ${o};
			stroke-width: ${t.curveStrokeWidth};
		}
		.radarLegendBox-${s} {
			fill: ${o};
			fill-opacity: ${t.curveOpacity};
			stroke: ${o};
		}
		`}return n},"genIndexStyles"),_We=e(e=>{let n=n8(),s=De(),t=yo(n,s.themeVariables),o=yo(t.radar,e);return{themeVariables:t,radarOptions:o}},"buildRadarStyleOptions"),wWe=e(({radar:e}={})=>{let{themeVariables:n,radarOptions:t}=_We(e);return`
	.radarTitle {
		font-size: ${n.fontSize};
		color: ${n.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${t.axisColor};
		stroke-width: ${t.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${t.axisLabelFontSize}px;
		color: ${t.axisColor};
	}
	.radarGraticule {
		fill: ${t.graticuleColor};
		fill-opacity: ${t.graticuleOpacity};
		stroke: ${t.graticuleColor};
		stroke-width: ${t.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${t.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${yWe(n,t)}
	`},"styles")}),CP={},de(CP,{diagram:()=>CWe}),EWe=n(()=>{"use strict";OP(),lWe(),jWe(),OWe(),CWe={parser:cWe,db:z4,renderer:bWe,styles:wWe}}),SWe=n(()=>{"use strict";s5=function(){var t=e(function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},"o"),i=[1,7],l=[1,13],a=[1,14],u=[1,15],s=[1,19],r=[1,16],c=[1,17],o=[1,18],b=[8,30],n=[8,21,28,29,30,31,32,40,44,47],g=[1,23],p=[1,24],m=[8,15,16,21,28,29,30,31,32,40,44,47],h=[8,15,16,21,27,28,29,30,31,32,40,44,47],v=[1,49],f={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:e(function(e,t,n,s,o,i){var r=i.length-1;switch(o){case 4:s.getLogger().debug("Rule: separator (NL) ");break;case 5:s.getLogger().debug("Rule: separator (Space) ");break;case 6:s.getLogger().debug("Rule: separator (EOF) ");break;case 7:s.getLogger().debug("Rule: hierarchy: ",i[r-1]),s.setHierarchy(i[r-1]);break;case 8:s.getLogger().debug("Stop NL ");break;case 9:s.getLogger().debug("Stop EOF ");break;case 10:s.getLogger().debug("Stop NL2 ");break;case 11:s.getLogger().debug("Stop EOF2 ");break;case 12:s.getLogger().debug("Rule: statement: ",i[r]),typeof i[r].length=="number"?this.$=i[r]:this.$=[i[r]];break;case 13:s.getLogger().debug("Rule: statement #2: ",i[r-1]),this.$=[i[r-1]].concat(i[r]);break;case 14:s.getLogger().debug("Rule: link: ",i[r],e),this.$={edgeTypeStr:i[r],label:""};break;case 15:s.getLogger().debug("Rule: LABEL link: ",i[r-3],i[r-1],i[r]),this.$={edgeTypeStr:i[r],label:i[r-1]};break;case 18:let t=parseInt(i[r]),n=s.generateId();this.$={id:n,type:"space",label:"",width:t,children:[]};break;case 23:s.getLogger().debug("Rule: (nodeStatement link node) ",i[r-2],i[r-1],i[r]," typestr: ",i[r-1].edgeTypeStr);let o=s.edgeStrToEdgeData(i[r-1].edgeTypeStr);this.$=[{id:i[r-2].id,label:i[r-2].label,type:i[r-2].type,directions:i[r-2].directions},{id:i[r-2].id+"-"+i[r].id,start:i[r-2].id,end:i[r].id,label:i[r-1].label,type:"edge",directions:i[r].directions,arrowTypeEnd:o,arrowTypeStart:"arrow_open"},{id:i[r].id,label:i[r].label,type:s.typeStr2Type(i[r].typeStr),directions:i[r].directions}];break;case 24:s.getLogger().debug("Rule: nodeStatement (abc88 node size) ",i[r-1],i[r]),this.$={id:i[r-1].id,label:i[r-1].label,type:s.typeStr2Type(i[r-1].typeStr),directions:i[r-1].directions,widthInColumns:parseInt(i[r],10)};break;case 25:s.getLogger().debug("Rule: nodeStatement (node) ",i[r]),this.$={id:i[r].id,label:i[r].label,type:s.typeStr2Type(i[r].typeStr),directions:i[r].directions,widthInColumns:1};break;case 26:s.getLogger().debug("APA123",this?this:"na"),s.getLogger().debug("COLUMNS: ",i[r]),this.$={type:"column-setting",columns:i[r]==="auto"?-1:parseInt(i[r])};break;case 27:s.getLogger().debug("Rule: id-block statement : ",i[r-2],i[r-1]);let c=s.generateId();this.$={...i[r-2],type:"composite",children:i[r-1]};break;case 28:s.getLogger().debug("Rule: blockStatement : ",i[r-2],i[r-1],i[r]);let a=s.generateId();this.$={id:a,type:"composite",label:"",children:i[r-1]};break;case 29:s.getLogger().debug("Rule: node (NODE_ID separator): ",i[r]),this.$={id:i[r]};break;case 30:s.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",i[r-1],i[r]),this.$={id:i[r-1],label:i[r].label,typeStr:i[r].typeStr,directions:i[r].directions};break;case 31:s.getLogger().debug("Rule: dirList: ",i[r]),this.$=[i[r]];break;case 32:s.getLogger().debug("Rule: dirList: ",i[r-1],i[r]),this.$=[i[r-1]].concat(i[r]);break;case 33:s.getLogger().debug("Rule: nodeShapeNLabel: ",i[r-2],i[r-1],i[r]),this.$={typeStr:i[r-2]+i[r],label:i[r-1]};break;case 34:s.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",i[r-3],i[r-2]," #3:",i[r-1],i[r]),this.$={typeStr:i[r-3]+i[r],label:i[r-2],directions:i[r-1]};break;case 35:case 36:this.$={type:"classDef",id:i[r-1].trim(),css:i[r].trim()};break;case 37:this.$={type:"applyClass",id:i[r-1].trim(),styleClass:i[r].trim()};break;case 38:this.$={type:"applyStyles",id:i[r-1].trim(),stylesStr:i[r].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:i,22:8,23:9,24:10,25:11,26:12,28:l,29:a,31:u,32:s,40:r,44:c,47:o},{8:[1,20]},t(b,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:i,28:l,29:a,31:u,32:s,40:r,44:c,47:o}),t(n,[2,16],{14:22,15:g,16:p}),t(n,[2,17]),t(n,[2,18]),t(n,[2,19]),t(n,[2,20]),t(n,[2,21]),t(n,[2,22]),t(m,[2,25],{27:[1,25]}),t(n,[2,26]),{19:26,26:12,32:s},{11:27,13:4,19:5,20:6,21:i,22:8,23:9,24:10,25:11,26:12,28:l,29:a,31:u,32:s,40:r,44:c,47:o},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(h,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(b,[2,13]),{26:35,32:s},{32:[2,14]},{17:[1,36]},t(m,[2,24]),{11:37,13:4,14:22,15:g,16:p,19:5,20:6,21:i,22:8,23:9,24:10,25:11,26:12,28:l,29:a,31:u,32:s,40:r,44:c,47:o},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(h,[2,30]),{18:[1,43]},{18:[1,44]},t(m,[2,23]),{18:[1,45]},{30:[1,46]},t(n,[2,28]),t(n,[2,35]),t(n,[2,36]),t(n,[2,37]),t(n,[2,38]),{37:[1,47]},{34:48,35:v},{15:[1,50]},t(n,[2,27]),t(h,[2,33]),{39:[1,51]},{34:52,35:v,39:[2,31]},{32:[2,15]},t(h,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:e(function(e,t){if(t.recoverable)this.trace(e);else{var n=new Error(e);throw n.hash=t,n}},"parseError"),parse:e(function(t){var o,a,c,l,u,h,m,p,g,b,j,_,x,k,z,T=this,i=[0],y=[],r=[null],n=[],v=this.table,A="",f=0,w=0,E=0,F=2,C=1,M=n.slice.call(arguments,1),s=Object.create(this.lexer),d={yy:{}};for(j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(d.yy[j]=this.yy[j]);s.setInput(t,d.yy),d.yy.lexer=s,d.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={}),g=s.yylloc,n.push(g),x=s.options&&s.options.ranges,typeof d.yy.parseError=="function"?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(e){i.length=i.length-2*e,r.length=r.length-e,n.length=n.length-e}e(S,"popStack");function O(){var e;return e=y.pop()||s.lex()||C,typeof e!="number"&&(e instanceof Array&&(y=e,e=y.pop()),e=T.symbols_[e]||e),e}e(O,"lex");for(u={};;){if(l=i[i.length-1],this.defaultActions[l]?a=this.defaultActions[l]:((o===null||typeof o>"u")&&(o=O()),a=v[l]&&v[l][o]),typeof a>"u"||!a.length||!a[0]){p="",m=[];for(h in v[l])this.terminals_[h]&&h>F&&m.push("'"+this.terminals_[h]+"'");s.showPosition?p="Parse error on line "+(f+1)+`:
`+s.showPosition()+`
Expecting `+m.join(", ")+", got '"+(this.terminals_[o]||o)+"'":p="Parse error on line "+(f+1)+": Unexpected "+(o==C?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(p,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:g,expected:m})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+l+", token: "+o);switch(a[0]){case 1:i.push(o),r.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,_?(o=_,_=null):(w=s.yyleng,A=s.yytext,f=s.yylineno,g=s.yylloc,E>0&&E--);break;case 2:if(c=this.productions_[a[1]][1],u.$=r[r.length-c],u._$={first_line:n[n.length-(c||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(c||1)].first_column,last_column:n[n.length-1].last_column},x&&(u._$.range=[n[n.length-(c||1)].range[0],n[n.length-1].range[1]]),b=this.performAction.apply(u,[A,w,f,d.yy,a[1],r,n].concat(M)),typeof b<"u")return b;c&&(i=i.slice(0,-1*c*2),r=r.slice(0,-1*c),n=n.slice(0,-1*c)),i.push(this.productions_[a[1]][0]),r.push(u.$),n.push(u._$),k=v[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0},"parse")},j=function(){var t={EOF:1,parseError:e(function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw new Error(e)},"parseError"),setInput:e(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:e(function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:e(function(e){this.unput(this.match.slice(e))},"less"),pastInput:e(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},"showPosition"),test_match:e(function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var e=this.next();return e||this.lex()},"lex"),begin:e(function(e){this.conditionStack.push(e)},"begin"),popState:e(function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:e(function(e){this.begin(e)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(e,t,n,s){var o=s;switch(n){case 0:return 10;case 1:return e.getLogger().debug("Found space-block"),31;break;case 2:return e.getLogger().debug("Found nl-block"),31;break;case 3:return e.getLogger().debug("Found space-block"),29;break;case 4:e.getLogger().debug(".",t.yytext);break;case 5:e.getLogger().debug("_",t.yytext);break;case 6:return 5;case 7:return t.yytext=-1,28;break;case 8:return t.yytext=t.yytext.replace(/columns\s+/,""),e.getLogger().debug("COLUMNS (LEX)",t.yytext),28;break;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:e.getLogger().debug("LEX: POPPING STR:",t.yytext),this.popState();break;case 14:return e.getLogger().debug("LEX: STR end:",t.yytext),"STR";break;case 15:return t.yytext=t.yytext.replace(/space:/,""),e.getLogger().debug("SPACE NUM (LEX)",t.yytext),21;break;case 16:return t.yytext="1",e.getLogger().debug("COLUMNS (LEX)",t.yytext),21;break;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;break;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 22:return this.popState(),this.pushState("CLASSDEFID"),41;break;case 23:return this.popState(),42;break;case 24:return this.pushState("CLASS"),44;break;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;break;case 26:return this.popState(),46;break;case 27:return this.pushState("STYLE_STMNT"),47;break;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;break;case 29:return this.popState(),49;break;case 30:return this.pushState("acc_title"),"acc_title";break;case 31:return this.popState(),"acc_title_value";break;case 32:return this.pushState("acc_descr"),"acc_descr";break;case 33:return this.popState(),"acc_descr_value";break;case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";break;case 40:return this.popState(),e.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 41:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";break;case 43:return this.popState(),e.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 44:return this.popState(),e.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 45:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";break;case 46:return this.popState(),e.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 47:return this.popState(),e.getLogger().debug("Lex: ("),"NODE_DEND";break;case 48:return this.popState(),e.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 49:return this.popState(),e.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),e.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 51:return this.popState(),e.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 52:return this.popState(),e.getLogger().debug("Lex: )"),"NODE_DEND";break;case 53:return this.popState(),e.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 54:return this.popState(),e.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 55:return e.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;break;case 56:return e.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;break;case 57:return e.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;break;case 58:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 59:return e.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;break;case 60:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 61:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 62:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 63:return e.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;break;case 64:return e.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;break;case 65:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 66:return this.pushState("NODE"),36;break;case 67:return this.pushState("NODE"),36;break;case 68:return this.pushState("NODE"),36;break;case 69:return this.pushState("NODE"),36;break;case 70:return this.pushState("NODE"),36;break;case 71:return this.pushState("NODE"),36;break;case 72:return this.pushState("NODE"),36;break;case 73:return e.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;break;case 74:return this.pushState("BLOCK_ARROW"),e.getLogger().debug("LEX ARR START"),38;break;case 75:return e.getLogger().debug("Lex: NODE_ID",t.yytext),32;break;case 76:return e.getLogger().debug("Lex: EOF",t.yytext),8;break;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:e.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:e.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return e.getLogger().debug("LEX: NODE_DESCR:",t.yytext),"NODE_DESCR";break;case 84:e.getLogger().debug("LEX POPPING"),this.popState();break;case 85:e.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (right): dir:",t.yytext),"DIR";break;case 87:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (left):",t.yytext),"DIR";break;case 88:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (x):",t.yytext),"DIR";break;case 89:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (y):",t.yytext),"DIR";break;case 90:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (up):",t.yytext),"DIR";break;case 91:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (down):",t.yytext),"DIR";break;case 92:return t.yytext="]>",e.getLogger().debug("Lex (ARROW_DIR end):",t.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 93:return e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;break;case 94:return e.getLogger().debug("Lex: LINK",t.yytext),15;break;case 95:return e.getLogger().debug("Lex: LINK",t.yytext),15;break;case 96:return e.getLogger().debug("Lex: LINK",t.yytext),15;break;case 97:return e.getLogger().debug("Lex: START_LINK",t.yytext),this.pushState("LLABEL"),16;break;case 98:return e.getLogger().debug("Lex: START_LINK",t.yytext),this.pushState("LLABEL"),16;break;case 99:return e.getLogger().debug("Lex: START_LINK",t.yytext),this.pushState("LLABEL"),16;break;case 100:this.pushState("md_string");break;case 101:return e.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 102:return this.popState(),e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;break;case 103:return this.popState(),e.getLogger().debug("Lex: LINK",t.yytext),15;break;case 104:return this.popState(),e.getLogger().debug("Lex: LINK",t.yytext),15;break;case 105:return e.getLogger().debug("Lex: COLON",t.yytext),t.yytext=t.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^([\n\-){}\s<>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return t}();f.lexer=j;function d(){this.yy={}}return e(d,"Parser"),d.prototype=f,f.Parser=d,new d}(),s5.parser=s5,AWe=s5});function MWe(e){switch(a.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return a.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function FWe(e){switch(a.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function TWe(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}lUe=n(()=>{"use strict";fW(),sn(),P(),x(),me(),_t(),wo=new Map,Xg=[],Yg=new Map,RP="color",IP="fill",PWe="bgFill",$P=",",IWe=u(),a8=new Map,VWe=e(e=>w.sanitizeText(e,IWe),"sanitizeText"),$We=e(function(e,t=""){let n=a8.get(e);n||(n={id:e,styles:[],textStyles:[]},a8.set(e,n)),t?.split($P).forEach(e=>{let t=e.replace(/([^;]*);/,"$1").trim();if(RegExp(RP).exec(e)){let e=t.replace(IP,PWe).replace(RP,IP);n.textStyles.push(e)}n.styles.push(t)})},"addStyleClass"),WWe=e(function(e,t=""){let n=wo.get(e);t!=null&&(n.styles=t.split($P))},"addStyle2Node"),UWe=e(function(e,t){e.split(",").forEach(function(e){let n=wo.get(e);if(n===void 0){let t=e.trim();n={id:t,type:"na",children:[]},wo.set(t,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),WP=e((e,t)=>{let s=e.flat(),n=[];for(let e of s){if(e.label&&(e.label=VWe(e.label)),e.type==="classDef"){$We(e.id,e.css);continue}if(e.type==="applyClass"){UWe(e.id,e?.styleClass??"");continue}if(e.type==="applyStyles"){e?.stylesStr&&WWe(e.id,e?.stylesStr);continue}if(e.type==="column-setting")t.columns=e.columns??-1;else if(e.type==="edge"){let t=(Yg.get(e.id)??0)+1;Yg.set(e.id,t),e.id=t+"-"+e.id,Xg.push(e)}else{e.label||(e.type==="composite"?e.label="":e.label=e.id);let t=wo.get(e.id);if(t===void 0?wo.set(e.id,e):(e.type!=="na"&&(t.type=e.type),e.label!==e.id&&(t.label=e.label)),e.children&&WP(e.children,e),e.type==="space"){let t=e.width??1;for(let o=0;o<t;o++){let s=$t(e);s.id=s.id+"-"+o,wo.set(s.id,s),n.push(s)}}else t===void 0&&n.push(e)}}t.children=n},"populateBlockDatabase"),qg=[],_4={id:"root",type:"composite",children:[],columns:-1},GWe=e(()=>{a.debug("Clear called"),Tt(),_4={id:"root",type:"composite",children:[],columns:-1},wo=new Map([["root",_4]]),qg=[],a8=new Map,Xg=[],Yg=new Map},"clear"),e(MWe,"typeStr2Type"),e(FWe,"edgeTypeStr2Type"),e(TWe,"edgeStrToEdgeData"),KP=0,QWe=e(()=>(KP++,"id-"+Math.random().toString(36).substr(2,12)+"-"+KP),"generateId"),ZWe=e(e=>{_4.children=e,WP(e,_4),qg=_4.children},"setHierarchy"),JWe=e(e=>{let t=wo.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),eUe=e(()=>[...wo.values()],"getBlocksFlat"),tUe=e(()=>qg||[],"getBlocks"),nUe=e(()=>Xg,"getEdges"),sUe=e(e=>wo.get(e),"getBlock"),oUe=e(e=>{wo.set(e.id,e)},"setBlock"),iUe=e(()=>console,"getLogger"),aUe=e(function(){return a8},"getClasses"),rUe={getConfig:e(()=>De().block,"getConfig"),typeStr2Type:MWe,edgeTypeStr2Type:FWe,edgeStrToEdgeData:TWe,getLogger:iUe,getBlocksFlat:eUe,getBlocks:tUe,getEdges:nUe,setHierarchy:ZWe,getBlock:sUe,setBlock:oUe,getColumns:JWe,getClasses:aUe,clear:GWe,generateId:QWe},cUe=rUe}),mUe=n(()=>{"use strict";Js(),u8=e((e,t)=>{let n=zg,s=n(e,"r"),o=n(e,"g"),i=n(e,"b");return Wa(s,o,i,t)},"fade"),uUe=e(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${u8(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${u8(e.mainBkg,.5)};
    fill: ${u8(e.clusterBkg,.5)};
    stroke: ${u8(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),hUe=uUe}),EUe=n(()=>{"use strict";x(),fUe=e((e,t,n,s)=>{t.forEach(t=>{xUe[t](e,n,s)})},"insertMarkers"),pUe=e((e,t,n)=>{a.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),gUe=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),vUe=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),bUe=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),jUe=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),yUe=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),_Ue=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),wUe=e((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),OUe=e((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),xUe={extension:pUe,composition:gUe,aggregation:vUe,dependency:bUe,lollipop:jUe,point:yUe,circle:_Ue,cross:wUe,barb:OUe},CUe=fUe});function kUe(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let n=t%e,s=Math.floor(t/e);return{px:n,py:s}}function Kg(e,t,n=0,s=0){a.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"sieblingWidth",n),e?.size?.width||(e.size={width:n,height:s,x:0,y:0});let o=0,i=0;if(e.children?.length>0){for(let n of e.children)Kg(n,t);let h=zUe(e);o=h.width,i=h.height,a.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",o,i);for(let t of e.children)t.size&&(a.debug(`abc95 Setting size of children of ${e.id} id=${t.id} ${o} ${i} ${JSON.stringify(t.size)}`),t.size.width=o*(t.widthInColumns??1)+ft*((t.widthInColumns??1)-1),t.size.height=i,t.size.x=0,t.size.y=0,a.debug(`abc95 updating size of ${e.id} children child:${t.id} maxWidth:${o} maxHeight:${i}`));for(let n of e.children)Kg(n,t,o,i);let l=e.columns??-1,u=0;for(let t of e.children)u+=t.widthInColumns??1;let c=e.children.length;l>0&&l<u&&(c=l);let d=Math.ceil(u/c),r=c*(o+ft)+ft,m=d*(i+ft)+ft;if(r<n){a.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${n} sieblingHeight ${s} width ${r}`),r=n,m=s;let t=(n-c*ft-ft)/c,l=(s-d*ft-ft)/d;a.debug("Size indata abc88",e.id,"childWidth",t,"maxWidth",o),a.debug("Size indata abc88",e.id,"childHeight",l,"maxHeight",i),a.debug("Size indata abc88 xSize",c,"padding",ft);for(let n of e.children)n.size&&(n.size.width=t,n.size.height=l,n.size.x=0,n.size.y=0)}if(a.debug(`abc95 (finale calc) ${e.id} xSize ${c} ySize ${d} columns ${l}${e.children.length} width=${Math.max(r,e.size?.width||0)}`),r<(e?.size?.width||0)){r=e?.size?.width||0;let t=l>0?Math.min(e.children.length,l):e.children.length;if(t>0){let n=(r-t*ft-ft)/t;a.debug("abc95 (growing to fit) width",e.id,r,e.size?.width,n);for(let t of e.children)t.size&&(t.size.width=n)}}e.size={width:r,height:m,x:0,y:0}}a.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function GP(e,t){a.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let n=e.columns??-1;if(a.debug("layoutBlocks columns abc95",e.id,"=>",n,e),e.children&&e.children.length>0){let r=e?.children[0]?.size?.width??0,c=e.children.length*r+(e.children.length-1)*ft;a.debug("widthOfChildren 88",c,"posX");let o=0;a.debug("abc91 block?.size?.x",e.id,e?.size?.x);let s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-ft,i=0;for(let r of e.children){let c=e;if(!r.size)continue;let{width:l,height:u}=r.size,{px:h,py:d}=kUe(n,o);if(d!=i&&(i=d,s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-ft,a.debug("New row in layout for block",e.id," and child ",r.id,i)),a.debug(`abc89 layout blocks (child) id: ${r.id} Pos: ${o} (px, py) ${h},${d} (${c?.size?.x},${c?.size?.y}) parent: ${c.id} width: ${l}${ft}`),c.size){let e=l/2;r.size.x=s+ft+e,a.debug(`abc91 layout blocks (calc) px, pyid:${r.id} startingPos=X${s} new startingPosX${r.size.x} ${e} padding=${ft} width=${l} halfWidth=${e} => x:${r.size.x} y:${r.size.y} ${r.widthInColumns} (width * (child?.w || 1)) / 2 ${l*(r?.widthInColumns??1)/2}`),s=r.size.x+e,r.size.y=c.size.y-c.size.height/2+d*(u+ft)+u/2+ft,a.debug(`abc88 layout blocks (calc) px, pyid:${r.id}startingPosX${s}${ft}${e}=>x:${r.size.x}y:${r.size.y}${r.widthInColumns}(width * (child?.w || 1)) / 2${l*(r?.widthInColumns??1)/2}`)}r.children&&GP(r,t),o+=r?.widthInColumns??1,a.debug("abc88 columnsPos",r,o)}}a.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function iH(e,{minX:t,minY:n,maxX:s,maxY:o}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:i,y:a,width:r,height:c}=e.size;i-r/2<t&&(t=i-r/2),a-c/2<n&&(n=a-c/2),i+r/2>s&&(s=i+r/2),a+c/2>o&&(o=a+c/2)}if(e.children)for(let i of e.children)({minX:t,minY:n,maxX:s,maxY:o}=iH(i,{minX:t,minY:n,maxX:s,maxY:o}));return{minX:t,minY:n,maxX:s,maxY:o}}function FUe(e){let t=e.getBlock("root");if(!t)return;Kg(t,e,0,0),GP(t,e),a.debug("getBlocks",JSON.stringify(t,null,2));let{minX:n,minY:s,maxX:o,maxY:i}=iH(t),r=i-s,c=o-n;return{x:n,y:s,width:c,height:r}}DUe=n(()=>{"use strict";x(),P(),ft=u()?.block?.padding??8,e(kUe,"calculateBlockPosition"),zUe=e(e=>{let t=0,n=0;for(let s of e.children){let{width:o,height:i,x:r,y:c}=s.size??{width:0,height:0,x:0,y:0};a.debug("getMaxChildSize abc95 child:",s.id,"width:",o,"height:",i,"x:",r,"y:",c,s.type),s.type!=="space"&&(o>t&&(t=o/(e.widthInColumns??1)),i>n&&(n=i))}return{width:t,height:n}},"getMaxChildSize"),e(Kg,"setBlockSizes"),e(GP,"layoutBlocks"),e(iH,"findBounds"),e(FUe,"layout")});function lH(e,t){t&&e.attr("style",t)}function LUe(e){let s=y(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),t=s.append("xhtml:div"),o=e.label,i=e.isNode?"nodeLabel":"edgeLabel",n=t.append("span");return n.html(o),lH(n,e.labelStyle),n.attr("class",i),lH(t,e.labelStyle),t.style("display","inline-block"),t.style("white-space","nowrap"),t.attr("xmlns","http://www.w3.org/1999/xhtml"),s.node()}Bg=n(()=>{"use strict";he(),x(),P(),me(),se(),Rs(),e(lH,"applyStyle"),e(LUe,"addHtmlLabel"),RUe=e((e,t,n,s)=>{let o=e||"";if(typeof o=="object"&&(o=o[0]),Pe(u().flowchart.htmlLabels)){o=o.replace(/\\n|\n/g,"<br />"),a.debug("vertexText"+o);let e={isNode:s,label:Sz(Zo(o)),labelStyle:t.replace("fill:","color:")};return LUe(e)}let r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("style",t.replace("color:","fill:"));let i=[];typeof o=="string"?i=o.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(o)?i=o:i=[];for(let t of i){let e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),n?e.setAttribute("class","title-row"):e.setAttribute("class","row"),e.textContent=t.trim(),r.appendChild(e)}return r},"createLabel"),to=RUe}),$Ue=n(()=>{"use strict";x(),IUe=e((e,t,n,s,o)=>{t.arrowTypeStart&&uH(e,"start",t.arrowTypeStart,n,s,o),t.arrowTypeEnd&&uH(e,"end",t.arrowTypeEnd,n,s,o)},"addEdgeMarkers"),BUe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},uH=e((e,t,n,s,o,i)=>{let r=BUe[n];if(!r){a.warn(`Unknown arrow type: ${n}`);return}let c=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${s}#${o}_${i}-${r}${c})`)},"addEdgeMarker")});function F8(e,t){u().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}JUe=n(()=>{"use strict";x(),Bg(),Rs(),he(),P(),se(),me(),HP(),Bm(),$Ue(),Ig={},En={},qUe=e((e,t)=>{let i=u(),a=Pe(i.flowchart.htmlLabels),o=t.labelType==="markdown"?ms(e,t.label,{style:t.labelStyle,useHtmlLabels:a,addSvgBackground:!0},i):to(t.label,t.labelStyle),r=e.insert("g").attr("class","edgeLabel"),c=r.insert("g").attr("class","label");c.node().appendChild(o);let s=o.getBBox();if(a){let t=o.children[0],e=y(o);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}c.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),Ig[t.id]=r,t.width=s.width,t.height=s.height;let n;if(t.startLabelLeft){let s=to(t.startLabelLeft,t.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),En[t.id]||(En[t.id]={}),En[t.id].startLeft=o,F8(n,t.startLabelLeft)}if(t.startLabelRight){let s=to(t.startLabelRight,t.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=o.node().appendChild(s),i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),En[t.id]||(En[t.id]={}),En[t.id].startRight=o,F8(n,t.startLabelRight)}if(t.endLabelLeft){let s=to(t.endLabelLeft,t.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(s),En[t.id]||(En[t.id]={}),En[t.id].endLeft=o,F8(n,t.endLabelLeft)}if(t.endLabelRight){let s=to(t.endLabelRight,t.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");n=i.node().appendChild(s);let a=s.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(s),En[t.id]||(En[t.id]={}),En[t.id].endRight=o,F8(n,t.endLabelRight)}return o},"insertEdgeLabel"),e(F8,"setTerminalWidth"),YUe=e((e,t)=>{a.debug("Moving label abc88 ",e.id,e.label,Ig[e.id],t);let n=t.updatedPath?t.updatedPath:t.originalPath,s=u(),{subGraphTitleTotalMargin:o}=F4(s);if(e.label){let r=Ig[e.id],s=e.x,i=e.y;if(n){let o=le.calcLabelPosition(n);a.debug("Moving label "+e.label+" from (",s,",",i,") to (",o.x,",",o.y,") abc88"),t.updatedPath&&(s=o.x,i=o.y)}r.attr("transform",`translate(${s}, ${i+o/2})`)}if(e.startLabelLeft){let o=En[e.id].startLeft,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.startLabelRight){let o=En[e.id].startRight,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.endLabelLeft){let o=En[e.id].endLeft,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}if(e.endLabelRight){let o=En[e.id].endRight,t=e.x,s=e.y;if(n){let o=le.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);t=o.x,s=o.y}o.attr("transform",`translate(${t}, ${s})`)}},"positionEdgeLabel"),GUe=e((e,t)=>{let n=e.x,s=e.y,o=Math.abs(t.x-n),i=Math.abs(t.y-s),a=e.width/2,r=e.height/2;return o>=a||i>=r},"outsideNode"),XUe=e((e,t,n)=>{a.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let c=e.x,u=e.y,f=Math.abs(c-n.x),r=e.width/2,s=n.x<t.x?r-f:r+f,h=e.height/2,i=Math.abs(t.y-n.y),o=Math.abs(t.x-n.x);if(Math.abs(u-t.y)*r>Math.abs(c-t.x)*h){let r=n.y<t.y?t.y-h-u:u-h-t.y;s=o*r/i;let e={x:n.x<t.x?n.x+s:n.x-o+s,y:n.y<t.y?n.y+i-r:n.y-i+r};return s===0&&(e.x=t.x,e.y=t.y),o===0&&(e.x=t.x),i===0&&(e.y=t.y),a.debug(`abc89 topp/bott calc, Q ${i}, q ${r}, R ${o}, r ${s}`,e),e}n.x<t.x?s=t.x-r-c:s=c-r-t.x;let m=i*s/o,l=n.x<t.x?n.x+o-s:n.x-o+s,d=n.y<t.y?n.y+m:n.y-m;return a.debug(`sides calc abc89, Q ${i}, q ${m}, R ${o}, r ${s}`,{_x:l,_y:d}),s===0&&(l=t.x,d=t.y),o===0&&(l=t.x),i===0&&(d=t.y),{x:l,y:d}},"intersection"),mH=e((e,t)=>{a.debug("abc88 cutPathAtIntersect",e,t);let n=[],o=e[0],s=!1;return e.forEach(e=>{if(!GUe(t,e)&&!s){let i=XUe(t,o,e),a=!1;n.forEach(e=>{a=a||e.x===i.x&&e.y===i.y}),n.some(e=>e.x===i.x&&e.y===i.y)||n.push(i),s=!0}else o=e,s||n.push(e)}),n},"cutPathAtIntersect"),ZUe=e(function(e,t,n,s,o,i,r){let c=n.points;a.debug("abc88 InsertEdge: edge=",n,"e=",t);let h=!1,g=i.node(t.v);var f=i.node(t.w);f?.intersect&&g?.intersect&&(c=c.slice(1,n.points.length-1),c.unshift(g.intersect(c[0])),c.push(f.intersect(c[c.length-1]))),n.toCluster&&(a.debug("to cluster abc88",s[n.toCluster]),c=mH(n.points,s[n.toCluster].node),h=!0),n.fromCluster&&(a.debug("from cluster abc88",s[n.fromCluster]),c=mH(c.reverse(),s[n.fromCluster].node).reverse(),h=!0);let _=c.filter(e=>!Number.isNaN(e.y)),p=pl;n.curve&&(o==="graph"||o==="flowchart")&&(p=n.curve);let{x:v,y:b}=PP(n),j=v4().x(v).y(b).curve(p),l;switch(n.thickness){case"normal":l="edge-thickness-normal";break;case"thick":l="edge-thickness-thick";break;case"invisible":l="edge-thickness-thick";break;default:l=""}switch(n.pattern){case"solid":l+=" edge-pattern-solid";break;case"dotted":l+=" edge-pattern-dotted";break;case"dashed":l+=" edge-pattern-dashed";break}let y=e.append("path").attr("d",j(_)).attr("id",n.id).attr("class"," "+l+(n.classes?" "+n.classes:"")).attr("style",n.style),d="";(u().flowchart.arrowMarkerAbsolute||u().state.arrowMarkerAbsolute)&&(d=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,d=d.replace(/\(/g,"\\("),d=d.replace(/\)/g,"\\)")),IUe(y,n,d,r,o);let m={};return h&&(m.updatedPath=c),m.originalPath=n.points,m},"insertEdge")}),nKe=n(()=>{"use strict";eKe=e(e=>{let t=new Set;for(let n of e)switch(n){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(n);break}return t},"expandAndDeduplicateDirections"),tKe=e((e,t,n)=>{let r=eKe(e),c=2,s=t.height+2*n.padding,o=s/c,i=t.width+2*o+n.padding,a=n.padding/2;return r.has("right")&&r.has("left")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:o,y:0},{x:i/2,y:2*a},{x:i-o,y:0},{x:i,y:0},{x:i,y:-s/3},{x:i+2*a,y:-s/2},{x:i,y:-2*s/3},{x:i,y:-s},{x:i-o,y:-s},{x:i/2,y:-s-2*a},{x:o,y:-s},{x:0,y:-s},{x:0,y:-2*s/3},{x:-2*a,y:-s/2},{x:0,y:-s/3}]:r.has("right")&&r.has("left")&&r.has("up")?[{x:o,y:0},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}]:r.has("right")&&r.has("left")&&r.has("down")?[{x:0,y:0},{x:o,y:-s},{x:i-o,y:-s},{x:i,y:0}]:r.has("right")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:i,y:-o},{x:i,y:-s+o},{x:0,y:-s}]:r.has("left")&&r.has("up")&&r.has("down")?[{x:i,y:0},{x:0,y:-o},{x:0,y:-s+o},{x:i,y:-s}]:r.has("right")&&r.has("left")?[{x:o,y:0},{x:o,y:-a},{x:i-o,y:-a},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:i-o,y:-s+a},{x:o,y:-s+a},{x:o,y:-s},{x:0,y:-s/2}]:r.has("up")&&r.has("down")?[{x:i/2,y:0},{x:0,y:-a},{x:o,y:-a},{x:o,y:-s+a},{x:0,y:-s+a},{x:i/2,y:-s},{x:i,y:-s+a},{x:i-o,y:-s+a},{x:i-o,y:-a},{x:i,y:-a}]:r.has("right")&&r.has("up")?[{x:0,y:0},{x:i,y:-o},{x:0,y:-s}]:r.has("right")&&r.has("down")?[{x:0,y:0},{x:i,y:0},{x:0,y:-s}]:r.has("left")&&r.has("up")?[{x:i,y:0},{x:0,y:-o},{x:i,y:-s}]:r.has("left")&&r.has("down")?[{x:i,y:0},{x:0,y:0},{x:i,y:-s}]:r.has("right")?[{x:o,y:-a},{x:o,y:-a},{x:i-o,y:-a},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:i-o,y:-s+a},{x:o,y:-s+a},{x:o,y:-s+a}]:r.has("left")?[{x:o,y:0},{x:o,y:-a},{x:i-o,y:-a},{x:i-o,y:-s+a},{x:o,y:-s+a},{x:o,y:-s},{x:0,y:-s/2}]:r.has("up")?[{x:o,y:-a},{x:o,y:-s+a},{x:0,y:-s+a},{x:i/2,y:-s},{x:i,y:-s+a},{x:i-o,y:-s+a},{x:i-o,y:-a}]:r.has("down")?[{x:i/2,y:0},{x:0,y:-a},{x:o,y:-a},{x:o,y:-s+a},{x:i-o,y:-s+a},{x:i-o,y:-a},{x:i,y:-a}]:[{x:0,y:0}]},"getArrowPoints")});function sKe(e,t){return e.intersect(t)}iKe=n(()=>{"use strict";e(sKe,"intersectNode"),oKe=sKe});function aKe(e,t,n,s){var o,i=e.x,a=e.y,r=i-s.x,c=a-s.y,d=Math.sqrt(t*t*c*c+n*n*r*r),l=Math.abs(t*n*r/d);return s.x<i&&(l=-l),o=Math.abs(t*n*c/d),s.y<a&&(o=-o),{x:i+l,y:a+o}}MH=n(()=>{"use strict";e(aKe,"intersectEllipse"),pH=aKe});function lKe(e,t,n){return pH(e,t,t,n)}uKe=n(()=>{"use strict";MH(),e(lKe,"intersectCircle"),dKe=lKe});function hKe(e,t,n,s){var o,i,a,r,c,l,d,u,h,m,f,p,g,v,b;if(u=t.y-e.y,r=e.x-t.x,l=t.x*e.y-e.x*t.y,p=u*n.x+r*n.y+l,f=u*s.x+r*s.y+l,!(p!==0&&f!==0&&TH(p,f))&&(a=s.y-n.y,c=n.x-s.x,d=s.x*n.y-n.x*s.y,m=a*e.x+c*e.y+d,g=a*t.x+c*t.y+d,!(m!==0&&g!==0&&TH(m,g))&&(i=u*c-a*r,i!==0)))return h=Math.abs(i/2),o=r*d-c*l,v=o<0?(o-h)/i:(o+h)/i,o=a*l-u*d,b=o<0?(o-h)/i:(o+h)/i,{x:v,y:b}}function TH(e,t){return e*t>0}pKe=n(()=>{"use strict";e(hKe,"intersectLine"),e(TH,"sameSign"),fKe=hKe});function gKe(e,t,n){var h=e.x,m=e.y,s=[],o=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(e){o=Math.min(o,e.x),i=Math.min(i,e.y)}):(o=Math.min(o,t.x),i=Math.min(i,t.y));for(var r=h-e.width/2-o,c=m-e.height/2-i,a=0;a<t.length;a++){var l=t[a],d=t[a<t.length-1?a+1:0],u=fKe(e,n,{x:r+l.x,y:c+l.y},{x:r+d.x,y:c+d.y});u&&s.push(u)}return s.length?(s.length>1&&s.sort(function(e,t){var s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),s[0]):e}bKe=n(()=>{"use strict";pKe(),vKe=gKe,e(gKe,"intersectPolygon")}),_Ke=n(()=>{"use strict";jKe=e((e,t)=>{var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}},"intersectRect"),yKe=jKe}),zH=n(()=>{"use strict";iKe(),uKe(),MH(),bKe(),_Ke(),et={node:oKe,circle:dKe,ellipse:pH,polygon:vKe,rect:yKe}});function Jo(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}DH=n(()=>{"use strict";Bg(),Rs(),P(),he(),me(),se(),qt=e(async(t,n,s,o)=>{let a=u(),d,h=n.useHtmlLabels||Pe(a.flowchart.htmlLabels);s?d=s:d="node default";let m=t.insert("g").attr("class",d).attr("id",n.domId||n.id),r=m.insert("g").attr("class","label").attr("style",n.labelStyle),c;n.labelText===void 0?c="":c=typeof n.labelText=="string"?n.labelText:n.labelText[0];let f=r.node(),l;n.labelType==="markdown"?l=ms(r,Ie(Zo(c),a),{useHtmlLabels:h,width:n.width||a.flowchart.wrappingWidth,classes:"markdown-node-label"},a):l=f.appendChild(to(Ie(Zo(c),a),n.labelStyle,!1,o));let i=l.getBBox(),p=n.padding/2;if(Pe(a.flowchart.htmlLabels)){let t=l.children[0],n=y(l),s=t.getElementsByTagName("img");if(s){let t=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...s].map(n=>new Promise(s=>{function o(){if(n.style.display="flex",n.style.flexDirection="column",t){let t=a.fontSize?a.fontSize:window.getComputedStyle(document.body).fontSize,e=parseInt(t,10)*5+"px";n.style.minWidth=e,n.style.maxWidth=e}else n.style.width="100%";s(n)}e(o,"setupImage"),setTimeout(()=>{n.complete&&o()}),n.addEventListener("error",o),n.addEventListener("load",o)})))}i=t.getBoundingClientRect(),n.attr("width",i.width),n.attr("height",i.height)}return h?r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"):r.attr("transform","translate(0, "+-i.height/2+")"),n.centerLabel&&r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),r.insert("rect",":first-child"),{shapeSvg:m,bbox:i,halfPadding:p,label:r}},"labelHelper"),ct=e((e,t)=>{let n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),e(Jo,"insertPolygonShape")}),MKe=n(()=>{"use strict";DH(),x(),P(),zH(),AKe=e(async(e,t)=>{t.useHtmlLabels||u().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:s,bbox:n,halfPadding:o}=await qt(e,t,"node "+t.classes,!0);a.info("Classes = ",t.classes);let i=s.insert("rect",":first-child");return i.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-o).attr("y",-n.height/2-o).attr("width",n.width+t.padding).attr("height",n.height+t.padding),ct(t,i),t.intersect=function(e){return et.rect(t,e)},s},"note"),SKe=AKe});function Dg(t,n,s,o){let c=[],i=e(e=>{c.push(e,0)},"addBorder"),r=e(e=>{c.push(0,e)},"skipBorder");n.includes("t")?(a.debug("add top border"),i(s)):r(s),n.includes("r")?(a.debug("add right border"),i(o)):r(o),n.includes("b")?(a.debug("add bottom border"),i(s)):r(s),n.includes("l")?(a.debug("add left border"),i(o)):r(o),t.attr("stroke-dasharray",c.join(" "))}rqe=n(()=>{"use strict";he(),P(),me(),x(),nKe(),Bg(),zH(),MKe(),DH(),RH=e(e=>e?" "+e:"","formatClass"),Es=e((e,t)=>`${t||"node default"}${RH(e.classes)} ${RH(e.class)}`,"getClassesFromNode"),dI=e(async(e,t)=>{let{shapeSvg:s,bbox:o}=await qt(e,t,Es(t,void 0),!0),c=o.width+t.padding,l=o.height+t.padding,n=c+l,i=[{x:n/2,y:0},{x:n,y:-n/2},{x:n/2,y:-n},{x:0,y:-n/2}];a.info("Question main (Circle)");let r=Jo(s,n,n,i);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return a.warn("Intersect called"),et.polygon(t,i,e)},s},"question"),NKe=e((e,t)=>{let s=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,o=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return s.insert("polygon",":first-child").attr("points",o.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return et.circle(t,14,e)},s},"choice"),LKe=e(async(e,t)=>{let{shapeSvg:i,bbox:a}=await qt(e,t,Es(t,void 0),!0),l=4,n=a.height+t.padding,s=n/l,o=a.width+2*s+t.padding,r=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-n/2},{x:o-s,y:-n},{x:s,y:-n},{x:0,y:-n/2}],c=Jo(i,o,n,r);return c.attr("style",t.style),ct(t,c),t.intersect=function(e){return et.polygon(t,r,e)},i},"hexagon"),RKe=e(async(e,t)=>{let{shapeSvg:s,bbox:n}=await qt(e,t,void 0,!0),r=2,o=n.height+2*t.padding,c=o/r,l=n.width+2*c+t.padding,i=tKe(t.directions,n,t),a=Jo(s,l,o,i);return a.attr("style",t.style),ct(t,a),t.intersect=function(e){return et.polygon(t,i,e)},s},"block_arrow"),PKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-n/2,y:0},{x:s,y:0},{x:s,y:-n},{x:-n/2,y:-n},{x:0,y:-n/2}];return Jo(o,s,n,a).attr("style",t.style),t.width=s+n,t.height=n,t.intersect=function(e){return et.polygon(t,a,e)},o},"rect_left_inv_arrow"),HKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:n/6,y:-n}],r=Jo(o,s,n,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"lean_right"),IKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:2*n/6,y:0},{x:s+n/6,y:0},{x:s-2*n/6,y:-n},{x:-n/6,y:-n}],r=Jo(o,s,n,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"lean_left"),BKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s+2*n/6,y:0},{x:s-n/6,y:-n},{x:n/6,y:-n}],r=Jo(o,s,n,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"trapezoid"),VKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:-2*n/6,y:-n}],r=Jo(o,s,n,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"inv_trapezoid"),$Ke=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:0,y:0},{x:s+n/2,y:0},{x:s,y:-n/2},{x:s+n/2,y:-n},{x:0,y:-n}],r=Jo(o,s,n,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"rect_right_inv_arrow"),WKe=e(async(e,t)=>{let{shapeSvg:a,bbox:r}=await qt(e,t,Es(t,void 0),!0),o=r.width+t.padding,s=o/2,n=s/(2.5+o/50),i=r.height+n+t.padding,c="M 0,"+n+" a "+s+","+n+" 0,0,0 "+o+" 0 a "+s+","+n+" 0,0,0 "+-o+" 0 l 0,"+i+" a "+s+","+n+" 0,0,0 "+o+" 0 l 0,"+-i,l=a.attr("label-offset-y",n).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-o/2+","+-(i/2+n)+")");return ct(t,l),t.intersect=function(e){let o=et.rect(t,e),i=o.x-t.x;if(s!=0&&(Math.abs(i)<t.width/2||Math.abs(i)==t.width/2&&Math.abs(o.y-t.y)>t.height/2-n)){let a=n*n*(1-i*i/(s*s));a!=0&&(a=Math.sqrt(a)),a=n-a,e.y-t.y>0&&(a=-a),o.y+=a}return o},a},"cylinder"),UKe=e(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:c}=await qt(e,t,"node "+t.classes+" "+t.class,!0),s=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,i=t.positioned?t.height:n.height+t.padding,l=t.positioned?-o/2:-n.width/2-c,d=t.positioned?-i/2:-n.height/2-c;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",d).attr("width",o).attr("height",i),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&(Dg(s,t.props.borders,o,i),e.delete("borders")),e.forEach(e=>{a.warn(`Unknown node property ${e}`)})}return ct(t,s),t.intersect=function(e){return et.rect(t,e)},r},"rect"),KKe=e(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:c}=await qt(e,t,"node "+t.classes,!0),s=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,i=t.positioned?t.height:n.height+t.padding,l=t.positioned?-o/2:-n.width/2-c,d=t.positioned?-i/2:-n.height/2-c;if(s.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",d).attr("width",o).attr("height",i),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&(Dg(s,t.props.borders,o,i),e.delete("borders")),e.forEach(e=>{a.warn(`Unknown node property ${e}`)})}return ct(t,s),t.intersect=function(e){return et.rect(t,e)},r},"composite"),qKe=e(async(e,t)=>{let{shapeSvg:n}=await qt(e,t,"label",!0);a.trace("Classes = ",t.class);let s=n.insert("rect",":first-child"),o=0,i=0;if(s.attr("width",o).attr("height",i),n.attr("class","label edgeLabel"),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&(Dg(s,t.props.borders,o,i),e.delete("borders")),e.forEach(e=>{a.warn(`Unknown node property ${e}`)})}return ct(t,s),t.intersect=function(e){return et.rect(t,e)},n},"labelRect"),e(Dg,"applyNodePropertyBorders"),YKe=e((e,t)=>{let m;t.classes?m="node "+t.classes:m="node default";let r=e.insert("g").attr("class",m).attr("id",t.domId||t.id),p=r.insert("rect",":first-child"),g=r.insert("line"),c=r.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText,l="";typeof o=="object"?l=o[0]:l=o,a.info("Label text abc79",l,o,typeof o=="object");let d=c.node().appendChild(to(l,t.labelStyle,!0,!0)),n={width:0,height:0};if(Pe(u().flowchart.htmlLabels)){let t=d.children[0],e=y(d);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}a.info("Text 2",o);let h=o.slice(1,o.length),i=d.getBBox(),f=c.node().appendChild(to(h.join?h.join("<br/>"):h,t.labelStyle,!0,!0));if(Pe(u().flowchart.htmlLabels)){let t=f.children[0],e=y(f);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}let s=t.padding/2;return y(f).attr("transform","translate( "+(n.width>i.width?0:(i.width-n.width)/2)+", "+(i.height+s+5)+")"),y(d).attr("transform","translate( "+(n.width<i.width?0:-(i.width-n.width)/2)+", 0)"),n=c.node().getBBox(),c.attr("transform","translate("+-n.width/2+", "+(-n.height/2-s+3)+")"),p.attr("class","outer title-state").attr("x",-n.width/2-s).attr("y",-n.height/2-s).attr("width",n.width+t.padding).attr("height",n.height+t.padding),g.attr("class","divider").attr("x1",-n.width/2-s).attr("x2",n.width/2+s).attr("y1",-n.height/2-s+i.height+s).attr("y2",-n.height/2-s+i.height+s),ct(t,p),t.intersect=function(e){return et.rect(t,e)},r},"rectWithTitle"),GKe=e(async(e,t)=>{let{shapeSvg:s,bbox:o}=await qt(e,t,Es(t,void 0),!0),n=o.height+t.padding,i=o.width+n/4+t.padding,a=s.insert("rect",":first-child").attr("style",t.style).attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return ct(t,a),t.intersect=function(e){return et.rect(t,e)},s},"stadium"),XKe=e(async(e,t)=>{let{shapeSvg:o,bbox:n,halfPadding:s}=await qt(e,t,Es(t,void 0),!0),i=o.insert("circle",":first-child");return i.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+s).attr("width",n.width+t.padding).attr("height",n.height+t.padding),a.info("Circle main"),ct(t,i),t.intersect=function(e){return a.info("Circle intersect",t,n.width/2+s,e),et.circle(t,n.width/2+s,e)},o},"circle"),QKe=e(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:o}=await qt(e,t,Es(t,void 0),!0),s=5,i=r.insert("g",":first-child"),c=i.insert("circle"),l=i.insert("circle");return i.attr("class",t.class),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+o+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+o).attr("width",n.width+t.padding).attr("height",n.height+t.padding),a.info("DoubleCircle main"),ct(t,c),t.intersect=function(e){return a.info("DoubleCircle intersect",t,n.width/2+o+s,e),et.circle(t,n.width/2+o+s,e)},r},"doublecircle"),ZKe=e(async(e,t)=>{let{shapeSvg:o,bbox:i}=await qt(e,t,Es(t,void 0),!0),n=i.width+t.padding,s=i.height+t.padding,a=[{x:0,y:0},{x:n,y:0},{x:n,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],r=Jo(o,n,s,a);return r.attr("style",t.style),ct(t,r),t.intersect=function(e){return et.polygon(t,a,e)},o},"subroutine"),JKe=e((e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),ct(t,s),t.intersect=function(e){return et.circle(t,7,e)},n},"start"),pI=e((e,t,n)=>{let i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),s=70,o=10;n==="LR"&&(s=10,o=70);let a=i.append("rect").attr("x",-1*s/2).attr("y",-1*o/2).attr("width",s).attr("height",o).attr("class","fork-join");return ct(t,a),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return et.rect(t,e)},i},"forkJoin"),tqe=e((e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),o=n.insert("circle",":first-child"),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),o.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),ct(t,s),t.intersect=function(e){return et.circle(t,7,e)},n},"end"),nqe=e((e,t)=>{let i=t.padding/2,r=4,a=8,g;t.classes?g="node "+t.classes:g="node default";let d=e.insert("g").attr("class",g).attr("id",t.domId||t.id),v=d.insert("rect",":first-child"),x=d.insert("line"),_=d.insert("line"),n=0,s=r,m=d.insert("g").attr("class","label"),o=0,w=t.classData.annotations?.[0],O=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",f=m.node().appendChild(to(O,t.labelStyle,!0,!0)),l=f.getBBox();if(Pe(u().flowchart.htmlLabels)){let t=f.children[0],e=y(f);l=t.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height)}t.classData.annotations[0]&&(s+=l.height+r,n+=l.width);let p=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(u().flowchart.htmlLabels?p+="&lt;"+t.classData.type+"&gt;":p+="<"+t.classData.type+">");let h=m.node().appendChild(to(p,t.labelStyle,!0,!0));y(h).attr("class","classTitle");let c=h.getBBox();if(Pe(u().flowchart.htmlLabels)){let t=h.children[0],e=y(h);c=t.getBoundingClientRect(),e.attr("width",c.width),e.attr("height",c.height)}s+=c.height+r,c.width>n&&(n=c.width);let b=[];t.classData.members.forEach(e=>{let a=e.getDisplayDetails(),c=a.displayText;u().flowchart.htmlLabels&&(c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let i=m.node().appendChild(to(c,a.cssStyle?a.cssStyle:t.labelStyle,!0,!0)),o=i.getBBox();if(Pe(u().flowchart.htmlLabels)){let t=i.children[0],e=y(i);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}o.width>n&&(n=o.width),s+=o.height+r,b.push(i)}),s+=a;let j=[];if(t.classData.methods.forEach(e=>{let a=e.getDisplayDetails(),c=a.displayText;u().flowchart.htmlLabels&&(c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let i=m.node().appendChild(to(c,a.cssStyle?a.cssStyle:t.labelStyle,!0,!0)),o=i.getBBox();if(Pe(u().flowchart.htmlLabels)){let t=i.children[0],e=y(i);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}o.width>n&&(n=o.width),s+=o.height+r,j.push(i)}),s+=a,w){let e=(n-l.width)/2;y(f).attr("transform","translate( "+(-1*n/2+e)+", "+-1*s/2+")"),o=l.height+r}let C=(n-c.width)/2;return y(h).attr("transform","translate( "+(-1*n/2+C)+", "+(-1*s/2+o)+")"),o+=c.height+r,x.attr("class","divider").attr("x1",-n/2-i).attr("x2",n/2+i).attr("y1",-s/2-i+a+o).attr("y2",-s/2-i+a+o),o+=a,b.forEach(e=>{y(e).attr("transform","translate( "+-n/2+", "+(-1*s/2+o+a/2)+")");let t=e?.getBBox();o+=(t?.height??0)+r}),o+=a,_.attr("class","divider").attr("x1",-n/2-i).attr("x2",n/2+i).attr("y1",-s/2-i+a+o).attr("y2",-s/2-i+a+o),o+=a,j.forEach(e=>{y(e).attr("transform","translate( "+-n/2+", "+(-1*s/2+o)+")");let t=e?.getBBox();o+=(t?.height??0)+r}),v.attr("style",t.style).attr("class","outer title-state").attr("x",-n/2-i).attr("y",-(s/2)-i).attr("width",n+t.padding).attr("height",s+t.padding),ct(t,v),t.intersect=function(e){return et.rect(t,e)},d},"class_box"),jI={rhombus:dI,composite:KKe,question:dI,rect:UKe,labelRect:qKe,rectWithTitle:YKe,choice:NKe,circle:XKe,doublecircle:QKe,stadium:GKe,hexagon:LKe,block_arrow:RKe,rect_left_inv_arrow:PKe,lean_right:HKe,lean_left:IKe,trapezoid:BKe,inv_trapezoid:VKe,rect_right_inv_arrow:$Ke,cylinder:WKe,start:JKe,end:tqe,note:SKe,subroutine:ZKe,fork:pI,join:pI,class_box:nqe},Q8={},LI=e(async(e,t,n)=>{let s,o;if(t.link){let i;u().securityLevel==="sandbox"?i="_top":t.linkTarget&&(i=t.linkTarget||"_blank"),s=e.insert("svg:a").attr("xlink:href",t.link).attr("target",i),o=await jI[t.shape](s,t,n)}else o=await jI[t.shape](e,t,n),s=o;return t.tooltip&&o.attr("title",t.tooltip),t.class&&o.attr("class","node default "+t.class),Q8[t.id]=s,t.haveCallback&&Q8[t.id].attr("class",Q8[t.id].attr("class")+" clickable"),s},"insertNode"),aqe=e(e=>{let t=Q8[e.id];a.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let s=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-s)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});function GI(e,t,n=!1){let o=e,i="default";(o?.classes?.length||0)>0&&(i=(o?.classes??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",c;switch(o.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",c=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let l=bE(o?.styles??[]),d=o.label,r=o.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:d,rx:a,ry:a,class:i,style:l.style,id:o.id,directions:o.directions,width:r.width,height:r.height,x:r.x,y:r.y,positioned:n,intersect:void 0,type:o.type,padding:c??De()?.block?.padding??0}}async function lqe(e,t,n){let s=GI(t,n,!1);if(s.type==="group")return;let r=De(),o=await LI(e,s,{config:r}),i=o.node().getBBox(),a=n.getBlock(s.id);a.size={width:i.width,height:i.height,x:0,y:0,node:o},n.setBlock(a),o.remove()}async function dqe(e,t,n){let s=GI(t,n,!0);if(n.getBlock(s.id).type!=="space"){let n=De();await LI(e,s,{config:n}),t.intersect=s?.intersect,aqe(s)}}async function mg(e,t,n,s){for(let o of t)await s(e,o,n),o.children&&await mg(e,o.children,n,s)}async function hqe(e,t,n){await mg(e,t,n,lqe)}async function mqe(e,t,n){await mg(e,t,n,dqe)}async function fqe(e,t,n,s,o){let i=new ds({multigraph:!0,compound:!0});i.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let e of n)e.size&&i.setNode(e.id,{width:e.size.width,height:e.size.height,intersect:e.intersect});for(let n of t)if(n.start&&n.end){let t=s.getBlock(n.start),a=s.getBlock(n.end);if(t?.size&&a?.size){let s=t.size,c=a.size,r=[{x:s.x,y:s.y},{x:s.x+(c.x-s.x)/2,y:s.y+(c.y-s.y)/2},{x:c.x,y:c.y}];ZUe(e,{v:n.start,w:n.end,name:n.id},{...n,arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart,points:r,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",i,o),n.label&&(await qUe(e,{...n,label:n.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart,points:r,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),YUe({...n,x:r[1].x,y:r[1].y},{originalPath:r}))}}}pqe=n(()=>{"use strict";Lo(),sn(),JUe(),rqe(),se(),e(GI,"getNodeFromBlock"),e(lqe,"calculateBlockSize"),e(dqe,"insertBlockPositioned"),e(mg,"performOperations"),e(hqe,"calculateBlockSizes"),e(mqe,"insertBlocks"),e(fqe,"insertEdges")}),jqe=n(()=>{"use strict";he(),sn(),EUe(),x(),Ht(),DUe(),pqe(),gqe=e(function(e,t){return t.db.getClasses()},"getClasses"),vqe=e(async function(e,t,n,s){let{securityLevel:r,block:h}=De(),o=s.db,d;r==="sandbox"&&(d=y("#i"+t));let m=y(r==="sandbox"?d.nodes()[0].contentDocument.body:"body"),i=r==="sandbox"?m.select(`[id="${t}"]`):y(`[id="${t}"]`);CUe(i,["point","circle","cross"],s.type,t);let u=o.getBlocks(),f=o.getBlocksFlat(),p=o.getEdges(),c=i.insert("g").attr("class","block");await hqe(c,u,o);let l=FUe(o);if(await mqe(c,u,o),await fqe(c,p,f,o,t),l){let e=l,t=Math.max(1,Math.round(.125*(e.width/e.height))),n=e.height+t+10,s=e.width+10,{useMaxWidth:o}=h;ls(i,n,s,!!o),a.debug("Here Bounds",l,e),i.attr("viewBox",`${e.x-5} ${e.y-5} ${e.width+10} ${e.height+10}`)}},"draw"),bqe={draw:vqe,getClasses:gqe}}),sB={},de(sB,{diagram:()=>_qe}),wqe=n(()=>{"use strict";SWe(),lUe(),mUe(),jqe(),_qe={parser:AWe,db:cUe,renderer:bqe,styles:hUe}}),eg=n(()=>{"use strict";dB={L:"left",R:"right",T:"top",B:"bottom"},hB={L:e(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:e(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:e(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:e(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},vf={L:e((e,t)=>e-t+2,"L"),R:e((e)=>e-2,"R"),T:e((e,t)=>e-t+2,"T"),B:e((e)=>e-2,"B")},Eqe=e(function(e){return Dn(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),fB=e(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),Dn=e(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),gr=e(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),ng=e(function(e,t){let n=Dn(e)&&gr(t),s=gr(e)&&Dn(t);return n||s},"isArchitectureDirectionXY"),Fqe=e(function(e){let t=e[0],n=e[1],s=Dn(t)&&gr(n),o=gr(t)&&Dn(n);return s||o},"isArchitecturePairXY"),Tqe=e(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),tg=e(function(e,t){let n=`${e}${t}`;return Tqe(n)?n:void 0},"getArchitectureDirectionPair"),Dqe=e(function([e,t],n){let s=n[0],o=n[1];return Dn(s)?gr(o)?[e+(s==="L"?-1:1),t+(o==="T"?1:-1)]:[e+(s==="L"?-1:1),t]:Dn(o)?[e+(o==="L"?1:-1),t+(s==="T"?1:-1)]:[e,t+(s==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Nqe=e(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Lqe=e(function(e,t){return ng(e,t)?"bend":Dn(e)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),Rqe=e(function(e){return e.type==="service"},"isArchitectureService"),Pqe=e(function(e){return e.type==="junction"},"isArchitectureJunction"),yB=e(e=>e.data(),"edgeData"),Fd=e(e=>e.data(),"nodeData")});function tn(e){let t=u().architecture;return t?.[e]?t[e]:xB[e]}Zf=n(()=>{"use strict";bs(),P(),Nj(),_t(),eg(),xB=ye.architecture,ue=new Pj(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:xB,dataStructures:void 0,elements:{}})),Uqe=e(()=>{ue.reset(),Tt()},"clear"),Kqe=e(function({id:e,icon:t,in:n,title:s,iconText:o}){if(ue.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${ue.records.registeredIds[e]}`);if(n!==void 0){if(e===n)throw new Error(`The service [${e}] cannot be placed within itself`);if(ue.records.registeredIds[n]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(ue.records.registeredIds[n]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}ue.records.registeredIds[e]="node",ue.records.nodes[e]={id:e,type:"service",icon:t,iconText:o,title:s,edges:[],in:n}},"addService"),qqe=e(()=>Object.values(ue.records.nodes).filter(Rqe),"getServices"),Yqe=e(function({id:e,in:t}){ue.records.registeredIds[e]="node",ue.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),Gqe=e(()=>Object.values(ue.records.nodes).filter(Pqe),"getJunctions"),Xqe=e(()=>Object.values(ue.records.nodes),"getNodes"),Zp=e(e=>ue.records.nodes[e],"getNode"),Zqe=e(function({id:e,icon:t,in:n,title:s}){if(ue.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${ue.records.registeredIds[e]}`);if(n!==void 0){if(e===n)throw new Error(`The group [${e}] cannot be placed within itself`);if(ue.records.registeredIds[n]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(ue.records.registeredIds[n]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}ue.records.registeredIds[e]="group",ue.records.groups[e]={id:e,icon:t,title:s,in:n}},"addGroup"),Jqe=e(()=>Object.values(ue.records.groups),"getGroups"),eYe=e(function({lhsId:e,rhsId:t,lhsDir:n,rhsDir:s,lhsInto:o,rhsInto:i,lhsGroup:a,rhsGroup:r,title:c}){if(!fB(n))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(!fB(s))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${s}`);if(ue.records.nodes[e]===void 0&&ue.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(ue.records.nodes[t]===void 0&&ue.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);let l=ue.records.nodes[e].in,d=ue.records.nodes[t].in;if(a&&l&&d&&l==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(r&&l&&d&&l==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let u={lhsId:e,lhsDir:n,lhsInto:o,lhsGroup:a,rhsId:t,rhsDir:s,rhsInto:i,rhsGroup:r,title:c};ue.records.edges.push(u),ue.records.nodes[e]&&ue.records.nodes[t]&&(ue.records.nodes[e].edges.push(ue.records.edges[ue.records.edges.length-1]),ue.records.nodes[t].edges.push(ue.records.edges[ue.records.edges.length-1]))},"addEdge"),tYe=e(()=>ue.records.edges,"getEdges"),nYe=e(()=>{if(ue.records.dataStructures===void 0){let t={},n=Object.entries(ue.records.nodes).reduce((e,[n,s])=>(e[n]=s.edges.reduce((e,s)=>{let o=Zp(s.lhsId)?.in,i=Zp(s.rhsId)?.in;if(o&&i&&o!==i){let e=Lqe(s.lhsDir,s.rhsDir);e!=="bend"&&(t[o]??={},t[o][i]=e,t[i]??={},t[i][o]=e)}if(s.lhsId===n){let t=tg(s.lhsDir,s.rhsDir);t&&(e[t]=s.rhsId)}else{let t=tg(s.rhsDir,s.lhsDir);t&&(e[t]=s.lhsId)}return e},{}),e),{}),s=Object.keys(n)[0],i={[s]:1},o=Object.keys(n).reduce((e,t)=>t===s?e:{...e,[t]:1},{}),a=e(e=>{let t={[e]:[0,0]},s=[e];for(;s.length>0;){let e=s.shift();if(e){i[e]=1,delete o[e];let a=n[e],[r,c]=t[e];Object.entries(a).forEach(([e,n])=>{i[n]||(t[n]=Dqe([r,c],e),s.push(n))})}}return t},"BFS"),r=[a(s)];for(;Object.keys(o).length>0;)r.push(a(Object.keys(o)[0]));ue.records.dataStructures={adjList:n,spatialMaps:r,groupAlignments:t}}return ue.records.dataStructures},"getDataStructures"),sYe=e((e,t)=>{ue.records.elements[e]=t},"setElementForId"),oYe=e(e=>ue.records.elements[e],"getElementById"),$f={clear:Uqe,setDiagramTitle:nn,getDiagramTitle:Ft,setAccTitle:It,getAccTitle:Yt,setAccDescription:Gt,getAccDescription:Qt,addService:Kqe,getServices:qqe,addJunction:Yqe,getJunctions:Gqe,getNodes:Xqe,getNode:Zp,addGroup:Zqe,getGroups:Jqe,addEdge:eYe,getEdges:tYe,setElementForId:sYe,getElementById:oYe,getDataStructures:nYe},e(tn,"getConfigField")}),lYe=n(()=>{"use strict";Wu(),x(),T0(),Zf(),rYe=e((e,t)=>{N0(e,t),e.groups.map(t.addGroup),e.services.map(e=>t.addService({...e,type:"service"})),e.junctions.map(e=>t.addJunction({...e,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),cYe={parse:e(async e=>{let t=await Jc("architecture",e);a.debug(t),rYe(t,$f)},"parse")}}),hYe=n(()=>{"use strict";dYe=e(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),uYe=dYe}),lV=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s():typeof define=="function"&&define.amd?define([],s):typeof t=="object"?t.layoutBase=s():e.layoutBase=s()},"webpackUniversalModuleDefinition")(t,function(){return function(t){var s={};function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return e(n,"__webpack_require__"),n.m=t,n.c=s,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var s=t&&t.__esModule?e(function(){return t.default},"getDefault"):e(function(){return t},"getModuleExports");return n.d(s,"a",s),s},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(t){"use strict";function o(){}e(o,"LayoutConstants"),o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,t.exports=o},function(t,n,s){"use strict";var r,i=s(2),c=s(8),a=s(9);function o(e,t,n){i.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}e(o,"LEdge"),o.prototype=Object.create(i.prototype);for(r in i)o[r]=i[r];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),s=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==s)break;n=n.getOwner().getParent()}return null},o.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=c.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=o},function(t){"use strict";function o(e){this.vGraphObject=e}e(o,"LGraphObject"),t.exports=o},function(t,n,s){"use strict";var u,a=s(2),r=s(10),l=s(13),i=s(0),d=s(16),c=s(5);function o(e,t,n,s){n==null&&s==null&&(s=t),a.call(this,s),e.graphManager!=null&&(e=e.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=e,n!=null&&t!=null?this.rect=new l(t.x,t.y,n.width,n.height):this.rect=new l}e(o,"LNode"),o.prototype=Object.create(a.prototype);for(u in a)o[u]=a[u];o.prototype.getEdges=function(){return this.edges},o.prototype.getChild=function(){return this.child},o.prototype.getOwner=function(){return this.owner},o.prototype.getWidth=function(){return this.rect.width},o.prototype.setWidth=function(e){this.rect.width=e},o.prototype.getHeight=function(){return this.rect.height},o.prototype.setHeight=function(e){this.rect.height=e},o.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},o.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},o.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},o.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},o.prototype.getRect=function(){return this.rect},o.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},o.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},o.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},o.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},o.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},o.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},o.prototype.getEdgeListToNode=function(e){var s,t=[],n=this;return n.edges.forEach(function(s){if(s.target==e){if(s.source!=n)throw"Incorrect edge source!";t.push(s)}}),t},o.prototype.getEdgesBetween=function(e){var s,n=[],t=this;return t.edges.forEach(function(s){if(s.source!=t&&s.target!=t)throw"Incorrect edge source and/or target";(s.target==e||s.source==e)&&n.push(s)}),n},o.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},o.prototype.withChildren=function(){if(e=new Set,e.add(this),this.child!=null)for(var e,n,s,o=this.child.getNodes(),t=0;t<o.length;t++)n=o[t],s=n.withChildren(),s.forEach(function(t){e.add(t)});return e},o.prototype.getNoOfChildren=function(){if(e=0,this.child==null)e=1;else for(var e,n,s=this.child.getNodes(),t=0;t<s.length;t++)n=s[t],e+=n.getNoOfChildren();return e==0&&(e=1),e},o.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},o.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},o.prototype.scatter=function(){var e=-i.INITIAL_WORLD_BOUNDARY,o=i.INITIAL_WORLD_BOUNDARY,n=i.WORLD_CENTER_X+d.nextDouble()*(o-e)+e,t=-i.INITIAL_WORLD_BOUNDARY,a=i.INITIAL_WORLD_BOUNDARY,s=i.WORLD_CENTER_Y+d.nextDouble()*(a-t)+t;this.rect.x=n,this.rect.y=s},o.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0&&(e=this.getChild(),e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS)){var e,t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(t+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(n+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>n?(this.rect.y-=(this.labelHeight-n)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(n+this.labelHeight))}},o.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},o.prototype.transform=function(e){t=this.rect.x,t>i.WORLD_BOUNDARY?t=i.WORLD_BOUNDARY:t<-i.WORLD_BOUNDARY&&(t=-i.WORLD_BOUNDARY),n=this.rect.y,n>i.WORLD_BOUNDARY?n=i.WORLD_BOUNDARY:n<-i.WORLD_BOUNDARY&&(n=-i.WORLD_BOUNDARY);var t,n,o=new c(t,n),s=e.inverseTransformPoint(o);this.setLocation(s.x,s.y)},o.prototype.getLeft=function(){return this.rect.x},o.prototype.getRight=function(){return this.rect.x+this.rect.width},o.prototype.getTop=function(){return this.rect.y},o.prototype.getBottom=function(){return this.rect.y+this.rect.height},o.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=o},function(t,n,s){"use strict";var a,i=s(0);function o(){}e(o,"FDLayoutConstants");for(a in i)o[a]=i[a];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=o},function(t){"use strict";function o(e,t){e==null&&t==null?(this.x=0,this.y=0):(this.x=e,this.y=t)}e(o,"PointD"),o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(e){this.x=e},o.prototype.setY=function(e){this.y=e},o.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},t.exports=o},function(t,n,s){"use strict";var l,a=s(2),i=s(10),r=s(0),d=s(7),u=s(3),h=s(1),c=s(13),m=s(12),f=s(11);function o(e,t,n){a.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=r.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,t!=null&&t instanceof d?this.graphManager=t:t!=null&&t instanceof Layout&&(this.graphManager=t.graphManager)}e(o,"LGraph"),o.prototype=Object.create(a.prototype);for(l in a)o[l]=a[l];o.prototype.getNodes=function(){return this.nodes},o.prototype.getEdges=function(){return this.edges},o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getParent=function(){return this.parent},o.prototype.getLeft=function(){return this.left},o.prototype.getRight=function(){return this.right},o.prototype.getTop=function(){return this.top},o.prototype.getBottom=function(){return this.bottom},o.prototype.isConnected=function(){return this.isConnected},o.prototype.add=function(e,t,n){if(t==null&&n==null){var s,o=e;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(o)>-1)throw"Node already in graph!";return o.owner=this,this.getNodes().push(o),o}if(s=e,!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(s.source=t,s.target=n,s.isInterGraph=!1,this.getEdges().push(s),t.edges.push(s),n!=t&&n.edges.push(s),s)},o.prototype.remove=function(e){if(n=e,e instanceof u){if(n==null)throw"Node is null!";if(n.owner==null||n.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var t,n,s,i,a,r=n.edges.slice(),c=r.length,o=0;o<c;o++)t=r[o],t.isInterGraph?this.graphManager.remove(t):t.source.owner.remove(t);if(s=this.nodes.indexOf(n),s==-1)throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(e instanceof h){if(t=e,t==null)throw"Edge is null!";if(t.source==null||t.target==null)throw"Source and/or target is null!";if(!(t.source.owner!=null&&t.target.owner!=null&&t.source.owner==this&&t.target.owner==this))throw"Source and/or target owner is invalid!";if(i=t.source.edges.indexOf(t),a=t.target.edges.indexOf(t),!(i>-1&&a>-1))throw"Source and/or target doesn't know this edge!";if(t.source.edges.splice(i,1),t.target!=t.source&&t.target.edges.splice(a,1),s=t.source.owner.getEdges().indexOf(t),s==-1)throw"Not in owner's edge list!";t.source.owner.getEdges().splice(s,1)}},o.prototype.updateLeftTop=function(){for(var t,o,a,c,e=i.MAX_VALUE,s=i.MAX_VALUE,n=this.getNodes(),l=n.length,r=0;r<l;r++)c=n[r],o=c.getTop(),a=c.getLeft(),e>o&&(e=o),s>a&&(s=a);return e==i.MAX_VALUE?null:(n[0].getParent().paddingLeft!=null?t=n[0].getParent().paddingLeft:t=this.margin,this.left=s-t,this.top=e-t,new m(this.left,this.top))},o.prototype.updateBounds=function(e){for(var t,n,s,d,u,h,f,o=i.MAX_VALUE,p=-i.MAX_VALUE,a=i.MAX_VALUE,l=-i.MAX_VALUE,r=this.nodes,g=r.length,m=0;m<g;m++)n=r[m],e&&n.child!=null&&n.updateBounds(),f=n.getLeft(),h=n.getRight(),u=n.getTop(),d=n.getBottom(),o>f&&(o=f),p<h&&(p=h),a>u&&(a=u),l<d&&(l=d);t=new c(o,a,p-o,l-a),o==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),r[0].getParent().paddingLeft!=null?s=r[0].getParent().paddingLeft:s=this.margin,this.left=t.x-s,this.right=t.x+t.width+s,this.top=t.y-s,this.bottom=t.y+t.height+s},o.calculateBounds=function(e){for(var t,r,l,d,u,m,n=i.MAX_VALUE,o=-i.MAX_VALUE,s=i.MAX_VALUE,a=-i.MAX_VALUE,f=e.length,h=0;h<f;h++)t=e[h],r=t.getLeft(),l=t.getRight(),d=t.getTop(),u=t.getBottom(),n>r&&(n=r),o<l&&(o=l),s>d&&(s=d),a<u&&(a=u);return m=new c(n,s,o-n,a-s),m},o.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},o.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},o.prototype.calcEstimatedSize=function(){for(var s,e=0,n=this.nodes,o=n.length,t=0;t<o;t++)s=n[t],e+=s.calcEstimatedSize();return e==0?this.estimatedSize=r.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=e/Math.sqrt(this.nodes.length),this.estimatedSize},o.prototype.updateConnected=function(){if(r=this,this.nodes.length==0){this.isConnected=!0;return}var s,o,i,a,r,c,l,d,t=new f,e=new Set,n=this.nodes[0],u=n.withChildren();for(u.forEach(function(n){t.push(n),e.add(n)});t.length!==0;){n=t.shift(),i=n.getEdges();for(c=i.length,o=0;o<c;o++)l=i[o],(s=l.getOtherEndInGraph(n,this),s!=null&&!e.has(s))&&(d=s.withChildren(),d.forEach(function(n){t.push(n),e.add(n)}))}this.isConnected=!1,e.size>=this.nodes.length&&(a=0,e.forEach(function(e){e.owner==r&&a++}),a==this.nodes.length&&(this.isConnected=!0))},t.exports=o},function(t,n,s){"use strict";var i,a=s(1);function o(e){i=s(6),this.layout=e,this.graphs=[],this.edges=[]}e(o,"LGraphManager"),o.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(e,t,n,s,o){if(n==null&&s==null&&o==null){if(e==null)throw"Graph is null!";if(t==null)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),e.parent!=null)throw"Already has a parent!";if(t.child!=null)throw"Already has a child!";return e.parent=t,t.child=e,e}o=n,s=t,n=e;var i=s.getOwner(),a=o.getOwner();if(i==null||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(a==null||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==a)return n.isInterGraph=!1,i.add(n,s,o);if(n.isInterGraph=!0,n.source=s,n.target=o,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),n.source==null||n.target==null)throw"Edge source and/or target is null!";if(n.source.edges.indexOf(n)!=-1||n.target.edges.indexOf(n)!=-1)throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(e){if(e instanceof i){if(n=e,n.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(n==this.rootGraph||n.parent!=null&&n.parent.graphManager==this))throw"Invalid parent node!";for(var t,n,s,r,d,c=[],c=c.concat(n.getEdges()),l=c.length,o=0;o<l;o++)t=c[o],n.remove(t);for(r=[],r=r.concat(n.getNodes()),l=r.length,o=0;o<l;o++)d=r[o],n.remove(d);n==this.rootGraph&&this.setRootGraph(null),s=this.graphs.indexOf(n),this.graphs.splice(s,1),n.parent=null}else if(e instanceof a){if(t=e,t==null)throw"Edge is null!";if(!t.isInterGraph)throw"Not an inter-graph edge!";if(t.source==null||t.target==null)throw"Source and/or target is null!";if(t.source.edges.indexOf(t)==-1||t.target.edges.indexOf(t)==-1)throw"Source and/or target doesn't know this edge!";if(s=t.source.edges.indexOf(t),t.source.edges.splice(s,1),s=t.target.edges.indexOf(t),t.target.edges.splice(s,1),t.source.owner==null||t.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(t.source.owner.getGraphManager().edges.indexOf(t)==-1)throw"Not in owner graph manager's edge list!";s=t.source.owner.getGraphManager().edges.indexOf(t),t.source.owner.getGraphManager().edges.splice(s,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var e=[],n=this.getGraphs(),s=n.length,t=0;t<s;t++)e=e.concat(n[t].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var e=[],t=this.getGraphs(),s=t.length,n=0;n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,e.parent==null&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,t){if(e==null||t==null)throw"assert failed";if(e==t)return!0;var n,s=e.getOwner();do{if(n=s.getParent(),n==null)break;if(n==t)return!0;if(s=n.getOwner(),s==null)break}while(!0)s=t.getOwner();do{if(n=s.getParent(),n==null)break;if(n==e)return!0;if(s=n.getOwner(),s==null)break}while(!0)return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,s,o,a=this.getAllEdges(),r=a.length,i=0;i<r;i++){if(e=a[i],n=e.source,s=e.target,e.lca=null,e.sourceInLca=n,e.targetInLca=s,n==s){e.lca=n.getOwner();continue}for(o=n.getOwner();e.lca==null;){for(e.targetInLca=s,t=s.getOwner();e.lca==null;){if(t==o){e.lca=t;break}if(t==this.rootGraph)break;if(e.lca!=null)throw"assert failed";e.targetInLca=t.getParent(),t=e.targetInLca.getOwner()}if(o==this.rootGraph)break;e.lca==null&&(e.sourceInLca=o.getParent(),o=e.sourceInLca.getOwner())}if(e.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();var n,s=e.getOwner();do{if(s==null)break;n=t.getOwner();do{if(n==null)break;if(n==s)return n;n=n.getParent().getOwner()}while(!0)s=s.getParent().getOwner()}while(!0)return s},o.prototype.calcInclusionTreeDepths=function(e,t){e==null&&t==null&&(e=this.rootGraph,t=1);for(var n,o=e.getNodes(),i=o.length,s=0;s<i;s++)n=o[s],n.inclusionTreeDepth=t,n.child!=null&&this.calcInclusionTreeDepths(n.child,t+1)},o.prototype.includesInvalidEdge=function(){for(var t,n=[],s=this.edges.length,e=0;e<s;e++)t=this.edges[e],this.isOneAncestorOfOther(t.source,t.target)&&n.push(t);for(e=0;e<n.length;e++)this.remove(n[e]);return!1},t.exports=o},function(t,n,s){"use strict";var i=s(12);function o(){}e(o,"IGeometry"),o.calcSeparationAmount=function(e,t,n,s){if(!e.intersects(t))throw"assert failed";o=new Array(2),this.decideDirectionsForOverlappingNodes(e,t,o),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom())),i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX())),t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var o,i,r=i*n[0],a=n[1]/i;n[0]<a?a=n[0]:r=n[1],n[0]=-1*o[0]*(a/2+s),n[1]=-1*o[1]*(r/2+s)},o.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},o.getIntersection2=function(e,t,n){var i=e.getCenterX(),a=e.getCenterY(),o=t.getCenterX(),r=t.getCenterY();if(e.intersects(t))return n[0]=i,n[1]=a,n[2]=o,n[3]=r,!0;var z=e.getX(),_=e.getY(),T=e.getRight(),w=e.getX(),y=e.getBottom(),F=e.getRight(),M=e.getWidthHalf(),S=e.getHeightHalf(),A=t.getX(),b=t.getY(),k=t.getRight(),E=t.getX(),j=t.getBottom(),C=t.getRight(),x=t.getWidthHalf(),O=t.getHeightHalf(),p=!1,h=!1;if(i===o){{if(a>r)return n[0]=i,n[1]=_,n[2]=o,n[3]=j,!1;if(a<r)return n[0]=i,n[1]=y,n[2]=o,n[3]=b,!1}}else if(a===r){{if(i>o)return n[0]=z,n[1]=a,n[2]=k,n[3]=r,!1;if(i<o)return n[0]=T,n[1]=a,n[2]=A,n[3]=r,!1}}else{var m=e.height/e.width,f=t.height/t.width,s=(r-a)/(o-i),g=void 0,v=void 0,u=void 0,d=void 0,c=void 0,l=void 0;if(-m===s?i>o?(n[0]=w,n[1]=y,p=!0):(n[0]=T,n[1]=_,p=!0):m===s&&(i>o?(n[0]=z,n[1]=_,p=!0):(n[0]=F,n[1]=y,p=!0)),-f===s?o>i?(n[2]=E,n[3]=j,h=!0):(n[2]=k,n[3]=b,h=!0):f===s&&(o>i?(n[2]=A,n[3]=b,h=!0):(n[2]=C,n[3]=j,h=!0)),p&&h)return!1;if(i>o?a>r?(g=this.getCardinalDirection(m,s,4),v=this.getCardinalDirection(f,s,2)):(g=this.getCardinalDirection(-m,s,3),v=this.getCardinalDirection(-f,s,1)):a>r?(g=this.getCardinalDirection(-m,s,1),v=this.getCardinalDirection(-f,s,3)):(g=this.getCardinalDirection(m,s,2),v=this.getCardinalDirection(f,s,4)),!p)switch(g){case 1:d=_,u=i+-S/s,n[0]=u,n[1]=d;break;case 2:u=F,d=a+M*s,n[0]=u,n[1]=d;break;case 3:d=y,u=i+S/s,n[0]=u,n[1]=d;break;case 4:u=w,d=a+-M*s,n[0]=u,n[1]=d;break}if(!h)switch(v){case 1:l=b,c=o+-O/s,n[2]=c,n[3]=l;break;case 2:c=C,l=r+x*s,n[2]=c,n[3]=l;break;case 3:l=j,c=o+O/s,n[2]=c,n[3]=l;break;case 4:c=E,l=r+-x*s,n[2]=c,n[3]=l;break}}return!1},o.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},o.getIntersection=function(e,t,n,s){if(s==null)return this.getIntersection2(e,t,n);var b=e.x,_=e.y,y=t.x,j=t.y,h=n.x,v=n.y,g=s.x,p=s.y,m=void 0,f=void 0,a=void 0,u=void 0,d=void 0,l=void 0,c=void 0,r=void 0,o=void 0;return a=j-_,d=b-y,c=y*_-b*j,u=p-v,l=h-g,r=g*v-h*p,o=a*l-u*d,o===0?null:(m=(d*r-l*c)/o,f=(u*c-a*r)/o,new i(m,f))},o.angleOfVector=function(e,t,n,s){var o=void 0;return e!==n?(o=Math.atan((s-t)/(n-e)),n<e?o+=Math.PI:s<t&&(o+=this.TWO_PI)):s<t?o=this.ONE_AND_HALF_PI:o=this.HALF_PI,o},o.doIntersect=function(e,t,n,s){var l,d,o=e.x,i=e.y,u=t.x,h=t.y,m=n.x,f=n.y,a=s.x,r=s.y,c=(u-o)*(r-f)-(a-m)*(h-i);return c!==0&&(l=((r-f)*(a-o)+(m-a)*(r-i))/c,d=((i-h)*(a-o)+(u-o)*(r-i))/c,0<l&&l<1&&0<d&&d<1)},o.findCircleLineIntersections=function(e,t,n,s,o,i,a){var c=(n-e)*(n-e)+(s-t)*(s-t),r=2*((e-o)*(n-e)+(t-i)*(s-t)),l=(e-o)*(e-o)+(t-i)*(t-i)-a*a,h=r*r-4*c*l;if(h>=0){var d=(-r+Math.sqrt(r*r-4*c*l))/(2*c),u=(-r-Math.sqrt(r*r-4*c*l))/(2*c),m=null;return d>=0&&d<=1?[d]:u>=0&&u<=1?[u]:m}return null},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,t.exports=o},function(t){"use strict";function o(){}e(o,"IMath"),o.sign=function(e){return e>0?1:e<0?-1:0},o.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},o.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},t.exports=o},function(t){"use strict";function o(){}e(o,"Integer"),o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,t.exports=o},function(t){"use strict";r=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(c,"_classCallCheck");var r,a=e(function(e){return{value:e,next:null,prev:null}},"nodeFrom"),o=e(function(e,t,n,s){return e!==null?e.next=t:s.head=t,n!==null?n.prev=t:s.tail=t,t.prev=e,t.next=n,s.length++,t},"add"),i=e(function(e,t){var n=e.prev,s=e.next;return n!==null?n.next=s:t.head=s,s!==null?s.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},"_remove"),l=function(){function t(e){var n=this;c(this,t),this.length=0,this.head=null,this.tail=null,e?.forEach(function(e){return n.push(e)})}return e(t,"LinkedList"),r(t,[{key:"size",value:e(function(){return this.length},"size")},{key:"insertBefore",value:e(function(e,t){return o(t.prev,a(e),t,this)},"insertBefore")},{key:"insertAfter",value:e(function(e,t){return o(t,a(e),t.next,this)},"insertAfter")},{key:"insertNodeBefore",value:e(function(e,t){return o(t.prev,e,t,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:e(function(e,t){return o(t,e,t.next,this)},"insertNodeAfter")},{key:"push",value:e(function(e){return o(this.tail,a(e),null,this)},"push")},{key:"unshift",value:e(function(e){return o(null,a(e),this.head,this)},"unshift")},{key:"remove",value:e(function(e){return i(e,this)},"remove")},{key:"pop",value:e(function(){return i(this.tail,this).value},"pop")},{key:"popNode",value:e(function(){return i(this.tail,this)},"popNode")},{key:"shift",value:e(function(){return i(this.head,this).value},"shift")},{key:"shiftNode",value:e(function(){return i(this.head,this)},"shiftNode")},{key:"get_object_at",value:e(function(e){if(e<=this.length()){for(var n=1,t=this.head;n<e;)t=t.next,n++;return t.value}},"get_object_at")},{key:"set_object_at",value:e(function(e,t){if(e<=this.length()){for(var s=1,n=this.head;s<e;)n=n.next,s++;n.value=t}},"set_object_at")}]),t}();t.exports=l},function(t){"use strict";function o(e,t,n){this.x=null,this.y=null,e==null&&t==null&&n==null?(this.x=0,this.y=0):typeof e=="number"&&typeof t=="number"&&n==null?(this.x=e,this.y=t):e.constructor.name=="Point"&&t==null&&n==null&&(n=e,this.x=n.x,this.y=n.y)}e(o,"Point"),o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(e,t,n){e.constructor.name=="Point"&&t==null&&n==null?(n=e,this.setLocation(n.x,n.y)):typeof e=="number"&&typeof t=="number"&&n==null&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},o.prototype.move=function(e,t){this.x=e,this.y=t},o.prototype.translate=function(e,t){this.x+=e,this.y+=t},o.prototype.equals=function(e){if(e.constructor.name=="Point"){var t=e;return this.x==t.x&&this.y==t.y}return this==e},o.prototype.toString=function(){return(new o).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=o},function(t){"use strict";function o(e,t,n,s){this.x=0,this.y=0,this.width=0,this.height=0,e!=null&&t!=null&&n!=null&&s!=null&&(this.x=e,this.y=t,this.width=n,this.height=s)}e(o,"RectangleD"),o.prototype.getX=function(){return this.x},o.prototype.setX=function(e){this.x=e},o.prototype.getY=function(){return this.y},o.prototype.setY=function(e){this.y=e},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(e){this.width=e},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(e){this.height=e},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},t.exports=o},function(t){"use strict";var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}e(o,"UniqueIDGeneretor"),o.lastID=0,o.createID=function(e){return o.isPrimitive(e)?e:(e.uniqueID!=null||(e.uniqueID=o.getString(),o.lastID++),e.uniqueID)},o.getString=function(e){return e==null&&(e=o.lastID),"Object#"+e},o.isPrimitive=function(e){var t=typeof e>"u"?"undefined":i(e);return e==null||t!="object"&&t!="function"},t.exports=o},function(t,n,s){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e(a,"_toConsumableArray");var i=s(0),r=s(7),c=s(3),l=s(1),d=s(6),u=s(5),m=s(17),h=s(29);function o(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new r(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,e!=null&&(this.isRemoteUse=e)}e(o,"Layout"),o.RANDOM_SEED=1,o.prototype=Object.create(h.prototype),o.prototype.getGraphManager=function(){return this.graphManager},o.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},o.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},o.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},o.prototype.newGraphManager=function(){var e=new r(this);return this.graphManager=e,e},o.prototype.newGraph=function(e){return new d(null,this.graphManager,e)},o.prototype.newNode=function(e){return new c(this.graphManager,e)},o.prototype.newEdge=function(e){return new l(null,null,e)},o.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},o.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var e;return this.checkLayoutSuccess()?e=!1:e=this.layout(),i.ANIMATE!=="during"&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},o.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},o.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t,s,o,n=this.graphManager.getAllEdges(),e=0;e<n.length;e++)s=n[e];for(t=this.graphManager.getRoot().getNodes(),e=0;e<t.length;e++)o=t[e];this.update(this.graphManager.getRoot())}},o.prototype.update=function(e){if(e==null)this.update2();else if(e instanceof c){if(t=e,t.getChild()!=null)for(var t,n,s,a,r,u,i=t.getChild().getNodes(),o=0;o<i.length;o++)update(i[o]);t.vGraphObject!=null&&(a=t.vGraphObject,a.update(t))}else e instanceof l?(n=e,n.vGraphObject!=null&&(r=n.vGraphObject,r.update(n))):e instanceof d&&(s=e,s.vGraphObject!=null&&(u=s.vGraphObject,u.update(s)))},o.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},o.prototype.transform=function(e){if(e==null)this.transform(new u(0,0));else{var n,o,i,t=new m,s=this.graphManager.getRoot().updateLeftTop();if(s!=null){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(s.x),t.setDeviceOrgY(s.y);for(o=this.getAllNodes(),n=0;n<o.length;n++)i=o[n],i.transform(t)}}},o.prototype.positionNodesRandomly=function(e){if(e==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,o=e.getNodes(),s=0;s<o.length;s++)t=o[s],n=t.getChild(),n==null||n.getNodes().length==0?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},o.prototype.getFlatForest=function(){for(var t,o,l,h,m,p,r=[],c=!0,u=this.graphManager.getRoot().getNodes(),f=!0,e=0;e<u.length;e++)u[e].getChild()!=null&&(f=!1);if(!f)return r;var i=new Set,s=[],d=new Map,n=[];for(n=n.concat(u);n.length>0&&c;){for(s.push(n[0]);s.length>0&&c;){t=s[0],s.splice(0,1),i.add(t);for(h=t.getEdges(),e=0;e<h.length;e++)if(o=h[e].getOtherEnd(t),d.get(t)!=o)if(i.has(o)){c=!1;break}else s.push(o),d.set(o,t)}if(c){l=[].concat(a(i)),r.push(l);for(e=0;e<l.length;e++)p=l[e],m=n.indexOf(p),m>-1&&n.splice(m,1);i=new Set,d=new Map}else r=[]}return r},o.prototype.createDummyNodesForBendpoints=function(e){for(var t,n,s=[],o=e.source,i=this.graphManager.calcLowestCommonAncestor(e.source,e.target),a=0;a<e.bendpoints.length;a++)t=this.newNode(null),t.setRect(new Point(0,0),new Dimension(1,1)),i.add(t),n=this.newEdge(null),this.graphManager.add(n,o,t),s.add(t),o=t;return n=this.newEdge(null),this.graphManager.add(n,o,e.target),this.edgeToDummyNodes.set(e,s),e.isInterGraph()?this.graphManager.remove(e):i.remove(e),s},o.prototype.createBendpointsFromDummyNodes=function(){for(e=[],e=e.concat(this.graphManager.getAllEdges()),e=[].concat(a(this.edgeToDummyNodes.keys())).concat(e),s=0;s<e.length;s++)if(t=e[s],t.bendpoints.length>0){for(i=this.edgeToDummyNodes.get(t),n=0;n<i.length;n++){var e,t,n,s,i,o=i[n],r=new u(o.getCenterX(),o.getCenterY()),c=t.bendpoints.get(n);c.x=r.x,c.y=r.y,o.getOwner().remove(o)}this.graphManager.add(t,t.source,t.target)}},o.transform=function(e,t,n,s){if(n!=null&&s!=null){var i,a,r,c,o=t;return e<=50?(r=t/n,o-=(t-r)/50*(50-e)):(c=t*s,o+=(c-t)/50*(e-50)),o}return e<=50?(i=9*t/500,a=t/10):(i=9*t/50,a=-8*t),i*e+a},o.findCenterOfTree=function(e){var n,s,o,l,d,u,h,t=[],t=t.concat(e),i=[],a=new Map,r=!1,c=null;(t.length==1||t.length==2)&&(r=!0,c=t[0]);for(n=0;n<t.length;n++)s=t[n],u=s.getNeighborsList().size,a.set(s,s.getNeighborsList().size),u==1&&i.push(s);o=[];for(o=o.concat(i);!r;){l=[],l=l.concat(o),o=[];for(n=0;n<t.length;n++)s=t[n],d=t.indexOf(s),d>=0&&t.splice(d,1),h=s.getNeighborsList(),h.forEach(function(e){if(i.indexOf(e)<0){var n=a.get(e),t=n-1;t==1&&o.push(e),a.set(e,t)}});i=i.concat(o),(t.length==1||t.length==2)&&(r=!0,c=t[0])}return c},o.prototype.setGraphManager=function(e){this.graphManager=e},t.exports=o},function(t){"use strict";function o(){}e(o,"RandomSeed"),o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},t.exports=o},function(t,n,s){"use strict";var i=s(5);function o(){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}e(o,"Transform"),o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(e){this.lworldExtX=e},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(e){this.lworldExtY=e},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},o.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return n!=0&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},o.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return n!=0&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},o.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return n!=0&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},o.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return n!=0&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},o.prototype.inverseTransformPoint=function(e){var t=new i(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return t},t.exports=o},function(t,n,s){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e(r,"_toConsumableArray");var d,a=s(15),o=s(4),u=s(0),c=s(8),l=s(9);function i(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}e(i,"FDLayout"),i.prototype=Object.create(a.prototype);for(d in a)i[d]=a[d];i.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},i.prototype.calcIdealEdgeLengths=function(){for(var e,n,s,i,a,r,c,l=this.getGraphManager().getAllEdges(),t=0;t<l.length;t++)e=l[t],n=e.idealLength,e.isInterGraph&&(i=e.getSource(),a=e.getTarget(),r=e.getSourceInLca().getEstimatedSize(),c=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=r+c-2*u.SIMPLE_NODE_SIZE),s=e.getLca().getInclusionTreeDepth(),e.idealLength+=n*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(i.getInclusionTreeDepth()+a.getInclusionTreeDepth()-2*s))},i.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var e,n=this.getAllEdges(),t=0;t<n.length;t++)e=n[t],this.calcSpringForce(e,e.idealLength)},i.prototype.calcRepulsionForces=function(){var e,t,s,i,a,r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&r&&this.updateGrid(),a=new Set,e=0;e<n.length;e++)t=n[e],this.calculateRepulsionForceOfANode(t,a,r,c),a.add(t);else for(e=0;e<n.length;e++)for(t=n[e],s=e+1;s<n.length;s++)i=n[s],t.getOwner()==i.getOwner()&&this.calcRepulsionForce(t,i)},i.prototype.calcGravitationalForces=function(){for(var t,n=this.getAllNodesToApplyGravitation(),e=0;e<n.length;e++)t=n[e],this.calcGravitationalForce(t)},i.prototype.moveNodes=function(){for(var n,t=this.getAllNodes(),e=0;e<t.length;e++)n=t[e],n.move()},i.prototype.calcSpringForce=function(e,t){var n,i,a,r,s=e.getSource(),o=e.getTarget();if(this.uniformLeafNodeSizes&&s.getChild()==null&&o.getChild()==null)e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;n=e.getLength(),n!=0&&(i=e.edgeElasticity*(n-t),a=i*(e.lengthX/n),r=i*(e.lengthY/n),s.springForceX+=a,s.springForceY+=r,o.springForceX-=a,o.springForceY-=r)},i.prototype.calcRepulsionForce=function(e,t){var n,s,i,a,h,f,p,g,r=e.getRect(),d=t.getRect(),m=new Array(2),u=new Array(4);r.intersects(d)?(c.calcSeparationAmount(r,d,m,o.DEFAULT_EDGE_LENGTH/2),i=2*m[0],a=2*m[1],h=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren),e.repulsionForceX-=h*i,e.repulsionForceY-=h*a,t.repulsionForceX+=h*i,t.repulsionForceY+=h*a):(this.uniformLeafNodeSizes&&e.getChild()==null&&t.getChild()==null?(n=d.getCenterX()-r.getCenterX(),s=d.getCenterY()-r.getCenterY()):(c.getIntersection(r,d,u),n=u[2]-u[0],s=u[3]-u[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=l.sign(n)*o.MIN_REPULSION_DIST),Math.abs(s)<o.MIN_REPULSION_DIST&&(s=l.sign(s)*o.MIN_REPULSION_DIST),f=n*n+s*s,p=Math.sqrt(f),g=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/f,i=g*n/p,a=g*s/p,e.repulsionForceX-=i,e.repulsionForceY-=a,t.repulsionForceX+=i,t.repulsionForceY+=a)},i.prototype.calcGravitationalForce=function(e){var n,t=e.getOwner(),r=(t.getRight()+t.getLeft())/2,c=(t.getTop()+t.getBottom())/2,s=e.getCenterX()-r,o=e.getCenterY()-c,i=Math.abs(s)+e.getWidth()/2,a=Math.abs(o)+e.getHeight()/2;e.getOwner()==this.graphManager.getRoot()?(n=t.getEstimatedSize()*this.gravityRangeFactor,(i>n||a>n)&&(e.gravitationForceX=-this.gravityConstant*s,e.gravitationForceY=-this.gravityConstant*o)):(n=t.getEstimatedSize()*this.compoundGravityRangeFactor,(i>n||a>n)&&(e.gravitationForceX=-this.gravityConstant*s*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},i.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,n=this.graphManager.getAllNodes(),t=0;t<n.length;t++)e=n[t],e.noOfChildren=e.getNoOfChildren()},i.prototype.calcGrid=function(e){for(var s,n=0,o=0,n=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),o=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange)),i=new Array(n),t=0;t<n;t++)i[t]=new Array(o);for(t=0;t<n;t++)for(s=0;s<o;s++)i[t][s]=new Array;return i},i.prototype.addNodeToGrid=function(e,t,n){for(var s,o=0,i=0,a=0,r=0,o=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),r=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange)),c=o;c<=i;c++)for(s=a;s<=r;s++)this.grid[c][s].push(e),e.setGridCoordinates(o,i,a,r)},i.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},i.prototype.calculateRepulsionForceOfANode=function(e,t,n,s){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&n||s){l=new Set,e.surrounding=new Array;for(var i,c,l,u,h,m,d=this.grid,a=e.startX-1;a<e.finishX+2;a++)for(c=e.startY-1;c<e.finishY+2;c++)if(!(a<0||c<0||a>=d.length||c>=d[0].length))for(u=0;u<d[a][c].length;u++)i=d[a][c][u],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!l.has(i)&&(h=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),m=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2),h<=this.repulsionRange&&m<=this.repulsionRange&&l.add(i));e.surrounding=[].concat(r(l))}for(a=0;a<e.surrounding.length;a++)this.calcRepulsionForce(e,e.surrounding[a])},i.prototype.calcRepulsionRange=function(){return 0},t.exports=i},function(t,n,s){"use strict";var r,o=s(1),a=s(4);function i(e,t,n){o.call(this,e,t,n),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}e(i,"FDLayoutEdge"),i.prototype=Object.create(o.prototype);for(r in o)i[r]=o[r];t.exports=i},function(t,n,s){"use strict";var a,i=s(3),r=s(4);function o(e,t,n,s){i.call(this,e,t,n,s),this.nodeRepulsion=r.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}e(o,"FDLayoutNode"),o.prototype=Object.create(i.prototype);for(a in i)o[a]=i[a];o.prototype.setGridCoordinates=function(e,t,n,s){this.startX=e,this.finishX=t,this.startY=n,this.finishY=s},t.exports=o},function(t){"use strict";function o(e,t){this.width=0,this.height=0,e!==null&&t!==null&&(this.height=t,this.width=e)}e(o,"DimensionD"),o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(e){this.width=e},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(e){this.height=e},t.exports=o},function(t,n,s){"use strict";var i=s(14);function o(){this.map={},this.keys=[]}e(o,"HashMap"),o.prototype.put=function(e,t){var n=i.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},o.prototype.contains=function(e){var t=i.createID(e);return this.map[e]!=null},o.prototype.get=function(e){var t=i.createID(e);return this.map[t]},o.prototype.keySet=function(){return this.keys},t.exports=o},function(t,n,s){"use strict";var i=s(14);function o(){this.set={}}e(o,"HashSet"),o.prototype.add=function(e){var t=i.createID(e);this.contains(t)||(this.set[t]=e)},o.prototype.remove=function(e){delete this.set[i.createID(e)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(e){return this.set[i.createID(e)]==e},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(e){for(var n=Object.keys(this.set),s=n.length,t=0;t<s;t++)e.push(this.set[n[t]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(e){for(var n,s=e.length,t=0;t<s;t++)n=e[t],this.add(n)},t.exports=o},function(t){"use strict";function o(){}e(o,"Matrix"),o.multMat=function(e,t){for(var s,o,i=[],n=0;n<e.length;n++){i[n]=[];for(s=0;s<t[0].length;s++){i[n][s]=0;for(o=0;o<e[0].length;o++)i[n][s]+=e[n][o]*t[o][s]}}return i},o.transpose=function(e){for(var n,s=[],t=0;t<e[0].length;t++){s[t]=[];for(n=0;n<e.length;n++)s[t][n]=e[n][t]}return s},o.multCons=function(e,t){for(var s=[],n=0;n<e.length;n++)s[n]=e[n]*t;return s},o.minusOp=function(e,t){for(var s=[],n=0;n<e.length;n++)s[n]=e[n]-t[n];return s},o.dotProduct=function(e,t){for(var s=0,n=0;n<e.length;n++)s+=e[n]*t[n];return s},o.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},o.normalize=function(e){for(var n=[],s=this.mag(e),t=0;t<e.length;t++)n[t]=e[t]/s;return n},o.multGamma=function(e){for(var t,o=[],n=0,s=0;s<e.length;s++)n+=e[s];n*=-1/e.length;for(t=0;t<e.length;t++)o[t]=n+e[t];return o},o.multL=function(e,t,n){for(var s,o,i,a,r,l,d,u,h=[],m=[],f=[],c=0;c<t[0].length;c++){for(l=0,s=0;s<t.length;s++)l+=-.5*t[s][c]*e[s];m[c]=l}for(o=0;o<n.length;o++){for(d=0,i=0;i<n.length;i++)d+=n[o][i]*m[i];f[o]=d}for(a=0;a<t.length;a++){for(u=0,r=0;r<t[0].length;r++)u+=t[a][r]*f[r];h[a]=u}return h},t.exports=o},function(t,n,s){"use strict";i=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(a,"_classCallCheck");var i,o=s(11),r=function(){function t(e,n){a(this,t),(n!==null||n!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var s=void 0;e instanceof o?s=e.size():s=e.length,this._quicksort(e,0,s-1)}return e(t,"Quicksort"),i(t,[{key:"_quicksort",value:e(function(e,t,n){if(t<n){var s=this._partition(e,t,n);this._quicksort(e,t,s),this._quicksort(e,s+1,n)}},"_quicksort")},{key:"_partition",value:e(function(e,t,n){for(var i=this._get(e,t),o=t,s=n;;){for(;this.compareFunction(i,this._get(e,s));)s--;for(;this.compareFunction(this._get(e,o),i);)o++;if(o<s)this._swap(e,o,s),o++,s--;else return s}},"_partition")},{key:"_get",value:e(function(e,t){return e instanceof o?e.get_object_at(t):e[t]},"_get")},{key:"_set",value:e(function(e,t,n){e instanceof o?e.set_object_at(t,n):e[t]=n},"_set")},{key:"_swap",value:e(function(e,t,n){var s=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,s)},"_swap")},{key:"_defaultCompareFunction",value:e(function(e,t){return t>e},"_defaultCompareFunction")}]),t}();t.exports=r},function(t){"use strict";function o(){}e(o,"SVD"),o.svd=function(t){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=t.length,this.n=t[0].length,U=Math.min(this.m,this.n),this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function(t){var n=e(function e(t){if(t.length==0)return 0;for(var n=[],s=0;s<t[0];s++)n.push(e(t.slice(1)));return n},"allocate");return n(t)}([this.m,U]),this.V=function(t){var n=e(function e(t){if(t.length==0)return 0;for(var n=[],s=0;s<t[0];s++)n.push(e(t.slice(1)));return n},"allocate");return n(t)}([this.n,this.n]);for(var i=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),be=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),W=!0,S=!0,g=Math.min(this.m-1,this.n),E=Math.max(0,Math.min(this.n-2,this.m)),n=0;n<Math.max(g,E);n++){if(n<g){this.s[n]=0;for(de=n;de<this.m;de++)this.s[n]=o.hypot(this.s[n],t[de][n]);if(this.s[n]!==0){t[n][n]<0&&(this.s[n]=-this.s[n]);for(le=n;le<this.m;le++)t[le][n]/=this.s[n];t[n][n]+=1}this.s[n]=-this.s[n]}for(x=n+1;x<this.n;x++){if(function(e,t){return e&&t}(n<g,this.s[n]!==0)){for(Q=0,te=n;te<this.m;te++)Q+=t[te][n]*t[te][x];for(Q=-Q/t[n][n],ne=n;ne<this.m;ne++)t[ne][x]+=Q*t[ne][n]}i[x]=t[n][x]}if(function(e,t){return e&&t}(W,n<g))for(K=n;K<this.m;K++)this.U[K][n]=t[K][n];if(n<E){i[n]=0;for(ce=n+1;ce<this.n;ce++)i[n]=o.hypot(i[n],i[ce]);if(i[n]!==0){i[n+1]<0&&(i[n]=-i[n]);for(he=n+1;he<this.n;he++)i[he]/=i[n];i[n+1]+=1}if(i[n]=-i[n],function(e,t){return e&&t}(n+1<this.m,i[n]!==0)){for(fe=n+1;fe<this.m;fe++)be[fe]=0;for(L=n+1;L<this.n;L++)for(R=n+1;R<this.m;R++)be[R]+=i[L]*t[R][L];for(q=n+1;q<this.n;q++)for(Ae=-i[q]/i[n+1],se=n+1;se<this.m;se++)t[se][q]+=Ae*be[se]}if(S)for(J=n+1;J<this.n;J++)this.V[J][n]=i[J]}}if(r=Math.min(this.n,this.m+1),g<this.n&&(this.s[g]=t[g][g]),this.m<r&&(this.s[r-1]=0),E+1<r&&(i[E]=t[E][r-1]),i[r-1]=0,W){for(A=g;A<U;A++){for(re=0;re<this.m;re++)this.U[re][A]=0;this.U[A][A]=1}for(c=g-1;c>=0;c--)if(this.s[c]!==0){for(G=c+1;G<U;G++){for(Y=0,P=c;P<this.m;P++)Y+=this.U[P][c]*this.U[P][G];for(Y=-Y/this.U[c][c],X=c;X<this.m;X++)this.U[X][G]+=Y*this.U[X][c]}for(N=c;N<this.m;N++)this.U[N][c]=-this.U[N][c];this.U[c][c]=1+this.U[c][c];for(pe=0;pe<c-1;pe++)this.U[pe][c]=0}else{for(ue=0;ue<this.m;ue++)this.U[ue][c]=0;this.U[c][c]=1}}if(S)for(l=this.n-1;l>=0;l--){if(function(e,t){return e&&t}(l<E,i[l]!==0))for(H=l+1;H<U;H++){for(I=0,B=l+1;B<this.n;B++)I+=this.V[B][l]*this.V[B][H];for(I=-I/this.V[l+1][l],V=l+1;V<this.n;V++)this.V[V][H]+=I*this.V[V][l]}for(oe=0;oe<this.n;oe++)this.V[oe][l]=0;this.V[l][l]=1}for(var Se=r-1,we=0,ke=Math.pow(2,-52),Ee=Math.pow(2,-966);r>0;){s=void 0,F=void 0;for(s=r-2;s>=-1&&s!==-1;s--)if(Math.abs(i[s])<=Ee+ke*(Math.abs(this.s[s])+Math.abs(this.s[s+1]))){i[s]=0;break}if(s===r-2)F=4;else{d=void 0;for(d=r-1;d>=s&&d!==s;d--)if(Ce=(d!==r?Math.abs(i[d]):0)+(d!==s+1?Math.abs(i[d-1]):0),Math.abs(this.s[d])<=Ee+ke*Ce){this.s[d]=0;break}d===s?F=3:d===r-1?F=1:(F=2,s=d)}switch(s++,F){case 1:{ae=i[r-2],i[r-2]=0;for(u=r-2;u>=s;u--){var ee=o.hypot(this.s[u],ae),ve=this.s[u]/ee,Oe=ae/ee;if(this.s[u]=ee,u!==s&&(ae=-Oe*i[u-1],i[u-1]=ve*i[u-1]),S)for(b=0;b<this.n;b++)ee=ve*this.V[b][u]+Oe*this.V[b][r-1],this.V[b][r-1]=-Oe*this.V[b][u]+ve*this.V[b][r-1],this.V[b][u]=ee}}break;case 2:{ie=i[s-1],i[s-1]=0;for(h=s;h<r;h++){var Z=o.hypot(this.s[h],ie),ge=this.s[h]/Z,_e=ie/Z;if(this.s[h]=Z,ie=-_e*i[h],i[h]=ge*i[h],W)for(v=0;v<this.m;v++)Z=ge*this.U[v][h]+_e*this.U[v][s-1],this.U[v][s-1]=-_e*this.U[v][h]+ge*this.U[v][s-1],this.U[v][h]=Z}}break;case 3:{var U,de,le,x,Q,te,ne,K,ce,he,fe,L,R,q,Ae,se,r,c,b,ie,h,v,j,y,_,O,k,A,D,N,J,re,P,Y,G,X,pe,ue,l,H,I,B,V,oe,s,d,F,Ce,ae,u,Me,z=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[r-1]),Math.abs(this.s[r-2])),Math.abs(i[r-2])),Math.abs(this.s[s])),Math.abs(i[s])),M=this.s[r-1]/z,xe=this.s[r-2]/z,me=i[r-2]/z,je=this.s[s]/z,Fe=i[s]/z,$=((xe+M)*(xe-M)+me*me)/2,ye=M*me*(M*me),C=0;(function(e,t){return e||t})($!==0,ye!==0)&&(C=Math.sqrt($*$+ye),$<0&&(C=-C),C=ye/($+C));for(var w=(je+M)*(je-M)+C,T=je*Fe,a=s;a<r-1;a++){var m=o.hypot(w,T),p=w/m,f=T/m;if(a!==s&&(i[a-1]=m),w=p*this.s[a]+f*i[a],i[a]=p*i[a]-f*this.s[a],T=f*this.s[a+1],this.s[a+1]=p*this.s[a+1],S)for(y=0;y<this.n;y++)m=p*this.V[y][a]+f*this.V[y][a+1],this.V[y][a+1]=-f*this.V[y][a]+p*this.V[y][a+1],this.V[y][a]=m;if(m=o.hypot(w,T),p=w/m,f=T/m,this.s[a]=m,w=p*i[a]+f*this.s[a+1],this.s[a+1]=-f*i[a]+p*this.s[a+1],T=f*i[a+1],i[a+1]=p*i[a+1],W&&a<this.m-1)for(j=0;j<this.m;j++)m=p*this.U[j][a]+f*this.U[j][a+1],this.U[j][a+1]=-f*this.U[j][a]+p*this.U[j][a+1],this.U[j][a]=m}i[r-2]=w,we=we+1}break;case 4:{if(this.s[s]<=0&&(this.s[s]=this.s[s]<0?-this.s[s]:0,S))for(D=0;D<=Se;D++)this.V[D][s]=-this.V[D][s];for(;s<Se&&!(this.s[s]>=this.s[s+1]);){if(k=this.s[s],this.s[s]=this.s[s+1],this.s[s+1]=k,S&&s<this.n-1)for(O=0;O<this.n;O++)k=this.V[O][s+1],this.V[O][s+1]=this.V[O][s],this.V[O][s]=k;if(W&&s<this.m-1)for(_=0;_<this.m;_++)k=this.U[_][s+1],this.U[_][s+1]=this.U[_][s],this.U[_][s]=k;s++}we=0,r--}break}}return Me={U:this.U,V:this.V,S:this.s},Me},o.hypot=function(e,t){var n=void 0;return Math.abs(e)>Math.abs(t)?(n=t/e,n=Math.abs(e)*Math.sqrt(1+n*n)):t!=0?(n=e/t,n=Math.abs(t)*Math.sqrt(1+n*n)):n=0,n},t.exports=o},function(t){"use strict";var i,a=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(o,"_classCallCheck"),i=function(){function t(e,n){var s,i,a,r,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,t),this.sequence1=e,this.sequence2=n,this.match_score=c,this.mismatch_penalty=l,this.gap_penalty=d,this.iMax=e.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(i=0;i<this.iMax;i++){this.tracebackGrid[i]=new Array(this.jMax);for(r=0;r<this.jMax;r++)this.tracebackGrid[i][r]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return e(t,"NeedlemanWunsch"),a(t,[{key:"getScore",value:e(function(){return this.score},"getScore")},{key:"getAlignments",value:e(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:e(function(){for(n=1;n<this.jMax;n++)this.grid[0][n]=this.grid[0][n-1]+this.gap_penalty,this.tracebackGrid[0][n]=[!1,!1,!0];for(s=1;s<this.iMax;s++)this.grid[s][0]=this.grid[s-1][0]+this.gap_penalty,this.tracebackGrid[s][0]=[!1,!0,!1];for(e=1;e<this.iMax;e++)for(t=1;t<this.jMax;t++){o=void 0,this.sequence1[e-1]===this.sequence2[t-1]?o=this.grid[e-1][t-1]+this.match_score:o=this.grid[e-1][t-1]+this.mismatch_penalty;var e,t,n,s,o,r=this.grid[e-1][t]+this.gap_penalty,c=this.grid[e][t-1]+this.gap_penalty,a=[o,r,c],i=this.arrayAllMaxIndexes(a);this.grid[e][t]=a[i[0]],this.tracebackGrid[e][t]=[i.includes(0),i.includes(1),i.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:e(function(){t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var t,e=t[0],n=this.tracebackGrid[e.pos[0]][e.pos[1]];n[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),n[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),n[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),e.pos[0]===0&&e.pos[1]===0&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:e(function(e,t){for(var s=[],n=-1;(n=e.indexOf(t,n+1))!==-1;)s.push(n);return s},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:e(function(e){return this.getAllIndexes(e,Math.max.apply(null,e))},"arrayAllMaxIndexes")}]),t}(),t.exports=i},function(t,n,s){"use strict";var o=e(function(){},"layoutBase");o.FDLayout=s(18),o.FDLayoutConstants=s(4),o.FDLayoutEdge=s(19),o.FDLayoutNode=s(20),o.DimensionD=s(21),o.HashMap=s(22),o.HashSet=s(23),o.IGeometry=s(8),o.IMath=s(9),o.Integer=s(10),o.Point=s(12),o.PointD=s(5),o.RandomSeed=s(16),o.RectangleD=s(13),o.Transform=s(17),o.UniqueIDGeneretor=s(14),o.Quicksort=s(25),o.LinkedList=s(11),o.LGraphObject=s(2),o.LGraph=s(6),o.LEdge=s(1),o.LGraphManager=s(7),o.LNode=s(3),o.Layout=s(15),o.LayoutConstants=s(0),o.NeedlemanWunsch=s(27),o.Matrix=s(24),o.SVD=s(26),t.exports=o},function(t){"use strict";function o(){this.listeners=[]}e(o,"Emitter");var i=o.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var s,n=this.listeners.length;n>=0;n--)s=this.listeners[n],s.event===e&&s.callback===t&&this.listeners.splice(n,1)},i.emit=function(e,t){for(var s,n=0;n<this.listeners.length;n++)s=this.listeners[n],e===s.event&&s.callback(t)},t.exports=o}])})}),CV=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s(lV()):typeof define=="function"&&define.amd?define(["layout-base"],s):typeof t=="object"?t.coseBase=s(lV()):e.coseBase=s(e.layoutBase)},"webpackUniversalModuleDefinition")(t,function(t){return(()=>{"use strict";var o,i={45:(e,t,n)=>{var s={};s.layoutBase=n(551),s.CoSEConstants=n(806),s.CoSEEdge=n(767),s.CoSEGraph=n(880),s.CoSEGraphManager=n(578),s.CoSELayout=n(765),s.CoSENode=n(991),s.ConstraintHandler=n(902),e.exports=s},806:(t,n,s)=>{var a,i=s(551).FDLayoutConstants;function o(){}e(o,"CoSEConstants");for(a in i)o[a]=i[a];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,o.ENFORCE_CONSTRAINTS=!0,o.APPLY_LAYOUT=!0,o.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,o.TREE_REDUCTION_ON_INCREMENTAL=!0,o.PURE_INCREMENTAL=o.DEFAULT_INCREMENTAL,t.exports=o},767:(t,n,s)=>{var a,o=s(551).FDLayoutEdge;function i(e,t,n){o.call(this,e,t,n)}e(i,"CoSEEdge"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},880:(t,n,s)=>{var a,o=s(551).LGraph;function i(e,t,n){o.call(this,e,t,n)}e(i,"CoSEGraph"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},578:(t,n,s)=>{var a,o=s(551).LGraphManager;function i(e){o.call(this,e)}e(i,"CoSEGraphManager"),i.prototype=Object.create(o.prototype);for(a in o)i[a]=o[a];t.exports=i},765:(t,n,s)=>{var u,c=s(551).FDLayout,w=s(578),v=s(880),d=s(991),g=s(767),i=s(806),O=s(902),a=s(551).FDLayoutConstants,l=s(551).LayoutConstants,f=s(551).Point,r=s(551).PointD,p=s(551).DimensionD,m=s(551).Layout,h=s(551).Integer,b=s(551).IGeometry,j=s(551).LGraph,y=s(551).Transform,_=s(551).LinkedList;function o(){c.call(this),this.toBeTiled={},this.constraints={}}e(o,"CoSELayout"),o.prototype=Object.create(c.prototype);for(u in c)o[u]=c[u];o.prototype.newGraphManager=function(){var e=new w(this);return this.graphManager=e,e},o.prototype.newGraph=function(e){return new v(null,this.graphManager,e)},o.prototype.newNode=function(e){return new d(this.graphManager,e)},o.prototype.newEdge=function(e){return new g(null,null,e)},o.prototype.initParameters=function(){c.prototype.initParameters.call(this,arguments),this.isSubLayout||(i.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=i.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},o.prototype.initSpringEmbedder=function(){c.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/a.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},o.prototype.layout=function(){var e=l.DEFAULT_CREATE_BENDS_AS_NEEDED;return e&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},o.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(i.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var n,e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t)}}else n=this.getFlatForest(),n.length>0?this.positionNodesRadially(n):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)}),this.graphManager.setAllNodesToApplyGravitation(t),this.positionNodesRandomly());return Object.keys(this.constraints).length>0&&(O.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),i.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},o.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%a.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e,t,n=new Set(this.getAllNodes()),s=this.nodesWithGravity.filter(function(e){return n.has(e)});this.graphManager.setAllNodesToApplyGravitation(s),this.graphManager.updateBounds(),this.updateGrid(),i.PURE_INCREMENTAL?this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),i.PURE_INCREMENTAL?this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}return e=!this.isTreeGrowing&&!this.isGrowthFinished,t=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished,this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(e,t),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},o.prototype.getPositionsData=function(){for(var e,s,n=this.graphManager.getAllNodes(),o={},t=0;t<n.length;t++)e=n[t].rect,s=n[t].id,o[s]={id:s,x:e.getCenterX(),y:e.getCenterY(),w:e.width,h:e.height};return o},o.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if(a.ANIMATE==="during")this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},o.prototype.moveNodes=function(){for(var n,t=this.getAllNodes(),e=0;e<t.length;e++)n=t[e],n.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(e=0;e<t.length;e++)n=t[e],n.move()},o.prototype.initConstraintVariables=function(){t=this,this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t,s,o,a,r,c,d,u,h,m,f,p,g,l=this.graphManager.getAllNodes(),n=0;n<l.length;n++)a=l[n],this.idToNodeMap.set(a.id,a);if(g=e(function e(n){for(var s,a=n.getChild().getNodes(),o=0,i=0;i<a.length;i++)s=a[i],s.getChild()==null?t.fixedNodeSet.has(s.id)&&(o+=100):o+=e(s);return o},"calculateCompoundWeight"),this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(e){t.fixedNodeSet.add(e.nodeId)});for(l=this.graphManager.getAllNodes(),n=0;n<l.length;n++)a=l[n],a.getChild()!=null&&(d=g(a),d>0&&(a.fixedNodeWeight=d))}if(this.constraints.relativePlacementConstraint){if(s=new Map,o=new Map,this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(e){t.fixedNodesOnHorizontal.add(e),t.fixedNodesOnVertical.add(e)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(u=this.constraints.alignmentConstraint.vertical,n=0;n<u.length;n++)this.dummyToNodeForVerticalAlignment.set("dummy"+n,[]),u[n].forEach(function(e){s.set(e,"dummy"+n),t.dummyToNodeForVerticalAlignment.get("dummy"+n).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnHorizontal.add("dummy"+n)});if(this.constraints.alignmentConstraint.horizontal)for(h=this.constraints.alignmentConstraint.horizontal,n=0;n<h.length;n++)this.dummyToNodeForHorizontalAlignment.set("dummy"+n,[]),h[n].forEach(function(e){o.set(e,"dummy"+n),t.dummyToNodeForHorizontalAlignment.get("dummy"+n).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnVertical.add("dummy"+n)})}i.RELAX_MOVEMENT_ON_CONSTRAINTS?(this.shuffle=function(e){var t,n,s;for(t=e.length-1;t>=2*e.length/3;t--)n=Math.floor(Math.random()*(t+1)),s=e[t],e[t]=e[n],e[n]=s;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var n,i,a=s.has(e.left)?s.get(e.left):e.left,r=s.has(e.right)?s.get(e.right):e.right;t.nodesInRelativeHorizontal.includes(a)||(t.nodesInRelativeHorizontal.push(a),t.nodeToRelativeConstraintMapHorizontal.set(a,[]),t.dummyToNodeForVerticalAlignment.has(a)?t.nodeToTempPositionMapHorizontal.set(a,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(a)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(a,t.idToNodeMap.get(a).getCenterX())),t.nodesInRelativeHorizontal.includes(r)||(t.nodesInRelativeHorizontal.push(r),t.nodeToRelativeConstraintMapHorizontal.set(r,[]),t.dummyToNodeForVerticalAlignment.has(r)?t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(r).getCenterX())),t.nodeToRelativeConstraintMapHorizontal.get(a).push({right:r,gap:e.gap}),t.nodeToRelativeConstraintMapHorizontal.get(r).push({left:a,gap:e.gap})}else n=o.has(e.top)?o.get(e.top):e.top,i=o.has(e.bottom)?o.get(e.bottom):e.bottom,t.nodesInRelativeVertical.includes(n)||(t.nodesInRelativeVertical.push(n),t.nodeToRelativeConstraintMapVertical.set(n,[]),t.dummyToNodeForHorizontalAlignment.has(n)?t.nodeToTempPositionMapVertical.set(n,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(n)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(n,t.idToNodeMap.get(n).getCenterY())),t.nodesInRelativeVertical.includes(i)||(t.nodesInRelativeVertical.push(i),t.nodeToRelativeConstraintMapVertical.set(i,[]),t.dummyToNodeForHorizontalAlignment.has(i)?t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(i).getCenterY())),t.nodeToRelativeConstraintMapVertical.get(n).push({bottom:i,gap:e.gap}),t.nodeToRelativeConstraintMapVertical.get(i).push({top:n,gap:e.gap})})):(r=new Map,c=new Map,this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var t,n,i=s.has(e.left)?s.get(e.left):e.left,a=s.has(e.right)?s.get(e.right):e.right;r.has(i)?r.get(i).push(a):r.set(i,[a]),r.has(a)?r.get(a).push(i):r.set(a,[i])}else t=o.has(e.top)?o.get(e.top):e.top,n=o.has(e.bottom)?o.get(e.bottom):e.bottom,c.has(t)?c.get(t).push(n):c.set(t,[n]),c.has(n)?c.get(n).push(t):c.set(n,[t])}),m=e(function(e,t){var s=[],a=[],o=new _,i=new Set,n=0;return e.forEach(function(r,c){if(!i.has(c)){s[n]=[],a[n]=!1;var d,l=c;for(o.push(l),i.add(l),s[n].push(l);o.length!=0;)l=o.shift(),t.has(l)&&(a[n]=!0),d=e.get(l),d.forEach(function(e){i.has(e)||(o.push(e),i.add(e),s[n].push(e))});n++}}),{components:s,isFixed:a}},"constructComponents"),f=m(r,t.fixedNodesOnHorizontal),this.componentsOnHorizontal=f.components,this.fixedComponentsOnHorizontal=f.isFixed,p=m(c,t.fixedNodesOnVertical),this.componentsOnVertical=p.components,this.fixedComponentsOnVertical=p.isFixed)}},o.prototype.updateDisplacements=function(){if(t=this,this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(e){var n=t.idToNodeMap.get(e.nodeId);n.displacementX=0,n.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(a=this.constraints.alignmentConstraint.vertical,n=0;n<a.length;n++){for(u=0,e=0;e<a[n].length;e++){if(this.fixedNodeSet.has(a[n][e])){u=0;break}u+=this.idToNodeMap.get(a[n][e]).displacementX}for(m=u/a[n].length,e=0;e<a[n].length;e++)this.idToNodeMap.get(a[n][e]).displacementX=m}if(this.constraints.alignmentConstraint.horizontal)for(o=this.constraints.alignmentConstraint.horizontal,n=0;n<o.length;n++){for(h=0,e=0;e<o[n].length;e++){if(this.fixedNodeSet.has(o[n][e])){h=0;break}h+=this.idToNodeMap.get(o[n][e]).displacementY}for(f=h/o[n].length,e=0;e<o[n].length;e++)this.idToNodeMap.get(o[n][e]).displacementY=f}}if(this.constraints.relativePlacementConstraint)if(i.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var n=0;t.dummyToNodeForVerticalAlignment.has(e)?n=t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(e)[0]).displacementX:n=t.idToNodeMap.get(e).displacementX,t.nodeToRelativeConstraintMapHorizontal.get(e).forEach(function(s){if(s.right){var o=t.nodeToTempPositionMapHorizontal.get(s.right)-t.nodeToTempPositionMapHorizontal.get(e)-n;o<s.gap&&(n-=s.gap-o)}else o=t.nodeToTempPositionMapHorizontal.get(e)-t.nodeToTempPositionMapHorizontal.get(s.left)+n,o<s.gap&&(n+=s.gap-o)}),t.nodeToTempPositionMapHorizontal.set(e,t.nodeToTempPositionMapHorizontal.get(e)+n),t.dummyToNodeForVerticalAlignment.has(e)?t.dummyToNodeForVerticalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementX=n}):t.idToNodeMap.get(e).displacementX=n}}),this.nodesInRelativeVertical.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var n=0;t.dummyToNodeForHorizontalAlignment.has(e)?n=t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(e)[0]).displacementY:n=t.idToNodeMap.get(e).displacementY,t.nodeToRelativeConstraintMapVertical.get(e).forEach(function(s){if(s.bottom){var o=t.nodeToTempPositionMapVertical.get(s.bottom)-t.nodeToTempPositionMapVertical.get(e)-n;o<s.gap&&(n-=s.gap-o)}else o=t.nodeToTempPositionMapVertical.get(e)-t.nodeToTempPositionMapVertical.get(s.top)+n,o<s.gap&&(n+=s.gap-o)}),t.nodeToTempPositionMapVertical.set(e,t.nodeToTempPositionMapVertical.get(e)+n),t.dummyToNodeForHorizontalAlignment.has(e)?t.dummyToNodeForHorizontalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementY=n}):t.idToNodeMap.get(e).displacementY=n}});else{for(n=0;n<this.componentsOnHorizontal.length;n++)if(s=this.componentsOnHorizontal[n],this.fixedComponentsOnHorizontal[n])for(e=0;e<s.length;e++)this.dummyToNodeForVerticalAlignment.has(s[e])?this.dummyToNodeForVerticalAlignment.get(s[e]).forEach(function(e){t.idToNodeMap.get(e).displacementX=0}):this.idToNodeMap.get(s[e]).displacementX=0;else{for(var t,n,s,o,a,r,d,u,h,m,f,c=0,l=0,e=0;e<s.length;e++)this.dummyToNodeForVerticalAlignment.has(s[e])?(r=this.dummyToNodeForVerticalAlignment.get(s[e]),c+=r.length*this.idToNodeMap.get(r[0]).displacementX,l+=r.length):(c+=this.idToNodeMap.get(s[e]).displacementX,l++);for(d=c/l,e=0;e<s.length;e++)this.dummyToNodeForVerticalAlignment.has(s[e])?this.dummyToNodeForVerticalAlignment.get(s[e]).forEach(function(e){t.idToNodeMap.get(e).displacementX=d}):this.idToNodeMap.get(s[e]).displacementX=d}for(n=0;n<this.componentsOnVertical.length;n++)if(s=this.componentsOnVertical[n],this.fixedComponentsOnVertical[n])for(e=0;e<s.length;e++)this.dummyToNodeForHorizontalAlignment.has(s[e])?this.dummyToNodeForHorizontalAlignment.get(s[e]).forEach(function(e){t.idToNodeMap.get(e).displacementY=0}):this.idToNodeMap.get(s[e]).displacementY=0;else{for(var c=0,l=0,e=0;e<s.length;e++)this.dummyToNodeForHorizontalAlignment.has(s[e])?(r=this.dummyToNodeForHorizontalAlignment.get(s[e]),c+=r.length*this.idToNodeMap.get(r[0]).displacementY,l+=r.length):(c+=this.idToNodeMap.get(s[e]).displacementY,l++);for(d=c/l,e=0;e<s.length;e++)this.dummyToNodeForHorizontalAlignment.has(s[e])?this.dummyToNodeForHorizontalAlignment.get(s[e]).forEach(function(e){t.idToNodeMap.get(e).displacementY=d}):this.idToNodeMap.get(s[e]).displacementY=d}}},o.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],s=this.graphManager.getGraphs(),o=s.length;for(t=0;t<o;t++)e=s[t],e.updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},o.prototype.createBendpoints=function(){n=[],n=n.concat(this.graphManager.getAllEdges()),s=new Set;for(o=0;o<n.length;o++){if(t=n[o],!s.has(t)){var e,t,n,s,o,i,l,a=t.getSource(),c=t.getTarget();if(a==c)t.getBendpoints().push(new r),t.getBendpoints().push(new r),this.createDummyNodesForBendpoints(t),s.add(t);else if(e=[],e=e.concat(a.getEdgeListToNode(c)),e=e.concat(c.getEdgeListToNode(a)),!s.has(e[0])){if(e.length>1)for(i=0;i<e.length;i++)l=e[i],l.getBendpoints().push(new r),this.createDummyNodesForBendpoints(l);e.forEach(function(e){s.add(e)})}}if(s.size==n.length)break}},o.prototype.positionNodesRadially=function(e){for(var u,h,a=new f(0,0),p=Math.ceil(Math.sqrt(e.length)),s=0,c=0,d=0,t=new r(0,0),n=0;n<e.length;n++)n%p==0&&(d=0,c=s,n!=0&&(c+=i.DEFAULT_COMPONENT_SEPERATION),s=0),u=e[n],h=m.findCenterOfTree(u),a.x=d,a.y=c,t=o.radialLayout(u,h,a),t.y>s&&(s=Math.floor(t.y)),d=Math.floor(t.x+i.DEFAULT_COMPONENT_SEPERATION);this.transform(new r(l.WORLD_CENTER_X-t.x/2,l.WORLD_CENTER_Y-t.y/2))},o.radialLayout=function(e,t,n){l=Math.max(this.maxDiagonalInTree(e),i.DEFAULT_RADIAL_SEPARATION),o.branchRadialLayout(t,null,0,359,0,l);var c,l,d,u,a=j.calculateBounds(e),s=new y;s.setDeviceOrgX(a.getMinX()),s.setDeviceOrgY(a.getMinY()),s.setWorldOrgX(n.x),s.setWorldOrgY(n.y);for(c=0;c<e.length;c++)d=e[c],d.transform(s);return u=new r(a.getMaxX(),a.getMaxY()),s.inverseTransformPoint(u)},o.branchRadialLayout=function(e,t,n,s,i,a){l=(s-n+1)/2,l<0&&(l+=180);var r,c,l,u,h,m,f,y,_,w,C=(l+n)%360,j=C*b.TWO_PI/360,E=Math.cos(j),x=i*Math.cos(j),O=i*Math.sin(j);e.setCenter(x,O),r=[],r=r.concat(e.getEdges()),c=r.length,t!=null&&c--;for(var v,p=0,g=r.length,d=e.getEdgesBetween(t);d.length>1;)_=d[0],d.splice(0,1),f=r.indexOf(_),f>=0&&r.splice(f,1),g--,c--;t!=null?v=(r.indexOf(d[0])+1)%g:v=0;for(m=Math.abs(s-n)/c,u=v;p!=c;u=++u%g)h=r[u].getOtherEnd(e),h!=t&&(y=(n+p*m)%360,w=(y+m)%360,o.branchRadialLayout(h,e,y,w,i+a,a),p++)},o.maxDiagonalInTree=function(e){for(var s,o,t=h.MIN_VALUE,n=0;n<e.length;n++)o=e[n],s=o.getDiagonal(),s>t&&(t=s);return t},o.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},o.prototype.groupZeroDegreeMembers=function(){s=this,e={},this.memberGroups={},this.idToDummyNode={};for(var e,n,s,o,a,i=[],r=this.graphManager.getAllNodes(),t=0;t<r.length;t++)n=r[t],a=n.getParent(),this.getNodeDegreeWithChildren(n)===0&&(a.id==null||!this.getToBeTiled(a))&&i.push(n);for(t=0;t<i.length;t++)n=i[t],o=n.getParent().id,typeof e[o]>"u"&&(e[o]=[]),e[o]=e[o].concat(n);Object.keys(e).forEach(function(t){if(e[t].length>1){i="DummyCompound_"+t,s.memberGroups[i]=e[t];var i,a,r,c,l,o=e[t][0].getParent(),n=new d(s.graphManager);n.id=i,n.paddingLeft=o.paddingLeft||0,n.paddingRight=o.paddingRight||0,n.paddingBottom=o.paddingBottom||0,n.paddingTop=o.paddingTop||0,s.idToDummyNode[i]=n,l=s.getGraphManager().add(s.newGraph(),n),r=o.getChild(),r.add(n);for(a=0;a<e[t].length;a++)c=e[t][a],r.remove(c),l.add(c)}})},o.prototype.clearCompounds=function(){var e,t={},n={};this.performDFSOnCompounds();for(e=0;e<this.compoundOrder.length;e++)n[this.compoundOrder[e].id]=this.compoundOrder[e],t[this.compoundOrder[e].id]=[].concat(this.compoundOrder[e].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[e].getChild()),this.compoundOrder[e].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,n)},o.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){if(s=t.idToDummyNode[n],e[n]=t.tileNodes(t.memberGroups[n],s.paddingLeft+s.paddingRight),s.rect.width=e[n].width,s.rect.height=e[n].height,s.setCenter(e[n].centerX,e[n].centerY),s.labelMarginLeft=0,s.labelMarginTop=0,i.NODE_DIMENSIONS_INCLUDE_LABELS){var s,o=s.rect.width,a=s.rect.height;s.labelWidth&&(s.labelPosHorizontal=="left"?(s.rect.x-=s.labelWidth,s.setWidth(o+s.labelWidth),s.labelMarginLeft=s.labelWidth):s.labelPosHorizontal=="center"&&s.labelWidth>o?(s.rect.x-=(s.labelWidth-o)/2,s.setWidth(s.labelWidth),s.labelMarginLeft=(s.labelWidth-o)/2):s.labelPosHorizontal=="right"&&s.setWidth(o+s.labelWidth)),s.labelHeight&&(s.labelPosVertical=="top"?(s.rect.y-=s.labelHeight,s.setHeight(a+s.labelHeight),s.labelMarginTop=s.labelHeight):s.labelPosVertical=="center"&&s.labelHeight>a?(s.rect.y-=(s.labelHeight-a)/2,s.setHeight(s.labelHeight),s.labelMarginTop=(s.labelHeight-a)/2):s.labelPosVertical=="bottom"&&s.setHeight(a+s.labelHeight))}})},o.prototype.repopulateCompounds=function(){for(t=this.compoundOrder.length-1;t>=0;t--){var t,e=this.compoundOrder[t],n=e.id,s=e.paddingLeft,o=e.paddingTop,i=e.labelMarginLeft,a=e.labelMarginTop;this.adjustLocations(this.tiledMemberPack[n],e.rect.x,e.rect.y,s,o,i,a)}},o.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var s=e.idToDummyNode[n],o=s.paddingLeft,i=s.paddingTop,a=s.labelMarginLeft,r=s.labelMarginTop;e.adjustLocations(t[n],s.rect.x,s.rect.y,o,i,a,r)})},o.prototype.getToBeTiled=function(e){if(t=e.id,this.toBeTiled[t]!=null)return this.toBeTiled[t];if(s=e.getChild(),s==null)return this.toBeTiled[t]=!1,!1;for(var t,n,s,i=s.getNodes(),o=0;o<i.length;o++){if(n=i[o],this.getNodeDegree(n)>0)return this.toBeTiled[t]=!1,!1;if(n.getChild()==null){this.toBeTiled[n.id]=!1;continue}if(!this.getToBeTiled(n))return this.toBeTiled[t]=!1,!1}return this.toBeTiled[t]=!0,!0},o.prototype.getNodeDegree=function(e){for(var s,i=e.id,o=e.getEdges(),t=0,n=0;n<o.length;n++)s=o[n],s.getSource().id!==s.getTarget().id&&(t=t+1);return t},o.prototype.getNodeDegreeWithChildren=function(e){if(t=this.getNodeDegree(e),e.getChild()==null)return t;for(var t,o,s=e.getChild().getNodes(),n=0;n<s.length;n++)o=s[n],t+=this.getNodeDegreeWithChildren(o);return t},o.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},o.prototype.fillCompexOrderByDFS=function(e){for(var t,n=0;n<e.length;n++)t=e[n],t.getChild()!=null&&this.fillCompexOrderByDFS(t.getChild().getNodes()),this.getToBeTiled(t)&&this.compoundOrder.push(t)},o.prototype.adjustLocations=function(e,t,n,s,o,i,a){t+=s+i,n+=o+a;for(var r,c,l,u,h=t,d=0;d<e.rows.length;d++){u=e.rows[d],t=h;for(c=0,l=0;l<u.length;l++)r=u[l],r.rect.x=t,r.rect.y=n,t+=r.rect.width+e.horizontalPadding,r.rect.height>c&&(c=r.rect.height);n+=c+e.verticalPadding}},o.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(s){if(o=t[s],n.tiledMemberPack[s]=n.tileNodes(e[s],o.paddingLeft+o.paddingRight),o.rect.width=n.tiledMemberPack[s].width,o.rect.height=n.tiledMemberPack[s].height,o.setCenter(n.tiledMemberPack[s].centerX,n.tiledMemberPack[s].centerY),o.labelMarginLeft=0,o.labelMarginTop=0,i.NODE_DIMENSIONS_INCLUDE_LABELS){var o,a=o.rect.width,r=o.rect.height;o.labelWidth&&(o.labelPosHorizontal=="left"?(o.rect.x-=o.labelWidth,o.setWidth(a+o.labelWidth),o.labelMarginLeft=o.labelWidth):o.labelPosHorizontal=="center"&&o.labelWidth>a?(o.rect.x-=(o.labelWidth-a)/2,o.setWidth(o.labelWidth),o.labelMarginLeft=(o.labelWidth-a)/2):o.labelPosHorizontal=="right"&&o.setWidth(a+o.labelWidth)),o.labelHeight&&(o.labelPosVertical=="top"?(o.rect.y-=o.labelHeight,o.setHeight(r+o.labelHeight),o.labelMarginTop=o.labelHeight):o.labelPosVertical=="center"&&o.labelHeight>r?(o.rect.y-=(o.labelHeight-r)/2,o.setHeight(o.labelHeight),o.labelMarginTop=(o.labelHeight-r)/2):o.labelPosVertical=="bottom"&&o.setHeight(r+o.labelHeight))}})},o.prototype.tileNodes=function(e,t){var n,s=this.tileNodesByFavoringDim(e,t,!0),o=this.tileNodesByFavoringDim(e,t,!1),i=this.getOrgRatio(s),a=this.getOrgRatio(o);return a<i?n=o:n=s,n},o.prototype.getOrgRatio=function(e){var n=e.width,s=e.height,t=n/s;return t<1&&(t=1/t),t},o.prototype.calcIdealRowWidth=function(e,t){var o,r=i.TILING_PADDING_VERTICAL,n=i.TILING_PADDING_HORIZONTAL,c=e.length,u=0,h=0,a=0;e.forEach(function(e){u+=e.getWidth(),h+=e.getHeight(),e.getWidth()>a&&(a=e.getWidth())});var s,l=u/c,m=h/c,f=Math.pow(r-n,2)+4*(l+n)*(m+r)*c,d=(n-r+Math.sqrt(f))/(2*(l+n));return t?(s=Math.ceil(d),s==d&&s++):s=Math.floor(d),o=s*(l+n)-n,a>o&&(o=a),o+=n*2,o},o.prototype.tileNodesByFavoringDim=function(t,n,s){var a,r,c,l,u,f=i.TILING_PADDING_VERTICAL,p=i.TILING_PADDING_HORIZONTAL,d=i.TILING_COMPARE_BY,o={rows:[],rowWidth:[],rowHeight:[],width:0,height:n,verticalPadding:f,horizontalPadding:p,centerX:0,centerY:0};d&&(o.idealRowWidth=this.calcIdealRowWidth(t,s)),c=e(function(e){return e.rect.width*e.rect.height},"getNodeArea"),u=e(function(e,t){return c(t)-c(e)},"areaCompareFcn"),t.sort(function(e,t){var n=u;return o.idealRowWidth?(n=d,n(e.id,t.id)):n(e,t)});for(var h=0,m=0,r=0;r<t.length;r++)a=t[r],h+=a.getCenterX(),m+=a.getCenterY();o.centerX=h/t.length,o.centerY=m/t.length;for(r=0;r<t.length;r++)a=t[r],o.rows.length==0?this.insertNodeToRow(o,a,0,n):this.canAddHorizontal(o,a.rect.width,a.rect.height)?(l=o.rows.length-1,o.idealRowWidth||(l=this.getShortestRowIndex(o)),this.insertNodeToRow(o,a,l,n)):this.insertNodeToRow(o,a,o.rows.length,n),this.shiftToLastRow(o);return o},o.prototype.insertNodeToRow=function(e,t,n,s){var o,i,a,r,c=s;n==e.rows.length&&(r=[],e.rows.push(r),e.rowWidth.push(c),e.rowHeight.push(0)),o=e.rowWidth[n]+t.rect.width,e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o),a=t.rect.height,n>0&&(a+=e.verticalPadding),i=0,a>e.rowHeight[n]&&(i=e.rowHeight[n],e.rowHeight[n]=a,i=e.rowHeight[n]-i),e.height+=i,e.rows[n].push(t)},o.prototype.getShortestRowIndex=function(e){for(var n=-1,s=Number.MAX_VALUE,t=0;t<e.rows.length;t++)e.rowWidth[t]<s&&(n=t,s=e.rowWidth[t]);return n},o.prototype.getLongestRowIndex=function(e){for(var n=-1,s=Number.MIN_VALUE,t=0;t<e.rows.length;t++)e.rowWidth[t]>s&&(n=t,s=e.rowWidth[t]);return n},o.prototype.canAddHorizontal=function(e,t,n){if(e.idealRowWidth){var s,o,i,a,r,c=e.rows.length-1,l=e.rowWidth[c];return l+t+e.horizontalPadding<=e.idealRowWidth}return o=this.getShortestRowIndex(e),o<0||(r=e.rowWidth[o],r+e.horizontalPadding+t<=e.width||(s=0,e.rowHeight[o]<n&&o>0&&(s=n+e.verticalPadding-e.rowHeight[o]),e.width-r>=t+e.horizontalPadding?i=(e.height+s)/(r+t+e.horizontalPadding):i=(e.height+s)/e.width,s=n+e.verticalPadding,e.width<t?a=(e.height+s)/t:a=(e.height+s)/e.width,a<1&&(a=1/a),i<1&&(i=1/i),i<a))},o.prototype.shiftToLastRow=function(e){var o,i,c,l,n=this.getLongestRowIndex(e),t=e.rowWidth.length-1,s=e.rows[n],a=s[s.length-1],r=a.width+e.horizontalPadding;if(e.width-e.rowWidth[t]>r&&n!=t){s.splice(-1,1),e.rows[t].push(a),e.rowWidth[n]=e.rowWidth[n]-r,e.rowWidth[t]=e.rowWidth[t]+r,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(o=Number.MIN_VALUE,i=0;i<s.length;i++)s[i].height>o&&(o=s[i].height);n>0&&(o+=e.verticalPadding),c=e.rowHeight[n]+e.rowHeight[t],e.rowHeight[n]=o,e.rowHeight[t]<a.height+e.verticalPadding&&(e.rowHeight[t]=a.height+e.verticalPadding),l=e.rowHeight[n]+e.rowHeight[t],e.height+=l-c,this.shiftToLastRow(e)}},o.prototype.tilingPreLayout=function(){i.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},o.prototype.tilingPostLayout=function(){i.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},o.prototype.reduceTrees=function(){for(var e,t,n,o,a,r,c,d,l=[],s=!0;s;){for(a=this.graphManager.getAllNodes(),t=[],s=!1,o=0;o<a.length;o++)e=a[o],e.getEdges().length==1&&!e.getEdges()[0].isInterGraph&&e.getChild()==null&&(i.PURE_INCREMENTAL?(r=e.getEdges()[0].getOtherEnd(e),d=new p(e.getCenterX()-r.getCenterX(),e.getCenterY()-r.getCenterY()),t.push([e,e.getEdges()[0],e.getOwner(),d])):t.push([e,e.getEdges()[0],e.getOwner()]),s=!0);if(s==!0){for(c=[],n=0;n<t.length;n++)t[n][0].getEdges().length==1&&(c.push(t[n]),t[n][0].getOwner().remove(t[n][0]));l.push(c),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=l},o.prototype.growTree=function(e){for(var t,o=e.length,s=e[o-1],n=0;n<s.length;n++)t=s[n],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},o.prototype.findPlaceforPrunedNode=function(e){if(r=e[0],r==e[1].source?s=e[1].target:s=e[1].source,i.PURE_INCREMENTAL)r.setCenter(s.getCenterX()+e[3].getWidth(),s.getCenterY()+e[3].getHeight());else{var n,s,o,r,c,l,d,f,v,g=s.startX,u=s.finishX,p=s.startY,m=s.finishY,_=0,y=0,b=0,j=0,t=[_,b,y,j];if(p>0)for(o=g;o<=u;o++)t[0]+=this.grid[o][p-1].length+this.grid[o][p].length-1;if(u<this.grid.length-1)for(o=p;o<=m;o++)t[1]+=this.grid[u+1][o].length+this.grid[u][o].length-1;if(m<this.grid[0].length-1)for(o=g;o<=u;o++)t[2]+=this.grid[o][m+1].length+this.grid[o][m].length-1;if(g>0)for(o=p;o<=m;o++)t[3]+=this.grid[g-1][o].length+this.grid[g][o].length-1;for(d=h.MAX_VALUE,l=0;l<t.length;l++)t[l]<d?(d=t[l],f=1,v=l):t[l]==d&&f++;f==3&&d==0?t[0]==0&&t[1]==0&&t[2]==0?n=1:t[0]==0&&t[1]==0&&t[3]==0?n=0:t[0]==0&&t[2]==0&&t[3]==0?n=3:t[1]==0&&t[2]==0&&t[3]==0&&(n=2):f==2&&d==0?(c=Math.floor(Math.random()*2),t[0]==0&&t[1]==0?c==0?n=0:n=1:t[0]==0&&t[2]==0?c==0?n=0:n=2:t[0]==0&&t[3]==0?c==0?n=0:n=3:t[1]==0&&t[2]==0?c==0?n=1:n=2:t[1]==0&&t[3]==0?c==0?n=1:n=3:c==0?n=2:n=3):f==4&&d==0?(c=Math.floor(Math.random()*4),n=c):n=v,n==0?r.setCenter(s.getCenterX(),s.getCenterY()-s.getHeight()/2-a.DEFAULT_EDGE_LENGTH-r.getHeight()/2):n==1?r.setCenter(s.getCenterX()+s.getWidth()/2+a.DEFAULT_EDGE_LENGTH+r.getWidth()/2,s.getCenterY()):n==2?r.setCenter(s.getCenterX(),s.getCenterY()+s.getHeight()/2+a.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(s.getCenterX()-s.getWidth()/2-a.DEFAULT_EDGE_LENGTH-r.getWidth()/2,s.getCenterY())}},t.exports=o},991:(t,n,s)=>{var r,i=s(551).FDLayoutNode,a=s(551).IMath;function o(e,t,n,s){i.call(this,e,t,n,s)}e(o,"CoSENode"),o.prototype=Object.create(i.prototype);for(r in i)o[r]=i[r];o.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*a.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*a.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(e,t){for(var n,o=this.getChild().getNodes(),s=0;s<o.length;s++)n=o[s],n.getChild()==null?(n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},o.prototype.move=function(){var e=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(e){this.pred1=e},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(e){this.next=e},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(e){this.processed=e},o.prototype.isProcessed=function(){return processed},t.exports=o},902:(t,n,s)=>{function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e(i,"_toConsumableArray");var a=s(806),c=s(551).LinkedList,o=s(551).Matrix,l=s(551).SVD;function r(){}e(r,"ConstraintHandler"),r.handleConstraints=function(t){s={},s.fixedNodeConstraint=t.constraints.fixedNodeConstraint,s.alignmentConstraint=t.constraints.alignmentConstraint,s.relativePlacementConstraint=t.constraints.relativePlacementConstraint;for(var E=new Map,n=new Map,r=[],d=[],M=t.getAllNodes(),se=0,H=0;H<M.length;H++)p=M[H],p.getChild()==null&&(n.set(p.id,se++),r.push(p.getCenterX()),d.push(p.getCenterY()),E.set(p.id,p));s.relativePlacementConstraint&&s.relativePlacementConstraint.forEach(function(e){!e.gap&&e.gap!=0&&(e.left?e.gap=a.DEFAULT_EDGE_LENGTH+E.get(e.left).getWidth()/2+E.get(e.right).getWidth()/2:e.gap=a.DEFAULT_EDGE_LENGTH+E.get(e.top).getHeight()/2+E.get(e.bottom).getHeight()/2)});var s,f,p,g,w,k,R,P,W,X,ee=e(function(e,t){return{x:e.x-t.x,y:e.y-t.y}},"calculatePositionDiff"),T=e(function(e){var t=0,s=0;return e.forEach(function(e){t+=r[n.get(e)],s+=d[n.get(e)]}),{x:t/e.size,y:s/e.size}},"calculateAvgPosition"),S=e(function(t,s,o,a,l){function v(e,t){var n,r,c,o=new Set(e),s=!0,i=!1,a=void 0;try{for(n=t[Symbol.iterator]();!(s=(r=n.next()).done);s=!0)c=r.value,o.add(c)}catch(e){i=!0,a=e}finally{try{!s&&n.return&&n.return()}finally{if(i)throw a}}return o}e(v,"setUnion"),h=new Map,t.forEach(function(e,t){h.set(t,0)}),t.forEach(function(e){e.forEach(function(e){h.set(e.id,h.get(e.id)+1)})});var h,f,g,b,u=new Map,m=new Map,p=new c;h.forEach(function(e,t){e==0?(p.push(t),o||(s=="horizontal"?u.set(t,n.has(t)?r[n.get(t)]:a.get(t)):u.set(t,n.has(t)?d[n.get(t)]:a.get(t)))):u.set(t,Number.NEGATIVE_INFINITY),o&&m.set(t,new Set([t]))}),o&&l.forEach(function(e){var t,i,c=[];e.forEach(function(e){o.has(e)&&c.push(e)}),c.length>0?(t=0,c.forEach(function(e){s=="horizontal"?(u.set(e,n.has(e)?r[n.get(e)]:a.get(e)),t+=u.get(e)):(u.set(e,n.has(e)?d[n.get(e)]:a.get(e)),t+=u.get(e))}),t=t/c.length,e.forEach(function(e){o.has(e)||u.set(e,t)})):(i=0,e.forEach(function(e){s=="horizontal"?i+=n.has(e)?r[n.get(e)]:a.get(e):i+=n.has(e)?d[n.get(e)]:a.get(e)}),i=i/e.length,e.forEach(function(e){u.set(e,i)}))});for(b=e(function(){var e=p.shift(),i=t.get(e);i.forEach(function(t){if(u.get(t.id)<u.get(e)+t.gap)if(o&&o.has(t.id)){var c,i=void 0;s=="horizontal"?i=n.has(t.id)?r[n.get(t.id)]:a.get(t.id):i=n.has(t.id)?d[n.get(t.id)]:a.get(t.id),u.set(t.id,i),i<u.get(e)+t.gap&&(c=u.get(e)+t.gap-i,m.get(e).forEach(function(e){u.set(e,u.get(e)-c)}))}else u.set(t.id,u.get(e)+t.gap);h.set(t.id,h.get(t.id)-1),h.get(t.id)==0&&p.push(t.id),o&&m.set(t.id,v(m.get(e),m.get(t.id)))})},"_loop");p.length!=0;)b();return o&&(g=new Set,t.forEach(function(e,t){e.length==0&&g.add(t)}),f=[],m.forEach(function(e,t){if(g.has(t)){var n,a,r,u,h,c=!1,s=!0,l=!1,d=void 0;try{for(n=e[Symbol.iterator]();!(s=(u=n.next()).done);s=!0)h=u.value,o.has(h)&&(c=!0)}catch(e){l=!0,d=e}finally{try{!s&&n.return&&n.return()}finally{if(l)throw d}}c||(a=!1,r=void 0,f.forEach(function(t,n){t.has([].concat(i(e))[0])&&(a=!0,r=n)}),a?e.forEach(function(e){f[r].add(e)}):f.push(new Set(e)))}}),f.forEach(function(e){var o,i,c,l,h,b,y,x,j=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!0,C=!1,O=void 0;try{for(h=e[Symbol.iterator]();!(v=(y=h.next()).done);v=!0)o=y.value,i=void 0,s=="horizontal"?i=n.has(o)?r[n.get(o)]:a.get(o):i=n.has(o)?d[n.get(o)]:a.get(o),c=u.get(o),i<j&&(j=i),i>p&&(p=i),c<f&&(f=c),c>g&&(g=c)}catch(e){C=!0,O=e}finally{try{!v&&h.return&&h.return()}finally{if(C)throw O}}var E=(j+p)/2-(f+g)/2,m=!0,_=!1,w=void 0;try{for(l=e[Symbol.iterator]();!(m=(x=l.next()).done);m=!0)b=x.value,u.set(b,u.get(b)+E)}catch(e){_=!0,w=e}finally{try{!m&&l.return&&l.return()}finally{if(_)throw w}}})),u},"findAppropriatePositionForRelativePlacement"),U=e(function(e){var t,s,o,i=0,a=0,c=0,l=0;if(e.forEach(function(e){e.left?r[n.get(e.left)]-r[n.get(e.right)]>=0?i++:a++:d[n.get(e.top)]-d[n.get(e.bottom)]>=0?c++:l++}),i>a&&c>l)for(t=0;t<n.size;t++)r[t]=-1*r[t],d[t]=-1*d[t];else if(i>a)for(s=0;s<n.size;s++)r[s]=-1*r[s];else if(c>l)for(o=0;o<n.size;o++)d[o]=-1*d[o]},"applyReflectionForRelativePlacement"),V=e(function(e){var t=[],n=new c,s=new Set,o=0;return e.forEach(function(i,a){if(!s.has(a)){t[o]=[];var c,r=a;for(n.push(r),s.add(r),t[o].push(r);n.length!=0;)r=n.shift(),c=e.get(r),c.forEach(function(e){s.has(e.id)||(n.push(e.id),s.add(e.id),t[o].push(e.id))});o++}}),t},"findComponents"),I=e(function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(n).push(e),t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},"dagToUndirected"),Q=e(function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},"dagToReversed"),m=[],O=[],v=!1,A=!1,h=new Set,u=new Map,N=new Map,_=[];if(s.fixedNodeConstraint&&s.fixedNodeConstraint.forEach(function(e){h.add(e.nodeId)}),s.relativePlacementConstraint&&(s.relativePlacementConstraint.forEach(function(e){e.left?(u.has(e.left)?u.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):u.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),u.has(e.right)||u.set(e.right,[])):(u.has(e.top)?u.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):u.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),u.has(e.bottom)||u.set(e.bottom,[]))}),N=I(u),_=V(N)),a.TRANSFORM_ON_CONSTRAINT_HANDLING){if(s.fixedNodeConstraint&&s.fixedNodeConstraint.length>1)s.fixedNodeConstraint.forEach(function(e,t){m[t]=[e.position.x,e.position.y],O[t]=[r[n.get(e.nodeId)],d[n.get(e.nodeId)]]}),v=!0;else if(s.alignmentConstraint)(function(){if(t=0,s.alignmentConstraint.vertical){for(var t,o=s.alignmentConstraint.vertical,u=e(function(e){s=new Set,o[e].forEach(function(e){s.add(e)});var s,c=new Set([].concat(i(s)).filter(function(e){return h.has(e)})),a=void 0;c.size>0?a=r[n.get(c.values().next().value)]:a=T(s).x,o[e].forEach(function(e){m[t]=[a,d[n.get(e)]],O[t]=[r[n.get(e)],d[n.get(e)]],t++})},"_loop2"),a=0;a<o.length;a++)u(a);v=!0}if(s.alignmentConstraint.horizontal){for(var c=s.alignmentConstraint.horizontal,f=e(function(e){s=new Set,c[e].forEach(function(e){s.add(e)});var s,a=new Set([].concat(i(s)).filter(function(e){return h.has(e)})),o=void 0;a.size>0?o=r[n.get(a.values().next().value)]:o=T(s).y,c[e].forEach(function(e){m[t]=[r[n.get(e)],o],O[t]=[r[n.get(e)],d[n.get(e)]],t++})},"_loop3"),l=0;l<c.length;l++)f(l);v=!0}s.relativePlacementConstraint&&(A=!0)})();else if(s.relativePlacementConstraint){for(var z=0,K=0,x=0;x<_.length;x++)_[x].length>z&&(z=_[x].length,K=x);if(z<N.size/2)U(s.relativePlacementConstraint),v=!1,A=!1;else{var j=new Map,b=new Map,L=[];_[K].forEach(function(e){u.get(e).forEach(function(t){t.direction=="horizontal"?(j.has(e)?j.get(e).push(t):j.set(e,[t]),j.has(t.id)||j.set(t.id,[]),L.push({left:e,right:t.id})):(b.has(e)?b.get(e).push(t):b.set(e,[t]),b.has(t.id)||b.set(t.id,[]),L.push({top:e,bottom:t.id}))})}),U(L),A=!1,R=S(j,"horizontal"),P=S(b,"vertical"),_[K].forEach(function(e,t){O[t]=[r[n.get(e)],d[n.get(e)]],m[t]=[],R.has(e)?m[t][0]=R.get(e):m[t][0]=r[n.get(e)],P.has(e)?m[t][1]=P.get(e):m[t][1]=d[n.get(e)]}),v=!0}}if(v){for(var C=void 0,F=o.transpose(m),B=o.transpose(O),y=0;y<F.length;y++)F[y]=o.multGamma(F[y]),B[y]=o.multGamma(B[y]);for(X=o.multMat(F,o.transpose(B)),W=l.svd(X),C=o.multMat(W.V,o.transpose(W.U)),f=0;f<n.size;f++){var Y=[r[f],d[f]],Z=[C[0][0],C[1][0]],J=[C[0][1],C[1][1]];r[f]=o.dotProduct(Y,Z),d[f]=o.dotProduct(Y,J)}A&&U(s.relativePlacementConstraint)}}if(a.ENFORCE_CONSTRAINTS){if(s.fixedNodeConstraint&&s.fixedNodeConstraint.length>0&&(g={x:0,y:0},s.fixedNodeConstraint.forEach(function(e){var o={x:r[n.get(e.nodeId)],y:d[n.get(e.nodeId)]},i=e.position,s=ee(i,o);g.x+=s.x,g.y+=s.y}),g.x/=s.fixedNodeConstraint.length,g.y/=s.fixedNodeConstraint.length,r.forEach(function(e,t){r[t]+=g.x}),d.forEach(function(e,t){d[t]+=g.y}),s.fixedNodeConstraint.forEach(function(e){r[n.get(e.nodeId)]=e.position.x,d[n.get(e.nodeId)]=e.position.y})),s.alignmentConstraint){if(s.alignmentConstraint.vertical)for(var q=s.alignmentConstraint.vertical,te=e(function(e){t=new Set,q[e].forEach(function(e){t.add(e)});var t,o=new Set([].concat(i(t)).filter(function(e){return h.has(e)})),s=void 0;o.size>0?s=r[n.get(o.values().next().value)]:s=T(t).x,t.forEach(function(e){h.has(e)||(r[n.get(e)]=s)})},"_loop4"),D=0;D<q.length;D++)te(D);if(s.alignmentConstraint.horizontal)for(var G=s.alignmentConstraint.horizontal,ne=e(function(e){t=new Set,G[e].forEach(function(e){t.add(e)});var t,o=new Set([].concat(i(t)).filter(function(e){return h.has(e)})),s=void 0;o.size>0?s=d[n.get(o.values().next().value)]:s=T(t).y,t.forEach(function(e){h.has(e)||(d[n.get(e)]=s)})},"_loop5"),$=0;$<G.length;$++)ne($)}s.relativePlacementConstraint&&function(){var c,f,p,g,F,z,P,$,a=new Map,i=new Map,l=new Map,m=new Map,D=new Map,R=new Map,k=new Set,w=new Set;if(h.forEach(function(e){k.add(e),w.add(e)}),s.alignmentConstraint){if(s.alignmentConstraint.vertical)for(var _=s.alignmentConstraint.vertical,G=e(function(e){l.set("dummy"+e,[]),_[e].forEach(function(t){a.set(t,"dummy"+e),l.get("dummy"+e).push(t),h.has(t)&&k.add("dummy"+e)}),D.set("dummy"+e,r[n.get(_[e][0])])},"_loop6"),j=0;j<_.length;j++)G(j);if(s.alignmentConstraint.horizontal)for(var b=s.alignmentConstraint.horizontal,q=e(function(e){m.set("dummy"+e,[]),b[e].forEach(function(t){i.set(t,"dummy"+e),m.get("dummy"+e).push(t),h.has(t)&&w.add("dummy"+e)}),R.set("dummy"+e,d[n.get(b[e][0])])},"_loop7"),y=0;y<b.length;y++)q(y)}var o=new Map,t=new Map,U=e(function(e){u.get(e).forEach(function(n){var r=void 0,s=void 0;n.direction=="horizontal"?(r=a.get(e)?a.get(e):e,a.get(n.id)?s={id:a.get(n.id),gap:n.gap,direction:n.direction}:s=n,o.has(r)?o.get(r).push(s):o.set(r,[s]),o.has(s.id)||o.set(s.id,[])):(r=i.get(e)?i.get(e):e,i.get(n.id)?s={id:i.get(n.id),gap:n.gap,direction:n.direction}:s=n,t.has(r)?t.get(r).push(s):t.set(r,[s]),t.has(s.id)||t.set(s.id,[]))})},"_loop8"),x=!0,B=!1,H=void 0;try{for(p=u.keys()[Symbol.iterator]();!(x=(P=p.next()).done);x=!0)F=P.value,U(F)}catch(e){B=!0,H=e}finally{try{!x&&p.return&&p.return()}finally{if(B)throw H}}var Z=I(o),K=I(t),ne=V(Z),te=V(K),ee=Q(o),J=Q(t),M=[],A=[];ne.forEach(function(e,t){M[t]=[],e.forEach(function(e){ee.get(e).length==0&&M[t].push(e)})}),te.forEach(function(e,t){A[t]=[],e.forEach(function(e){J.get(e).length==0&&A[t].push(e)})});var E=S(o,"horizontal",k,D,M),C=S(t,"vertical",w,R,A),Y=e(function(e){l.get(e)?l.get(e).forEach(function(t){r[n.get(t)]=E.get(e)}):r[n.get(e)]=E.get(e)},"_loop9"),O=!0,T=!1,W=void 0;try{for(c=E.keys()[Symbol.iterator]();!(O=($=c.next()).done);O=!0)g=$.value,Y(g)}catch(e){T=!0,W=e}finally{try{!O&&c.return&&c.return()}finally{if(T)throw W}}var X=e(function(e){m.get(e)?m.get(e).forEach(function(t){d[n.get(t)]=C.get(e)}):d[n.get(e)]=C.get(e)},"_loop10"),v=!0,L=!1,N=void 0;try{for(f=C.keys()[Symbol.iterator]();!(v=(z=f.next()).done);v=!0)g=z.value,X(g)}catch(e){L=!0,N=e}finally{try{!v&&f.return&&f.return()}finally{if(L)throw N}}}()}for(k=0;k<M.length;k++)w=M[k],w.getChild()==null&&w.setCenter(r[n.get(w.id)],d[n.get(w.id)])},t.exports=r},551:e=>{e.exports=t}},s={};function n(e){var t,o=s[e];return o!==void 0?o.exports:(t=s[e]={exports:{}},i[e](t,t.exports,n),t.exports)}return e(n,"__webpack_require__"),o=n(45),o})()})}),pYe=Ut((t,n)=>{"use strict";e(function(e,s){typeof t=="object"&&typeof n=="object"?n.exports=s(CV()):typeof define=="function"&&define.amd?define(["cose-base"],s):typeof t=="object"?t.cytoscapeFcose=s(CV()):e.cytoscapeFcose=s(e.coseBase)},"webpackUniversalModuleDefinition")(t,function(t){return(()=>{"use strict";var o,i={658:e=>{e.exports=Object.assign!=null?Object.assign.bind(Object):function(e){for(var n=arguments.length,s=Array(n>1?n-1:0),t=1;t<n;t++)s[t-1]=arguments[t];return s.forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}},548:(t,n,s)=>{var i=function(){function t(e,t){var n,r,s=[],o=!0,i=!1,a=void 0;try{for(n=e[Symbol.iterator]();!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&n.return&&n.return()}finally{if(i)throw a}}return s}return e(t,"sliceIterator"),function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=s(140).layoutBase.LinkedList,o={};o.getTopMostNodes=function(e){for(var s,n={},t=0;t<e.length;t++)n[e[t].id()]=!0;return s=e.filter(function(e,t){typeof e=="number"&&(e=t);for(var s=e.parent()[0];s!=null;){if(n[s.id()])return!1;s=s.parent()[0]}return!0}),s},o.connectComponents=function(t,n,s,o){var c=new a,u=new Set,i=[],r=void 0,l=void 0,h=void 0,d=!1,f=1,m=[],p=[],g=e(function(){o=t.collection(),p.push(o);var o,g,b,a=s[0],v=t.collection();v.merge(a).merge(a.descendants().intersection(n)),i.push(a),v.forEach(function(e){c.push(e),u.add(e),o.merge(e)});for(b=e(function(){a=c.shift();var e,d,h,l=t.collection();a.neighborhood().nodes().forEach(function(e){n.intersection(a.edgesWith(e)).length>0&&l.merge(e)});for(e=0;e<l.length;e++)d=l[e],(r=s.intersection(d.union(d.ancestors())),r!=null&&!u.has(r[0]))&&(h=r.union(r.descendants()),h.forEach(function(e){c.push(e),u.add(e),o.merge(e),s.has(e)&&i.push(e)}))},"_loop2");c.length!=0;)b();(o.forEach(function(e){n.intersection(e.connectedEdges()).forEach(function(e){o.has(e.source())&&o.has(e.target())&&o.merge(e)})}),i.length==s.length&&(d=!0),!d||d&&f>1)&&(l=i[0],h=l.connectedEdges().length,i.forEach(function(e){e.connectedEdges().length<h&&(h=e.connectedEdges().length,l=e)}),m.push(l.id()),g=t.collection(),g.merge(i[0]),i.forEach(function(e){g.merge(e)}),i=[],s=s.difference(g),f++)},"_loop");do g();while(!d)return o&&m.length>0&&o.set("dummy"+(o.size+1),m),p},o.relocateComponent=function(e,t,n){if(!n.fixedNodeConstraint){var s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;if(n.quality=="draft"){var u=!0,b=!1,g=void 0;try{for(d=t.nodeIndexes[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var d,f,p,j,O,x,C=f.value,h=i(C,2),E=h[0],l=h[1],v=n.cy.getElementById(E);if(v){var c=v.boundingBox(),m=t.xCoords[l]-c.w/2,y=t.xCoords[l]+c.w/2,_=t.yCoords[l]-c.h/2,w=t.yCoords[l]+c.h/2;m<s&&(s=m),y>o&&(o=y),_<a&&(a=_),w>r&&(r=w)}}}catch(e){b=!0,g=e}finally{try{!u&&d.return&&d.return()}finally{if(b)throw g}}O=e.x-(o+s)/2,x=e.y-(r+a)/2,t.xCoords=t.xCoords.map(function(e){return e+O}),t.yCoords=t.yCoords.map(function(e){return e+x})}else Object.keys(t).forEach(function(e){var n=t[e],i=n.getRect().x,c=n.getRect().x+n.getRect().width,l=n.getRect().y,d=n.getRect().y+n.getRect().height;i<s&&(s=i),c>o&&(o=c),l<a&&(a=l),d>r&&(r=d)}),j=e.x-(o+s)/2,p=e.y-(r+a)/2,Object.keys(t).forEach(function(e){var n=t[e];n.setCenter(n.getCenterX()+j,n.getCenterY()+p)})}},o.calcBoundingBox=function(e,t,n,s){for(var o,i,a=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,d=void 0,l=void 0,c=void 0,u=void 0,p=e.descendants().not(":parent"),g=p.length,h=0;h<g;h++)o=p[h],d=t[s.get(o.id())]-o.width()/2,l=t[s.get(o.id())]+o.width()/2,c=n[s.get(o.id())]-o.height()/2,u=n[s.get(o.id())]+o.height()/2,a>d&&(a=d),f<l&&(f=l),r>c&&(r=c),m<u&&(m=u);return i={},i.topLeftX=a,i.topLeftY=r,i.width=f-a,i.height=m-r,i},o.calcParentsWithoutChildren=function(e,t){var n=e.collection();return t.nodes(":parent").forEach(function(e){var t=!1;e.children().forEach(function(e){e.css("display")!="none"&&(t=!0)}),t||n.merge(e)}),n},t.exports=o},816:(t,n,s)=>{var d=s(548),u=s(140).CoSELayout,r=s(140).CoSENode,c=s(140).layoutBase.PointD,l=s(140).layoutBase.DimensionD,a=s(140).layoutBase.LayoutConstants,i=s(140).layoutBase.FDLayoutConstants,o=s(140).CoSEConstants,h=e(function(t,n){var s,g,_=t.cy,p=t.eles,E=p.nodes(),C=p.edges(),h=void 0,v=void 0,b=void 0,m={};t.randomize&&(h=n.nodeIndexes,v=n.xCoords,b=n.yCoords);var j=e(function(e){return typeof e=="function"},"isFn"),f=e(function(e,t){return j(e)?e(t):e},"optFn"),y=d.calcParentsWithoutChildren(_,p),w=e(function e(t,n,s,o){for(var i,a,u,p,g,_,w=n.length,j=0;j<w;j++)i=n[j],g=null,i.intersection(y).length==0&&(g=i.children()),a=void 0,u=i.layoutDimensions({nodeDimensionsIncludeLabels:o.nodeDimensionsIncludeLabels}),i.outerWidth()!=null&&i.outerHeight()!=null?o.randomize?i.isParent()?(p=d.calcBoundingBox(i,v,b,h),i.intersection(y).length==0?a=t.add(new r(s.graphManager,new c(p.topLeftX,p.topLeftY),new l(p.width,p.height))):a=t.add(new r(s.graphManager,new c(p.topLeftX,p.topLeftY),new l(parseFloat(u.w),parseFloat(u.h))))):a=t.add(new r(s.graphManager,new c(v[h.get(i.id())]-u.w/2,b[h.get(i.id())]-u.h/2),new l(parseFloat(u.w),parseFloat(u.h)))):a=t.add(new r(s.graphManager,new c(i.position("x")-u.w/2,i.position("y")-u.h/2),new l(parseFloat(u.w),parseFloat(u.h)))):a=t.add(new r(this.graphManager)),(a.id=i.data("id"),a.nodeRepulsion=f(o.nodeRepulsion,i),a.paddingLeft=parseInt(i.css("padding")),a.paddingTop=parseInt(i.css("padding")),a.paddingRight=parseInt(i.css("padding")),a.paddingBottom=parseInt(i.css("padding")),o.nodeDimensionsIncludeLabels&&(a.labelWidth=i.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,a.labelHeight=i.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,a.labelPosVertical=i.css("text-valign"),a.labelPosHorizontal=i.css("text-halign")),m[i.data("id")]=a,isNaN(a.rect.x)&&(a.rect.x=0),isNaN(a.rect.y)&&(a.rect.y=0),g!=null&&g.length>0)&&(_=void 0,_=s.getGraphManager().add(s.newGraph(),a),e(_,g,s,o))},"processChildrenList"),O=e(function(e,n,s){for(var r,h=0,d=0,u=0;u<s.length;u++){var a=s[u],c=m[a.data("source")],l=m[a.data("target")];c&&l&&c!==l&&c.getEdgesBetween(l).length==0&&(r=n.add(e.newEdge(),c,l),r.id=a.id(),r.idealLength=f(t.idealEdgeLength,a),r.edgeElasticity=f(t.edgeElasticity,a),h+=r.idealLength,d++)}t.idealEdgeLength!=null&&(d>0?o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=h/d:j(t.idealEdgeLength)?o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=50:o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=t.idealEdgeLength,o.MIN_REPULSION_DIST=i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,o.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH)},"processEdges"),x=e(function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)},"processConstraints");return t.nestingFactor!=null&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),t.gravity!=null&&(o.DEFAULT_GRAVITY_STRENGTH=i.DEFAULT_GRAVITY_STRENGTH=t.gravity),t.numIter!=null&&(o.MAX_ITERATIONS=i.MAX_ITERATIONS=t.numIter),t.gravityRange!=null&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=i.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),t.gravityCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),t.gravityRangeCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),t.initialEnergyOnIncremental!=null&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=i.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),t.tilingCompareBy!=null&&(o.TILING_COMPARE_BY=t.tilingCompareBy),t.quality=="proof"?a.QUALITY=2:a.QUALITY=0,o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=a.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!t.randomize,o.ANIMATE=i.ANIMATE=a.ANIMATE=t.animate,o.TILE=t.tile,o.TILING_PADDING_VERTICAL=typeof t.tilingPaddingVertical=="function"?t.tilingPaddingVertical.call():t.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL=typeof t.tilingPaddingHorizontal=="function"?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal,o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!0,o.PURE_INCREMENTAL=!t.randomize,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=t.uniformNodeDimensions,t.step=="transformed"&&(o.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,o.ENFORCE_CONSTRAINTS=!1,o.APPLY_LAYOUT=!1),t.step=="enforced"&&(o.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,o.ENFORCE_CONSTRAINTS=!0,o.APPLY_LAYOUT=!1),t.step=="cose"&&(o.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,o.ENFORCE_CONSTRAINTS=!1,o.APPLY_LAYOUT=!0),t.step=="all"&&(t.randomize?o.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:o.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,o.ENFORCE_CONSTRAINTS=!0,o.APPLY_LAYOUT=!0),t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint?o.TREE_REDUCTION_ON_INCREMENTAL=!1:o.TREE_REDUCTION_ON_INCREMENTAL=!0,s=new u,g=s.newGraphManager(),w(g.addRoot(),d.getTopMostNodes(E),s,t),O(s,g,C),x(s,t),s.runLayout(),m},"coseLayout");t.exports={coseLayout:h}},212:(t,n,s)=>{i=function(){function t(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return e(t,"defineProperties"),function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(a,"_classCallCheck");var i,l=s(658),o=s(548),d=s(657),r=d.spectralLayout,u=s(816),c=u.coseLayout,h=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:e(function(){return 4500},"nodeRepulsion"),idealEdgeLength:e(function(){return 50},"idealEdgeLength"),edgeElasticity:e(function(){return.45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:e(function(){},"ready"),stop:e(function(){},"stop")}),m=function(){function t(e){a(this,t),this.options=l({},h,e)}return e(t,"Layout"),i(t,[{key:"run",value:e(function(){var u,h,m,f,p,g,b,y,_,w,O,x,C,E,k,A,S,M=this,t=this.options,d=t.cy,l=t.eles,n=[],L=void 0,N=void 0,s=[],i=void 0,a=[];if(t.fixedNodeConstraint&&(!Array.isArray(t.fixedNodeConstraint)||t.fixedNodeConstraint.length==0)&&(t.fixedNodeConstraint=void 0),t.alignmentConstraint&&(t.alignmentConstraint.vertical&&(!Array.isArray(t.alignmentConstraint.vertical)||t.alignmentConstraint.vertical.length==0)&&(t.alignmentConstraint.vertical=void 0),t.alignmentConstraint.horizontal&&(!Array.isArray(t.alignmentConstraint.horizontal)||t.alignmentConstraint.horizontal.length==0)&&(t.alignmentConstraint.horizontal=void 0)),t.relativePlacementConstraint&&(!Array.isArray(t.relativePlacementConstraint)||t.relativePlacementConstraint.length==0)&&(t.relativePlacementConstraint=void 0),A=t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint,A&&(t.tile=!1,t.packComponents=!1),f=void 0,E=!1,d.layoutUtilities&&t.packComponents&&(f=d.layoutUtilities("get"),f||(f=d.layoutUtilities()),E=!0),l.nodes().length>0)if(E){if(k=o.getTopMostNodes(t.eles.nodes()),i=o.connectComponents(d,t.eles,k),i.forEach(function(e){var t=e.boundingBox();a.push({x:t.x1+t.w/2,y:t.y1+t.h/2})}),t.randomize&&i.forEach(function(e){t.eles=e,n.push(r(t))}),t.quality=="default"||t.quality=="proof"){if(g=d.collection(),t.tile){var T=new Map,z=[],F=[],D=0,j={nodeIndexes:T,xCoords:z,yCoords:F},v=[];if(i.forEach(function(e,t){e.edges().length==0&&(e.nodes().forEach(function(t,n){g.merge(e.nodes()[n]),t.isParent()||(j.nodeIndexes.set(e.nodes()[n].id(),D++),j.xCoords.push(e.nodes()[0].position().x),j.yCoords.push(e.nodes()[0].position().y))}),v.push(t))}),g.length>1){p=g.boundingBox(),a.push({x:p.x1+p.w/2,y:p.y1+p.h/2}),i.push(g),n.push(j);for(u=v.length-1;u>=0;u--)i.splice(v[u],1),n.splice(v[u],1),a.splice(v[u],1)}}i.forEach(function(e,i){t.eles=e,s.push(c(t,n[i])),o.relocateComponent(a[i],s[i],t)})}else i.forEach(function(e,s){o.relocateComponent(a[s],n[s],t)});_=new Set,i.length>1&&(y=[],C=l.filter(function(e){return e.css("display")=="none"}),i.forEach(function(e,i){var a,c,r=void 0;t.quality=="draft"&&(r=n[i].nodeIndexes),e.nodes().not(C).length>0&&(a={},a.edges=[],a.nodes=[],c=void 0,e.nodes().not(C).forEach(function(e){if(t.quality=="draft")if(e.isParent()){var l=o.calcBoundingBox(e,n[i].xCoords,n[i].yCoords,r);a.nodes.push({x:l.topLeftX,y:l.topLeftY,width:l.width,height:l.height})}else c=r.get(e.id()),a.nodes.push({x:n[i].xCoords[c]-e.boundingbox().w/2,y:n[i].yCoords[c]-e.boundingbox().h/2,width:e.boundingbox().w,height:e.boundingbox().h});else s[i][e.id()]&&a.nodes.push({x:s[i][e.id()].getLeft(),y:s[i][e.id()].getTop(),width:s[i][e.id()].getWidth(),height:s[i][e.id()].getHeight()})}),e.edges().forEach(function(e){if(c=e.source(),l=e.target(),c.css("display")!="none"&&l.css("display")!="none")if(t.quality=="draft"){var c,l,h,m,f=r.get(c.id()),p=r.get(l.id()),d=[],u=[];c.isParent()?(h=o.calcBoundingBox(c,n[i].xCoords,n[i].yCoords,r),d.push(h.topLeftX+h.width/2),d.push(h.topLeftY+h.height/2)):(d.push(n[i].xCoords[f]),d.push(n[i].yCoords[f])),l.isParent()?(m=o.calcBoundingBox(l,n[i].xCoords,n[i].yCoords,r),u.push(m.topLeftX+m.width/2),u.push(m.topLeftY+m.height/2)):(u.push(n[i].xCoords[p]),u.push(n[i].yCoords[p])),a.edges.push({startX:d[0],startY:d[1],endX:u[0],endY:u[1]})}else s[i][c.id()]&&s[i][l.id()]&&a.edges.push({startX:s[i][c.id()].getCenterX(),startY:s[i][c.id()].getCenterY(),endX:s[i][l.id()].getCenterX(),endY:s[i][l.id()].getCenterY()})}),a.nodes.length>0&&(y.push(a),_.add(i)))}),m=f.packComponents(y,t.randomize).shifts,t.quality=="draft"?n.forEach(function(e,t){var n=e.xCoords.map(function(e){return e+m[t].dx}),s=e.yCoords.map(function(e){return e+m[t].dy});e.xCoords=n,e.yCoords=s}):(b=0,_.forEach(function(e){Object.keys(s[e]).forEach(function(t){var n=s[e][t];n.setCenter(n.getCenterX()+m[b].dx,n.getCenterY()+m[b].dy)}),b++})))}else h=t.eles.boundingBox(),(a.push({x:h.x1+h.w/2,y:h.y1+h.h/2}),t.randomize)&&(S=r(t),n.push(S)),t.quality=="default"||t.quality=="proof"?(s.push(c(t,n[0])),o.relocateComponent(a[0],s[0],t)):o.relocateComponent(a[0],n[0],t);x=e(function(e,o){if(t.quality=="default"||t.quality=="proof"){typeof e=="number"&&(e=o);var r,a=void 0,i=void 0,c=e.data("id");return s.forEach(function(e){c in e&&(a={x:e[c].getRect().getCenterX(),y:e[c].getRect().getCenterY()},i=e[c])}),t.nodeDimensionsIncludeLabels&&(i.labelWidth&&(i.labelPosHorizontal=="left"?a.x+=i.labelWidth/2:i.labelPosHorizontal=="right"&&(a.x-=i.labelWidth/2)),i.labelHeight&&(i.labelPosVertical=="top"?a.y+=i.labelHeight/2:i.labelPosVertical=="bottom"&&(a.y-=i.labelHeight/2))),a==null&&(a={x:e.position("x"),y:e.position("y")}),{x:a.x,y:a.y}}return r=void 0,n.forEach(function(t){var n=t.nodeIndexes.get(e.id());n!=null&&(r={x:t.xCoords[n],y:t.yCoords[n]})}),r==null&&(r={x:e.position("x"),y:e.position("y")}),{x:r.x,y:r.y}},"getPositions"),t.quality=="default"||t.quality=="proof"||t.randomize?(O=o.calcParentsWithoutChildren(d,l),w=l.filter(function(e){return e.css("display")=="none"}),t.eles=l.not(w),l.nodes().not(":parent").not(w).layoutPositions(M,t,x),O.length>0&&O.forEach(function(e){e.position(x(e))})):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),t}();t.exports=m},657:(t,n,s)=>{var i=s(548),o=s(140).layoutBase.Matrix,a=s(140).layoutBase.SVD,r=e(function(t){var f,j,w,O,x,E,k,z,P,H,I,B,q,Y,d=t.cy,l=t.eles,b=l.nodes(),V=l.nodes(":parent"),p=new Map,s=new Map,_=new Map,m=[],u=[],h=[],g=[],v=[],c=[],A=[],y=[],Q=void 0,n=void 0,F=1e8,M=1e-9,K=t.piTol,G=t.samplingType,X=t.nodeSeparation,r=void 0,J=e(function(){for(var t,s=0,e=0,o=!1;e<r;){for(s=Math.floor(Math.random()*n),o=!1,t=0;t<e;t++)if(g[t]==s){o=!0;break}if(o)continue;g[e]=s,e++}},"randomSampleCR"),$=e(function(e,t,o){for(var i,a,d,h,p=[],y=0,g=0,l=0,u=void 0,r=[],j=0,b=1,f=0;f<n;f++)r[f]=F;for(p[g]=e,r[e]=0;g>=y;){l=p[y++];for(h=m[l],d=0;d<h.length;d++)u=s.get(h[d]),r[u]==F&&(r[u]=r[l]+1,p[++g]=u);c[l][t]=r[l]*X}if(o){for(i=0;i<n;i++)c[i][t]<v[i]&&(v[i]=c[i][t]);for(a=0;a<n;a++)v[a]>j&&(j=v[a],b=a)}return b},"BFS"),ne=e(function(e){var s,o,i,a,l,d,u,h,t=void 0;if(e){t=Math.floor(Math.random()*n),Q=t;for(u=0;u<n;u++)v[u]=F;for(s=0;s<r;s++)g[s]=t,t=$(t,s,e)}else{J();for(o=0;o<r;o++)$(g[o],o,e,!1)}for(i=0;i<n;i++)for(a=0;a<r;a++)c[i][a]*=c[i][a];for(h=0;h<r;h++)A[h]=[];for(l=0;l<r;l++)for(d=0;d<r;d++)A[l][d]=c[g[d]][l]},"allBFS"),se=e(function(){for(var n,i=a.svd(A),t=i.S,c=i.U,l=i.V,d=t[0]*t[0]*t[0],s=[],e=0;e<r;e++){s[e]=[];for(n=0;n<r;n++)s[e][n]=0,e==n&&(s[e][n]=t[e]/(t[e]*t[e]+d/(t[e]*t[e])))}y=o.multMat(o.multMat(l,s),o.transpose(c))},"sample"),Z=e(function(){for(var d,m,f,p,b=void 0,j=void 0,e=[],t=[],i=[],s=[],g=0;g<n;g++)e[g]=Math.random(),t[g]=Math.random();for(var e=o.normalize(e),t=o.normalize(t),v=0,a=M,l=M,r=void 0;;){v++;for(d=0;d<n;d++)i[d]=e[d];if(e=o.multGamma(o.multL(o.multGamma(i),c,y)),b=o.dotProduct(i,e),e=o.normalize(e),a=o.dotProduct(i,e),r=Math.abs(a/l),r<=1+K&&r>=1)break;l=a}for(m=0;m<n;m++)i[m]=e[m];for(v=0,l=M;;){v++;for(f=0;f<n;f++)s[f]=t[f];if(s=o.minusOp(s,o.multCons(i,o.dotProduct(i,s))),t=o.multGamma(o.multL(o.multGamma(s),c,y)),j=o.dotProduct(s,t),t=o.normalize(t),a=o.dotProduct(s,t),r=Math.abs(a/l),r<=1+K&&r>=1)break;l=a}for(p=0;p<n;p++)s[p]=t[p];u=o.multCons(i,Math.sqrt(Math.abs(b))),h=o.multCons(s,Math.sqrt(Math.abs(j)))},"powerIteration");i.connectComponents(d,l,i.getTopMostNodes(b),p),V.forEach(function(e){i.connectComponents(d,l,i.getTopMostNodes(e.descendants().intersection(l)),p)});for(z=0,j=0;j<b.length;j++)b[j].isParent()||s.set(b[j].id(),z++);var T=!0,L=!1,R=void 0;try{for(w=p.keys()[Symbol.iterator]();!(T=(H=w.next()).done);T=!0)I=H.value,s.set(I,z++)}catch(e){L=!0,R=e}finally{try{!T&&w.return&&w.return()}finally{if(L)throw R}}for(O=0;O<s.size;O++)m[O]=[];V.forEach(function(e){for(t=e.children().intersection(l);t.nodes(":childless").length==0;)t=t.nodes()[0].children().intersection(l);var t,n=0,s=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach(function(e,t){e.connectedEdges().length<s&&(s=e.connectedEdges().length,n=t)}),_.set(e.id(),t.nodes(":childless")[n].id())}),b.forEach(function(e){var t=void 0;e.isParent()?t=s.get(_.get(e.id())):t=s.get(e.id()),e.neighborhood().nodes().forEach(function(n){l.intersection(e.edgesWith(n)).length>0&&(n.isParent()?m[t].push(_.get(n.id())):m[t].push(n.id()))})});var ee=e(function(e){var n=s.get(e),t=void 0;p.get(e).forEach(function(o){d.getElementById(o).isParent()?t=_.get(o):t=o,m[n].push(t),m[s.get(t)].push(e)})},"_loop"),S=!0,D=!1,N=void 0;try{for(E=p.keys()[Symbol.iterator]();!(S=(q=E.next()).done);S=!0)Y=q.value,ee(Y)}catch(e){D=!0,N=e}finally{try{!S&&E.return&&E.return()}finally{if(D)throw N}}if(n=s.size,f=void 0,n>2){r=n<t.sampleSize?n:t.sampleSize;for(x=0;x<n;x++)c[x]=[];for(k=0;k<r;k++)y[k]=[];return t.quality=="draft"||t.step=="all"?(ne(G),se(),Z(),f={nodeIndexes:s,xCoords:u,yCoords:h}):(s.forEach(function(e,t){u.push(d.getElementById(t).position("x")),h.push(d.getElementById(t).position("y"))}),f={nodeIndexes:s,xCoords:u,yCoords:h}),f}var U=s.keys(),W=d.getElementById(U.next().value),C=W.position(),te=W.outerWidth();return(u.push(C.x),h.push(C.y),n==2)&&(B=d.getElementById(U.next().value),P=B.outerWidth(),u.push(C.x+te/2+P/2+t.idealEdgeLength),h.push(C.y)),f={nodeIndexes:s,xCoords:u,yCoords:h},f},"spectralLayout");t.exports={spectralLayout:r}},579:(t,n,s)=>{var i=s(212),o=e(function(e){e&&e("layout","fcose",i)},"register");typeof cytoscape<"u"&&o(cytoscape),t.exports=o},140:e=>{e.exports=t}},s={};function n(e){var t,o=s[e];return o!==void 0?o.exports:(t=s[e]={exports:{}},i[e](t,t.exports,n),t.exports)}return e(n,"__webpack_require__"),o=n(579),o})()})}),SV=n(()=>{"use strict";Ma(),fu=e(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),j1={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:fu('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:fu('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:fu('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:fu('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:fu('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:jV,blank:{body:fu("")}}}}),OYe=n(()=>{"use strict";Ma(),P(),Rs(),Zf(),SV(),eg(),jYe=e(async function(e,t){let a=tn("padding"),i=tn("iconSize"),n=i/2,s=i/6,o=s/2;await Promise.all(t.edges().map(async t=>{let{source:j,sourceDir:i,sourceArrow:w,sourceGroup:b,target:_,targetDir:r,targetArrow:y,targetGroup:v,label:g}=yB(t),{x:l,y:m}=t[0].sourceEndpoint(),{x:p,y:f}=t[0].midpoint(),{x:d,y:h}=t[0].targetEndpoint(),c=a+4;if(b&&(Dn(i)?l+=i==="L"?-c:c:m+=i==="T"?-c:c+18),v&&(Dn(r)?d+=r==="L"?-c:c:h+=r==="T"?-c:c+18),!b&&$f.getNode(j)?.type==="junction"&&(Dn(i)?l+=i==="L"?n:-n:m+=i==="T"?n:-n),!v&&$f.getNode(_)?.type==="junction"&&(Dn(r)?d+=r==="L"?n:-n:h+=r==="T"?n:-n),t[0]._private.rscratch){let t=e.insert("g");if(t.insert("path").attr("d",`M ${l},${m} L ${p},${f} L${d},${h} `).attr("class","edge"),w){let e=Dn(i)?vf[i](l,s):l-o,n=gr(i)?vf[i](m,s):m-o;t.insert("polygon").attr("points",hB[i](s)).attr("transform",`translate(${e},${n})`).attr("class","arrow")}if(y){let e=Dn(r)?vf[r](d,s):d-o,n=gr(r)?vf[r](h,s):h-o;t.insert("polygon").attr("points",hB[r](s)).attr("transform",`translate(${e},${n})`).attr("class","arrow")}if(g){let n=ng(i,r)?"XY":Dn(i)?"X":"Y",s=0;n==="X"?s=Math.abs(l-d):n==="Y"?s=Math.abs(m-h)/1.5:s=Math.abs(l-d)/2;let e=t.append("g");if(await ms(e,g,{useHtmlLabels:!1,width:s,classes:"architecture-service-label"},u()),e.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),n==="X")e.attr("transform","translate("+p+", "+f+")");else if(n==="Y")e.attr("transform","translate("+p+", "+f+") rotate(-90)");else if(n==="XY"){let t=tg(i,r);if(t&&Fqe(t)){let o=e.node().getBoundingClientRect(),[n,s]=Nqe(t);e.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*n*s*45})`);let i=e.node().getBoundingClientRect();e.attr("transform",`
                translate(${p}, ${f-o.height/2})
                translate(${n*i.width/2}, ${s*i.height/2})
                rotate(${-1*n*s*45}, 0, ${o.height/2})
              `)}}}}}))},"drawEdges"),yYe=e(async function(e,t){let s=tn("padding")*.75,o=tn("fontSize"),n=tn("iconSize")/2;await Promise.all(t.nodes().map(async t=>{let i=Fd(t);if(i.type==="group"){let{h:m,w:c,x1:l,y1:d}=t.boundingBox();e.append("rect").attr("x",l+n).attr("y",d+n).attr("width",c).attr("height",m).attr("class","node-bkg");let h=e.append("g"),a=l,r=d;if(i.icon){let e=h.append("g");e.html(`<g>${await $c(i.icon,{height:s,width:s,fallbackPrefix:j1.prefix})}</g>`),e.attr("transform","translate("+(a+n+1)+", "+(r+n+1)+")"),a+=s,r+=o/2-1-2}if(i.label){let e=h.append("g");await ms(e,i.label,{useHtmlLabels:!1,width:c,classes:"architecture-service-label"},u()),e.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),e.attr("transform","translate("+(a+n+4)+", "+(r+n+2)+")")}}}))},"drawGroups"),_Ye=e(async function(e,t,n){for(let o of n){let i=t.append("g"),s=tn("iconSize");if(o.title){let e=i.append("g");await ms(e,o.title,{useHtmlLabels:!1,width:s*1.5,classes:"architecture-service-label"},u()),e.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),e.attr("transform","translate("+s/2+", "+s+")")}let a=i.append("g");if(o.icon)a.html(`<g>${await $c(o.icon,{height:s,width:s,fallbackPrefix:j1.prefix})}</g>`);else if(o.iconText){a.html(`<g>${await $c("blank",{height:s,width:s,fallbackPrefix:j1.prefix})}</g>`);let e=a.append("g").append("foreignObject").attr("width",s).attr("height",s).append("div").attr("class","node-icon-text").attr("style",`height: ${s}px;`).append("div").html(o.iconText),t=parseInt(window.getComputedStyle(e.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;e.attr("style",`-webkit-line-clamp: ${Math.floor((s-2)/t)};`)}else a.append("path").attr("class","node-bkg").attr("id","node-"+o.id).attr("d",`M0 ${s} v${-s} q0,-5 5,-5 h${s} q5,0 5,5 v${s} H0 Z`);i.attr("class","architecture-service");let{width:r,height:c}=i._groups[0][0].getBBox();o.width=r,o.height=c,e.setElementForId(o.id,i)}return 0},"drawServices"),wYe=e(function(e,t,n){n.forEach(n=>{let s=t.append("g"),o=tn("iconSize");s.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",o).attr("height",o),s.attr("class","architecture-junction");let{width:i,height:a}=s._groups[0][0].getBBox();s.width=i,s.height=a,e.setElementForId(n.id,s)})},"drawJunctions")});function xYe(e,t){e.forEach(e=>{t.add({group:"nodes",data:{type:"service",id:e.id,icon:e.icon,label:e.title,parent:e.in,width:tn("iconSize"),height:tn("iconSize")},classes:"node-service"})})}function CYe(e,t){e.forEach(e=>{t.add({group:"nodes",data:{type:"junction",id:e.id,parent:e.in,width:tn("iconSize"),height:tn("iconSize")},classes:"node-junction"})})}function EYe(e,t){t.nodes().map(t=>{let n=Fd(t);if(n.type==="group")return;n.x=t.position().x,n.y=t.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}function kYe(e,t){e.forEach(e=>{t.add({group:"nodes",data:{type:"group",id:e.id,icon:e.icon,label:e.title,parent:e.in},classes:"node-group"})})}function AYe(e,t){e.forEach(e=>{let{lhsId:o,rhsId:i,lhsInto:a,lhsGroup:r,rhsInto:c,lhsDir:n,rhsDir:s,rhsGroup:l,title:d}=e,u=ng(e.lhsDir,e.rhsDir)?"segments":"straight",h={id:`${o}-${i}`,label:d,source:o,sourceDir:n,sourceArrow:a,sourceGroup:r,sourceEndpoint:n==="L"?"0 50%":n==="R"?"100% 50%":n==="T"?"50% 0":"50% 100%",target:i,targetDir:s,targetArrow:c,targetGroup:l,targetEndpoint:s==="L"?"0 50%":s==="R"?"100% 50%":s==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:h,classes:u})})}function SYe(t,n,s){let o=e((e,t)=>Object.entries(e).reduce((e,[n,o])=>{let a=0,i=Object.entries(o);if(i.length===1)return e[n]=i[0][1],e;for(let o=0;o<i.length-1;o++)for(let r=o+1;r<i.length;r++){let[d,c]=i[o],[u,l]=i[r];if(s[d]?.[u]===t)e[n]??=[],e[n]=[...e[n],...c,...l];else if(d==="default"||u==="default")e[n]??=[],e[n]=[...e[n],...c,...l];else{let t=`${n}-${a++}`;e[t]=c;let s=`${n}-${a++}`;e[s]=l}}return e},{}),"flattenAlignments"),i=n.map(e=>{let n={},s={};return Object.entries(e).forEach(([e,[o,i]])=>{let a=t.getNode(e)?.in??"default";n[i]??={},n[i][a]??=[],n[i][a].push(e),s[o]??={},s[o][a]??=[],s[o][a].push(e)}),{horiz:Object.values(o(n,"horizontal")).filter(e=>e.length>1),vert:Object.values(o(s,"vertical")).filter(e=>e.length>1)}}),[a,r]=i.reduce(([e,t],{horiz:n,vert:s})=>[[...e,...n],[...t,...s]],[[],[]]);return{horizontal:a,vertical:r}}function MYe(t){let s=[],n=e(e=>`${e[0]},${e[1]}`,"posToStr"),o=e(e=>e.split(",").map(e=>parseInt(e)),"strToPos");return t.forEach(e=>{let i=Object.fromEntries(Object.entries(e).map(([e,t])=>[n(t),e])),t=[n([0,0])],a={},r={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;t.length>0;){let e=t.shift();if(e){a[e]=1;let c=i[e];if(c){let l=o(e);Object.entries(r).forEach(([e,o])=>{let r=n([l[0]+o[0],l[1]+o[1]]),d=i[r];d&&!a[r]&&(t.push(r),s.push({[dB[e]]:d,[dB[Eqe(e)]]:c,gap:1.5*tn("iconSize")}))})}}}}),s}function FYe(t,n,s,o,i,{spatialMaps:r,groupAlignments:c}){return new Promise(l=>{let h=y("body").append("div").attr("id","cy").attr("style","display:none"),d=Bo({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${tn("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${tn("padding")}px`}}]});h.remove(),kYe(s,d),xYe(t,d),CYe(n,d),AYe(o,d);let m=SYe(i,r,c),f=MYe(r),u=d.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(e){let[t,n]=e.connectedNodes(),{parent:s}=Fd(t),{parent:o}=Fd(n);return s===o?1.5*tn("iconSize"):.5*tn("iconSize")},edgeElasticity(e){let[t,n]=e.connectedNodes(),{parent:s}=Fd(t),{parent:o}=Fd(n);return s===o?.45:.001},alignmentConstraint:m,relativePlacementConstraint:f});u.one("layoutstop",()=>{function t(e,t,n,s){let a,r,{x:o,y:i}=e,{x:c,y:l}=t;r=(s-i+(o-n)*(i-l)/(o-c))/Math.sqrt(1+Math.pow((i-l)/(o-c),2)),a=Math.sqrt(Math.pow(s-i,2)+Math.pow(n-o,2)-Math.pow(r,2));let h=Math.sqrt(Math.pow(c-o,2)+Math.pow(l-i,2));a=a/h;let d=(c-o)*(s-i)-(l-i)*(n-o);switch(!0){case d>=0:d=1;break;case d<0:d=-1;break}let u=(c-o)*(n-o)+(l-i)*(s-i);switch(!0){case u>=0:u=1;break;case u<0:u=-1;break}return r=Math.abs(r)*d,a=a*u,{distances:r,weights:a}}e(t,"getSegmentWeights"),d.startBatch();for(let e of Object.values(d.edges()))if(e.data?.()){let{x:n,y:s}=e.source().position(),{x:o,y:i}=e.target().position();if(n!==o&&s!==i){let n=e.sourceEndpoint(),s=e.targetEndpoint(),{sourceDir:o}=yB(e),[i,a]=gr(o)?[n.x,s.y]:[s.x,n.y],{weights:r,distances:c}=t(n,s,i,a);e.style("segment-distances",c),e.style("segment-weights",r)}}d.endBatch(),u.run()}),u.run(),d.ready(e=>{a.info("Ready",e),l(d)})})}NYe=n(()=>{"use strict";Ma(),nL(),TYe=Sn(pYe(),1),he(),x(),xi(),Ht(),Zf(),SV(),eg(),OYe(),dV([{name:j1.prefix,icons:j1}]),Bo.use(TYe.default),e(xYe,"addServices"),e(CYe,"addJunctions"),e(EYe,"positionNodes"),e(kYe,"addGroups"),e(AYe,"addEdges"),e(SYe,"getAlignments"),e(MYe,"getRelativeConstraints"),e(FYe,"layoutArchitecture"),zYe=e(async(e,t,n,s)=>{let o=s.db,c=o.getServices(),l=o.getJunctions(),h=o.getGroups(),m=o.getEdges(),f=o.getDataStructures(),i=Ei(t),d=i.append("g");d.attr("class","architecture-edges");let a=i.append("g");a.attr("class","architecture-services");let u=i.append("g");u.attr("class","architecture-groups"),await _Ye(o,a,c),wYe(o,a,l);let r=await FYe(c,l,h,m,o,f);await jYe(d,r),await yYe(u,r),EYe(o,r),tu(void 0,i,tn("padding"),tn("useMaxWidth"))},"draw"),DYe={draw:zYe}}),FV={},de(FV,{diagram:()=>RYe}),PYe=n(()=>{"use strict";lYe(),Zf(),hYe(),NYe(),RYe={parser:cYe,db:$f,renderer:DYe,styles:uYe}}),NV={},de(NV,{default:()=>rJe}),Ma(),KB(),qd();var IYe="c4",AZe=e(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),bGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(j0e(),Ck));return{id:IYe,diagram:e}},"loader"),uQe={id:IYe,detector:AZe,loader:bGe},dQe=uQe,UYe="flowchart",lQe=e((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-wrapper"&&t?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(e),"detector"),oQe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>($g(),x8));return{id:UYe,diagram:e}},"loader"),JXe={id:UYe,detector:lQe,loader:oQe},GXe=JXe,XYe="flowchart-v2",UXe=e((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-d3"&&(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),!!(/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper")||/^\s*flowchart/.test(e)),"detector"),IXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>($g(),x8));return{id:XYe,diagram:e}},"loader"),NXe={id:XYe,detector:UXe,loader:IXe},MXe=NXe,tGe="er",CXe=e(e=>/^\s*erDiagram/.test(e),"detector"),yXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rse(),YP));return{id:tGe,diagram:e}},"loader"),gXe={id:tGe,detector:CXe,loader:yXe},dXe=gXe,aGe="gitGraph",iXe=e(e=>/^\s*gitGraph/.test(e),"detector"),eXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Age(),Mk));return{id:aGe,diagram:e}},"loader"),GGe={id:aGe,detector:iXe,loader:eXe},WGe=GGe,uGe="gantt",HGe=e(e=>/^\s*gantt/.test(e),"detector"),DGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(v7e(),MF));return{id:uGe,diagram:e}},"loader"),SGe={id:uGe,detector:HGe,loader:DGe},xGe=SGe,gGe="info",yGe=e(e=>/^\s*info/.test(e),"detector"),fQe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(z7e(),RF));return{id:gGe,diagram:e}},"loader"),mQe={id:gGe,detector:yGe,loader:fQe},vGe="pie",_Ge=e(e=>/^\s*pie/.test(e),"detector"),wGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ive(),pT));return{id:vGe,diagram:e}},"loader"),OGe={id:vGe,detector:_Ge,loader:wGe},pGe="quadrantChart",CGe=e(e=>/^\s*quadrantChart/.test(e),"detector"),EGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Vve(),gz));return{id:pGe,diagram:e}},"loader"),kGe={id:pGe,detector:CGe,loader:EGe},AGe=kGe,fGe="xychart",MGe=e(e=>/^\s*xychart-beta/.test(e),"detector"),FGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(tbe(),ID));return{id:fGe,diagram:e}},"loader"),TGe={id:fGe,detector:MGe,loader:FGe},zGe=TGe,mGe="requirement",NGe=e(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),LGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(pbe(),KD));return{id:mGe,diagram:e}},"loader"),RGe={id:mGe,detector:NGe,loader:LGe},PGe=RGe,hGe="sequence",IGe=e(e=>/^\s*sequenceDiagram/.test(e),"detector"),BGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Nje(),cL));return{id:hGe,diagram:e}},"loader"),VGe={id:hGe,detector:IGe,loader:BGe},$Ge=VGe,dGe="class",UGe=e((e,t)=>t?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(e),"detector"),KGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(sye(),mR));return{id:dGe,diagram:e}},"loader"),qGe={id:dGe,detector:UGe,loader:KGe},YGe=qGe,lGe="classDiagram",XGe=e((e,t)=>!!(/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper")||/^\s*classDiagram-v2/.test(e),"detector"),QGe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(aye(),vR));return{id:lGe,diagram:e}},"loader"),ZGe={id:lGe,detector:XGe,loader:QGe},JGe=ZGe,cGe="state",tXe=e((e,t)=>t?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(e),"detector"),nXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rwe(),bV));return{id:cGe,diagram:e}},"loader"),sXe={id:cGe,detector:tXe,loader:nXe},oXe=sXe,rGe="stateDiagram",aXe=e((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),rXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(dwe(),OV));return{id:rGe,diagram:e}},"loader"),cXe={id:rGe,detector:aXe,loader:rXe},lXe=cXe,iGe="journey",uXe=e(e=>/^\s*journey/.test(e),"detector"),hXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(iOe(),dW));return{id:iGe,diagram:e}},"loader"),mXe={id:iGe,detector:uXe,loader:hXe},fXe=mXe;x(),xi(),Ht();var pXe=e((e,t,n)=>{a.debug(`rendering svg for syntax error
`);let o=Ei(t),s=o.append("g");o.attr("viewBox","0 0 2412 512"),ls(o,100,512,!0),s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),oGe={draw:pXe},vXe=oGe,bXe={db:{},renderer:oGe,parser:{parse:e(()=>{},"parse")}},jXe=bXe,sGe="flowchart-elk",_Xe=e((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&t?.flowchart?.defaultRenderer==="elk")&&(t.layout="elk",!0),"detector"),wXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>($g(),x8));return{id:sGe,diagram:e}},"loader"),OXe={id:sGe,detector:_Xe,loader:wXe},xXe=OXe,nGe="timeline",EXe=e(e=>/^\s*timeline/.test(e),"detector"),kXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(sxe(),oB));return{id:nGe,diagram:e}},"loader"),AXe={id:nGe,detector:EXe,loader:kXe},SXe=AXe,eGe="mindmap",FXe=e(e=>/^\s*mindmap/.test(e),"detector"),TXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(hBe(),hL));return{id:eGe,diagram:e}},"loader"),zXe={id:eGe,detector:FXe,loader:TXe},DXe=zXe,JYe="kanban",LXe=e(e=>/^\s*kanban/.test(e),"detector"),RXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(WBe(),jL));return{id:JYe,diagram:e}},"loader"),PXe={id:JYe,detector:LXe,loader:RXe},HXe=PXe,ZYe="sankey",BXe=e(e=>/^\s*sankey-beta/.test(e),"detector"),VXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_$e(),qR));return{id:ZYe,diagram:e}},"loader"),$Xe={id:ZYe,detector:BXe,loader:VXe},WXe=$Xe,QYe="packet",KXe=e(e=>/^\s*packet-beta/.test(e),"detector"),qXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(U$e(),fP));return{id:QYe,diagram:e}},"loader"),YXe={id:QYe,detector:KXe,loader:qXe},GYe="radar",XXe=e(e=>/^\s*radar-beta/.test(e),"detector"),QXe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(EWe(),CP));return{id:GYe,diagram:e}},"loader"),ZXe={id:GYe,detector:XXe,loader:QXe},YYe="block",eQe=e(e=>/^\s*block-beta/.test(e),"detector"),tQe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(wqe(),sB));return{id:YYe,diagram:e}},"loader"),nQe={id:YYe,detector:eQe,loader:tQe},sQe=nQe,qYe="architecture",iQe=e(e=>/^\s*architecture/.test(e),"detector"),aQe=e(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(PYe(),FV));return{id:qYe,diagram:e}},"loader"),rQe={id:qYe,detector:iQe,loader:aQe},cQe=rQe;qd(),P(),LV=!1,o6=e(()=>{LV||(LV=!0,Jf("error",jXe,e=>e.toLowerCase().trim()==="error"),Jf("---",{db:{clear:e(()=>{},"clear")},styles:{},renderer:{draw:e(()=>{},"draw")},parser:{parse:e(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:e(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),RB(dQe,HXe,JGe,YGe,dXe,xGe,mQe,OGe,PGe,$Ge,xXe,MXe,GXe,DXe,SXe,WGe,lXe,oXe,fXe,AGe,WXe,YXe,zGe,sQe,cQe,ZXe))},"addDiagrams"),x(),qd(),P(),$Ye=e(async()=>{a.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(Jd).map(async([e,{detector:t,loader:n}])=>{if(n)try{hb(e)}catch{try{let{diagram:e,id:s}=await n();Jf(s,e,t)}catch(t){throw a.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete Jd[e],t}}}))).filter(e=>e.status==="rejected");if(e.length>0){a.error(`Failed to load ${e.length} external diagrams`);for(let t of e)a.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),x(),he();var VYe="comm",BYe="rule",gYe="decl",pQe="@import",gQe="@namespace",vQe="@keyframes",bQe="@layer",FRe=Math.abs,PV=String.fromCharCode;function BV(e){return e.trim()}e(BV,"trim");function r6(e,t,n){return e.replace(t,n)}e(r6,"replace");function UAe(e,t,n){return e.indexOf(t,n)}e(UAe,"indexof");function bu(e,t){return e.charCodeAt(t)|0}e(bu,"charat");function ju(e,t,n){return e.slice(t,n)}e(ju,"substr");function Uo(e){return e.length}e(Uo,"strlen");function EOe(e){return e.length}e(EOe,"sizeof");function c6(e,t){return t.push(e),e}e(c6,"append");var bp=1,p1=1,l_e=0,Mo=0,St=0,f1="";function gp(e,t,n,s,o,i,a,r){return{value:e,root:t,parent:n,type:s,props:o,children:i,line:bp,column:p1,length:a,return:"",siblings:r}}e(gp,"node");function Jye(){return St}e(Jye,"char");function Zye(){return St=Mo>0?bu(f1,--Mo):0,p1--,St===10&&(p1=1,bp--),St}e(Zye,"prev");function Ao(){return St=Mo<l_e?bu(f1,Mo++):0,p1++,St===10&&(p1=1,bp++),St}e(Ao,"next");function Ga(){return bu(f1,Mo)}e(Ga,"peek");function u6(){return Mo}e(u6,"caret");function h6(e,t){return ju(f1,e,t)}e(h6,"slice");function h1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}e(h1,"token");function Lye(e){return bp=p1=1,l_e=Uo(f1=e),Mo=0,[]}e(Lye,"alloc");function zye(e){return f1="",e}e(zye,"dealloc");function mp(e){return BV(h6(Mo-1,up(e===91?e+2:e===40?e+1:e)))}e(mp,"delimit");function Sye(e){for(;(St=Ga())&&St<33;)Ao();return h1(e)>2||h1(St)>3?"":" "}e(Sye,"whitespace");function wye(e,t){for(;--t&&Ao()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return h6(e,u6()+(t<6&&Ga()==32&&Ao()==32))}e(wye,"escaping");function up(e){for(;Ao();)switch(St){case e:return Mo;case 34:case 39:e!==34&&e!==39&&up(St);break;case 40:e===41&&up(e);break;case 92:Ao();break}return Mo}e(up,"delimiter");function yye(e,t){for(;Ao()&&e+St!==57;)if(e+St===84&&Ga()===47)break;return"/*"+h6(t,Mo-1)+"*"+PV(e===47?e:Ao())}e(yye,"commenter");function jye(e){for(;!h1(Ga());)Ao();return h6(e,Mo)}e(jye,"identifier");function bye(e){return zye(p6("",null,null,null,[""],e=Lye(e),0,[0],e))}e(bye,"compile");function p6(e,t,n,s,o,i,a,r,c){for(var b=0,p=0,u=a,O=0,y=0,g=0,m=1,w=1,v=1,d=0,j="",_=o,f=i,h=s,l=j;w;)switch(g=d,d=Ao()){case 40:if(g!=108&&bu(l,u-1)==58){UAe(l+=r6(mp(d),"&","&"),"&",FRe(b?r[b-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:l+=mp(d);break;case 9:case 10:case 13:case 32:l+=Sye(g);break;case 92:l+=wye(u6()-1,7);continue;case 47:switch(Ga()){case 42:case 47:c6(mye(yye(Ao(),u6()),t,n,c),c),(h1(g||1)==5||h1(Ga()||1)==5)&&Uo(l)&&ju(l,-1,void 0)!==" "&&(l+=" ");break;default:l+="/"}break;case 123*m:r[b++]=Uo(l)*v;case 125*m:case 59:case 0:switch(d){case 0:case 125:w=0;case 59+p:v==-1&&(l=r6(l,/\f/g,"")),y>0&&(Uo(l)-u||m===0&&g===47)&&c6(y>32?p$(l+";",s,n,u-1,c):p$(r6(l," ","")+";",s,n,u-2,c),c);break;case 59:l+=";";default:if(c6(h=m$(l,t,n,b,p,o,r,j,_=[],f=[],u,i),i),d===123)if(p===0)p6(l,t,h,h,_,i,u,r,f);else{switch(O){case 99:if(bu(l,3)===110)break;case 108:if(bu(l,2)===97)break;default:p=0;case 100:case 109:case 115:}p?p6(e,h,h,s&&c6(m$(e,h,h,0,0,o,r,j,o,_=[],u,f),f),o,f,u,r,s?_:f):p6(l,h,h,h,[""],f,0,r,f)}}b=p=y=0,m=v=1,j=l="",u=a;break;case 58:u=1+Uo(l),y=g;default:if(m<1)if(d==123)--m;else if(d==125&&m++==0&&Zye()==125)continue;switch(l+=PV(d),d*m){case 38:v=p>0?1:(l+="",-1);break;case 44:r[b++]=(Uo(l)-1)*v,v=1;break;case 64:Ga()===45&&(l+=mp(Ao())),O=Ga(),p=u=Uo(j=l+=jye(u6())),d++;break;case 45:g===45&&Uo(l)==2&&(m=0)}}return i}e(p6,"parse");function m$(e,t,n,s,o,i,a,r,c,l,d,u){for(var p=o-1,m=o===0?i:[""],j=EOe(m),f=0,g=0,y=0;f<s;++f)for(var h=0,v=ju(e,p+1,p=FRe(g=a[f])),b=e;h<j;++h)(b=BV(g>0?m[h]+" "+v:r6(v,/&\f/g,m[h])))&&(c[y++]=b);return gp(e,t,n,o===0?BYe:r,c,l,d,u)}e(m$,"ruleset");function mye(e,t,n,s){return gp(e,t,n,VYe,PV(Jye()),ju(e,2,-2),0,s)}e(mye,"comment");function p$(e,t,n,s,o){return gp(e,t,n,gYe,ju(e,0,s),ju(e,s+1,-1),s,o)}e(p$,"declaration");function rp(e,t){for(var s="",n=0;n<e.length;n++)s+=t(e[n],n,e,t)||"";return s}e(rp,"serialize");function uye(e,t,n,s){switch(e.type){case bQe:if(e.children.length)break;case pQe:case gQe:case gYe:return e.return=e.return||e.value;case VYe:return"";case vQe:return e.return=e.value+"{"+rp(e.children,s)+"}";case BYe:if(!Uo(e.value=e.props.join(",")))return""}return Uo(n=rp(e.children,s))?e.return=e.value+"{"+n+"}":""}e(uye,"stringify"),HL(),Ep(),FF(),lye="graphics-document document";function cye(e,t){e.attr("role",lye),t!==""&&e.attr("aria-roledescription",t)}e(cye,"setA11yDiagramInfo");function rye(e,t,n,s){if(e.insert!==void 0){if(n){let t=`chart-desc-${s}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(n)}if(t){let n=`chart-title-${s}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}e(rye,"addSVGa11yTitleDescription"),S1(),sn(),sn(),P(),qd(),IB(),se(),ap=class t{constructor(e,t,n,s,o){this.type=e,this.text=t,this.db=n,this.parser=s,this.renderer=o}static{e(this,"Diagram")}static async fromText(e,n={}){let a=De(),s=Hp(e,a);e=z0e(e)+`
`;try{hb(s)}catch{let e=iYe(s);if(!e)throw new VB(`Diagram ${s} not found.`);let{id:t,diagram:n}=await e();Jf(t,n)}let{db:o,parser:i,renderer:r,init:c}=hb(s);return i.parser&&(i.parser.yy=o),o.clear?.(),c?.(a),n.title&&o.setDiagramTitle?.(n.title),await i.parse(e),new t(s,e,o,i,r)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},me(),y$=[],y9e=e(()=>{y$.forEach(e=>{e()}),y$=[]},"attachFunctions"),x(),o9e=e(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments"),Rp(),i9();function R7e(e){let s=e.match(UB);if(!s)return{text:e,metadata:{}};let t=r9(s[1],{schema:c9})??{};t=typeof t=="object"&&!Array.isArray(t)?t:{};let n={};return t.displayMode&&(n.displayMode=t.displayMode.toString()),t.title&&(n.title=t.title.toString()),t.config&&(n.config=t.config),{text:e.slice(s[0].length),metadata:n}}e(R7e,"extractFrontMatter"),se();var hZe=e(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,t,n)=>"<"+t+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),mZe=e(e=>{let{text:s,metadata:o}=R7e(e),{displayMode:n,title:i,config:t={}}=o;return n&&(t.gantt||(t.gantt={}),t.gantt.displayMode=n),{title:i,config:t,text:s}},"processFrontmatter"),fZe=e(e=>{let t=le.detectInit(e)??{},n=le.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:e})=>e==="wrap"):n?.type==="wrap"&&(t.wrap=!0),{text:D2e(e),directive:t}},"processDirectives");function x$(e){let s=hZe(e),t=mZe(s),n=fZe(t.text),o=yo(t.config,n.directive);return e=o9e(n.text),{code:e,title:t.title,config:o}}e(x$,"preprocessDiagram"),EA(),Jg(),se();function jle(e){let t=(new TextEncoder).encode(e),n=Array.from(t,e=>String.fromCodePoint(e)).join("");return btoa(n)}e(jle,"toBase64");var Ure,Ri,a,sp,Us,ble,E6,k$,a6e,_9e,oye,hye,dp,_ye,Mye,Kye,Xye,Qye,n_e,s_e,wOe,AOe,FOe,KAe,uLe,hLe,WYe,HYe,LYe,bYe,vYe,QQe,fYe,jV,Mp,mV,dV,mYe,$c,Ma,KB,UB,_1,aYe,Rp,VB,IB,Jd,Hp,RB,DB,iYe,qd,Vf,Qqe,EB,Jp,kt,S1,Lf,Wqe,$qe,Vqe,Bqe,Iqe,Hqe,zqe,Mqe,Sqe,ae,sa,Ar,pn,jf,Aqe,kqe,Cqe,xqe,Oqe,yqe,uqe,df,lf,JI,K1,XI,rf,af,cqe,sf,YI,iqe,kI,J8,oqe,sqe,uo,Qa,eqe,fI,mI,DKe,Wa,IH,zKe,zg,TKe,FKe,kKe,EKe,CKe,xKe,OKe,wKe,za,mKe,cKe,CH,_H,rKe,z,QUe,KUe,V,UUe,WUe,p,VUe,HUe,PUe,NUe,TUe,S,MUe,SUe,Js,p8,f8,m8,kn,j4,AUe,dUe,XWe,YWe,qWe,KWe,BWe,n8,Gm,HWe,RWe,LWe,NWe,DWe,zWe,Ti,Jg,Ni,kWe,kP,EP,xWe,ye,bs,$m,aWe,wP,bl,is,iWe,Al,D4,km,Q$e,Y$e,q$e,jP,bP,De,vP,K$e,bm,$$e,mP,M$e,dP,sn,aP,nP,w$e,b$e,r$e,Ln,io,WR,f5,j5,sm,VVe,CR,u0,RVe,Qh,_5,_R,m0,LVe,NVe,po,$n,p0,gR,E5,z5,DVe,D5,zVe,tR,eR,L5,ZL,Ph,MVe,SVe,CVe,xVe,OVe,qL,wVe,yVe,UL,jVe,$L,C0,vVe,mVe,IL,Ud,HL,PL,zo,Yo,O,VBe,CBe,wBe,jBe,bBe,vBe,fL,gBe,mBe,dBe,X,vh,G5,fr,X5,hh,Uu,Hi,R0,Bs,Gu,Mn,bi,JIe,QIe,RIe,LIe,NIe,DIe,Z,t7,ah,Qu,TIe,FIe,MIe,SIe,AIe,xIe,wIe,_Ie,yIe,UN,jIe,U0,hi,Q3,VN,l7,bIe,HN,RN,NN,u7,vIe,MN,nt,E,Sr,SN,kN,EN,X0,p7,gIe,pIe,Ys,la,lr,g7,fIe,mIe,Ye,o,i,l,j,Je,F,Un,vu,J,wt,Ls,E3,d,pa,h,pN,fN,hN,j7,rN,iN,x7,b3,v3,A7,ie,ut,Rn,$a,Ac,S7,p3,F7,h3,VD,dIe,r3,lo,lIe,cIe,rIe,sIe,nIe,R7,js,ED,tIe,eIe,bD,ZHe,QHe,XHe,GHe,L2,mD,hD,YHe,g,at,Kr,aa,qHe,KHe,aD,N2,D2,z2,pt,ea,UHe,HHe,RHe,NHe,Nt,qz,Kz,DHe,tv,y2,Ce,Gs,j2,zHe,_,Ws,nv,sv,rs,br,Ve,Rz,Nz,FHe,SHe,yHe,jHe,vHe,gHe,fHe,eHe,qi,iv,Ez,JPe,Z2,ZPe,s3,QPe,hz,uz,XPe,lz,cz,gv,az,YPe,oz,o2,vv,nz,qPe,KPe,ez,wv,Ov,xv,J3,UPe,$Pe,KT,Ev,Sv,zv,VPe,RT,BPe,Zy,D0,IPe,HPe,PPe,TT,RPe,MT,xT,LPe,ki,OT,NPe,Hv,Wv,iT,YF,um,ei,DPe,qo,UF,WF,$F,VF,BF,IF,Jv,e9,DF,zF,AF,zPe,a9,wF,_F,yF,El,V4,FPe,MPe,oF,SPe,tF,APe,JM,kPe,QM,h9,f9,KM,UM,VM,EPe,zM,wM,or,jM,OPe,_Pe,yPe,vPe,_9,gPe,pPe,hM,fPe,mPe,lM,x9,XS,S9,KS,WS,$S,hPe,IS,v8,N9,PS,LS,P9,AS,uPe,dPe,wS,W9,rPe,aPe,iPe,Ed,sPe,nPe,sS,QA,Ie,tPe,ePe,JRe,qRe,PA,IRe,Pe,RRe,zRe,er,eb,ERe,ORe,SA,tb,_n,D1,z1,w,me,wRe,jRe,ls,tu,Ht,Pf,bRe,vRe,gRe,EA,sb,ob,ib,ab,rb,Tt,It,Yt,Gt,Qt,nn,Ft,_t,bA,mRe,u,cb,pA,db,uA,hRe,Qf,Jf,hb,uRe,P,ao,Or,Pn,Co,ri,g1,vb,yb,l6,d6,dRe,lRe,cRe,rRe,aRe,iRe,sRe,nRe,tRe,eRe,QLe,XLe,GLe,YLe,ULe,WLe,BLe,ILe,Fk,HLe,PLe,_k,RLe,LLe,NLe,MLe,Mr,SLe,ALe,CLe,xLe,wLe,Gb,rk,ok,yLe,JE,pLe,GE,fLe,yQe,_Qe,lLe,cLe,gE,KNe,$Ne,VNe,BNe,INe,LNe,DNe,TNe,cc,MNe,_8,bj,jj,h8,xC,bNe,vNe,uNe,dNe,cNe,vC,Cj,hC,uC,Ej,nC,Bj,qDe,UDe,Kx,kDe,hm,bDe,vDe,tDe,$ze,Ize,px,fx,hze,YTe,KTe,WTe,VTe,ITe,TTe,OTe,jTe,cTe,sTe,tTe,JFe,SFe,I_,N_,gFe,dFe,oFe,UMe,VMe,NMe,TMe,AMe,CMe,fMe,eMe,USe,ISe,LSe,m_,s2,li,zSe,Qo,TSe,b_,$0,th,qu,H0,_i,kSe,xSe,wSe,_Se,jSe,bSe,gSe,Fx,Hx,pSe,fSe,mSe,Ah,lC,kC,AC,MC,xd,HC,dSe,lSe,w0,GC,iSe,$h,eE,yE,Zh,wQe,OQe,BE,DAe,EAe,yAe,dm,bAe,Lb,Nb,qk,Ab,nAe,tA,Ob,tAe,fb,Zke,Qke,Kke,Wke,$ke,xQe,Bke,A4,ml,x4,O4,GM,m9,e8,t8,Yc,s8,w4,XM,eF,Dke,n9,Tke,Fke,PF,XF,Yv,y8,hT,Bv,O8,zs,Eke,wke,z8,XT,QEe,IEe,DEe,CEe,wEe,jEe,vEe,pEe,lEe,iEe,sEe,tEe,JCe,ZCe,UCe,kCe,Qxe,Mxe,Axe,Exe,xxe,Ci,gu,lxe,VI,oxe,txe,qOe,Yp,WOe,HOe,POe,CQe,EQe,kQe,AQe,SQe,MQe,yOe,jOe,G6,Y6,Vc,gOe,K6,pOe,ux,fOe,mOe,hOe,uOe,dOe,lOe,aOe,D6,F6,Jwe,Qwe,Gwe,z$,qwe,Bwe,v$,Pwe,h$,Nwe,Dwe,XV,YV,kwe,yp,vwe,gwe,pwe,uwe,iwe,Q_e,gV,X_e,q_e,K_e,z_e,b6,$B,HB,M_e,A_e,C_e,OB,jB,v_e,p_e,m_e,dg,ug,ja,yu,FQe,UI,wa,TQe,BI,y1,zQe,DI,DQe,gI,x1,NQe,UH,LQe,WH,xc,RQe,Fg,PQe,PH,HQe,SH,F1,T1,hH,dH,Lr,nH,JP,IQe,BQe,VQe,$Qe,WQe,UQe,KQe,Zg,Ff,Eye,Cye,Ld,xye,Oye,qQe,YQe,GQe,XQe,hQe,ZQe,eZe,eP,I1,tZe,VR,sZe,DR,ca,oZe,pr,iZe,wR,aZe,rZe,tye,eye,Jje,S5,uD,en,T9e,k9e,O9e,i4,ev,cZe,lZe,dZe,Jve,Mz,Gve,Yve,Kve,$ve,Ive,zve,bv,JT,gn,Ic,vve,Cv,pi,fl,On,m4,S8,A8,Tv,FT,U7e,uZe,aT,eT,D7e,F7e,E7e,y7e,c7e,vF,a7e,i8,Um,J5e,G5e,q5e,U5e,ZS,Rm,W5e,YS,$5e,HS,NS,H9,V5e,H5e,P5e,R5e,N5e,z5e,S5e,i5e,o5e,s5e,n5e,e5e,aA,Jge,Zge,Qge,he,Xge,W4,Xk,ym,Gk,Gge,Yge,qge,yc,Db,vm,Kge,Rb,$k,Uge,Wge,$ge,Vge,Bge,Rge,Nge,Sge,Ege,pge,mge,ege,Ki,ui,Jpe,Qpe,WE,$E,Xpe,Gpe,Ro,Eo,Ype,Vs,ad,iE,Kpe,Upe,y0,Wpe,$pe,Bpe,Ipe,Hpe,Ape,Ope,vpe,mC,ma,Na,Yn,eo,ape,ipe,spe,npe,Zs,bh,tpe,Hj,epe,Yx,Z6e,Q6e,q6e,K6e,Kc,cx,V6e,I6e,P6e,L6e,D6e,z6e,T6e,M6e,S6e,C6e,x6e,Sc,bc,y6e,G0,Y3,b6e,g6e,f6e,h6e,d6e,c6e,r6e,i6e,o6e,Kfe,kfe,Efe,Cfe,Ofe,wfe,_fe,w_,yfe,bfe,vfe,iu,Gd,u3,d3,mfe,hfe,ufe,dfe,cfe,rfe,ife,ofe,nfe,tfe,A2,S2,V8e,_2,By,R8e,z8e,M8e,S8e,V2,W2,y8e,p8e,m8e,h8e,d8e,l8e,r8e,a8e,n3,My,i8e,m3,B_,s8e,n8e,e8e,Jme,Gme,Yme,Kme,Ume,$me,Vme,Bme,zl,w3,Rme,k3,lw,e2,J0,Oy,pw,Fme,Mme,Ame,_y,yy,Ow,xw,yme,Ew,kw,Aw,Sw,jme,L3,Tw,vy,gy,Rw,Pw,Iw,Bw,Vw,pme,fme,mme,qw,Yw,ume,cy,ry,lme,Y0,q0,sO,oO,Xs,No,ime,dO,ome,hO,sme,nme,tme,jl,V0,eme,ve,ot,Zhe,oy,sy,mo,co,fh,ny,Yhe,qhe,DO,NO,Khe,RO,Uhe,Whe,hl,S0,Vhe,Bhe,Ihe,KO,Hhe,Phe,Rhe,Lhe,Dhe,zhe,The,Fhe,Mhe,She,Ahe,khe,Ehe,Che,xhe,Ohe,_he,yhe,jhe,bhe,vhe,ghe,phe,fhe,mhe,hhe,uhe,dhe,Ge,lhe,che,al,il,Ax,l0,ahe,Uj,ihe,nr,im,Nx,ohe,rm,lm,$j,Bx,the,ehe,J4,X4,wl,xl,G3e,Y3e,U3e,W3e,xm,Cm,V3e,B3e,rC,cC,H3e,P3e,L3e,N3e,D3e,z3e,Rr,nc,S3e,k3e,C3e,x3e,O3e,w3e,Ji,Cr,j3e,b3e,LC,RC,PC,jr,BC,p3e,m3e,h3e,l3e,i3e,t3e,J2e,Z2e,G2e,ZC,JC,Q1,G1,pc,Nd,rE,cE,U2e,cf,uE,H2e,EE,R2e,L2e,N2e,ME,D2e,z2e,T2e,DE,oj,_2e,RE,PE,HE,y2e,a2e,VE,Y0e,tj,H0e,ej,P0e,L0e,Ka,le,z0e,Zo,M1,se,Uf,Gf,ik,Qb,I,ck,Xb,w1,t6,T0e,mk,fk,$s,gk,F0e,M0e,S0e,yk,k0e,E0e,C0e,x0e,Ck,O0e,j0e,hue,uue,due,aue,oue,Gde,Ct,us,Yde,Ude,Ide,fn,Hde,Rde,Lde,Dde,zde,Tde,Fde,Sde,Ade,Ode,wde,nM,_de,oM,iM,yde,bde,O9,gde,hde,ude,rde,ade,ode,sde,nde,vM,cr,Hm,yM,_M,Pm,j9,tde,CM,ede,Jle,Zle,SM,MM,FM,TM,$l,DM,Qle,Xle,RM,PM,HM,v9,Gle,M4,Yle,Kle,Ule,$le,g9,Vle,Ble,Ile,Hle,ZM,Ple,Em,Rle,Lle,Nle,Dle,iF,aF,zle,cF,Tle,dF,Cn,Ale,kle,Ele,B4,gF,l9,bF,jF,Cl,_le,yle,c9,r9,gZe,TZe,zZe,DZe,HZe,i9,qc,t0,In,lle,rle,ale,r0,ile,Xv,QF,ZF,sle,Gv,tle,qv,Qce,Xce,nm,Kv,Tce,cT,Fce,$v,uT,Mce,Sce,Ace,Ece,gT,Cce,Kh,Lv,yT,Oce,wT,_ce,jce,fce,ET,mce,hce,ST,cce,rce,ace,ice,oce,nce,ece,sh,Qre,HT,IT,Xre,Mv,Gre,Av,Yre,eh,W0,qre,GT,X3,Pi,F3,_v,Ii,_3,Kre,Cc,IZe,BZe,VZe,$Ze,UZe,YZe,XZe,Pre,Are,xre,ms,Rs,ce,ov,B,ne,N,mre,hre,Wz,Uz,cre,rre,ore,ere,Zae,Qae,Xae,ud,oD,L,q,Gae,vd,qae,dD,H,$,v7,uN,O3,Tae,Ss,C3,Fae,M3,Mae,R,U,_7,Iae,Hae,Pae,Rae,Lae,fs,Nae,zae,K,Aae,Eae,Er,Oae,jae,fae,uae,lae,rae,iae,sae,tae,Jie,Zie,Qie,Gie,qie,Wie,Vie,Iie,Pie,Lie,Nie,zie,Fie,Sie,va,nl,kie,Cie,Oie,_ie,k0,jie,vie,pie,mie,uie,die,lie,cie,aie,oie,nie,eie,Zoe,Qoe,Goe,Uoe,jc,T5,$oe,Boe,Hoe,Roe,Noe,zoe,Foe,Soe,Eoe,Ooe,_oe,voe,foe,doe,loe,coe,aoe,Zse,Xse,Yse,Kse,Ise,Pse,Rse,Nse,Tse,Mse,kse,Ese,xse,Ose,pP,gP,wse,_se,yse,I4,H4,F4,Bm,xP,jse,bse,gse,pse,fse,mse,FP,n5,hse,Qg,Is,tt,PP,HP,use,dse,VP,lse,l8,cn,ise,g4,XP,QP,Zne,qne,eH,tH,Kne,sH,oH,Wne,Rne,Nne,Dne,Sne,Ene,Cne,xne,One,_ne,yne,vne,gne,mne,hne,dne,lne,wH,OH,R8,rne,ane,Rg,Ng,one,nne,ene,Nc,_l,Ha,Fl,Xte,BH,VH,Gte,Hte,wte,rte,Zee,Uee,Vee,yee,eI,gee,hee,lee,cee,ree,aee,cI,oee,H8,uI,o4,t4,tee,Og,YJ,Mt,yI,wI,OI,CI,EI,PJ,LJ,TJ,AJ,_g,yg,RI,PI,CJ,xJ,jJ,pJ,fJ,pg,fg,Pt,Vi,cJ,oJ,sJ,As,eJ,ZZ,XZ,lg,cg,$Z,BZ,NZ,DZ,zZ,TZ,FZ,MZ,gB,vB,wf,Of,xZ,P1,L1,If,Bf,cZ,sZ,$p,Vp,NB,UQ,DQ,C1,O1,Xt,Pp,CQ,fQ,YB,GB,JX,QX,XX,GX,qX,KX,HX,_X,jX,bX,aX,iX,eX,JG,YG,qG,Ap,kp,yV,_V,HG,DG,xV,zG,xp,wp,wG,jG,bG,mG,zV,DV,cG,BY,HV,IV,jp,$V,UV,KV,NY,vp,DY,MY,fp,kY,bY,Su,t$,n$,vY,o$,i$,a$,r$,pY,fY,uY,nY,tY,Xr,Ur,Lu,Zq,Gq,Kq,$q,Dq,zq,kq,Cq,vq,S$,M$,uq,dq,oq,XK,GK,VK,BK,HK,PK,MK,SK,xK,OK,gK,pK,fK,uK,lK,cK,rK,XU,GU,DU,AU,kU,OU,iW,wU,yU,jU,gU,pU,aU,mW,JW,ZW,GW,YW,qW,MW,_W,EW,Bve,xW,CW,oE,kW,AW,SW,yW,FW,TW,zW,DW,NW,LW,RW,PW,HW,IW,BW,VW,$W,WW,UW,KW,qe,bW,gW,QW,$t,fW,tU,nU,sU,oU,n1,rU,lU,dU,uU,mU,fU,U6,q6,cW,rW,X6,Q6,CU,EU,sW,nW,MU,FU,J6,ep,LU,RU,PU,HU,IU,BU,VU,$U,WU,UU,KU,qU,YU,J$,np,QU,ZU,eK,tK,nK,sK,oK,aK,Q$,X$,A6,dK,Y$,hK,mK,K$,U$,bK,jK,yK,_K,W$,$$,EK,kK,V$,B$,TK,zK,NK,LK,I$,H$,P$,R$,WK,UK,KK,qK,L$,N$,ZK,JK,tq,nq,Jn,cs,rq,cq,op,ip,mq,fq,pq,Ec,Pr,jq,yq,wq,Oq,xq,E$,Eq,C$,Aq,Sq,w6,Fq,O$,w$,Lq,Rq,Pq,Hq,y6,Bq,ii,Wq,un,qq,c1,Xq,cp,lp,f,hp,sY,iY,aY,cY,lY,ko,hY,l$,c$,rt,JV,yY,_Y,OY,xY,CY,EY,ga,AY,So,FY,TY,GV,qV,C,b1,ks,RV,$Y,WY,KY,qY,YY,GY,XY,QY,ZY,eG,tG,sG,oG,iG,aG,Q,lG,uG,Wn,_p,pG,gG,He,MV,_G,Kn,OG,CG,AV,kG,SG,MG,FG,TG,Ae,Ep,LG,RG,PG,wV,IG,ba,VG,Te,UG,pV,fV,n6,QG,Fp,Tp,tl,sX,uu,cV,zp,lX,uX,hX,mX,pX,gX,aV,iV,To,wX,xX,CX,kX,AX,MX,FX,zX,DX,NX,LX,RX,sV,IX,BX,VX,$X,WX,UX,Dp,Lp,YX,eV,JB,ZB,ZX,QB,XB,tQ,nQ,sQ,qB,iQ,aQ,cQ,lQ,uQ,hQ,mQ,e6,pQ,vQ,bQ,jQ,yQ,wQ,OQ,xQ,ou,EQ,AQ,SQ,bt,BB,Kf,NQ,RQ,PQ,HQ,IQ,VQ,$Q,LB,KQ,qQ,E1,GQ,XQ,QQ,ZQ,JQ,tZ,Kp,Gp,oZ,iZ,aZ,Xp,lZ,uZ,hZ,fZ,Qp,gZ,bZ,jZ,_Z,wZ,W,SZ,Ir,mB,ds,og,Lo,RZ,PZ,WZ,UZ,aB,Wi,uJ,yJ,II,wg,FI,zJ,MI,sJe,SI,RJ,AI,HJ,JZe,BJ,xI,UJ,vI,XJ,ZJ,JJ,eee,mee,vee,JH,xee,Eee,See,Tee,Dee,Lee,Iee,Wee,Yee,Jee,ste,bte,_te,Ite,Bte,Vte,$te,Wte,Ute,Kte,qte,Yte,$H,LH,pe,Rc,FH,sne,P8,ine,kH,EH,cne,d4,yH,une,jH,bH,fne,pne,vH,gH,bne,jne,u4,fH,wne,h4,T8,ul,f4,kne,Ane,p4,Mne,Fne,Tne,zne,Vg,rH,Lne,aH,Pne,Hne,Ine,Bne,Vne,$ne,x8,Une,$g,Wg,Yne,Gne,Xne,Qne,ZP,Jne,ese,tse,nse,sse,ose,YP,ase,rse,i5,di,$o,wm,An,Vl,pm,Ms,a5,Gi,m5,ni,om,p5,BR,qoe,ld,dd,g0,Bh,_0,hd,md,gd,bd,_d,wd,Od,O0,Sd,Td,x0,Bd,Vd,$d,Yd,Qd,eu,E0,nu,su,Tc,au,A0,lu,du,hu,mu,pu,_u,wu,Ou,Cu,Eu,Au,Fu,zu,Nu,Hu,Iu,Bu,Xu,Z5,re,zi,J5,Xn,LN,K3,U3,zN,pae,gae,$3,bae,FN,yae,I3,wae,P3,f7,mN,lN,Dae,Lc,aN,n2,y7,cv,ci,jz,vz,Sre,Fre,zre,r2,Po,qn,Bl,ts,an,Ns,Ts,lt,ss,Gn,Xe,Fv,ol,Zre,sce,ps,ph,Dv,AT,kT,CT,vce,bce,Rh,wce,Nv,lT,Gh,zce,Dce,Qc,e0,fm,SF,mle,fle,ple,q4,jm,EF,lF,rF,Ml,d9,nF,vt,R4,Tn,Nm,qle,$M,BM,LM,NM,AM,kM,EM,xM,dr,Gl,Xl,ide,ic,E4,lde,dde,fde,pde,Ym,vde,rM,jde,aM,Qm,ht,Pde,US,y4,sue,R9,iue,M8,lue,DS,zS,FS,SS,ES,L8,OS,bue,jue,yue,Ju,$9,vS,Cue,Eue,gS,K9,q9,oS,zue,Due,W8,Lue,Bue,$ue,Wue,ZA,Que,Zue,Jue,e1e,t1e,n1e,s1e,o1e,i1e,a1e,r1e,c1e,l1e,X8,UA,WA,$A,VA,j1e,y1e,_1e,w1e,O1e,C1e,Ef,ua,Df,Zn,nb,T1e,_s,D1e,N1e,L1e,R1e,sl,hr,u4e,iA,oA,m1,p4e,g4e,v4e,b4e,nA,xb,Cb,Jk,Eb,x4e,g6,Sb,A4e,Ik,Hk,s0e,o0e,i0e,a0e,Pk,c0e,Ub,Re,xe,qb,m0e,Sk,p0e,g0e,v0e,b0e,kk,y0e,_0e,w0e,Yb,l1,d1,wk,u1,A0e,jk,bk,vk,hk,QE,D0e,N0e,YE,R0e,qE,Nf,I0e,B0e,V0e,$0e,W0e,U0e,K0e,q0e,nj,G0e,X0e,Q0e,Z0e,J0e,e2e,t2e,n2e,s2e,o2e,i2e,sj,r2e,c2e,l2e,d2e,u2e,h2e,m2e,f2e,p2e,g2e,v2e,b2e,j2e,IE,LE,w2e,O2e,x2e,C2e,E2e,k2e,A2e,S2e,M2e,F2e,v,TE,FE,ij,zf,Sf,P2e,aj,cj,bf,pE,mE,dj,aE,sE,hj,QC,X2e,Q2e,q8,vj,DC,SC,g8,yj,_j,Zi,OC,wC,A3e,_C,M3e,We,go,zm,dC,Ua,Bi,Oo,Zx,zj,X3e,Q3e,Li,G4,Wx,Mi,Ai,Ze,Lx,Tx,c0,Kj,xx,Ox,yx,jx,bx,vx,rl,Wh,j0,mx,hx,qj,dx,whe,lx,Ih,Xj,Hh,ix,Qj,Zj,nx,tx,ZO,Jj,XO,GO,Fh,UO,xh,PO,_o,zO,TO,FO,AO,CO,wO,ch,iy,pO,fO,yl,uO,lO,cO,iO,nO,Jw,Zw,Ww,my,fy,py,rw,Pme,Hme,Ime,sw,Ey,Ay,ew,J_,Z_,Q_,X_,G_,Y_,Qme,Zme,q_,K_,U_,W_,$_,D_,A_,k_,E_,C_,g8e,v8e,b8e,j8e,Ly,Zl,y_,O8e,x8e,C8e,E8e,k8e,A8e,j_,Fr,v_,D8e,N8e,L8e,Hy,P8e,H8e,I8e,f_,fo,efe,T,a_,P2,H2,b2,G2,X2,u2,t3,Gy,H6,Xy,c2,Yy,f3,Vy,i2,Iy,x3,S3,T3,z3,zy,Ty,D3,R_,xo,Afe,Sfe,Mfe,Ffe,Tfe,zfe,Dfe,Nfe,Lfe,Rfe,Pfe,Hfe,Ife,Bfe,Vfe,$fe,Wfe,Ufe,Ru,qfe,Yfe,Gfe,Xfe,Qfe,Zfe,Jfe,e6e,t6e,n6e,ky,B3,Zr,pZe,Ds,l6e,gw,yw,m6e,ww,Fw,v6e,Nw,Lw,_6e,w6e,Gw,Xw,E6e,k6e,eO,bO,F6e,xO,MO,qO,N6e,YO,R6e,QO,H6e,sx,B6e,ox,$6e,rx,U6e,Ca,Y6e,G6e,Wu,T0,Ne,Ij,Pj,Nj,rpe,Xc,A,dpe,upe,hpe,mpe,fpe,ppe,gpe,pC,bpe,jpe,ype,_pe,wpe,gC,xpe,Cpe,Epe,bC,CC,Spe,Mpe,Fpe,Tpe,zpe,Dpe,Npe,Lpe,Rpe,Ppe,so,ir,rr,oi,na,Vr,ns,es,Uh,h0,em,vr,je,Zpe,ek,lk,tge,nge,sge,oge,ige,age,rge,cge,lge,dge,uge,hge,dk,fge,n0,gge,vge,bge,jge,yge,_ge,wge,Oge,xge,Cge,Mk,kge,Age,Kb,Mge,Fge,Tge,zge,Dge,Lge,no,Pge,Hge,Ige,Lk,Xo,Bb,Vk,Hb,Q4,K4,Fb,Mb,Om,Ll,wb,sA,jb,P4,gb,pb,Sm,mb,a5e,r5e,c5e,l5e,d5e,u5e,h5e,m5e,f5e,p5e,g5e,v5e,b5e,j5e,y5e,_5e,w5e,O5e,x5e,C5e,E5e,k5e,A5e,vA,M5e,F5e,T5e,OA,D5e,Y9,rS,mS,Dm,kl,I5e,B5e,MS,D9,Vt,tM,K5e,Pc,Y5e,uM,X5e,mM,Z5e,OM,e7e,t7e,n7e,s7e,b9,i7e,sF,r7e,_a,l7e,d7e,u7e,h7e,m7e,f7e,MF,g7e,v7e,b7e,j7e,o9,FF,w7e,O7e,x7e,C7e,Ei,xi,A7e,S7e,M7e,RF,T7e,z7e,qF,Qv,b8,Uv,P7e,H7e,I7e,B7e,V7e,$7e,W7e,dT,mT,q7e,Y7e,G7e,X7e,Q7e,Z7e,J7e,eve,tve,nve,pT,ove,ive,Pv,rve,cve,Vn,dve,uve,E8,gve,Tve,ln,Dve,Nve,Lve,Rve,Pve,Hve,gz,OW,Vve,fv,Wve,Uve,dv,xz,kz,Az,Lz,e9e,t9e,n9e,s9e,i9e,r9e,c9e,l9e,d9e,u9e,h9e,f9e,p9e,g9e,v9e,b9e,j9e,J1,I9e,Z1,Y1,Le,P7,Z8,L7,q9e,Y9e,G9e,X9e,Q9e,Z9e,ID,ebe,tbe,z7,sbe,obe,ibe,abe,rbe,cbe,lbe,BD,ube,hbe,KD,fbe,pbe,M7,vbe,bbe,jbe,ybe,_be,wbe,Obe,xbe,Cbe,Ebe,YD,_c,QD,ZD,Fbe,eN,w7,Dbe,Nbe,ef,Il,cN,Ho,dN,Bbe,Vbe,$be,Wbe,Ube,Kbe,qbe,jN,Gbe,Xbe,Qbe,Zbe,Jbe,eje,tje,AN,sje,m7,ije,gt,rje,m,b,pje,mc,od,i7,jje,yje,s7,JN,tL,hf,iL,Eje,kje,Aje,Sje,Mje,Fje,Tje,cL,Dje,Nje,Q5,uL,pL,gL,vL,Bje,mf,AL,Br,zL,RL,qje,nR,rR,Xje,Qje,Zje,lR,dR,mR,nye,sye,vR,iye,aye,x5,OR,MR,dye,HR,$R,Cf,d5,pye,gye,vye,H1,tP,cP,uP,AP,SP,MP,t5,e5,kye,Aye,DP,NP,Fye,Tye,N1,Dye,Nye,LP,Rye,Pye,Hye,Iye,Bye,Vye,$ye,Wye,UP,qP,qye,Ug,Gye,NH,Tg,Yf,Ba,o_e,NI,v1,r_e,c_e,KI,d_e,u_e,h_e,iB,ag,uB,pB,bB,kB,SB,__e,w_e,MB,m6,$r,Wp,k_e,TB,zB,Bp,F_e,T_e,nV,D_e,N_e,L_e,R_e,P_e,H_e,I_e,B_e,V_e,$_e,W_e,U_e,rV,uV,Y_e,G_e,Ks,Sp,Z_e,J_e,ewe,twe,vV,swe,owe,bV,awe,rwe,OV,lwe,dwe,Cp,hwe,mwe,Pu,Op,i1,o1,bwe,jwe,ywe,_we,wwe,Owe,xwe,VV,Ewe,WV,Awe,Swe,Mwe,Fwe,pp,zwe,QV,u$,Lwe,Rwe,f$,Hwe,Iwe,b$,Vwe,s1,Wwe,Kwe,$i,k6,Dc,Xwe,Hs,Z6,oW,eOe,aW,nOe,dW,oOe,iOe,W6,rOe,cOe,hW,Zu,vW,I6,R6,yd,pW,lW,tW,eW,T$,F$,j$,TV,kV,xOe,COe,kOe,_6,SOe,MOe,hV,TOe,zOe,tV,NOe,LOe,ROe,Up,FB,IOe,BOe,VOe,$Oe,Qr,UOe,KOe,cB,YOe,GOe,XOe,QOe,ZOe,JOe,exe,oB,nxe,sxe,hg,ixe,axe,Do,eB,vg,dxe,uxe,hxe,mxe,Rt,pxe,gxe,vxe,bxe,jxe,yxe,_xe,wxe,Oxe,Dt,_T,kke,vT,Ske,Mke,b4,Y,st,$e,Oe,Lke,k,Pke,Wm,ys,S4,GS,F9,fS,Uke,La,qke,Yke,Gke,Xke,N4,lb,Am,cA,rA,Bt,sAe,oAe,iAe,aAe,rAe,cAe,Zk,dAe,ee,hAe,mAe,fAe,pAe,Nk,vAe,Ek,ak,oc,i0,wAe,OAe,xAe,CAe,am,kAe,Zb,SAe,MAe,FAe,TAe,zAe,Jl,KE,LAe,RAe,d0,HAe,IAe,BAe,VAe,$Ae,WAe,NE,SE,qAe,YAe,f0,jE,QAe,ZAe,JAe,eSe,vE,nSe,sSe,oSe,b0,mj,qC,cSe,Lh,ra,ru,Xx,F0,Ix,z0,L0,vSe,Pa,lh,ySe,Fa,Cx,OSe,Qy,CSe,ESe,Yj,$w,V3,S_,Ny,it,p_,ze,NSe,gi,RSe,i_,HSe,t_,Kt,Ya,Ky,WSe,ho,Xa,qSe,yi,GSe,XSe,Id,i3,LT,l2,tMe,d2,sMe,oMe,iMe,aMe,rMe,cMe,lMe,dMe,uMe,hMe,mMe,qy,pMe,gMe,e3,e_,Pd,yMe,_Me,wMe,OMe,xMe,Q2,Uy,n_,gc,fc,MMe,Jt,zd,zMe,v2,gs,LMe,RMe,PMe,s_,IMe,B2,I2,o_,Wy,Ad,KMe,r_,c_,GMe,XMe,QMe,ZMe,JMe,eFe,os,ta,sFe,T2,F2,aFe,Hr,O2,$y,Nr,e1,hFe,Mm,zn,d_,Ry,tc,O_,Dy,yFe,Fy,wFe,OFe,L_,Kl,H_,Ul,AFe,Cy,MFe,FFe,TFe,zFe,iw,NFe,LFe,RFe,PFe,HFe,IFe,BFe,aw,$Fe,WFe,cw,uw,hw,YFe,GFe,Z0,Sl,ZFe,by,G3,ay,tO,aO,oTe,iTe,aTe,rO,mO,lTe,dTe,uTe,hTe,mTe,gO,pTe,gTe,vTe,bTe,vO,nh,_Te,wTe,jO,xTe,CTe,ETe,kTe,ATe,STe,yO,FTe,_O,zTe,DTe,NTe,dh,RTe,uh,HTe,EO,kO,SO,LO,Si,IO,BO,VO,WO,GTe,dl,ty,Zc,JTe,eze,Dh,nze,sze,oze,ize,aze,rze,cze,lze,dze,ey,ax,mze,fze,pze,gze,vze,bze,jze,yze,_ze,wze,Oze,xze,Cze,Gj,kze,v0,Sze,Mze,Fze,Tze,zze,Dze,Nze,Lze,Rze,Pze,Hze,wx,Bze,Ex,Xh,Wze,Uze,Kze,qze,Yze,Gze,Xze,Qze,Zze,Jze,eDe,Jh,nDe,sDe,oDe,iDe,kx,rDe,cDe,lDe,dDe,uDe,hDe,mDe,Sx,Mx,gDe,zx,Dx,jDe,Rx,Px,wDe,Wj,xDe,CDe,EDe,Ux,ADe,SDe,MDe,FDe,TDe,zDe,DDe,NDe,LDe,RDe,PDe,HDe,IDe,Me,VDe,gm,_e,Be,D,Vj,YDe,GDe,XDe,Ol,Da,kj,eNe,tNe,nNe,sNe,oNe,aC,aNe,rNe,wj,lNe,dt,Qe,hNe,mNe,fNe,_r,wr,kr,Qs,fd,k8,_Ne,wNe,D8,mi,CNe,IC,KC,ANe,c4,Gr,oo,vo,uc,n4,U8,pj,RNe,PNe,YC,XC,tE,X1,nE,dE,UNe,gf,yf,_E,GNe,XNe,QNe,ZNe,JNe,eLe,tLe,nLe,sLe,OE,iLe,aLe,rLe,kE,AE,dLe,zE,UE,mLe,qa,XE,ZE,vLe,bLe,Hf,tk,sk,Ee,OLe,uk,s6,ELe,kLe,i6,hn,Vu,FLe,TLe,zLe,DLe,Za,jn,pk,Ok,xk,dn,Ue,VLe,$Le,Ke,x6,KLe,qLe,C6,Tk,Wb,W3,ZLe,JLe,Ib,O6,mn,a1,oRe,r1,kb,ji,f6,_b,rn,a6,vn,yn,fRe,pRe,zc,k1,A1,Rf,yRe,_Re,Zd,MA,xRe,CRe,TA,kRe,ARe,SRe,MRe,jQe,TRe,DA,DRe,NRe,LRe,LA,PRe,HRe,_f,BRe,VRe,$Re,WRe,URe,KRe,HA,YRe,GRe,XRe,QRe,ZRe,qA,YA,X9,lc,$8,cS,lS,wi,Ps,cPe,lPe,jd,V9,Dr,nd,td,Xi,k4,y9,bPe,jPe,pM,gM,wPe,bM,xPe,CPe,bn,L4,u9,Go,uF,pF,TPe,kF,KF,bT,Th,gh,DT,NT,gl,Di,I0,qT,WPe,YT,Tl,yv,iz,GPe,dz,o3,J2,hv,Fz,tHe,nHe,sHe,oHe,iHe,aHe,rHe,cHe,lHe,dHe,uHe,hHe,mHe,Ql,pHe,m2,Lt,bHe,p2,K2,_He,wHe,OHe,xHe,CHe,EHe,kHe,AHe,Tz,MHe,zz,THe,Iz,on,Qz,LHe,sD,PHe,ai,IHe,BHe,VHe,$He,WHe,G7,oa,cD,q7,rc,Cd,vD,Nn,JHe,U2,OD,f2,h2,oIe,iIe,aIe,N7,PD,HD,T7,uIe,hIe,vN,Ia,yN,wN,h7,d7,$N,Ku,B0,KN,OIe,ge,CIe,EIe,kIe,XN,ZN,n7,eL,Gc,zIe,Bo,nL,sL,aL,PIe,IIe,BIe,VIe,$Ie,WIe,UIe,KIe,qIe,YIe,GIe,XIe,nBe,sBe,oBe,iBe,aBe,rBe,cBe,lBe,hL,uBe,hBe,Y5,fBe,pBe,qs,q5,K5,U5,yBe,_Be,bL,OBe,xBe,At,EBe,kBe,ABe,SBe,MBe,FBe,TBe,zBe,DBe,NBe,LBe,RBe,PBe,HBe,IBe,BBe,jL,$Be,WBe,V5,yh,qBe,Eh,kh,Sh,QBe,ZBe,JBe,eVe,tVe,nVe,sVe,oVe,iVe,aVe,cVe,dVe,hVe,BL,WL,_Ve,TVe,C5,O5,Yr,PVe,HVe,IVe,BVe,$Ve,KVe,qVe,YVe,e$e,t$e,i$e,a$e,UR,c$e,l$e,d$e,u$e,h$e,m$e,f$e,p$e,g$e,v$e,qR,j$e,y$e,_$e,JR,r5,x$e,C$e,E$e,k$e,A$e,Wl,hP,F$e,T$e,z$e,D$e,N$e,L$e,R$e,P$e,H$e,I$e,B$e,V$e,fP,W$e,U$e,Rl,yP,wc,G$e,X$e,_P,Z$e,J$e,eWe,tWe,nWe,sWe,oWe,z4,OP,rWe,cWe,lWe,fWe,pWe,gWe,vWe,bWe,jWe,yWe,_We,wWe,OWe,CP,CWe,EWe,s5,AWe,SWe,wo,Xg,Yg,RP,IP,PWe,$P,IWe,a8,VWe,$We,WWe,UWe,WP,qg,_4,GWe,KP,QWe,ZWe,JWe,eUe,tUe,nUe,sUe,oUe,iUe,aUe,rUe,cUe,lUe,u8,uUe,hUe,mUe,fUe,pUe,gUe,vUe,bUe,jUe,yUe,_Ue,wUe,OUe,xUe,CUe,EUe,ft,zUe,DUe,RUe,to,Bg,IUe,BUe,uH,$Ue,Ig,En,qUe,YUe,GUe,XUe,mH,ZUe,JUe,eKe,tKe,nKe,oKe,iKe,pH,MH,dKe,uKe,fKe,pKe,vKe,bKe,jKe,yKe,_Ke,et,zH,qt,ct,DH,AKe,SKe,MKe,RH,Es,dI,NKe,LKe,RKe,PKe,HKe,IKe,BKe,VKe,$Ke,WKe,UKe,KKe,qKe,YKe,GKe,XKe,QKe,ZKe,JKe,pI,tqe,nqe,jI,Q8,LI,aqe,rqe,pqe,gqe,vqe,bqe,jqe,sB,_qe,wqe,dB,hB,vf,Eqe,fB,Dn,gr,ng,Fqe,Tqe,tg,Dqe,Nqe,Lqe,Rqe,Pqe,yB,Fd,eg,xB,ue,Uqe,Kqe,qqe,Yqe,Gqe,Xqe,Zp,Zqe,Jqe,eYe,tYe,nYe,sYe,oYe,$f,Zf,rYe,cYe,lYe,dYe,uYe,hYe,lV,CV,pYe,fu,j1,SV,jYe,yYe,_Ye,wYe,OYe,TYe,zYe,DYe,NYe,FV,RYe,PYe,NV,LV,o6,$Ye,lye,ap,y$,y9e,o9e,Wre,$re,uW,Bc,vZe=5e4,bZe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",jZe="sandbox",yZe="loose",_Ze="http://www.w3.org/2000/svg",wZe="http://www.w3.org/1999/xlink",OZe="http://www.w3.org/1999/xhtml",xZe="100%",CZe="100%",EZe="border:0;margin:0;",kZe="margin:0",jGe="allow-top-navigation-by-user-activation allow-popups",SZe='The "iframe" tag is not supported by your browser.',MZe=["foreignobject"],FZe=["dominant-baseline"];function A$(e){let t=x$(e);return bm(),K$e(t.config??{}),t}e(A$,"processAndSetConfigs");async function vle(e,t){o6();try{let{code:t,config:n}=A$(e);return{diagramType:(await uW(t)).type,config:n}}catch(e){if(t?.suppressErrors)return!1;throw e}}e(vle,"parse");var gle=e((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),NZe=e((e,t=new Map)=>{let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let s=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{Ae(e.styles)||s.forEach(t=>{n+=gle(e.id,t,e.styles)}),Ae(e.textStyles)||(n+=gle(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return n},"createCssStyles"),LZe=e((e,t,n,s)=>{let o=NZe(e,n),i=gRe(t,o,e.themeVariables);return rp(bye(`${s}{${i}}`),uye)},"createUserStyles"),RZe=e((e="",t,n)=>{let s=e;return!n&&!t&&(s=s.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),s=Zo(s),s=s.replace(/<br>/g,"<br/>"),s},"cleanUpSvgCode"),PZe=e((e="",t)=>{let n=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":CZe,s=jle(`<body style="${kZe}">${e}</body>`);return`<iframe style="width:${xZe};height:${n};${EZe}" src="data:text/html;charset=UTF-8;base64,${s}" sandbox="${jGe}">
  ${SZe}
</iframe>`},"putIntoIFrame"),hle=e((e,t,n,s,o)=>{let i=e.append("div");i.attr("id",n),s&&i.attr("style",s);let a=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",_Ze);return o&&a.attr("xmlns:xlink",o),a.append("g"),e},"appendDivSvgG");function D$(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}e(D$,"sandboxedIframe"),Wre=e((e,t,n,s)=>{e.getElementById(t)?.remove(),e.getElementById(n)?.remove(),e.getElementById(s)?.remove()},"removeExistingElements"),$re=e(async function(t,n,s){o6();let b=A$(n);n=b.code;let i=De();a.debug(i),n.length>(i?.maxTextSize??vZe)&&(n=bZe);let M="#"+t,u="i"+t,_="#"+u,h="d"+t,l="#"+h,m=e(()=>{let e=y(d?_:l).node();e&&"remove"in e&&e.remove()},"removeTempElements"),o=y("body"),d=i.securityLevel===jZe,E=i.securityLevel===yZe,x=i.fontFamily;if(s!==void 0){if(s&&(s.innerHTML=""),d){let e=D$(y(s),u);o=y(e.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=y(s);hle(o,t,h,`font-family: ${x}`,wZe)}else{if(Wre(document,t,h,u),d){let e=D$(y("body"),u);o=y(e.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=y("body");hle(o,t,h)}let r,p;try{r=await ap.fromText(n,{title:b.title})}catch(e){if(i.suppressErrorRendering)throw m(),e;r=await ap.fromText("error"),p=e}let w=o.select(l).node(),f=r.type,v=w.firstChild,O=v.firstChild,j=r.renderer.getClasses?.(n,r),C=LZe(i,f,j,M),g=document.createElement("style");g.innerHTML=C,v.insertBefore(g,O);try{await r.renderer.draw(n,t,o9.version,r)}catch(e){throw i.suppressErrorRendering?m():vXe.draw(n,t,o9.version),e}let k=o.select(`${l} svg`),A=r.db.getAccTitle?.(),S=r.db.getAccDescription?.();Bre(f,k,A,S),o.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",OZe);let c=o.select(l).node().innerHTML;if(a.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),c=RZe(c,d,Pe(i.arrowMarkerAbsolute)),d){let e=o.select(l+" svg").node();c=PZe(c,e)}else E||(c=Ud.sanitize(c,{ADD_TAGS:MZe,ADD_ATTR:FZe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(y9e(),p)throw p;return m(),{diagramType:f,svg:c,bindFunctions:r.db.bindFunctions}},"render");function Vre(e={}){let t=kt({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Y$e(t),t?.theme&&t.theme in Ti?t.themeVariables=Ti[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Ti.default.getThemeVariables(t.themeVariables));let n=typeof t=="object"?Q$e(t):jP();sp(n.logLevel),o6()}e(Vre,"initialize"),uW=e((e,t={})=>{let{code:n}=x$(e);return ap.fromText(n,t)},"getDiagramFromText");function Bre(e,t,n,s){cye(t,e),rye(t,n,s,t.attr("id"))}e(Bre,"addA11yInfo"),Bc=Object.freeze({render:$re,parse:vle,getDiagramFromText:uW,initialize:Vre,getConfig:De,setConfig:bP,getSiteConfig:jP,updateSiteConfig:q$e,reset:e(()=>{bm()},"reset"),globalReset:e(()=>{bm(bl)},"globalReset"),defaultConfig:bl}),sp(De().logLevel),bm(De()),ul(),se();var qZe=e((e,t,n)=>{a.warn(e),wE(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Ire=e(async function(e={querySelector:".mermaid"}){try{await GZe(e)}catch(t){if(wE(t)&&a.error(t.str),ka.parseError&&ka.parseError(t),!e.suppressErrors)throw a.error("Use the suppressErrors option to suppress these errors"),t}},"run"),GZe=e(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){let s=Bc.getConfig();a.debug(`${e?"":"No "}Callback function found`);let i;if(n)i=n;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");a.debug(`Found ${i.length} diagrams`),s?.startOnLoad!==void 0&&(a.debug("Start On Load: "+s?.startOnLoad),Bc.updateSiteConfig({startOnLoad:s?.startOnLoad}));let c=new le.InitIDGenerator(s.deterministicIds,s.deterministicIDSeed),o,r=[];for(let t of Array.from(i)){if(a.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");let n=`mermaid-${c.next()}`;o=t.innerHTML,o=oV(le.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");let s=le.detectInit(o);s&&a.debug("Detected early reinit: ",s);try{let{svg:i,bindFunctions:s}=await aJ(n,o,t);t.innerHTML=i,e&&await e(n),s&&s(t)}catch(e){qZe(e,r,ka.parseError)}}if(r.length>0)throw r[0]},"runThrowsErrors"),Hre=e(function(e){Bc.initialize(e)},"initialize"),QZe=e(async function(e,t,n){a.warn("mermaid.init is deprecated. Please use run instead."),e&&Hre(e);let s={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?s.querySelector=t:t&&(t instanceof HTMLElement?s.nodes=[t]:s.nodes=t),await Ire(s)},"init"),ZZe=e(async(e,{lazyLoad:t=!0}={})=>{o6(),RB(...e),t===!1&&await $Ye()},"registerExternalDiagrams"),IJ=e(function(){if(ka.startOnLoad){let{startOnLoad:e}=Bc.getConfig();e&&ka.run().catch(e=>a.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",IJ,!1);var eJe=e(function(e){ka.parseError=e},"setParseErrorHandler"),B6=[],jW=!1,NJ=e(async()=>{if(!jW){for(jW=!0;B6.length>0;){let e=B6.shift();if(e)try{await e()}catch(e){a.error("Error executing queue",e)}}jW=!1}},"executeQueue"),oJe=e(async(t,n)=>new Promise((s,o)=>{let i=e(()=>new Promise((e,i)=>{Bc.parse(t,n).then(t=>{e(t),s(t)},e=>{a.error("Error parsing",e),ka.parseError?.(e),i(e),o(e)})}),"performCall");B6.push(i),NJ().catch(o)}),"parse"),aJ=e((t,n,s)=>new Promise((o,i)=>{let r=e(()=>new Promise((e,r)=>{Bc.render(t,n,s).then(t=>{e(t),o(t)},e=>{a.error("Error parsing",e),ka.parseError?.(e),r(e),i(e)})}),"performCall");B6.push(r),NJ().catch(i)}),"render"),ka={startOnLoad:!0,mermaidAPI:Bc,parse:oJe,render:aJ,init:QZe,run:Ire,registerExternalDiagrams:ZZe,registerLayoutLoaders:fH,initialize:Hre,parseError:void 0,contentLoaded:IJ,setParseErrorHandler:eJe,detectType:Hp,registerIconPacks:dV},rJe=ka;return WZe(NV)})();globalThis.mermaid=globalThis.__esbuild_esm_mermaid.default